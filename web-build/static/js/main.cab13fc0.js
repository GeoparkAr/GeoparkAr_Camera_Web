(()=>{var e={7649:(e,t,r)=>{"use strict";r.r(t);var n=r(3787),o=r(5861),a=r(885),i=r(4702),l=r(5004),d=r(1054),s=r(5288),f=r(9385),u=r(3528),c=r(3426),h=r(8486),p=r(6109),m=(r(7196),`${window.location.origin}/model/model.json`);const g=JSON.parse('["Cruzeiro","IgrejaBomJesus","MarcoDoPadreCicero","MuroSedia\xe7\xe3o","PadreCicero","PedraDoPecado","Tumulo","Vitrais"]');var b=r(3144),v=r(5671),x=(0,b.default)((function e(){var t=this;(0,v.default)(this,e),this.get=function(e){return t.palette[Math.floor(e)%t.n]},this.palette=["#FF3838","#FF9D97","#FF701F","#FFB21D","#CFD231","#48F90A","#92CC17","#3DDB86","#1A9334","#00D4BB","#2C99A8","#00C2FF","#344593","#6473FF","#0018EC","#8438FF","#520085","#CB38FF","#FF95C8","#FF37C7"],this.n=this.palette.length}));function y(e,t,r,n,o,a){for(var i=r.split(" "),l="",d=[],s=1.2*t,f=0;f<i.length;f++){var u=l+i[f]+" ";e.measureText(u).width+n>a&&f>0?(d.push(l),l=i[f]+" "):l=u}d.push(l);for(var c=0;c<d.length;c++)e.fillStyle=x.hexToRgba("#000000",.6),e.fillRect(n,o+c*s,e.measureText(d[c]).width,s),e.fillStyle="#FFFFFF",e.fillText(d[c],n,o+c*s),e.fill(),console.log("passou aqui")}x.hexToRgba=function(e,t){var r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return r?`rgba(${[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)].join(", ")}, ${t})`:null};i.NativeWindStyleSheet.create({styles:{border:{borderTopWidth:1,borderRightWidth:1,borderBottomWidth:1,borderLeftWidth:1}}});var w=r(2629);const j=function(e){var t=e.type,r=e.model,n=e.inputTensorSize,i=e.config,d=e.children,s=(0,l.useRef)(null),f=(0,l.useRef)(null),u=(0,l.useRef)(null),c=n.slice(1,3),h=(0,a.default)(c,2),m=h[0],b=h[1],v={back:"environment",front:"user"},j=function(){var e=(0,o.default)((function*(){p.engine().startScope();var e=p.browser.fromPixels(s.current),t=function(e,t,r){var n,o;return[p.tidy((function(){var i=e.shape.slice(0,2),l=(0,a.default)(i,2),d=l[0],s=l[1],f=Math.max(s,d),u=e.pad([[0,f-d],[0,f-s],[0,0]]);return n=f/s,o=f/d,p.image.resizeBilinear(u,[t,r]).div(255).expandDims(0)})),n,o]}(e,b,m),n=(0,a.default)(t,3),o=n[0],l=n[1],d=n[2],c=f.current.getContext("2d");yield r.executeAsync(o).then((function(t){var r=t.slice(0,3),n=(0,a.default)(r,3),s=n[0],f=n[1],u=n[2],h=s.dataSync(),m=f.dataSync(),b=u.dataSync();!function(e,t,r,n,o,i){e.clearRect(0,0,e.canvas.width,e.canvas.height);var l=`${Math.max(Math.round(Math.max(e.canvas.width,e.canvas.height)/40),14)}px Arial`;e.font=l,e.textBaseline="top";for(var d=new x,s=0;s<n.length;++s)if(n[s]>t){var f=g[o[s]],u=d.get(o[s]),c=(100*n[s]).toFixed(1),h=r.slice(4*s,4*(s+1)),p=(0,a.default)(h,4),m=p[0],b=p[1];p[2],p[3];m*=e.canvas.width*i[0],e.canvas.width,i[0],b*=e.canvas.height*i[1],e.canvas.height*i[1],e.fillStyle=u;var v=e.measureText(f+" - "+c+"%").width,w=parseInt(l,10),j=b-(w+e.lineWidth);e.fillRect(m-1,j<0?0:j,v+e.lineWidth,w+e.lineWidth),e.fillStyle="#ffffff",y(e,w,f,m,b,e.canvas.width)}}(c,i.threshold,h,m,b,[l,d]),p.dispose([t,o,e])})),u.current=requestAnimationFrame(j),p.engine().endScope()}));return function(){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:v[t]}}).then((function(e){s.current.srcObject&&(cancelAnimationFrame(u.current),u.current=null,s.current.srcObject.getTracks().forEach((function(e){e.stop()})),s.current.srcObject=null),s.current.srcObject=e})):alert("Can't open Webcam!")}),[t]),(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("video",{className:"w-full max-w-screen-md max-h-fit rounded-lg",autoPlay:!0,muted:!0,onPlay:function(){return j()},ref:s}),(0,w.jsx)("canvas",{className:"absolute top-0 left-0 w-full h-full",width:b,height:m,ref:f}),d]})})};i.NativeWindStyleSheet.create({styles:{absolute:{position:"absolute"},relative:{position:"relative"},"top-0":{top:0},"left-0":{left:0},"h-full":{height:"100%"},"w-full":{width:"100%"},"max-w-screen-md":{maxWidth:768},"rounded-lg":{borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomRightRadius:8,borderBottomLeftRadius:8}}});const S=function(){var e=(0,l.useState)(null),t=(0,a.default)(e,2),r=t[0],n=t[1],g=(0,l.useState)("back"),b=(0,a.default)(g,2),v=b[0],x=b[1],y=(0,l.useState)(null),S=(0,a.default)(y,2),F=S[0],C=S[1],O=(0,l.useState)({loading:!0,progress:0}),R=(0,a.default)(O,2),T=R[0],P=R[1],B=(0,l.useState)([]),N=(0,a.default)(B,2),W=N[0],M=N[1];return(0,l.useEffect)((function(){(0,o.default)((function*(){var e=(yield u.default.requestCameraPermissionsAsync()).status;n("granted"===e),p.ready().then((0,o.default)((function*(){var e=yield p.loadGraphModel(m,{onProgress:function(e){P({loading:!0,progress:e})}}),t=p.ones(e.inputs[0].shape);yield e.executeAsync(t),p.dispose(t),M(e.inputs[0].shape),C(e),P({loading:!1,progress:1})})))}))()}),[]),(0,w.jsxs)(i.StyledComponent,{className:"flex-1 items-center justify-center bg-white",component:f.default,children:[r?(0,w.jsx)(w.Fragment,{children:T.loading?(0,w.jsxs)(i.StyledComponent,{className:"text-lg",component:d.default,children:["Loading model... ",(100*T.progress).toFixed(2),"%"]}):(0,w.jsx)(i.StyledComponent,{className:"flex-1 w-full h-full",component:f.default,children:(0,w.jsx)(i.StyledComponent,{className:"flex-1 w-full h-full items-center justify-center",component:f.default,children:(0,w.jsx)(j,{type:v,model:F,inputTensorSize:W,config:{threshold:.7},children:(0,w.jsx)(i.StyledComponent,{className:"absolute left-0 top-0 w-full h-full flex justify-end items-center bg-transparent z-20",component:f.default,children:(0,w.jsxs)(i.StyledComponent,{className:"flex flex-row items-center bg-transparent border-2 border-white p-3 mb-10 rounded-lg",onPress:function(){return x((function(e){return"back"===e?"front":"back"}))},component:s.default,children:[(0,w.jsx)(h.default,{className:"mx-2",name:"camera-flip",size:30,color:"white"}),(0,w.jsx)(i.StyledComponent,{className:"mx-2 text-white text-lg font-semibold",component:d.default,children:"Flip Camera"})]})})})})})}):(0,w.jsx)(f.default,{children:(0,w.jsx)(i.StyledComponent,{className:"text-lg",component:d.default,children:"Permission not granted!"})}),(0,w.jsx)(c.default,{style:"auto"})]})};i.NativeWindStyleSheet.create({styles:{absolute:{position:"absolute"},"left-0":{left:0},"top-0":{top:0},"z-20":{zIndex:20},"mx-2":{marginLeft:8,marginRight:8},"mb-10":{marginBottom:40},flex:{display:"flex"},"h-full":{height:"100%"},"w-full":{width:"100%"},"flex-1":{flexGrow:1,flexShrink:1},"flex-row":{flexDirection:"row"},"items-center":{alignItems:"center"},"justify-end":{justifyContent:"flex-end"},"justify-center":{justifyContent:"center"},"rounded-lg":{borderTopLeftRadius:8,borderTopRightRadius:8,borderBottomRightRadius:8,borderBottomLeftRadius:8},"border-2":{borderTopWidth:2,borderRightWidth:2,borderBottomWidth:2,borderLeftWidth:2},"border-white":{borderTopColor:"#fff",borderRightColor:"#fff",borderBottomColor:"#fff",borderLeftColor:"#fff"},"bg-white":{backgroundColor:"#fff"},"bg-transparent":{backgroundColor:"transparent"},"p-3":{paddingTop:12,paddingRight:12,paddingBottom:12,paddingLeft:12},"font-semibold":{fontWeight:"600"},"text-white":{color:"#fff"},"text-lg":{fontSize:18,lineHeight:28}}}),(0,n.default)(S)},5410:()=>{},8628:()=>{},1601:()=>{},7792:()=>{},4977:()=>{},5042:()=>{}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,r.amdD=function(){throw new Error("define cannot be used indirect")},r.amdO={},(()=>{var e=[];r.O=(t,n,o,a)=>{if(!n){var i=1/0;for(f=0;f<e.length;f++){for(var[n,o,a]=e[f],l=!0,d=0;d<n.length;d++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](n[d])))?n.splice(d--,1):(l=!1,a<i&&(i=a));if(l){e.splice(f--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var f=e.length;f>0&&e[f-1][2]>a;f--)e[f]=e[f-1];e[f]=[n,o,a]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,r.d(a,i),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[i,l,d]=n,s=0;if(i.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(d)var f=d(r)}for(t&&t(n);s<i.length;s++)a=i[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(f)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[592],(()=>r(7649)));n=r.O(n)})();
//# sourceMappingURL=main.cab13fc0.js.map