/*! For license information please see 592.4591fe0c.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[592],{8486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>he});var r,a=n(5861),i=n(5671),o=n(3144),s=n(136),u=n(6215),l=n(1120),c=n(4942),d=n(1222),f=n(2982),p=n(7692),h=n.n(p);function m(){if(!d.Platform.isDOMAvailable)return null;var e=b();return e.sheet?e.sheet:null}function v(e,t){return function(){var e=m();if(e){for(var t=(0,f.default)(e.cssRules),n=[],r=0;r<t.length;r++){var a=t[r];a instanceof CSSFontFaceRule&&n.push({rule:a,index:r})}return n}return[]}().filter((function(n){var r=n.rule;return r.style.fontFamily===e&&(!t||!t.display||t.display===r.style.fontDisplay)}))}!function(e){e.AUTO="auto",e.SWAP="swap",e.BLOCK="block",e.FALLBACK="fallback",e.OPTIONAL="optional"}(r||(r={}));const g={get name(){return"ExpoFontLoader"},unloadAllAsync:function(){var e=(0,a.default)((function*(){if(d.Platform.isDOMAvailable){var e=document.getElementById(y);e&&e instanceof HTMLStyleElement&&document.removeChild(e)}}));return function(){return e.apply(this,arguments)}}(),unloadAsync:function(){var e=(0,a.default)((function*(e,t){var n=m();if(n){var r=v(e,t);for(var a of r)n.deleteRule(a.index)}}));return function(t,n){return e.apply(this,arguments)}}(),loadAsync:function(){var e=(0,a.default)((function*(e,t){if(d.Platform.isDOMAvailable){if(!(document.head&&"function"===typeof document.head.appendChild))throw new d.CodedError("ERR_WEB_ENVIRONMENT","The browser's `document.head` element doesn't support injecting fonts.");var n=function(e,t){var n=`@font-face {\n    font-family: ${e};\n    src: url(${t.uri});\n    font-display: ${t.display||r.AUTO};\n  }`,a=b();if(a.styleSheet){var i=a;i.styleSheet.cssText=i.styleSheet.cssText?i.styleSheet.cssText+n:n}else{var o=document.createTextNode(n);a.appendChild(o)}return a}(e,t);if(document.head.appendChild(n),function(){var e=window.navigator.userAgent,t=!!e.match(/iPad|iPhone/i),n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),r=e.includes("Edge"),a=e.includes("Trident"),i=e.includes("Firefox");return!n&&!t&&!r&&!a&&!i}())return new(h())(e,{display:t.display}).load()}}));return function(t,n){return e.apply(this,arguments)}}()};var y="expo-generated-fonts";function b(){var e=document.getElementById(y);if(e&&e instanceof HTMLStyleElement)return e;var t=document.createElement("style");return t.id=y,t.type="text/css",t}var k=n(8738);function w(e){return"string"===typeof e?e||null:"object"===typeof e?e.uri||e.localUri||e.default||null:"number"===typeof e?w(k.Asset.fromModule(e)):null}function x(e){var t=w(e),n=e.display||r.AUTO;return t&&"string"===typeof t||S(t),{uri:t,display:n}}function S(e){var t=typeof e;throw"object"===t&&(t=JSON.stringify(e,null,2)),new d.CodedError("ERR_FONT_SOURCE",`Expected font asset of type \`string | FontResource | Asset\` instead got: ${t}`)}function T(){return(T=(0,a.default)((function*(e,t){("object"!==typeof t||"string"!==typeof t.uri||t.downloadAsync)&&S(t),yield g.loadAsync(e,t)}))).apply(this,arguments)}var E={},C={};function N(e){return e in E}function I(e,t){return _.apply(this,arguments)}function _(){return(_=(0,a.default)((function*(e,t){if("object"!==typeof e)return yield R(e,t);if(t)throw new d.CodedError("ERR_FONT_API",`No fontFamily can be used for the provided source: ${t}. The second argument of \`loadAsync()\` can only be used with a \`string\` value as the first argument.`);var n=e,r=Object.keys(n);yield Promise.all(r.map((function(e){return R(e,n[e])})))}))).apply(this,arguments)}function R(e,t){return A.apply(this,arguments)}function A(){return A=(0,a.default)((function*(e,t){if(!t)throw new d.CodedError("ERR_FONT_SOURCE",`Cannot load null or undefined font source: { "${e}": ${t} }. Expected asset of type \`FontSource\` for fontFamily of name: "${e}"`);if(!E[e]){if(C.hasOwnProperty(e))return C[e];var n=x(t);C[e]=(0,a.default)((function*(){try{yield function(e,t){return T.apply(this,arguments)}(e,n),E[e]=!0}finally{delete C[e]}}))(),yield C[e]}})),A.apply(this,arguments)}var O=n(5004),D=n(1054),F=n(5987),$=n(5791),P=n(2152),M=n(1647),L=n(4029),z=$.default.RNVectorIconsManager||$.default.RNVectorIconsModule;function B(){if(!z){if("android"===P.default.OS)throw new Error("RNVectorIconsModule not available, did you properly integrate the module? Try running `react-native link react-native-vector-icons` and recompiling.");throw new Error("RNVectorIconsManager not available, did you add the library to your project and link with libRNVectorIcons.a? Try running `react-native link react-native-vector-icons` and recompiling.")}}var V="value",U="error";var G=n(6792),W=n(736),j=n(9385),q=n(9247),H=n(2629),K=["style","iconStyle","children"];function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Z=function(){return!!e})()}var Q=G.default.create({container:{flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:8},touchable:{overflow:"hidden"},icon:{marginRight:10},text:{fontWeight:"600",backgroundColor:"transparent"}}),J="#007AFF",ee=["ellipsizeMode","numberOfLines","textBreakStrategy","selectable","suppressHighlighting","allowFontScaling","adjustsFontSizeToFit","minimumFontScale"],te=["accessible","accessibilityLabel","accessibilityHint","accessibilityComponentType","accessibilityRole","accessibilityStates","accessibilityTraits","onFocus","onBlur","disabled","onPress","onPressIn","onPressOut","onLayout","onLongPress","nativeID","testID","delayPressIn","delayPressOut","delayLongPress","activeOpacity","underlayColor","selectionColor","onShowUnderlay","onHideUnderlay","hasTVPreferredFocus","tvParallaxProperties"];function ne(e){var t;return t=function(t){(0,s.default)(r,t);var n=function(e){var t=Z();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}(r);function r(){return(0,i.default)(this,r),n.apply(this,arguments)}return(0,o.default)(r,[{key:"render",value:function(){var t=this.props,n=t.style,r=t.iconStyle,a=t.children,i=(0,F.default)(t,K),o=(0,q.pick)(i,ee,"style","name","size","color"),s=(0,q.pick)(i,te),u=(0,q.omit)(i,Object.keys(o),Object.keys(s),"iconStyle","borderRadius","backgroundColor");o.style=r?[Q.icon,r]:Q.icon;var l=(0,q.pick)(this.props,"color"),c=(0,q.pick)(this.props,"backgroundColor","borderRadius");return(0,H.jsx)(W.default,Y(Y({style:[Q.touchable,c]},s),{},{children:(0,H.jsxs)(j.default,Y(Y({style:[Q.container,c,n]},u),{},{children:[(0,H.jsx)(e,Y({},o)),"string"===typeof a?(0,H.jsx)(D.default,{style:[Q.text,l],selectable:!1,children:a}):a]}))}))}}]),r}(O.PureComponent),t.defaultProps={backgroundColor:J,borderRadius:5,color:"white",size:20},t}var re=["name","size","color","style","children"];function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oe=function(){return!!e})()}var se=$.default.RNVectorIconsManager||$.default.RNVectorIconsModule,ue=12,le="black";function ce(e,t,n,r){var c=n?n.replace(/\.(otf|ttf)$/,""):t,d=P.default.select({windows:`/Assets/${n}#${t}`,android:c,web:c,default:t}),p=function(t){(0,s.default)(a,t);var n=function(e){var t=oe();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}(a);function a(){var e;(0,i.default)(this,a);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).root=null,e.handleRef=function(t){e.root=t},e}return(0,o.default)(a,[{key:"setNativeProps",value:function(e){this.root&&this.root.setNativeProps(e)}},{key:"render",value:function(){var t=this.props,n=t.name,a=t.size,i=t.color,o=t.style,s=t.children,u=(0,F.default)(t,re),l=n?e[n]||"?":"";"number"===typeof l&&(l=String.fromCodePoint(l));var c={fontSize:a,color:i},f={fontFamily:d,fontWeight:"normal",fontStyle:"normal"};return u.style=[c,o,f,r||{}],u.ref=this.handleRef,(0,H.jsxs)(D.default,ie(ie({selectable:!1},u),{},{children:[l,s]}))}}]),a}(O.PureComponent);p.defaultProps={size:ue,allowFontScaling:!1};var h=function(){var e=new Map;return{setValue:function(t,n){return e.set(t,{type:V,data:n})},setError:function(t,n){return e.set(t,{type:U,data:n})},has:function(t){return e.has(t)},get:function(t){if(e.has(t)){var n=e.get(t),r=n.type,a=n.data;if(r===U)throw a;return a}}}}();function m(t){var n=e[t]||"?";return"number"===typeof n?String.fromCodePoint(n):n}function v(){return v=(0,a.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le;B();var r=m(e),a=(0,L.default)(n),i=`${r}:${t}:${a}`;if(h.has(i))return h.get(i);try{var o={uri:yield se.getImageForFont(d,r,t,a),scale:M.default.get()};return h.setValue(i,o),o}catch(s){throw h.setError(i,s),s}})),v.apply(this,arguments)}function g(){return g=(0,a.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;if("ios"===P.default.OS){if(B(),!e)throw new Error("Unable to load font, because no file was specified. ");yield se.loadFontWithFileName.apply(se,(0,f.default)(e.split(".")))}})),g.apply(this,arguments)}return p.Button=ne(p),p.getImageSource=function(e){return v.apply(this,arguments)},p.getImageSourceSync=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ue,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:le;B();var r=m(e),a=(0,L.default)(n),i=`${r}:${t}:${a}`;if(h.has(i))return h.get(i);try{var o={uri:se.getImageForFontSync(d,r,t,a),scale:M.default.get()};return h.setValue(i,o),o}catch(s){throw h.setError(i,s),s}},p.loadFont=function(){return g.apply(this,arguments)},p.hasIcon=function(t){return Object.prototype.hasOwnProperty.call(e,t)},p.getRawGlyphMap=function(){return e},p.getFontFamily=function(){return d},p}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fe=function(){return!!e})()}const pe=n.p+"static/media/MaterialCommunityIcons.5d42b4e60858731e7b65.ttf",he=function(e,t,n,r){var d,f=(0,c.default)({},t,n),p=ce(e,t,null,r);return(d=function(e){(0,s.default)(r,e);var n=function(e){var t=fe();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}(r);function r(){var e;return(0,i.default)(this,r),(e=n.apply(this,arguments))._mounted=!1,e.state={fontIsLoaded:N(t)},e}return(0,o.default)(r,[{key:"componentDidMount",value:function(){var e=(0,a.default)((function*(){this._mounted=!0,this.state.fontIsLoaded||(yield I(f),this._mounted&&this.setState({fontIsLoaded:!0}))}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this._mounted=!1}},{key:"setNativeProps",value:function(e){this._icon&&this._icon.setNativeProps(e)}},{key:"render",value:function(){var e=this;return this.state.fontIsLoaded?(0,H.jsx)(p,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({ref:function(t){e._icon=t}},this.props)):(0,H.jsx)(D.default,{})}}]),r}(O.Component)).defaultProps=p.defaultProps,d.Button=ne(d),d.glyphMap=e,d.getRawGlyphMap=function(){return e},d.getFontFamily=function(){return t},d.loadFont=function(){return I(f)},d.font=f,d}(JSON.parse('{"ab-testing":983497,"abacus":988896,"abjad-arabic":987944,"abjad-hebrew":987945,"abugida-devanagari":987946,"abugida-thai":987947,"access-point":983043,"access-point-check":988472,"access-point-minus":988473,"access-point-network":983042,"access-point-network-off":986081,"access-point-off":988433,"access-point-plus":988474,"access-point-remove":988475,"account":983044,"account-alert":983045,"account-alert-outline":985936,"account-arrow-down":989288,"account-arrow-down-outline":989289,"account-arrow-left":985937,"account-arrow-left-outline":985938,"account-arrow-right":985939,"account-arrow-right-outline":985940,"account-arrow-up":989287,"account-arrow-up-outline":989290,"account-box":983046,"account-box-multiple":985396,"account-box-multiple-outline":987146,"account-box-outline":983047,"account-cancel":987871,"account-cancel-outline":987872,"account-cash":987287,"account-cash-outline":987288,"account-check":983048,"account-check-outline":986082,"account-child":985737,"account-child-circle":985738,"account-child-outline":987336,"account-circle":983049,"account-circle-outline":985941,"account-clock":985942,"account-clock-outline":985943,"account-cog":988016,"account-cog-outline":988017,"account-convert":983050,"account-convert-outline":987905,"account-cowboy-hat":986779,"account-cowboy-hat-outline":989171,"account-details":984625,"account-details-outline":988018,"account-edit":984764,"account-edit-outline":987131,"account-eye":984096,"account-eye-outline":987771,"account-filter":985398,"account-filter-outline":987037,"account-group":985161,"account-group-outline":985944,"account-hard-hat":984501,"account-heart":985241,"account-heart-outline":986083,"account-injury":989205,"account-injury-outline":989206,"account-key":983051,"account-key-outline":986084,"account-lock":987486,"account-lock-open":989536,"account-lock-open-outline":989537,"account-lock-outline":987487,"account-minus":983053,"account-minus-outline":985836,"account-multiple":983054,"account-multiple-check":985285,"account-multiple-check-outline":987646,"account-multiple-minus":984531,"account-multiple-minus-outline":986085,"account-multiple-outline":983055,"account-multiple-plus":983056,"account-multiple-plus-outline":985088,"account-multiple-remove":987658,"account-multiple-remove-outline":987659,"account-music":985091,"account-music-outline":986345,"account-network":983057,"account-network-outline":986086,"account-off":983058,"account-off-outline":986087,"account-outline":983059,"account-plus":983060,"account-plus-outline":985089,"account-question":985945,"account-question-outline":985946,"account-reactivate":988459,"account-reactivate-outline":988460,"account-remove":983061,"account-remove-outline":985837,"account-search":983062,"account-search-outline":985397,"account-settings":984624,"account-settings-outline":987337,"account-star":983063,"account-star-outline":986088,"account-supervisor":985739,"account-supervisor-circle":985740,"account-supervisor-circle-outline":988396,"account-supervisor-outline":987437,"account-switch":983065,"account-switch-outline":984267,"account-sync":989467,"account-sync-outline":989468,"account-tie":986339,"account-tie-hat":989336,"account-tie-hat-outline":989337,"account-tie-outline":987338,"account-tie-voice":987912,"account-tie-voice-off":987914,"account-tie-voice-off-outline":987915,"account-tie-voice-outline":987913,"account-voice":984523,"account-voice-off":986836,"account-wrench":989338,"account-wrench-outline":989339,"adjust":983066,"advertisements":989482,"advertisements-off":989483,"air-conditioner":983067,"air-filter":986435,"air-horn":986540,"air-humidifier":987289,"air-humidifier-off":988262,"air-purifier":986436,"airbag":986089,"airballoon":983068,"airballoon-outline":987147,"airplane":983069,"airplane-alert":989306,"airplane-check":989307,"airplane-clock":989308,"airplane-cog":989309,"airplane-edit":989310,"airplane-landing":984532,"airplane-marker":989311,"airplane-minus":989312,"airplane-off":983070,"airplane-plus":989313,"airplane-remove":989314,"airplane-search":989315,"airplane-settings":989316,"airplane-takeoff":984533,"airport":985163,"alarm":983072,"alarm-bell":984974,"alarm-check":983073,"alarm-light":984975,"alarm-light-off":988958,"alarm-light-off-outline":988959,"alarm-light-outline":986090,"alarm-multiple":983074,"alarm-note":986737,"alarm-note-off":986738,"alarm-off":983075,"alarm-panel":988612,"alarm-panel-outline":988613,"alarm-plus":983076,"alarm-snooze":984718,"album":983077,"alert":983078,"alert-box":983079,"alert-box-outline":986340,"alert-circle":983080,"alert-circle-check":987629,"alert-circle-check-outline":987630,"alert-circle-outline":984534,"alert-decagram":984765,"alert-decagram-outline":986341,"alert-minus":988347,"alert-minus-outline":988350,"alert-octagon":983081,"alert-octagon-outline":986342,"alert-octagram":984935,"alert-octagram-outline":986343,"alert-outline":983082,"alert-plus":988346,"alert-plus-outline":988349,"alert-remove":988348,"alert-remove-outline":988351,"alert-rhombus":987598,"alert-rhombus-outline":987599,"alien":985242,"alien-outline":987339,"align-horizontal-center":987587,"align-horizontal-distribute":989538,"align-horizontal-left":987586,"align-horizontal-right":987588,"align-vertical-bottom":987589,"align-vertical-center":987590,"align-vertical-distribute":989539,"align-vertical-top":987591,"all-inclusive":984766,"all-inclusive-box":989325,"all-inclusive-box-outline":989326,"allergy":987736,"alpha":983083,"alpha-a":985838,"alpha-a-box":985864,"alpha-a-box-outline":986091,"alpha-a-circle":986092,"alpha-a-circle-outline":986093,"alpha-b":985839,"alpha-b-box":985865,"alpha-b-box-outline":986094,"alpha-b-circle":986095,"alpha-b-circle-outline":986096,"alpha-c":985840,"alpha-c-box":985866,"alpha-c-box-outline":986097,"alpha-c-circle":986098,"alpha-c-circle-outline":986099,"alpha-d":985841,"alpha-d-box":985867,"alpha-d-box-outline":986100,"alpha-d-circle":986101,"alpha-d-circle-outline":986102,"alpha-e":985842,"alpha-e-box":985868,"alpha-e-box-outline":986103,"alpha-e-circle":986104,"alpha-e-circle-outline":986105,"alpha-f":985843,"alpha-f-box":985869,"alpha-f-box-outline":986106,"alpha-f-circle":986107,"alpha-f-circle-outline":986108,"alpha-g":985844,"alpha-g-box":985870,"alpha-g-box-outline":986109,"alpha-g-circle":986110,"alpha-g-circle-outline":986111,"alpha-h":985845,"alpha-h-box":985871,"alpha-h-box-outline":986112,"alpha-h-circle":986113,"alpha-h-circle-outline":986114,"alpha-i":985846,"alpha-i-box":985872,"alpha-i-box-outline":986115,"alpha-i-circle":986116,"alpha-i-circle-outline":986117,"alpha-j":985847,"alpha-j-box":985873,"alpha-j-box-outline":986118,"alpha-j-circle":986119,"alpha-j-circle-outline":986120,"alpha-k":985848,"alpha-k-box":985874,"alpha-k-box-outline":986121,"alpha-k-circle":986122,"alpha-k-circle-outline":986123,"alpha-l":985849,"alpha-l-box":985875,"alpha-l-box-outline":986124,"alpha-l-circle":986125,"alpha-l-circle-outline":986126,"alpha-m":985850,"alpha-m-box":985876,"alpha-m-box-outline":986127,"alpha-m-circle":986128,"alpha-m-circle-outline":986129,"alpha-n":985851,"alpha-n-box":985877,"alpha-n-box-outline":986130,"alpha-n-circle":986131,"alpha-n-circle-outline":986132,"alpha-o":985852,"alpha-o-box":985878,"alpha-o-box-outline":986133,"alpha-o-circle":986134,"alpha-o-circle-outline":986135,"alpha-p":985853,"alpha-p-box":985879,"alpha-p-box-outline":986136,"alpha-p-circle":986137,"alpha-p-circle-outline":986138,"alpha-q":985854,"alpha-q-box":985880,"alpha-q-box-outline":986139,"alpha-q-circle":986140,"alpha-q-circle-outline":986141,"alpha-r":985855,"alpha-r-box":985881,"alpha-r-box-outline":986142,"alpha-r-circle":986143,"alpha-r-circle-outline":986144,"alpha-s":985856,"alpha-s-box":985882,"alpha-s-box-outline":986145,"alpha-s-circle":986146,"alpha-s-circle-outline":986147,"alpha-t":985857,"alpha-t-box":985883,"alpha-t-box-outline":986148,"alpha-t-circle":986149,"alpha-t-circle-outline":986150,"alpha-u":985858,"alpha-u-box":985884,"alpha-u-box-outline":986151,"alpha-u-circle":986152,"alpha-u-circle-outline":986153,"alpha-v":985859,"alpha-v-box":985885,"alpha-v-box-outline":986154,"alpha-v-circle":986155,"alpha-v-circle-outline":986156,"alpha-w":985860,"alpha-w-box":985886,"alpha-w-box-outline":986157,"alpha-w-circle":986158,"alpha-w-circle-outline":986159,"alpha-x":985861,"alpha-x-box":985887,"alpha-x-box-outline":986160,"alpha-x-circle":986161,"alpha-x-circle-outline":986162,"alpha-y":985862,"alpha-y-box":985888,"alpha-y-box-outline":986163,"alpha-y-circle":986164,"alpha-y-circle-outline":986165,"alpha-z":985863,"alpha-z-box":985889,"alpha-z-box-outline":986166,"alpha-z-circle":986167,"alpha-z-circle-outline":986168,"alphabet-aurebesh":987948,"alphabet-cyrillic":987949,"alphabet-greek":987950,"alphabet-latin":987951,"alphabet-piqad":987952,"alphabet-tengwar":987959,"alphabetical":983084,"alphabetical-off":987148,"alphabetical-variant":987149,"alphabetical-variant-off":987150,"altimeter":984535,"ambulance":983087,"ammunition":986344,"ampersand":985741,"amplifier":983088,"amplifier-off":987573,"anchor":983089,"android":983090,"android-messages":986437,"android-studio":983092,"angle-acute":985399,"angle-obtuse":985400,"angle-right":985401,"angular":984754,"angularjs":984767,"animation":984536,"animation-outline":985743,"animation-play":985402,"animation-play-outline":985744,"ansible":987290,"antenna":987417,"anvil":985243,"apache-kafka":987151,"api":987291,"api-off":987735,"apple":983093,"apple-finder":983094,"apple-icloud":983096,"apple-ios":983095,"apple-keyboard-caps":984626,"apple-keyboard-command":984627,"apple-keyboard-control":984628,"apple-keyboard-option":984629,"apple-keyboard-shift":984630,"apple-safari":983097,"application":985286,"application-array":987381,"application-array-outline":987382,"application-braces":987383,"application-braces-outline":987384,"application-brackets":986251,"application-brackets-outline":986252,"application-cog":984693,"application-cog-outline":988535,"application-edit":983214,"application-edit-outline":984601,"application-export":986541,"application-import":986542,"application-outline":984596,"application-parentheses":987385,"application-parentheses-outline":987386,"application-settings":985952,"application-settings-outline":988501,"application-variable":987387,"application-variable-outline":987388,"approximately-equal":987038,"approximately-equal-box":987039,"apps":983099,"apps-box":986438,"arch":985287,"archive":983100,"archive-alert":988413,"archive-alert-outline":988414,"archive-arrow-down":987737,"archive-arrow-down-outline":987738,"archive-arrow-up":987739,"archive-arrow-up-outline":987740,"archive-cancel":989003,"archive-cancel-outline":989004,"archive-check":989005,"archive-check-outline":989006,"archive-clock":989007,"archive-clock-outline":989008,"archive-cog":989009,"archive-cog-outline":989010,"archive-edit":989011,"archive-edit-outline":989012,"archive-eye":989013,"archive-eye-outline":989014,"archive-lock":989015,"archive-lock-open":989016,"archive-lock-open-outline":989017,"archive-lock-outline":989018,"archive-marker":989019,"archive-marker-outline":989020,"archive-minus":989021,"archive-minus-outline":989022,"archive-music":989023,"archive-music-outline":989024,"archive-off":989025,"archive-off-outline":989026,"archive-outline":987662,"archive-plus":989027,"archive-plus-outline":989028,"archive-refresh":989029,"archive-refresh-outline":989030,"archive-remove":989031,"archive-remove-outline":989032,"archive-search":989033,"archive-search-outline":989034,"archive-settings":989035,"archive-settings-outline":989036,"archive-star":989037,"archive-star-outline":989038,"archive-sync":989039,"archive-sync-outline":989040,"arm-flex":987095,"arm-flex-outline":987094,"arrange-bring-forward":983101,"arrange-bring-to-front":983102,"arrange-send-backward":983103,"arrange-send-to-back":983104,"arrow-all":983105,"arrow-bottom-left":983106,"arrow-bottom-left-bold-box":989540,"arrow-bottom-left-bold-box-outline":989541,"arrow-bottom-left-bold-outline":985527,"arrow-bottom-left-thick":985528,"arrow-bottom-left-thin":989622,"arrow-bottom-left-thin-circle-outline":988566,"arrow-bottom-right":983107,"arrow-bottom-right-bold-box":989542,"arrow-bottom-right-bold-box-outline":989543,"arrow-bottom-right-bold-outline":985529,"arrow-bottom-right-thick":985530,"arrow-bottom-right-thin":989623,"arrow-bottom-right-thin-circle-outline":988565,"arrow-collapse":984597,"arrow-collapse-all":983108,"arrow-collapse-down":984978,"arrow-collapse-horizontal":985164,"arrow-collapse-left":984979,"arrow-collapse-right":984980,"arrow-collapse-up":984981,"arrow-collapse-vertical":985165,"arrow-decision":985531,"arrow-decision-auto":985532,"arrow-decision-auto-outline":985533,"arrow-decision-outline":985534,"arrow-down":983109,"arrow-down-bold":984878,"arrow-down-bold-box":984879,"arrow-down-bold-box-outline":984880,"arrow-down-bold-circle":983111,"arrow-down-bold-circle-outline":983112,"arrow-down-bold-hexagon-outline":983113,"arrow-down-bold-outline":985535,"arrow-down-box":984768,"arrow-down-circle":986331,"arrow-down-circle-outline":986332,"arrow-down-drop-circle":983114,"arrow-down-drop-circle-outline":983115,"arrow-down-left":989089,"arrow-down-left-bold":989090,"arrow-down-right":989091,"arrow-down-right-bold":989092,"arrow-down-thick":983110,"arrow-down-thin":989619,"arrow-down-thin-circle-outline":988569,"arrow-expand":984598,"arrow-expand-all":983116,"arrow-expand-down":984982,"arrow-expand-horizontal":985166,"arrow-expand-left":984983,"arrow-expand-right":984984,"arrow-expand-up":984985,"arrow-expand-vertical":985167,"arrow-horizontal-lock":987483,"arrow-left":983117,"arrow-left-bold":984881,"arrow-left-bold-box":984882,"arrow-left-bold-box-outline":984883,"arrow-left-bold-circle":983119,"arrow-left-bold-circle-outline":983120,"arrow-left-bold-hexagon-outline":983121,"arrow-left-bold-outline":985536,"arrow-left-bottom":989093,"arrow-left-bottom-bold":989094,"arrow-left-box":984769,"arrow-left-circle":986333,"arrow-left-circle-outline":986334,"arrow-left-drop-circle":983122,"arrow-left-drop-circle-outline":983123,"arrow-left-right":986739,"arrow-left-right-bold":986740,"arrow-left-right-bold-outline":985537,"arrow-left-thick":983118,"arrow-left-thin":989617,"arrow-left-thin-circle-outline":988570,"arrow-left-top":989095,"arrow-left-top-bold":989096,"arrow-projectile":989248,"arrow-projectile-multiple":989247,"arrow-right":983124,"arrow-right-bold":984884,"arrow-right-bold-box":984885,"arrow-right-bold-box-outline":984886,"arrow-right-bold-circle":983126,"arrow-right-bold-circle-outline":983127,"arrow-right-bold-hexagon-outline":983128,"arrow-right-bold-outline":985538,"arrow-right-bottom":989097,"arrow-right-bottom-bold":989098,"arrow-right-box":984770,"arrow-right-circle":986335,"arrow-right-circle-outline":986336,"arrow-right-drop-circle":983129,"arrow-right-drop-circle-outline":983130,"arrow-right-thick":983125,"arrow-right-thin":989616,"arrow-right-thin-circle-outline":988568,"arrow-right-top":989099,"arrow-right-top-bold":989100,"arrow-split-horizontal":985403,"arrow-split-vertical":985404,"arrow-top-left":983131,"arrow-top-left-bold-box":989544,"arrow-top-left-bold-box-outline":989545,"arrow-top-left-bold-outline":985539,"arrow-top-left-bottom-right":986741,"arrow-top-left-bottom-right-bold":986742,"arrow-top-left-thick":985540,"arrow-top-left-thin":989621,"arrow-top-left-thin-circle-outline":988563,"arrow-top-right":983132,"arrow-top-right-bold-box":989546,"arrow-top-right-bold-box-outline":989547,"arrow-top-right-bold-outline":985541,"arrow-top-right-bottom-left":986743,"arrow-top-right-bottom-left-bold":986744,"arrow-top-right-thick":985542,"arrow-top-right-thin":989620,"arrow-top-right-thin-circle-outline":988564,"arrow-u-down-left":989101,"arrow-u-down-left-bold":989102,"arrow-u-down-right":989103,"arrow-u-down-right-bold":989104,"arrow-u-left-bottom":989105,"arrow-u-left-bottom-bold":989106,"arrow-u-left-top":989107,"arrow-u-left-top-bold":989108,"arrow-u-right-bottom":989109,"arrow-u-right-bottom-bold":989110,"arrow-u-right-top":989111,"arrow-u-right-top-bold":989112,"arrow-u-up-left":989113,"arrow-u-up-left-bold":989114,"arrow-u-up-right":989115,"arrow-u-up-right-bold":989116,"arrow-up":983133,"arrow-up-bold":984887,"arrow-up-bold-box":984888,"arrow-up-bold-box-outline":984889,"arrow-up-bold-circle":983135,"arrow-up-bold-circle-outline":983136,"arrow-up-bold-hexagon-outline":983137,"arrow-up-bold-outline":985543,"arrow-up-box":984771,"arrow-up-circle":986337,"arrow-up-circle-outline":986338,"arrow-up-down":986745,"arrow-up-down-bold":986746,"arrow-up-down-bold-outline":985544,"arrow-up-drop-circle":983138,"arrow-up-drop-circle-outline":983139,"arrow-up-left":989117,"arrow-up-left-bold":989118,"arrow-up-right":989119,"arrow-up-right-bold":989120,"arrow-up-thick":983134,"arrow-up-thin":989618,"arrow-up-thin-circle-outline":988567,"arrow-vertical-lock":987484,"artstation":985947,"aspect-ratio":985636,"assistant":983140,"asterisk":984772,"at":983141,"atlassian":985092,"atm":986439,"atom":984936,"atom-variant":986747,"attachment":983142,"audio-input-rca":989291,"audio-input-stereo-minijack":989292,"audio-input-xlr":989293,"audio-video":985405,"audio-video-off":987574,"augmented-reality":985168,"auto-download":988030,"auto-fix":983144,"auto-upload":983145,"autorenew":983146,"av-timer":983147,"aws":986639,"axe":985288,"axe-battle":989250,"axis":986440,"axis-arrow":986441,"axis-arrow-info":988174,"axis-arrow-lock":986442,"axis-lock":986443,"axis-x-arrow":986444,"axis-x-arrow-lock":986445,"axis-x-rotate-clockwise":986446,"axis-x-rotate-counterclockwise":986447,"axis-x-y-arrow-lock":986448,"axis-y-arrow":986449,"axis-y-arrow-lock":986450,"axis-y-rotate-clockwise":986451,"axis-y-rotate-counterclockwise":986452,"axis-z-arrow":986453,"axis-z-arrow-lock":986454,"axis-z-rotate-clockwise":986455,"axis-z-rotate-counterclockwise":986456,"babel":985637,"baby":983148,"baby-bottle":986937,"baby-bottle-outline":986938,"baby-buggy":988128,"baby-carriage":984719,"baby-carriage-off":987040,"baby-face":986748,"baby-face-outline":986749,"backburger":983149,"backspace":983150,"backspace-outline":985948,"backspace-reverse":986750,"backspace-reverse-outline":986751,"backup-restore":983151,"bacteria":986837,"bacteria-outline":986838,"badge-account":986535,"badge-account-alert":986536,"badge-account-alert-outline":986537,"badge-account-horizontal":986637,"badge-account-horizontal-outline":986638,"badge-account-outline":986538,"badminton":985169,"bag-carry-on":986939,"bag-carry-on-check":986469,"bag-carry-on-off":986940,"bag-checked":986941,"bag-personal":986640,"bag-personal-off":986641,"bag-personal-off-outline":986642,"bag-personal-outline":986643,"bag-suitcase":988555,"bag-suitcase-off":988557,"bag-suitcase-off-outline":988558,"bag-suitcase-outline":988556,"baguette":986942,"balcony":989207,"balloon":985638,"ballot":985545,"ballot-outline":985546,"ballot-recount":986169,"ballot-recount-outline":986170,"bandage":986543,"bank":983152,"bank-check":988757,"bank-minus":986544,"bank-off":988758,"bank-off-outline":988759,"bank-outline":986752,"bank-plus":986545,"bank-remove":986546,"bank-transfer":985639,"bank-transfer-in":985640,"bank-transfer-out":985641,"barcode":983153,"barcode-off":987702,"barcode-scan":983154,"barley":983155,"barley-off":985949,"barn":985950,"barrel":983156,"baseball":985170,"baseball-bat":985171,"baseball-diamond":988652,"baseball-diamond-outline":988653,"bash":987523,"basket":983158,"basket-check":989413,"basket-check-outline":989414,"basket-fill":983159,"basket-minus":988451,"basket-minus-outline":988452,"basket-off":988453,"basket-off-outline":988454,"basket-outline":987521,"basket-plus":988455,"basket-plus-outline":988456,"basket-remove":988457,"basket-remove-outline":988458,"basket-unfill":983160,"basketball":985094,"basketball-hoop":986171,"basketball-hoop-outline":986172,"bat":985951,"bathtub":989208,"bathtub-outline":989209,"battery":983161,"battery-10":983162,"battery-10-bluetooth":985406,"battery-20":983163,"battery-20-bluetooth":985407,"battery-30":983164,"battery-30-bluetooth":985408,"battery-40":983165,"battery-40-bluetooth":985409,"battery-50":983166,"battery-50-bluetooth":985410,"battery-60":983167,"battery-60-bluetooth":985411,"battery-70":983168,"battery-70-bluetooth":985412,"battery-80":983169,"battery-80-bluetooth":985413,"battery-90":983170,"battery-90-bluetooth":985414,"battery-alert":983171,"battery-alert-bluetooth":985415,"battery-alert-variant":987340,"battery-alert-variant-outline":987341,"battery-arrow-down":989150,"battery-arrow-down-outline":989151,"battery-arrow-up":989152,"battery-arrow-up-outline":989153,"battery-bluetooth":985416,"battery-bluetooth-variant":985417,"battery-charging":983172,"battery-charging-10":985244,"battery-charging-100":983173,"battery-charging-20":983174,"battery-charging-30":983175,"battery-charging-40":983176,"battery-charging-50":985245,"battery-charging-60":983177,"battery-charging-70":985246,"battery-charging-80":983178,"battery-charging-90":983179,"battery-charging-high":987814,"battery-charging-low":987812,"battery-charging-medium":987813,"battery-charging-outline":985247,"battery-charging-wireless":985095,"battery-charging-wireless-10":985096,"battery-charging-wireless-20":985097,"battery-charging-wireless-30":985098,"battery-charging-wireless-40":985099,"battery-charging-wireless-50":985100,"battery-charging-wireless-60":985101,"battery-charging-wireless-70":985102,"battery-charging-wireless-80":985103,"battery-charging-wireless-90":985104,"battery-charging-wireless-alert":985105,"battery-charging-wireless-outline":985106,"battery-check":989154,"battery-check-outline":989155,"battery-heart":987663,"battery-heart-outline":987664,"battery-heart-variant":987665,"battery-high":987811,"battery-lock":989084,"battery-lock-open":989085,"battery-low":987809,"battery-medium":987810,"battery-minus":989156,"battery-minus-outline":989157,"battery-minus-variant":983180,"battery-negative":983181,"battery-off":987741,"battery-off-outline":987742,"battery-outline":983182,"battery-plus":989158,"battery-plus-outline":989159,"battery-plus-variant":983183,"battery-positive":983184,"battery-remove":989160,"battery-remove-outline":989161,"battery-sync":989236,"battery-sync-outline":989237,"battery-unknown":983185,"battery-unknown-bluetooth":985418,"beach":983186,"beaker":986346,"beaker-alert":987689,"beaker-alert-outline":987690,"beaker-check":987691,"beaker-check-outline":987692,"beaker-minus":987693,"beaker-minus-outline":987694,"beaker-outline":984720,"beaker-plus":987695,"beaker-plus-outline":987696,"beaker-question":987697,"beaker-question-outline":987698,"beaker-remove":987699,"beaker-remove-outline":987700,"bed":983779,"bed-double":987092,"bed-double-outline":987091,"bed-empty":985248,"bed-king":987090,"bed-king-outline":987089,"bed-outline":983193,"bed-queen":987088,"bed-queen-outline":987099,"bed-single":987245,"bed-single-outline":987246,"bee":987041,"bee-flower":987042,"beehive-off-outline":988141,"beehive-outline":987342,"beekeeper":988386,"beer":983192,"beer-outline":987916,"bell":983194,"bell-alert":986457,"bell-alert-outline":986753,"bell-badge":987499,"bell-badge-outline":983416,"bell-cancel":988135,"bell-cancel-outline":988136,"bell-check":987621,"bell-check-outline":987622,"bell-circle":986458,"bell-circle-outline":986459,"bell-minus":988137,"bell-minus-outline":988138,"bell-off":983195,"bell-off-outline":985745,"bell-outline":983196,"bell-plus":983197,"bell-plus-outline":985746,"bell-remove":988139,"bell-remove-outline":988140,"bell-ring":983198,"bell-ring-outline":983199,"bell-sleep":983200,"bell-sleep-outline":985747,"beta":983201,"betamax":985547,"biathlon":986644,"bicycle":987292,"bicycle-basket":987701,"bicycle-cargo":989340,"bicycle-electric":988596,"bicycle-penny-farthing":988649,"bike":983203,"bike-fast":987423,"billboard":987152,"billiards":985953,"billiards-rack":985954,"binoculars":983205,"bio":983206,"biohazard":983207,"bird":988614,"bitbucket":983208,"bitcoin":985107,"black-mesa":983209,"blender":986347,"blender-outline":989210,"blender-software":983211,"blinds":983212,"blinds-open":987153,"block-helper":983213,"blood-bag":986348,"bluetooth":983215,"bluetooth-audio":983216,"bluetooth-connect":983217,"bluetooth-off":983218,"bluetooth-settings":983219,"bluetooth-transfer":983220,"blur":983221,"blur-linear":983222,"blur-off":983223,"blur-radial":983224,"bolt":986547,"bomb":984721,"bomb-off":984773,"bone":983225,"book":983226,"book-account":988077,"book-account-outline":988078,"book-alert":988796,"book-alert-outline":988797,"book-alphabet":984605,"book-arrow-down":988798,"book-arrow-down-outline":988799,"book-arrow-left":988800,"book-arrow-left-outline":988801,"book-arrow-right":988802,"book-arrow-right-outline":988803,"book-arrow-up":988804,"book-arrow-up-outline":988805,"book-cancel":988806,"book-cancel-outline":988807,"book-check":988403,"book-check-outline":988404,"book-clock":988808,"book-clock-outline":988809,"book-cog":988810,"book-cog-outline":988811,"book-cross":983202,"book-edit":988812,"book-edit-outline":988813,"book-education":988873,"book-education-outline":988874,"book-information-variant":987247,"book-lock":984986,"book-lock-open":984987,"book-lock-open-outline":988814,"book-lock-outline":988815,"book-marker":988816,"book-marker-outline":988817,"book-minus":984537,"book-minus-multiple":985748,"book-minus-multiple-outline":985355,"book-minus-outline":988818,"book-multiple":983227,"book-multiple-outline":984118,"book-music":983143,"book-music-outline":988819,"book-off":988820,"book-off-outline":988821,"book-open":983229,"book-open-blank-variant":983230,"book-open-outline":985955,"book-open-page-variant":984538,"book-open-page-variant-outline":988630,"book-open-variant":988407,"book-outline":985956,"book-play":986754,"book-play-outline":986755,"book-plus":984539,"book-plus-multiple":985749,"book-plus-multiple-outline":985822,"book-plus-outline":988822,"book-refresh":988823,"book-refresh-outline":988824,"book-remove":985751,"book-remove-multiple":985750,"book-remove-multiple-outline":984266,"book-remove-outline":988825,"book-search":986756,"book-search-outline":986757,"book-settings":988826,"book-settings-outline":988827,"book-sync":988828,"book-sync-outline":988872,"book-variant":983231,"book-variant-multiple":983228,"bookmark":983232,"bookmark-box-multiple":989548,"bookmark-box-multiple-outline":989549,"bookmark-check":983233,"bookmark-check-outline":988027,"bookmark-minus":985548,"bookmark-minus-outline":985549,"bookmark-multiple":986645,"bookmark-multiple-outline":986646,"bookmark-music":983234,"bookmark-music-outline":988025,"bookmark-off":985550,"bookmark-off-outline":985551,"bookmark-outline":983235,"bookmark-plus":983237,"bookmark-plus-outline":983236,"bookmark-remove":983238,"bookmark-remove-outline":988026,"bookshelf":987743,"boom-gate":986758,"boom-gate-alert":986759,"boom-gate-alert-outline":986760,"boom-gate-arrow-down":986761,"boom-gate-arrow-down-outline":986762,"boom-gate-arrow-up":986764,"boom-gate-arrow-up-outline":986765,"boom-gate-outline":986763,"boom-gate-up":989177,"boom-gate-up-outline":989178,"boombox":984540,"boomerang":987343,"bootstrap":984774,"border-all":983239,"border-all-variant":985249,"border-bottom":983240,"border-bottom-variant":985250,"border-color":983241,"border-horizontal":983242,"border-inside":983243,"border-left":983244,"border-left-variant":985251,"border-none":983245,"border-none-variant":985252,"border-outside":983246,"border-right":983247,"border-right-variant":985253,"border-style":983248,"border-top":983249,"border-top-variant":985254,"border-vertical":983250,"bottle-soda":987248,"bottle-soda-classic":987249,"bottle-soda-classic-outline":988003,"bottle-soda-outline":987250,"bottle-tonic":987438,"bottle-tonic-outline":987439,"bottle-tonic-plus":987440,"bottle-tonic-plus-outline":987441,"bottle-tonic-skull":987442,"bottle-tonic-skull-outline":987443,"bottle-wine":985172,"bottle-wine-outline":987920,"bow-arrow":989249,"bow-tie":984696,"bowl":983694,"bowl-mix":984599,"bowl-mix-outline":983780,"bowl-outline":983721,"bowling":983251,"box":983252,"box-cutter":983253,"box-cutter-off":985930,"box-shadow":984631,"boxing-glove":985957,"braille":985552,"brain":985553,"bread-slice":986350,"bread-slice-outline":986351,"bridge":984600,"briefcase":983254,"briefcase-account":986352,"briefcase-account-outline":986353,"briefcase-check":983255,"briefcase-check-outline":987934,"briefcase-clock":987344,"briefcase-clock-outline":987345,"briefcase-download":983256,"briefcase-download-outline":986173,"briefcase-edit":985752,"briefcase-edit-outline":986174,"briefcase-eye":989145,"briefcase-eye-outline":989146,"briefcase-minus":985642,"briefcase-minus-outline":986175,"briefcase-off":988760,"briefcase-off-outline":988761,"briefcase-outline":985108,"briefcase-plus":985643,"briefcase-plus-outline":986176,"briefcase-remove":985644,"briefcase-remove-outline":986177,"briefcase-search":985645,"briefcase-search-outline":986178,"briefcase-upload":983257,"briefcase-upload-outline":986179,"briefcase-variant":988308,"briefcase-variant-off":988762,"briefcase-variant-off-outline":988763,"briefcase-variant-outline":988309,"brightness-1":983258,"brightness-2":983259,"brightness-3":983260,"brightness-4":983261,"brightness-5":983262,"brightness-6":983263,"brightness-7":983264,"brightness-auto":983265,"brightness-percent":986354,"broadcast":988960,"broadcast-off":988961,"broom":983266,"brush":983267,"brush-off":989041,"brush-variant":989203,"bucket":988181,"bucket-outline":988182,"buffet":984440,"bug":983268,"bug-check":985646,"bug-check-outline":985647,"bug-outline":985648,"bugle":986548,"bulldozer":985890,"bullet":986355,"bulletin-board":983269,"bullhorn":983270,"bullhorn-outline":985891,"bullhorn-variant":989550,"bullhorn-variant-outline":989551,"bullseye":984541,"bullseye-arrow":985289,"bulma":987879,"bunk-bed":987906,"bunk-bed-outline":983191,"bus":983271,"bus-alert":985753,"bus-articulated-end":984988,"bus-articulated-front":984989,"bus-clock":985290,"bus-double-decker":984990,"bus-electric":989469,"bus-marker":987666,"bus-multiple":986943,"bus-school":984991,"bus-side":984992,"bus-stop":987154,"bus-stop-covered":987155,"bus-stop-uncovered":987156,"butterfly":988553,"butterfly-outline":988554,"cabin-a-frame":989324,"cable-data":988052,"cached":983272,"cactus":986549,"cake":983273,"cake-layered":983274,"cake-variant":983275,"cake-variant-outline":989168,"calculator":983276,"calculator-variant":985754,"calculator-variant-outline":988582,"calendar":983277,"calendar-account":986839,"calendar-account-outline":986840,"calendar-alert":985649,"calendar-arrow-left":987444,"calendar-arrow-right":987445,"calendar-blank":983278,"calendar-blank-multiple":987251,"calendar-blank-outline":985958,"calendar-check":983279,"calendar-check-outline":986180,"calendar-clock":983280,"calendar-clock-outline":988897,"calendar-collapse-horizontal":989341,"calendar-cursor":988539,"calendar-edit":985255,"calendar-end":988780,"calendar-expand-horizontal":989342,"calendar-export":985892,"calendar-heart":985554,"calendar-import":985893,"calendar-lock":988737,"calendar-lock-outline":988738,"calendar-minus":986460,"calendar-month":986647,"calendar-month-outline":986648,"calendar-multiple":983281,"calendar-multiple-check":983282,"calendar-multiselect":985650,"calendar-outline":985959,"calendar-plus":983283,"calendar-question":984722,"calendar-range":984697,"calendar-range-outline":985960,"calendar-refresh":983521,"calendar-refresh-outline":983555,"calendar-remove":983284,"calendar-remove-outline":986181,"calendar-search":985420,"calendar-star":985555,"calendar-start":988781,"calendar-sync":986766,"calendar-sync-outline":986767,"calendar-text":983285,"calendar-text-outline":986182,"calendar-today":983286,"calendar-week":985651,"calendar-week-begin":985652,"calendar-weekend":986841,"calendar-weekend-outline":986842,"call-made":983287,"call-merge":983288,"call-missed":983289,"call-received":983290,"call-split":983291,"camcorder":983292,"camcorder-off":983295,"camera":983296,"camera-account":985291,"camera-burst":984723,"camera-control":985961,"camera-document":989297,"camera-document-off":989298,"camera-enhance":983297,"camera-enhance-outline":985962,"camera-flip":988633,"camera-flip-outline":988634,"camera-front":983298,"camera-front-variant":983299,"camera-gopro":984993,"camera-image":985292,"camera-iris":983300,"camera-marker":989607,"camera-marker-outline":989608,"camera-metering-center":984994,"camera-metering-matrix":984995,"camera-metering-partial":984996,"camera-metering-spot":984997,"camera-off":984543,"camera-off-outline":989631,"camera-outline":986461,"camera-party-mode":983301,"camera-plus":986843,"camera-plus-outline":986844,"camera-rear":983302,"camera-rear-variant":983303,"camera-retake":986649,"camera-retake-outline":986650,"camera-switch":983304,"camera-switch-outline":985162,"camera-timer":983305,"camera-wireless":986550,"camera-wireless-outline":986551,"campfire":986845,"cancel":984890,"candelabra":989138,"candelabra-fire":989139,"candle":984546,"candy":989552,"candy-off":989553,"candy-off-outline":989554,"candy-outline":989555,"candycane":983306,"cannabis":984998,"cannabis-off":988782,"caps-lock":985755,"car":983307,"car-2-plus":987157,"car-3-plus":987158,"car-arrow-left":988082,"car-arrow-right":988083,"car-back":986651,"car-battery":983308,"car-brake-abs":986183,"car-brake-alert":986184,"car-brake-fluid-level":989449,"car-brake-hold":986462,"car-brake-low-pressure":989450,"car-brake-parking":986463,"car-brake-retarder":987159,"car-brake-temperature":989451,"car-brake-worn-linings":989452,"car-child-seat":987043,"car-clock":989556,"car-clutch":987160,"car-cog":988108,"car-connected":983309,"car-convertible":984999,"car-coolant-level":987161,"car-cruise-control":986464,"car-defrost-front":986465,"car-defrost-rear":986466,"car-door":985963,"car-door-lock":987293,"car-electric":985964,"car-electric-outline":988597,"car-emergency":988687,"car-esp":986185,"car-estate":985000,"car-hatchback":985001,"car-info":987582,"car-key":985965,"car-lifted-pickup":988461,"car-light-alert":989453,"car-light-dimmed":986186,"car-light-fog":986187,"car-light-high":986188,"car-limousine":985293,"car-multiple":985966,"car-off":986652,"car-outline":988397,"car-parking-lights":986467,"car-pickup":985002,"car-seat":987044,"car-seat-cooler":987045,"car-seat-heater":987046,"car-select":989305,"car-settings":988109,"car-shift-pattern":986944,"car-side":985003,"car-speed-limiter":989454,"car-sports":985004,"car-tire-alert":986189,"car-traction-control":986468,"car-turbocharger":987162,"car-wash":983310,"car-windshield":987163,"car-windshield-outline":987164,"car-wireless":989304,"car-wrench":989204,"carabiner":988352,"caravan":985005,"card":985967,"card-account-details":984530,"card-account-details-outline":986539,"card-account-details-star":983715,"card-account-details-star-outline":984795,"card-account-mail":983438,"card-account-mail-outline":986776,"card-account-phone":986777,"card-account-phone-outline":986778,"card-bulleted":985968,"card-bulleted-off":985969,"card-bulleted-off-outline":985970,"card-bulleted-outline":985971,"card-bulleted-settings":985972,"card-bulleted-settings-outline":985973,"card-minus":988672,"card-minus-outline":988673,"card-multiple":989169,"card-multiple-outline":989170,"card-off":988674,"card-off-outline":988675,"card-outline":985974,"card-plus":987647,"card-plus-outline":987648,"card-remove":988676,"card-remove-outline":988677,"card-search":987252,"card-search-outline":987253,"card-text":985975,"card-text-outline":985976,"cards":984632,"cards-club":985294,"cards-club-outline":989343,"cards-diamond":985295,"cards-diamond-outline":987165,"cards-heart":985296,"cards-heart-outline":989344,"cards-outline":984633,"cards-playing":989345,"cards-playing-club":989346,"cards-playing-club-multiple":989347,"cards-playing-club-multiple-outline":989348,"cards-playing-club-outline":989349,"cards-playing-diamond":989350,"cards-playing-diamond-multiple":989351,"cards-playing-diamond-multiple-outline":989352,"cards-playing-diamond-outline":989353,"cards-playing-heart":989354,"cards-playing-heart-multiple":989355,"cards-playing-heart-multiple-outline":989356,"cards-playing-heart-outline":989357,"cards-playing-outline":984634,"cards-playing-spade":989358,"cards-playing-spade-multiple":989359,"cards-playing-spade-multiple-outline":989360,"cards-playing-spade-outline":989361,"cards-spade":985297,"cards-spade-outline":989362,"cards-variant":984775,"carrot":983311,"cart":983312,"cart-arrow-down":986470,"cart-arrow-right":986190,"cart-arrow-up":986471,"cart-check":988650,"cart-heart":989408,"cart-minus":986472,"cart-off":984683,"cart-outline":983313,"cart-plus":983314,"cart-remove":986473,"cart-variant":988651,"case-sensitive-alt":983315,"cash":983316,"cash-100":983317,"cash-check":988398,"cash-fast":989276,"cash-lock":988394,"cash-lock-open":988395,"cash-marker":986552,"cash-minus":987744,"cash-multiple":983318,"cash-plus":987745,"cash-refund":985756,"cash-register":986356,"cash-remove":987746,"cassette":985556,"cast":983320,"cast-audio":987166,"cast-audio-variant":989001,"cast-connected":983321,"cast-education":986653,"cast-off":984970,"cast-variant":983071,"castle":983322,"cat":983323,"cctv":985006,"cctv-off":989279,"ceiling-fan":989079,"ceiling-fan-light":989080,"ceiling-light":984937,"ceiling-light-multiple":989405,"ceiling-light-multiple-outline":989406,"ceiling-light-outline":989127,"cellphone":983324,"cellphone-arrow-down":985557,"cellphone-basic":983326,"cellphone-charging":988055,"cellphone-check":989181,"cellphone-cog":985425,"cellphone-dock":983327,"cellphone-information":986945,"cellphone-key":985422,"cellphone-link":983329,"cellphone-link-off":983330,"cellphone-lock":985423,"cellphone-marker":989242,"cellphone-message":985299,"cellphone-message-off":987346,"cellphone-nfc":986768,"cellphone-nfc-off":987864,"cellphone-off":985424,"cellphone-play":987167,"cellphone-remove":985421,"cellphone-screenshot":985653,"cellphone-settings":983331,"cellphone-sound":985426,"cellphone-text":985298,"cellphone-wireless":985109,"centos":987418,"certificate":983332,"certificate-outline":987528,"chair-rolling":986952,"chair-school":983333,"chandelier":989075,"charity":986191,"chart-arc":983334,"chart-areaspline":983335,"chart-areaspline-variant":986769,"chart-bar":983336,"chart-bar-stacked":984938,"chart-bell-curve":986192,"chart-bell-curve-cumulative":987047,"chart-box":988493,"chart-box-outline":988494,"chart-box-plus-outline":988495,"chart-bubble":984547,"chart-donut":985007,"chart-donut-variant":985008,"chart-gantt":984684,"chart-histogram":983337,"chart-line":983338,"chart-line-stacked":984939,"chart-line-variant":985009,"chart-multiline":985300,"chart-multiple":987667,"chart-pie":983339,"chart-ppf":988032,"chart-sankey":987615,"chart-sankey-variant":987616,"chart-scatter-plot":986770,"chart-scatter-plot-hexbin":984685,"chart-timeline":984686,"chart-timeline-variant":986771,"chart-timeline-variant-shimmer":988598,"chart-tree":986772,"chart-waterfall":989464,"chat":985977,"chat-alert":985978,"chat-alert-outline":987849,"chat-minus":988176,"chat-minus-outline":988179,"chat-outline":986846,"chat-plus":988175,"chat-plus-outline":988178,"chat-processing":985979,"chat-processing-outline":987850,"chat-question":988984,"chat-question-outline":988985,"chat-remove":988177,"chat-remove-outline":988180,"chat-sleep":987857,"chat-sleep-outline":987858,"check":983340,"check-all":983341,"check-bold":986654,"check-circle":984544,"check-circle-outline":984545,"check-decagram":984977,"check-decagram-outline":988992,"check-network":986195,"check-network-outline":986196,"check-outline":985173,"check-underline":986655,"check-underline-circle":986656,"check-underline-circle-outline":986657,"checkbook":985757,"checkbox-blank":983342,"checkbox-blank-badge":987510,"checkbox-blank-badge-outline":983319,"checkbox-blank-circle":983343,"checkbox-blank-circle-outline":983344,"checkbox-blank-off":987884,"checkbox-blank-off-outline":987885,"checkbox-blank-outline":983345,"checkbox-intermediate":985174,"checkbox-marked":983346,"checkbox-marked-circle":983347,"checkbox-marked-circle-outline":983348,"checkbox-marked-circle-plus-outline":989479,"checkbox-marked-outline":983349,"checkbox-multiple-blank":983350,"checkbox-multiple-blank-circle":984635,"checkbox-multiple-blank-circle-outline":984636,"checkbox-multiple-blank-outline":983351,"checkbox-multiple-marked":983352,"checkbox-multiple-marked-circle":984637,"checkbox-multiple-marked-circle-outline":984638,"checkbox-multiple-marked-outline":983353,"checkbox-multiple-outline":986193,"checkbox-outline":986194,"checkerboard":983354,"checkerboard-minus":987650,"checkerboard-plus":987649,"checkerboard-remove":987651,"cheese":987833,"cheese-off":988142,"chef-hat":985980,"chemical-weapon":983355,"chess-bishop":985180,"chess-king":985175,"chess-knight":985176,"chess-pawn":985177,"chess-queen":985178,"chess-rook":985179,"chevron-double-down":983356,"chevron-double-left":983357,"chevron-double-right":983358,"chevron-double-up":983359,"chevron-down":983360,"chevron-down-box":985558,"chevron-down-box-outline":985559,"chevron-down-circle":985894,"chevron-down-circle-outline":985895,"chevron-left":983361,"chevron-left-box":985560,"chevron-left-box-outline":985561,"chevron-left-circle":985896,"chevron-left-circle-outline":985897,"chevron-right":983362,"chevron-right-box":985562,"chevron-right-box-outline":985563,"chevron-right-circle":985898,"chevron-right-circle-outline":985899,"chevron-triple-down":986553,"chevron-triple-left":986554,"chevron-triple-right":986555,"chevron-triple-up":986556,"chevron-up":983363,"chevron-up-box":985564,"chevron-up-box-outline":985565,"chevron-up-circle":985900,"chevron-up-circle-outline":985901,"chili-alert":989162,"chili-alert-outline":989163,"chili-hot":985010,"chili-hot-outline":989164,"chili-medium":985011,"chili-medium-outline":989165,"chili-mild":985012,"chili-mild-outline":989166,"chili-off":988263,"chili-off-outline":989167,"chip":984602,"church":983364,"cigar":987529,"cigar-off":988187,"circle":984933,"circle-box":988636,"circle-box-outline":988637,"circle-double":986773,"circle-edit-outline":985301,"circle-expand":986774,"circle-half":988053,"circle-half-full":988054,"circle-medium":985566,"circle-multiple":985912,"circle-multiple-outline":984725,"circle-off-outline":987347,"circle-opacity":989267,"circle-outline":984934,"circle-slice-1":985758,"circle-slice-2":985759,"circle-slice-3":985760,"circle-slice-4":985761,"circle-slice-5":985762,"circle-slice-6":985763,"circle-slice-7":985764,"circle-slice-8":985765,"circle-small":985567,"circular-saw":986658,"city":983366,"city-variant":985654,"city-variant-outline":985655,"clipboard":983367,"clipboard-account":983368,"clipboard-account-outline":986197,"clipboard-alert":983369,"clipboard-alert-outline":986359,"clipboard-arrow-down":983370,"clipboard-arrow-down-outline":986198,"clipboard-arrow-left":983371,"clipboard-arrow-left-outline":986360,"clipboard-arrow-right":986361,"clipboard-arrow-right-outline":986362,"clipboard-arrow-up":986199,"clipboard-arrow-up-outline":986200,"clipboard-check":983374,"clipboard-check-multiple":987747,"clipboard-check-multiple-outline":987748,"clipboard-check-outline":985256,"clipboard-clock":988898,"clipboard-clock-outline":988899,"clipboard-edit":988389,"clipboard-edit-outline":988390,"clipboard-file":987749,"clipboard-file-outline":987750,"clipboard-flow":984776,"clipboard-flow-outline":987415,"clipboard-list":987348,"clipboard-list-outline":987349,"clipboard-minus":988696,"clipboard-minus-outline":988697,"clipboard-multiple":987751,"clipboard-multiple-outline":987752,"clipboard-off":988698,"clipboard-off-outline":988699,"clipboard-outline":983372,"clipboard-play":986201,"clipboard-play-multiple":987753,"clipboard-play-multiple-outline":987754,"clipboard-play-outline":986202,"clipboard-plus":984913,"clipboard-plus-outline":987935,"clipboard-pulse":985181,"clipboard-pulse-outline":985182,"clipboard-remove":988700,"clipboard-remove-outline":988701,"clipboard-search":988702,"clipboard-search-outline":988703,"clipboard-text":983373,"clipboard-text-clock":989433,"clipboard-text-clock-outline":989434,"clipboard-text-multiple":987755,"clipboard-text-multiple-outline":987756,"clipboard-text-off":988704,"clipboard-text-off-outline":988705,"clipboard-text-outline":985656,"clipboard-text-play":986203,"clipboard-text-play-outline":986204,"clipboard-text-search":988706,"clipboard-text-search-outline":988707,"clippy":983375,"clock":985428,"clock-alert":985429,"clock-alert-outline":984526,"clock-check":987048,"clock-check-outline":987049,"clock-digital":986775,"clock-edit":989626,"clock-edit-outline":989627,"clock-end":983377,"clock-fast":983378,"clock-in":983379,"clock-minus":989283,"clock-minus-outline":989284,"clock-out":983380,"clock-outline":983376,"clock-plus":989281,"clock-plus-outline":989282,"clock-remove":989285,"clock-remove-outline":989286,"clock-start":983381,"clock-time-eight":988230,"clock-time-eight-outline":988242,"clock-time-eleven":988233,"clock-time-eleven-outline":988245,"clock-time-five":988227,"clock-time-five-outline":988239,"clock-time-four":988226,"clock-time-four-outline":988238,"clock-time-nine":988231,"clock-time-nine-outline":988243,"clock-time-one":988223,"clock-time-one-outline":988235,"clock-time-seven":988229,"clock-time-seven-outline":988241,"clock-time-six":988228,"clock-time-six-outline":988240,"clock-time-ten":988232,"clock-time-ten-outline":988244,"clock-time-three":988225,"clock-time-three-outline":988237,"clock-time-twelve":988234,"clock-time-twelve-outline":988246,"clock-time-two":988224,"clock-time-two-outline":988236,"close":983382,"close-box":983383,"close-box-multiple":986205,"close-box-multiple-outline":986206,"close-box-outline":983384,"close-circle":983385,"close-circle-multiple":984618,"close-circle-multiple-outline":985219,"close-circle-outline":983386,"close-network":983387,"close-network-outline":986207,"close-octagon":983388,"close-octagon-outline":983389,"close-outline":984777,"close-thick":988056,"closed-caption":983390,"closed-caption-outline":986557,"cloud":983391,"cloud-alert":985568,"cloud-braces":985013,"cloud-check":983392,"cloud-check-outline":987852,"cloud-circle":983393,"cloud-download":983394,"cloud-download-outline":985981,"cloud-lock":987633,"cloud-lock-outline":987634,"cloud-off-outline":983396,"cloud-outline":983395,"cloud-print":983397,"cloud-print-outline":983398,"cloud-question":985657,"cloud-refresh":984362,"cloud-search":985430,"cloud-search-outline":985431,"cloud-sync":984639,"cloud-sync-outline":987862,"cloud-tags":985014,"cloud-upload":983399,"cloud-upload-outline":985982,"clover":985110,"coach-lamp":987168,"coat-rack":987294,"code-array":983400,"code-braces":983401,"code-braces-box":987350,"code-brackets":983402,"code-equal":983403,"code-greater-than":983404,"code-greater-than-or-equal":983405,"code-json":984614,"code-less-than":983406,"code-less-than-or-equal":983407,"code-not-equal":983408,"code-not-equal-variant":983409,"code-parentheses":983410,"code-parentheses-box":987351,"code-string":983411,"code-tags":983412,"code-tags-check":984724,"codepen":983413,"coffee":983414,"coffee-maker":987295,"coffee-maker-check":989489,"coffee-maker-check-outline":989490,"coffee-maker-outline":989211,"coffee-off":987050,"coffee-off-outline":987051,"coffee-outline":984778,"coffee-to-go":983415,"coffee-to-go-outline":987918,"coffin":985983,"cog":984211,"cog-box":984212,"cog-clockwise":987613,"cog-counterclockwise":987614,"cog-off":988110,"cog-off-outline":988111,"cog-outline":985275,"cog-pause":989491,"cog-pause-outline":989492,"cog-play":989493,"cog-play-outline":989494,"cog-refresh":988254,"cog-refresh-outline":988255,"cog-stop":989495,"cog-stop-outline":989496,"cog-sync":988256,"cog-sync-outline":988257,"cog-transfer":987227,"cog-transfer-outline":987228,"cogs":985302,"collage":984640,"collapse-all":985766,"collapse-all-outline":985767,"color-helper":983417,"comma":986659,"comma-box":986667,"comma-box-outline":986660,"comma-circle":986661,"comma-circle-outline":986662,"comment":983418,"comment-account":983419,"comment-account-outline":983420,"comment-alert":983421,"comment-alert-outline":983422,"comment-arrow-left":985569,"comment-arrow-left-outline":985570,"comment-arrow-right":985571,"comment-arrow-right-outline":985572,"comment-bookmark":988590,"comment-bookmark-outline":988591,"comment-check":983423,"comment-check-outline":983424,"comment-edit":987583,"comment-edit-outline":987844,"comment-eye":985658,"comment-eye-outline":985659,"comment-flash":988592,"comment-flash-outline":988593,"comment-minus":988639,"comment-minus-outline":988640,"comment-multiple":985183,"comment-multiple-outline":983425,"comment-off":988641,"comment-off-outline":988642,"comment-outline":983426,"comment-plus":985573,"comment-plus-outline":983427,"comment-processing":983428,"comment-processing-outline":983429,"comment-question":985111,"comment-question-outline":983430,"comment-quote":987169,"comment-quote-outline":987170,"comment-remove":984542,"comment-remove-outline":983431,"comment-search":985660,"comment-search-outline":985661,"comment-text":983432,"comment-text-multiple":985184,"comment-text-multiple-outline":985185,"comment-text-outline":983433,"compare":983434,"compare-horizontal":988306,"compare-remove":989363,"compare-vertical":988307,"compass":983435,"compass-off":985984,"compass-off-outline":985985,"compass-outline":983436,"compass-rose":988034,"cone":989516,"cone-off":989517,"connection":988694,"console":983437,"console-line":985015,"console-network":985257,"console-network-outline":986208,"consolidate":987352,"contactless-payment":986474,"contactless-payment-circle":983841,"contactless-payment-circle-outline":984072,"contacts":984779,"contacts-outline":984504,"contain":985662,"contain-end":985663,"contain-start":985664,"content-copy":983439,"content-cut":983440,"content-duplicate":983441,"content-paste":983442,"content-save":983443,"content-save-alert":986946,"content-save-alert-outline":986947,"content-save-all":983444,"content-save-all-outline":986948,"content-save-check":989418,"content-save-check-outline":989419,"content-save-cog":988251,"content-save-cog-outline":988252,"content-save-edit":986363,"content-save-edit-outline":986364,"content-save-move":986663,"content-save-move-outline":986664,"content-save-off":988739,"content-save-off-outline":988740,"content-save-outline":985112,"content-save-settings":984603,"content-save-settings-outline":985902,"contrast":983445,"contrast-box":983446,"contrast-circle":983447,"controller-classic":985986,"controller-classic-outline":985987,"cookie":983448,"cookie-alert":988880,"cookie-alert-outline":988881,"cookie-check":988882,"cookie-check-outline":988883,"cookie-clock":988900,"cookie-clock-outline":988901,"cookie-cog":988884,"cookie-cog-outline":988885,"cookie-edit":988902,"cookie-edit-outline":988903,"cookie-lock":988904,"cookie-lock-outline":988905,"cookie-minus":988890,"cookie-minus-outline":988891,"cookie-off":988906,"cookie-off-outline":988907,"cookie-outline":988894,"cookie-plus":988886,"cookie-plus-outline":988887,"cookie-refresh":988908,"cookie-refresh-outline":988909,"cookie-remove":988888,"cookie-remove-outline":988889,"cookie-settings":988892,"cookie-settings-outline":988893,"coolant-temperature":984008,"copyleft":989497,"copyright":984550,"cordova":985432,"corn":985016,"corn-off":988143,"cosine-wave":988281,"counter":983449,"countertop":989212,"countertop-outline":989213,"cow":983450,"cow-off":989436,"cpu-32-bit":986847,"cpu-64-bit":986848,"cradle":989579,"cradle-outline":989585,"crane":985186,"creation":984692,"creative-commons":986475,"credit-card":987119,"credit-card-check":988112,"credit-card-check-outline":988113,"credit-card-chip":989455,"credit-card-chip-outline":989456,"credit-card-clock":986849,"credit-card-clock-outline":986850,"credit-card-edit":989143,"credit-card-edit-outline":989144,"credit-card-fast":989457,"credit-card-fast-outline":989458,"credit-card-lock":989415,"credit-card-lock-outline":989416,"credit-card-marker":984744,"credit-card-marker-outline":986558,"credit-card-minus":987052,"credit-card-minus-outline":987053,"credit-card-multiple":987120,"credit-card-multiple-outline":983452,"credit-card-off":987121,"credit-card-off-outline":984548,"credit-card-outline":983451,"credit-card-plus":987122,"credit-card-plus-outline":984694,"credit-card-refresh":988741,"credit-card-refresh-outline":988742,"credit-card-refund":987123,"credit-card-refund-outline":985768,"credit-card-remove":987054,"credit-card-remove-outline":987055,"credit-card-scan":987124,"credit-card-scan-outline":983453,"credit-card-search":988743,"credit-card-search-outline":988744,"credit-card-settings":987125,"credit-card-settings-outline":985303,"credit-card-sync":988745,"credit-card-sync-outline":988746,"credit-card-wireless":985090,"credit-card-wireless-off":984442,"credit-card-wireless-off-outline":984443,"credit-card-wireless-outline":986476,"cricket":986477,"crop":983454,"crop-free":983455,"crop-landscape":983456,"crop-portrait":983457,"crop-rotate":984726,"crop-square":983458,"cross":985427,"cross-bolnisi":986349,"cross-celtic":986357,"cross-outline":986358,"crosshairs":983459,"crosshairs-gps":983460,"crosshairs-off":986949,"crosshairs-question":987446,"crowd":989557,"crown":983461,"crown-circle":989148,"crown-circle-outline":989149,"crown-outline":987600,"cryengine":985433,"crystal-ball":985903,"cube":983462,"cube-off":988188,"cube-off-outline":988189,"cube-outline":983463,"cube-scan":985988,"cube-send":983464,"cube-unfolded":983465,"cup":983466,"cup-off":984549,"cup-off-outline":988029,"cup-outline":987919,"cup-water":983467,"cupboard":986950,"cupboard-outline":986951,"cupcake":985434,"curling":985187,"currency-bdt":985188,"currency-brl":985989,"currency-btc":983468,"currency-cny":985018,"currency-eth":985019,"currency-eur":983469,"currency-eur-off":987925,"currency-gbp":983470,"currency-ils":986209,"currency-inr":983471,"currency-jpy":985020,"currency-krw":985021,"currency-kzt":985189,"currency-mnt":988434,"currency-ngn":983472,"currency-php":985574,"currency-rial":986780,"currency-rub":983473,"currency-rupee":989558,"currency-sign":985022,"currency-try":983474,"currency-twd":985023,"currency-usd":983489,"currency-usd-off":984698,"current-ac":988288,"current-dc":985436,"cursor-default":983488,"cursor-default-click":986365,"cursor-default-click-outline":986366,"cursor-default-gesture":987431,"cursor-default-gesture-outline":987432,"cursor-default-outline":983487,"cursor-move":983486,"cursor-pointer":983485,"cursor-text":984551,"curtains":989254,"curtains-closed":989255,"cylinder":989518,"cylinder-off":989519,"dance-ballroom":988667,"dance-pole":988536,"data-matrix":988476,"data-matrix-edit":988477,"data-matrix-minus":988478,"data-matrix-plus":988479,"data-matrix-remove":988480,"data-matrix-scan":988481,"database":983484,"database-alert":988730,"database-alert-outline":988708,"database-arrow-down":988731,"database-arrow-down-outline":988709,"database-arrow-left":988732,"database-arrow-left-outline":988710,"database-arrow-right":988733,"database-arrow-right-outline":988711,"database-arrow-up":988734,"database-arrow-up-outline":988712,"database-check":985769,"database-check-outline":988713,"database-clock":988735,"database-clock-outline":988714,"database-cog":988747,"database-cog-outline":988748,"database-edit":985990,"database-edit-outline":988715,"database-export":985438,"database-export-outline":988716,"database-eye":989471,"database-eye-off":989472,"database-eye-off-outline":989473,"database-eye-outline":989474,"database-import":985437,"database-import-outline":988717,"database-lock":985770,"database-lock-outline":988718,"database-marker":987894,"database-marker-outline":988719,"database-minus":983483,"database-minus-outline":988720,"database-off":988736,"database-off-outline":988721,"database-outline":988722,"database-plus":983482,"database-plus-outline":988723,"database-refresh":984514,"database-refresh-outline":988724,"database-remove":986368,"database-remove-outline":988725,"database-search":985190,"database-search-outline":988726,"database-settings":986369,"database-settings-outline":988727,"database-sync":986367,"database-sync-outline":988728,"death-star":985304,"death-star-variant":985305,"deathly-hallows":985991,"debian":985306,"debug-step-into":983481,"debug-step-out":983480,"debug-step-over":983479,"decagram":984940,"decagram-outline":984941,"decimal":987297,"decimal-comma":987298,"decimal-comma-decrease":987299,"decimal-comma-increase":987300,"decimal-decrease":983478,"decimal-increase":983477,"delete":983476,"delete-alert":987301,"delete-alert-outline":987302,"delete-circle":984707,"delete-circle-outline":985992,"delete-clock":988502,"delete-clock-outline":988503,"delete-empty":984780,"delete-empty-outline":986781,"delete-forever":984552,"delete-forever-outline":985993,"delete-off":987303,"delete-off-outline":987304,"delete-outline":985575,"delete-restore":985113,"delete-sweep":984553,"delete-sweep-outline":986210,"delete-variant":983475,"delta":983490,"desk":987705,"desk-lamp":985439,"deskphone":983491,"desktop-classic":985024,"desktop-mac":983492,"desktop-mac-dashboard":985576,"desktop-tower":983493,"desktop-tower-monitor":985771,"details":983494,"dev-to":986478,"developer-board":984727,"deviantart":983495,"devices":987056,"dharmachakra":985419,"diabetes":987430,"dialpad":984604,"diameter":986211,"diameter-outline":986212,"diameter-variant":986213,"diamond":985994,"diamond-outline":985995,"diamond-stone":983496,"dice-1":983498,"dice-1-outline":987466,"dice-2":983499,"dice-2-outline":987467,"dice-3":983500,"dice-3-outline":987468,"dice-4":983501,"dice-4-outline":987469,"dice-5":983502,"dice-5-outline":987470,"dice-6":983503,"dice-6-outline":987471,"dice-d10":987475,"dice-d10-outline":984943,"dice-d12":987476,"dice-d12-outline":985191,"dice-d20":987477,"dice-d20-outline":984554,"dice-d4":987472,"dice-d4-outline":984555,"dice-d6":987473,"dice-d6-outline":984557,"dice-d8":987474,"dice-d8-outline":984556,"dice-multiple":984942,"dice-multiple-outline":987478,"digital-ocean":987703,"dip-switch":985025,"directions":983504,"directions-fork":984641,"disc":984558,"disc-alert":983505,"disc-player":985440,"discord":984687,"dishwasher":985772,"dishwasher-alert":987576,"dishwasher-off":987577,"disqus":983506,"distribute-horizontal-center":987593,"distribute-horizontal-left":987592,"distribute-horizontal-right":987594,"distribute-vertical-bottom":987595,"distribute-vertical-center":987596,"distribute-vertical-top":987597,"diversify":989303,"diving":989559,"diving-flippers":986559,"diving-helmet":986560,"diving-scuba":986561,"diving-scuba-flag":986562,"diving-scuba-tank":986563,"diving-scuba-tank-multiple":986564,"diving-snorkel":986565,"division":983508,"division-box":983509,"dlna":985665,"dna":984708,"dns":983510,"dns-outline":985996,"dock-bottom":987305,"dock-left":987306,"dock-right":987307,"dock-top":988435,"dock-window":987308,"docker":985192,"doctor":985666,"dog":985667,"dog-service":985773,"dog-side":985668,"dog-side-off":988910,"dolby":984755,"dolly":986782,"dolphin":989364,"domain":983511,"domain-off":986479,"domain-plus":987309,"domain-remove":987310,"dome-light":988190,"domino-mask":987171,"donkey":985026,"door":985114,"door-closed":985115,"door-closed-lock":987311,"door-open":985116,"door-sliding":989214,"door-sliding-lock":989215,"door-sliding-open":989216,"doorbell":987878,"doorbell-video":985193,"dot-net":985774,"dots-circle":989560,"dots-grid":988668,"dots-hexagon":988671,"dots-horizontal":983512,"dots-horizontal-circle":985027,"dots-horizontal-circle-outline":985997,"dots-square":988669,"dots-triangle":988670,"dots-vertical":983513,"dots-vertical-circle":985028,"dots-vertical-circle-outline":985998,"download":983514,"download-box":988258,"download-box-outline":988259,"download-circle":988260,"download-circle-outline":988261,"download-lock":987936,"download-lock-outline":987937,"download-multiple":985577,"download-network":984820,"download-network-outline":986214,"download-off":987312,"download-off-outline":987313,"download-outline":985999,"drag":983515,"drag-horizontal":983516,"drag-horizontal-variant":987888,"drag-variant":986000,"drag-vertical":983517,"drag-vertical-variant":987889,"drama-masks":986370,"draw":986953,"draw-pen":989625,"drawing":983518,"drawing-box":983519,"dresser":986954,"dresser-outline":986955,"drone":983522,"dropbox":983523,"drupal":983524,"duck":983525,"dumbbell":983526,"dump-truck":986215,"ear-hearing":985029,"ear-hearing-off":985669,"earbuds":989263,"earbuds-off":989264,"earbuds-off-outline":989265,"earbuds-outline":989266,"earth":983527,"earth-arrow-right":987921,"earth-box":984781,"earth-box-minus":988167,"earth-box-off":984782,"earth-box-plus":988166,"earth-box-remove":988168,"earth-minus":988164,"earth-off":983528,"earth-plus":988163,"earth-remove":988165,"egg":985775,"egg-easter":985776,"egg-fried":989258,"egg-off":988144,"egg-off-outline":988145,"egg-outline":988146,"eiffel-tower":988523,"eight-track":985578,"eject":983530,"eject-outline":986001,"electric-switch":986783,"electric-switch-closed":987353,"electron-framework":987172,"elephant":985030,"elevation-decline":983531,"elevation-rise":983532,"elevator":983533,"elevator-down":987842,"elevator-passenger":988033,"elevator-passenger-off":989561,"elevator-passenger-off-outline":989562,"elevator-passenger-outline":989563,"elevator-up":987841,"ellipse":986784,"ellipse-outline":986785,"email":983534,"email-alert":984783,"email-alert-outline":986434,"email-box":986371,"email-check":985777,"email-check-outline":985778,"email-edit":986851,"email-edit-outline":986852,"email-fast":989295,"email-fast-outline":989296,"email-lock":983537,"email-mark-as-unread":986002,"email-minus":986853,"email-minus-outline":986854,"email-multiple":986855,"email-multiple-outline":986856,"email-newsletter":987057,"email-off":988131,"email-off-outline":988132,"email-open":983535,"email-open-multiple":986857,"email-open-multiple-outline":986858,"email-open-outline":984559,"email-outline":983536,"email-plus":985579,"email-plus-outline":985580,"email-receive":987354,"email-receive-outline":987355,"email-remove":988769,"email-remove-outline":988770,"email-seal":989531,"email-seal-outline":989532,"email-search":985441,"email-search-outline":985442,"email-send":987356,"email-send-outline":987357,"email-sync":987847,"email-sync-outline":987848,"email-variant":984560,"ember":985904,"emby":984756,"emoticon":986216,"emoticon-angry":986217,"emoticon-angry-outline":986218,"emoticon-confused":987358,"emoticon-confused-outline":987359,"emoticon-cool":986219,"emoticon-cool-outline":983539,"emoticon-cry":986220,"emoticon-cry-outline":986221,"emoticon-dead":986222,"emoticon-dead-outline":984731,"emoticon-devil":986223,"emoticon-devil-outline":983540,"emoticon-excited":986224,"emoticon-excited-outline":984732,"emoticon-frown":986956,"emoticon-frown-outline":986957,"emoticon-happy":986225,"emoticon-happy-outline":983541,"emoticon-kiss":986226,"emoticon-kiss-outline":986227,"emoticon-lol":987668,"emoticon-lol-outline":987669,"emoticon-neutral":986228,"emoticon-neutral-outline":983542,"emoticon-outline":983538,"emoticon-poop":983543,"emoticon-poop-outline":986229,"emoticon-sad":986230,"emoticon-sad-outline":983544,"emoticon-sick":988540,"emoticon-sick-outline":988541,"emoticon-tongue":983545,"emoticon-tongue-outline":986231,"emoticon-wink":986232,"emoticon-wink-outline":986233,"engine":983546,"engine-off":985670,"engine-off-outline":985671,"engine-outline":983547,"epsilon":987360,"equal":983548,"equal-box":983549,"equalizer":986786,"equalizer-outline":986787,"eraser":983550,"eraser-variant":984642,"escalator":983551,"escalator-box":988057,"escalator-down":987840,"escalator-up":987839,"eslint":986234,"et":985779,"ethereum":985194,"ethernet":983552,"ethernet-cable":983553,"ethernet-cable-off":983554,"ev-plug-ccs1":988441,"ev-plug-ccs2":988442,"ev-plug-chademo":988443,"ev-plug-tesla":988444,"ev-plug-type1":988445,"ev-plug-type2":988446,"ev-station":984561,"evernote":983556,"excavator":987173,"exclamation":983557,"exclamation-thick":987704,"exit-run":985672,"exit-to-app":983558,"expand-all":985780,"expand-all-outline":985781,"expansion-card":985262,"expansion-card-variant":987058,"exponent":985443,"exponent-box":985444,"export":983559,"export-variant":986003,"eye":983560,"eye-arrow-left":989437,"eye-arrow-left-outline":989438,"eye-arrow-right":989439,"eye-arrow-right-outline":989440,"eye-check":986372,"eye-check-outline":986373,"eye-circle":986004,"eye-circle-outline":986005,"eye-minus":987174,"eye-minus-outline":987175,"eye-off":983561,"eye-off-outline":984785,"eye-outline":984784,"eye-plus":985195,"eye-plus-outline":985196,"eye-refresh":989564,"eye-refresh-outline":989565,"eye-remove":988643,"eye-remove-outline":988644,"eye-settings":985197,"eye-settings-outline":985198,"eyedropper":983562,"eyedropper-minus":988125,"eyedropper-off":988127,"eyedropper-plus":988124,"eyedropper-remove":988126,"eyedropper-variant":983563,"face-agent":986480,"face-man":984643,"face-man-outline":986006,"face-man-profile":984644,"face-man-shimmer":988620,"face-man-shimmer-outline":988621,"face-mask":988550,"face-mask-outline":988551,"face-recognition":986235,"face-woman":987255,"face-woman-outline":987256,"face-woman-profile":987254,"face-woman-shimmer":988622,"face-woman-shimmer-outline":988623,"facebook":983564,"facebook-gaming":985053,"facebook-messenger":983566,"facebook-workplace":985905,"factory":983567,"family-tree":988686,"fan":983568,"fan-alert":988268,"fan-auto":988957,"fan-chevron-down":988269,"fan-chevron-up":988270,"fan-minus":988272,"fan-off":985117,"fan-plus":988271,"fan-remove":988273,"fan-speed-1":988274,"fan-speed-2":988275,"fan-speed-3":988276,"fast-forward":983569,"fast-forward-10":986481,"fast-forward-15":989498,"fast-forward-30":986374,"fast-forward-5":987640,"fast-forward-60":988683,"fast-forward-outline":984786,"fax":983570,"feather":984787,"feature-search":985673,"feature-search-outline":985674,"fedora":985307,"fence":989082,"fence-electric":989174,"fencing":988353,"ferris-wheel":986788,"ferry":983571,"file":983572,"file-account":984891,"file-account-outline":987176,"file-alert":985675,"file-alert-outline":985676,"file-cabinet":985782,"file-cad":986859,"file-cad-box":986860,"file-cancel":986566,"file-cancel-outline":986567,"file-certificate":987526,"file-certificate-outline":987527,"file-chart":983573,"file-chart-outline":987177,"file-check":983574,"file-check-outline":986665,"file-clock":987873,"file-clock-outline":987874,"file-cloud":983575,"file-cloud-outline":987178,"file-code":983598,"file-code-outline":987179,"file-cog":987259,"file-cog-outline":987260,"file-compare":985258,"file-delimited":983576,"file-delimited-outline":986789,"file-document":983577,"file-document-edit":986568,"file-document-edit-outline":986569,"file-document-multiple":988439,"file-document-multiple-outline":988440,"file-document-outline":985582,"file-download":985445,"file-download-outline":985446,"file-edit":987623,"file-edit-outline":987624,"file-excel":983579,"file-excel-box":983580,"file-excel-box-outline":987180,"file-excel-outline":987181,"file-export":983581,"file-export-outline":987182,"file-eye":986570,"file-eye-outline":986571,"file-find":983582,"file-find-outline":986007,"file-gif-box":986488,"file-hidden":984595,"file-image":983583,"file-image-marker":989042,"file-image-marker-outline":989043,"file-image-minus":989499,"file-image-minus-outline":989500,"file-image-outline":986800,"file-image-plus":989501,"file-image-plus-outline":989502,"file-image-remove":989503,"file-image-remove-outline":989504,"file-import":983584,"file-import-outline":987183,"file-jpg-box":983589,"file-key":987524,"file-key-outline":987525,"file-link":987511,"file-link-outline":987512,"file-lock":983585,"file-lock-outline":987184,"file-marker":989044,"file-marker-outline":989045,"file-move":985785,"file-move-outline":987185,"file-multiple":983586,"file-multiple-outline":987186,"file-music":983587,"file-music-outline":986666,"file-outline":983588,"file-pdf-box":983590,"file-percent":985118,"file-percent-outline":987187,"file-phone":987513,"file-phone-outline":987514,"file-plus":984914,"file-plus-outline":986861,"file-png-box":986669,"file-powerpoint":983591,"file-powerpoint-box":983592,"file-powerpoint-box-outline":987188,"file-powerpoint-outline":987189,"file-presentation-box":983593,"file-question":985199,"file-question-outline":987190,"file-refresh":985368,"file-refresh-outline":984385,"file-remove":986008,"file-remove-outline":987191,"file-replace":985906,"file-replace-outline":985907,"file-restore":984688,"file-restore-outline":987192,"file-search":986236,"file-search-outline":986237,"file-send":983594,"file-send-outline":987193,"file-settings":987257,"file-settings-outline":987258,"file-sign":989635,"file-star":987194,"file-star-outline":987195,"file-swap":987060,"file-swap-outline":987061,"file-sync":987670,"file-sync-outline":987671,"file-table":986238,"file-table-box":987361,"file-table-box-multiple":987362,"file-table-box-multiple-outline":987363,"file-table-box-outline":987364,"file-table-outline":986239,"file-tree":984645,"file-tree-outline":988114,"file-undo":985308,"file-undo-outline":987196,"file-upload":985677,"file-upload-outline":985678,"file-video":983595,"file-video-outline":986668,"file-word":983596,"file-word-box":983597,"file-word-box-outline":987197,"file-word-outline":987198,"film":983599,"filmstrip":983600,"filmstrip-box":983858,"filmstrip-box-multiple":986392,"filmstrip-off":983601,"filter":983602,"filter-check":989420,"filter-check-outline":989421,"filter-menu":987365,"filter-menu-outline":987366,"filter-minus":986862,"filter-minus-outline":986863,"filter-off":988399,"filter-off-outline":988400,"filter-outline":983603,"filter-plus":986864,"filter-plus-outline":986865,"filter-remove":983604,"filter-remove-outline":983605,"filter-variant":983606,"filter-variant-minus":987410,"filter-variant-plus":987411,"filter-variant-remove":987199,"finance":985119,"find-replace":984788,"fingerprint":983607,"fingerprint-off":986801,"fire":983608,"fire-alert":988631,"fire-circle":989191,"fire-extinguisher":986866,"fire-hydrant":987447,"fire-hydrant-alert":987448,"fire-hydrant-off":987449,"fire-off":988962,"fire-truck":985259,"firebase":985447,"firefox":983609,"fireplace":986670,"fireplace-off":986671,"firewire":984510,"firework":986672,"firework-off":988963,"fish":983610,"fish-off":988147,"fishbowl":986867,"fishbowl-outline":986868,"fit-to-page":986869,"fit-to-page-outline":986870,"fit-to-screen":989428,"fit-to-screen-outline":989429,"flag":983611,"flag-checkered":983612,"flag-minus":986009,"flag-minus-outline":987314,"flag-off":989422,"flag-off-outline":989423,"flag-outline":983613,"flag-plus":986010,"flag-plus-outline":987315,"flag-remove":986011,"flag-remove-outline":987316,"flag-triangle":983615,"flag-variant":983616,"flag-variant-outline":983614,"flare":986482,"flash":983617,"flash-alert":986871,"flash-alert-outline":986872,"flash-auto":983618,"flash-off":983619,"flash-outline":984789,"flash-red-eye":984699,"flashlight":983620,"flashlight-off":983621,"flask":983187,"flask-empty":983188,"flask-empty-minus":987706,"flask-empty-minus-outline":987707,"flask-empty-off":988148,"flask-empty-off-outline":988149,"flask-empty-outline":983189,"flask-empty-plus":987708,"flask-empty-plus-outline":987709,"flask-empty-remove":987710,"flask-empty-remove-outline":987711,"flask-minus":987712,"flask-minus-outline":987713,"flask-off":988150,"flask-off-outline":988151,"flask-outline":983190,"flask-plus":987714,"flask-plus-outline":987715,"flask-remove":987716,"flask-remove-outline":987717,"flask-round-bottom":987723,"flask-round-bottom-empty":987724,"flask-round-bottom-empty-outline":987725,"flask-round-bottom-outline":987726,"fleur-de-lis":987907,"flip-horizontal":987367,"flip-to-back":983623,"flip-to-front":983624,"flip-vertical":987368,"floor-lamp":985309,"floor-lamp-dual":987200,"floor-lamp-dual-outline":989134,"floor-lamp-outline":989128,"floor-lamp-torchiere":988999,"floor-lamp-torchiere-outline":989142,"floor-lamp-torchiere-variant":987201,"floor-lamp-torchiere-variant-outline":989135,"floor-plan":985121,"floppy":983625,"floppy-variant":985583,"flower":983626,"flower-outline":985584,"flower-pollen":989317,"flower-pollen-outline":989318,"flower-poppy":986376,"flower-tulip":985585,"flower-tulip-outline":985586,"focus-auto":986958,"focus-field":986959,"focus-field-horizontal":986960,"focus-field-vertical":986961,"folder":983627,"folder-account":983628,"folder-account-outline":986012,"folder-alert":986572,"folder-alert-outline":986573,"folder-check":989566,"folder-check-outline":989567,"folder-clock":985786,"folder-clock-outline":985787,"folder-cog":987263,"folder-cog-outline":987264,"folder-download":983629,"folder-download-outline":987369,"folder-edit":985310,"folder-edit-outline":986574,"folder-eye":989066,"folder-eye-outline":989067,"folder-google-drive":983630,"folder-heart":987370,"folder-heart-outline":987371,"folder-hidden":989086,"folder-home":987317,"folder-home-outline":987318,"folder-image":983631,"folder-information":987319,"folder-information-outline":987320,"folder-key":985260,"folder-key-network":985261,"folder-key-network-outline":986240,"folder-key-outline":987372,"folder-lock":983632,"folder-lock-open":983633,"folder-marker":987757,"folder-marker-outline":987758,"folder-move":983634,"folder-move-outline":987718,"folder-multiple":983635,"folder-multiple-image":983636,"folder-multiple-outline":983637,"folder-multiple-plus":988286,"folder-multiple-plus-outline":988287,"folder-music":987993,"folder-music-outline":987994,"folder-network":985200,"folder-network-outline":986241,"folder-open":984944,"folder-open-outline":986575,"folder-outline":983638,"folder-plus":983639,"folder-plus-outline":986013,"folder-pound":986377,"folder-pound-outline":986378,"folder-refresh":984905,"folder-refresh-outline":984386,"folder-remove":983640,"folder-remove-outline":986014,"folder-search":985448,"folder-search-outline":985449,"folder-settings":987261,"folder-settings-outline":987262,"folder-star":984733,"folder-star-multiple":988115,"folder-star-multiple-outline":988116,"folder-star-outline":986015,"folder-swap":987062,"folder-swap-outline":987063,"folder-sync":986379,"folder-sync-outline":986380,"folder-table":987875,"folder-table-outline":987876,"folder-text":986242,"folder-text-outline":986243,"folder-upload":983641,"folder-upload-outline":987373,"folder-zip":984811,"folder-zip-outline":985017,"font-awesome":983098,"food":983642,"food-apple":983643,"food-apple-outline":986244,"food-croissant":985032,"food-drumstick":988191,"food-drumstick-off":988264,"food-drumstick-off-outline":988265,"food-drumstick-outline":988192,"food-fork-drink":984562,"food-halal":988530,"food-hot-dog":989259,"food-kosher":988531,"food-off":984563,"food-off-outline":989461,"food-outline":989462,"food-steak":988266,"food-steak-off":988267,"food-takeout-box":989238,"food-takeout-box-outline":989239,"food-turkey":988956,"food-variant":983644,"food-variant-off":988133,"foot-print":986962,"football":983645,"football-australian":983646,"football-helmet":983647,"forest":989335,"forklift":985033,"form-dropdown":988160,"form-select":988161,"form-textarea":987285,"form-textbox":984590,"form-textbox-lock":987997,"form-textbox-password":985077,"format-align-bottom":984915,"format-align-center":983648,"format-align-justify":983649,"format-align-left":983650,"format-align-middle":984916,"format-align-right":983651,"format-align-top":984917,"format-annotation-minus":985788,"format-annotation-plus":984646,"format-bold":983652,"format-clear":983653,"format-color-fill":983654,"format-color-highlight":986673,"format-color-marker-cancel":987923,"format-color-text":984734,"format-columns":985311,"format-float-center":983655,"format-float-left":983656,"format-float-none":983657,"format-float-right":983658,"format-font":984790,"format-font-size-decrease":985587,"format-font-size-increase":985588,"format-header-1":983659,"format-header-2":983660,"format-header-3":983661,"format-header-4":983662,"format-header-5":983663,"format-header-6":983664,"format-header-decrease":983665,"format-header-equal":983666,"format-header-increase":983667,"format-header-pound":983668,"format-horizontal-align-center":984606,"format-horizontal-align-left":984607,"format-horizontal-align-right":984608,"format-indent-decrease":983669,"format-indent-increase":983670,"format-italic":983671,"format-letter-case":985908,"format-letter-case-lower":985909,"format-letter-case-upper":985910,"format-letter-ends-with":987064,"format-letter-matches":987065,"format-letter-spacing":989526,"format-letter-starts-with":987066,"format-line-spacing":983672,"format-line-style":984520,"format-line-weight":984521,"format-list-bulleted":983673,"format-list-bulleted-square":986576,"format-list-bulleted-triangle":986802,"format-list-bulleted-type":983674,"format-list-checkbox":985450,"format-list-checks":984918,"format-list-group":989280,"format-list-numbered":983675,"format-list-numbered-rtl":986381,"format-list-text":987759,"format-overline":986803,"format-page-break":984791,"format-page-split":989463,"format-paint":983676,"format-paragraph":983677,"format-pilcrow":984792,"format-quote-close":983678,"format-quote-close-outline":987560,"format-quote-open":984919,"format-quote-open-outline":987559,"format-rotate-90":984746,"format-section":984735,"format-size":983679,"format-strikethrough":983680,"format-strikethrough-variant":983681,"format-subscript":983682,"format-superscript":983683,"format-text":983684,"format-text-rotation-angle-down":987067,"format-text-rotation-angle-up":987068,"format-text-rotation-down":986483,"format-text-rotation-down-vertical":987069,"format-text-rotation-none":986484,"format-text-rotation-up":987070,"format-text-rotation-vertical":987071,"format-text-variant":986674,"format-text-variant-outline":988431,"format-text-wrapping-clip":986382,"format-text-wrapping-overflow":986383,"format-text-wrapping-wrap":986384,"format-textbox":986385,"format-textdirection-l-to-r":983685,"format-textdirection-r-to-l":983686,"format-title":984564,"format-underline":983687,"format-underline-wavy":989417,"format-vertical-align-bottom":984609,"format-vertical-align-center":984610,"format-vertical-align-top":984611,"format-wrap-inline":983688,"format-wrap-square":983689,"format-wrap-tight":983690,"format-wrap-top-bottom":983691,"forum":983692,"forum-outline":985122,"forward":983693,"forwardburger":986485,"fountain":985451,"fountain-pen":986386,"fountain-pen-tip":986387,"fraction-one-half":989586,"freebsd":985312,"french-fries":989527,"frequently-asked-questions":986804,"fridge":983696,"fridge-alert":987569,"fridge-alert-outline":987570,"fridge-bottom":983698,"fridge-industrial":988654,"fridge-industrial-alert":988655,"fridge-industrial-alert-outline":988656,"fridge-industrial-off":988657,"fridge-industrial-off-outline":988658,"fridge-industrial-outline":988659,"fridge-off":987567,"fridge-off-outline":987568,"fridge-outline":983695,"fridge-top":983697,"fridge-variant":988660,"fridge-variant-alert":988661,"fridge-variant-alert-outline":988662,"fridge-variant-off":988663,"fridge-variant-off-outline":988664,"fridge-variant-outline":988665,"fruit-cherries":987202,"fruit-cherries-off":988152,"fruit-citrus":987203,"fruit-citrus-off":988153,"fruit-grapes":987204,"fruit-grapes-outline":987205,"fruit-pineapple":987206,"fruit-watermelon":987207,"fuel":985034,"fuel-cell":989365,"fullscreen":983699,"fullscreen-exit":983700,"function":983701,"function-variant":985201,"furigana-horizontal":987265,"furigana-vertical":987266,"fuse":986245,"fuse-alert":988205,"fuse-blade":986246,"fuse-off":988204,"gamepad":983702,"gamepad-circle":986675,"gamepad-circle-down":986676,"gamepad-circle-left":986677,"gamepad-circle-outline":986678,"gamepad-circle-right":986679,"gamepad-circle-up":986680,"gamepad-down":986681,"gamepad-left":986682,"gamepad-outline":989465,"gamepad-right":986683,"gamepad-round":986684,"gamepad-round-down":986685,"gamepad-round-left":986686,"gamepad-round-outline":986687,"gamepad-round-right":986688,"gamepad-round-up":986689,"gamepad-square":986805,"gamepad-square-outline":986806,"gamepad-up":986690,"gamepad-variant":983703,"gamepad-variant-outline":986807,"gamma":987374,"gantry-crane":986577,"garage":984793,"garage-alert":985202,"garage-alert-variant":987861,"garage-lock":989179,"garage-open":984794,"garage-open-variant":987860,"garage-variant":987859,"garage-variant-lock":989180,"gas-cylinder":984647,"gas-station":983704,"gas-station-off":988169,"gas-station-off-outline":988170,"gas-station-outline":986808,"gate":983705,"gate-alert":989176,"gate-and":985313,"gate-arrow-left":989175,"gate-arrow-right":987497,"gate-nand":985314,"gate-nor":985315,"gate-not":985316,"gate-open":987498,"gate-or":985317,"gate-xnor":985318,"gate-xor":985319,"gatsby":986691,"gauge":983706,"gauge-empty":985203,"gauge-full":985204,"gauge-low":985205,"gavel":983707,"gender-female":983708,"gender-male":983709,"gender-male-female":983710,"gender-male-female-variant":987455,"gender-non-binary":987456,"gender-transgender":983711,"gentoo":985320,"gesture":985035,"gesture-double-tap":984892,"gesture-pinch":985789,"gesture-spread":985790,"gesture-swipe":986486,"gesture-swipe-down":984893,"gesture-swipe-horizontal":985791,"gesture-swipe-left":984894,"gesture-swipe-right":984895,"gesture-swipe-up":984896,"gesture-swipe-vertical":985792,"gesture-tap":984897,"gesture-tap-box":987817,"gesture-tap-button":987816,"gesture-tap-hold":986487,"gesture-two-double-tap":984898,"gesture-two-tap":984899,"ghost":983712,"ghost-off":985589,"ghost-off-outline":988764,"ghost-outline":988765,"gift":986692,"gift-off":988911,"gift-off-outline":988912,"gift-open":988913,"gift-open-outline":988914,"gift-outline":983713,"git":983714,"github":983716,"gitlab":986016,"glass-cocktail":983894,"glass-cocktail-off":988646,"glass-flute":983717,"glass-fragile":989299,"glass-mug":983718,"glass-mug-off":988647,"glass-mug-variant":987414,"glass-mug-variant-off":988648,"glass-pint-outline":987917,"glass-stange":983719,"glass-tulip":983720,"glass-wine":985206,"glasses":983722,"globe-light":987863,"globe-model":985321,"gmail":983723,"gnome":983724,"go-kart":986489,"go-kart-track":986490,"gog":986017,"gold":987727,"golf":985123,"golf-cart":987556,"golf-tee":987267,"gondola":984710,"goodreads":986491,"google":983725,"google-ads":986247,"google-analytics":985036,"google-assistant":985037,"google-cardboard":983726,"google-chrome":983727,"google-circles":983728,"google-circles-communities":983729,"google-circles-extended":983730,"google-circles-group":983731,"google-classroom":983744,"google-cloud":987638,"google-controller":983732,"google-controller-off":983733,"google-downasaur":988002,"google-drive":983734,"google-earth":983735,"google-fit":985452,"google-glass":983736,"google-hangouts":983753,"google-home":985124,"google-keep":984796,"google-lens":985590,"google-maps":984565,"google-my-business":987208,"google-nearby":983737,"google-play":983740,"google-plus":983741,"google-podcast":986809,"google-spreadsheet":985591,"google-street-view":986248,"google-translate":983743,"gradient-horizontal":989002,"gradient-vertical":984736,"grain":986492,"graph":987209,"graph-outline":987210,"graphql":985207,"grass":988432,"grave-stone":986018,"grease-pencil":984648,"greater-than":985453,"greater-than-or-equal":985454,"greenhouse":983085,"grid":983745,"grid-large":984920,"grid-off":983746,"grill":986693,"grill-outline":987530,"group":983747,"guitar-acoustic":984945,"guitar-electric":983748,"guitar-pick":983749,"guitar-pick-outline":983750,"guy-fawkes-mask":985125,"hail":985793,"hair-dryer":987375,"hair-dryer-outline":987376,"halloween":986019,"hamburger":984709,"hamburger-check":989046,"hamburger-minus":989047,"hamburger-off":989048,"hamburger-plus":989049,"hamburger-remove":989050,"hammer":985322,"hammer-screwdriver":987938,"hammer-sickle":989319,"hammer-wrench":987939,"hand-back-left":986694,"hand-back-left-off":989232,"hand-back-left-off-outline":989234,"hand-back-left-outline":989228,"hand-back-right":986695,"hand-back-right-off":989233,"hand-back-right-off-outline":989235,"hand-back-right-outline":989229,"hand-clap":989515,"hand-coin":989327,"hand-coin-outline":989328,"hand-extended":989366,"hand-extended-outline":989367,"hand-front-left":989227,"hand-front-left-outline":989230,"hand-front-right":985679,"hand-front-right-outline":989231,"hand-heart":987377,"hand-heart-outline":988542,"hand-okay":985680,"hand-peace":985681,"hand-peace-variant":985682,"hand-pointing-down":985683,"hand-pointing-left":985684,"hand-pointing-right":983751,"hand-pointing-up":985685,"hand-saw":986696,"hand-wash":988543,"hand-wash-outline":988544,"hand-water":988063,"hand-wave":989217,"hand-wave-outline":989218,"handball":986963,"handcuffs":987454,"hands-pray":984441,"handshake":987672,"handshake-outline":988577,"hanger":983752,"hard-hat":985455,"harddisk":983754,"harddisk-plus":987211,"harddisk-remove":987212,"hat-fedora":986020,"hazard-lights":986249,"hdr":986493,"hdr-off":986494,"head":987998,"head-alert":987960,"head-alert-outline":987961,"head-check":987962,"head-check-outline":987963,"head-cog":987964,"head-cog-outline":987965,"head-dots-horizontal":987966,"head-dots-horizontal-outline":987967,"head-flash":987968,"head-flash-outline":987969,"head-heart":987970,"head-heart-outline":987971,"head-lightbulb":987972,"head-lightbulb-outline":987973,"head-minus":987974,"head-minus-outline":987975,"head-outline":987999,"head-plus":987976,"head-plus-outline":987977,"head-question":987978,"head-question-outline":987979,"head-remove":987980,"head-remove-outline":987981,"head-snowflake":987982,"head-snowflake-outline":987983,"head-sync":987984,"head-sync-outline":987985,"headphones":983755,"headphones-bluetooth":985456,"headphones-box":983756,"headphones-off":985038,"headphones-settings":983757,"headset":983758,"headset-dock":983759,"headset-off":983760,"heart":983761,"heart-box":983762,"heart-box-outline":983763,"heart-broken":983764,"heart-broken-outline":986388,"heart-circle":985457,"heart-circle-outline":985458,"heart-cog":988771,"heart-cog-outline":988772,"heart-flash":986873,"heart-half":984799,"heart-half-full":984798,"heart-half-outline":984800,"heart-minus":988207,"heart-minus-outline":988210,"heart-multiple":985686,"heart-multiple-outline":985687,"heart-off":984921,"heart-off-outline":988212,"heart-outline":983765,"heart-plus":988206,"heart-plus-outline":988209,"heart-pulse":984566,"heart-remove":988208,"heart-remove-outline":988211,"heart-settings":988773,"heart-settings-outline":988774,"helicopter":985794,"help":983766,"help-box":984971,"help-circle":983767,"help-circle-outline":984613,"help-network":984821,"help-network-outline":986250,"help-rhombus":986021,"help-rhombus-outline":986022,"hexadecimal":987815,"hexagon":983768,"hexagon-multiple":984801,"hexagon-multiple-outline":987378,"hexagon-outline":983769,"hexagon-slice-1":985795,"hexagon-slice-2":985796,"hexagon-slice-3":985797,"hexagon-slice-4":985798,"hexagon-slice-5":985799,"hexagon-slice-6":985800,"hexagram":985801,"hexagram-outline":985802,"high-definition":985039,"high-definition-box":985208,"highway":984567,"hiking":986495,"history":983770,"hockey-puck":985209,"hockey-sticks":985210,"hololens":983771,"home":983772,"home-account":985126,"home-alert":985211,"home-alert-outline":988624,"home-analytics":986810,"home-assistant":985040,"home-automation":985041,"home-battery":989441,"home-battery-outline":989442,"home-circle":985042,"home-circle-outline":987213,"home-city":986389,"home-city-outline":986390,"home-edit":987481,"home-edit-outline":987482,"home-export-outline":987035,"home-flood":986874,"home-floor-0":986578,"home-floor-1":986496,"home-floor-2":986497,"home-floor-3":986498,"home-floor-a":986499,"home-floor-b":986500,"home-floor-g":986501,"home-floor-l":986502,"home-floor-negative-1":986579,"home-group":986580,"home-group-minus":989633,"home-group-plus":989632,"home-group-remove":989634,"home-heart":985127,"home-import-outline":987036,"home-lightbulb":987729,"home-lightbulb-outline":987730,"home-lightning-bolt":989443,"home-lightning-bolt-outline":989444,"home-lock":985323,"home-lock-open":985324,"home-map-marker":984568,"home-minus":985460,"home-minus-outline":988117,"home-modern":983773,"home-outline":984737,"home-plus":985461,"home-plus-outline":988118,"home-remove":987719,"home-remove-outline":988119,"home-roof":987435,"home-search":988080,"home-search-outline":988081,"home-switch":989076,"home-switch-outline":989077,"home-thermometer":986964,"home-thermometer-outline":986965,"home-variant":983774,"home-variant-outline":986023,"hook":984802,"hook-off":984803,"hoop-house":986710,"hops":983775,"horizontal-rotate-clockwise":987379,"horizontal-rotate-counterclockwise":987380,"horse":988607,"horse-human":988608,"horse-variant":988609,"horse-variant-fast":989294,"horseshoe":985688,"hospital":987126,"hospital-box":983776,"hospital-box-outline":987127,"hospital-building":983777,"hospital-marker":983778,"hot-tub":985128,"hours-24":988280,"hubspot":986391,"hulu":985129,"human":983782,"human-baby-changing-table":988043,"human-cane":988545,"human-capacity-decrease":988571,"human-capacity-increase":988572,"human-child":983783,"human-dolly":989568,"human-edit":988392,"human-female":984649,"human-female-boy":985689,"human-female-dance":988617,"human-female-female":985690,"human-female-girl":985691,"human-greeting":989124,"human-greeting-proximity":988573,"human-greeting-variant":984650,"human-handsdown":984651,"human-handsup":984652,"human-male":984653,"human-male-board":985232,"human-male-board-poll":985158,"human-male-boy":985692,"human-male-child":988044,"human-male-female":983784,"human-male-female-child":989219,"human-male-girl":985693,"human-male-height":986875,"human-male-height-variant":986876,"human-male-male":985694,"human-non-binary":989256,"human-pregnant":984527,"human-queue":988529,"human-scooter":987625,"human-wheelchair":988045,"human-white-cane":989569,"humble-bundle":984900,"hvac":987986,"hvac-off":988574,"hydraulic-oil-level":987940,"hydraulic-oil-temperature":987941,"hydro-power":987877,"hydrogen-station":989332,"ice-cream":985130,"ice-cream-off":986706,"ice-pop":986877,"id-card":987072,"identifier":986878,"ideogram-cjk":987953,"ideogram-cjk-variant":987954,"image":983785,"image-album":983786,"image-area":983787,"image-area-close":983788,"image-auto-adjust":987073,"image-broken":983789,"image-broken-variant":983790,"image-edit":987619,"image-edit-outline":987620,"image-filter-black-white":983792,"image-filter-center-focus":983793,"image-filter-center-focus-strong":986879,"image-filter-center-focus-strong-outline":986880,"image-filter-center-focus-weak":983794,"image-filter-drama":983795,"image-filter-frames":983796,"image-filter-hdr":983797,"image-filter-none":983798,"image-filter-tilt-shift":983799,"image-filter-vintage":983800,"image-frame":986697,"image-marker":989051,"image-marker-outline":989052,"image-minus":988185,"image-move":985592,"image-multiple":983801,"image-multiple-outline":983791,"image-off":985131,"image-off-outline":987601,"image-outline":985462,"image-plus":985212,"image-remove":988184,"image-search":985463,"image-search-outline":985464,"image-size-select-actual":986253,"image-size-select-large":986254,"image-size-select-small":986255,"image-text":988685,"import":983802,"inbox":984711,"inbox-arrow-down":983803,"inbox-arrow-down-outline":987760,"inbox-arrow-up":984017,"inbox-arrow-up-outline":987761,"inbox-full":987762,"inbox-full-outline":987763,"inbox-multiple":985264,"inbox-multiple-outline":986024,"inbox-outline":987764,"inbox-remove":988575,"inbox-remove-outline":988576,"incognito":984569,"incognito-circle":988193,"incognito-circle-off":988194,"incognito-off":983157,"induction":989260,"infinity":984804,"information":983804,"information-off":989068,"information-off-outline":989069,"information-outline":983805,"information-variant":984654,"instagram":983806,"instrument-triangle":987214,"integrated-circuit-chip":989459,"invert-colors":983809,"invert-colors-off":986698,"iobroker":987880,"ip":985695,"ip-network":985696,"ip-network-outline":986256,"ip-outline":989570,"ipod":986257,"iron":989220,"iron-board":989240,"iron-outline":989221,"island":987215,"iv-bag":987321,"jabber":986581,"jeepney":983810,"jellyfish":986881,"jellyfish-outline":986882,"jira":983811,"jquery":985213,"jsfiddle":983812,"jump-rope":987903,"kabaddi":986503,"kangaroo":988504,"karate":985132,"kayaking":985263,"keg":983813,"kettle":984570,"kettle-alert":987927,"kettle-alert-outline":987928,"kettle-off":987931,"kettle-off-outline":987932,"kettle-outline":986966,"kettle-pour-over":988988,"kettle-steam":987929,"kettle-steam-outline":987930,"kettlebell":987904,"key":983814,"key-alert":989571,"key-alert-outline":989572,"key-arrow-right":987922,"key-chain":988532,"key-chain-variant":988533,"key-change":983815,"key-link":987551,"key-minus":983816,"key-outline":986582,"key-plus":983817,"key-remove":983818,"key-star":987550,"key-variant":983819,"key-wireless":987074,"keyboard":983820,"keyboard-backspace":983821,"keyboard-caps":983822,"keyboard-close":983823,"keyboard-esc":987831,"keyboard-f1":987819,"keyboard-f10":987828,"keyboard-f11":987829,"keyboard-f12":987830,"keyboard-f2":987820,"keyboard-f3":987821,"keyboard-f4":987822,"keyboard-f5":987823,"keyboard-f6":987824,"keyboard-f7":987825,"keyboard-f8":987826,"keyboard-f9":987827,"keyboard-off":983824,"keyboard-off-outline":986699,"keyboard-outline":985467,"keyboard-return":983825,"keyboard-settings":985593,"keyboard-settings-outline":985594,"keyboard-space":987216,"keyboard-tab":983826,"keyboard-tab-reverse":983845,"keyboard-variant":983827,"khanda":987389,"kickstarter":984901,"kite":989573,"kite-outline":989574,"kitesurfing":988996,"klingon":987995,"knife":985595,"knife-military":985596,"koala":988991,"kodi":983828,"kubernetes":987390,"label":983829,"label-multiple":988021,"label-multiple-outline":988022,"label-off":985803,"label-off-outline":985804,"label-outline":983830,"label-percent":987882,"label-percent-outline":987883,"label-variant":985805,"label-variant-outline":985806,"ladder":988578,"ladybug":985133,"lambda":984615,"lamp":984757,"lamp-outline":989136,"lamps":988534,"lamps-outline":989137,"lan":983831,"lan-check":987818,"lan-connect":983832,"lan-disconnect":983833,"lan-pending":983834,"language-c":984689,"language-cpp":984690,"language-csharp":983835,"language-css3":983836,"language-fortran":987674,"language-go":985043,"language-haskell":986258,"language-html5":983837,"language-java":985911,"language-javascript":983838,"language-kotlin":987673,"language-lua":985265,"language-markdown":983892,"language-markdown-outline":986971,"language-php":983839,"language-python":983840,"language-r":985044,"language-ruby":986413,"language-ruby-on-rails":985807,"language-rust":988695,"language-swift":984805,"language-typescript":984806,"language-xaml":984691,"laptop":983842,"laptop-off":984807,"laravel":985808,"laser-pointer":988292,"lasso":986883,"lastpass":984134,"latitude":986967,"launch":983847,"lava-lamp":985045,"layers":983848,"layers-edit":989330,"layers-minus":986700,"layers-off":983849,"layers-off-outline":985597,"layers-outline":985598,"layers-plus":986701,"layers-remove":986702,"layers-search":987654,"layers-search-outline":987655,"layers-triple":986968,"layers-triple-outline":986969,"lead-pencil":984655,"leaf":983850,"leaf-circle":989445,"leaf-circle-outline":989446,"leaf-maple":986259,"leaf-maple-off":987866,"leaf-off":987865,"leak":986583,"leak-off":986584,"led-off":983851,"led-on":983852,"led-outline":983853,"led-strip":985046,"led-strip-variant":987217,"led-variant-off":983854,"led-variant-on":983855,"led-variant-outline":983856,"leek":987517,"less-than":985468,"less-than-or-equal":985469,"library":983857,"library-shelves":986025,"license":987075,"lifebuoy":985214,"light-flood-down":989575,"light-flood-up":989576,"light-recessed":989083,"light-switch":985470,"lightbulb":983861,"lightbulb-auto":989184,"lightbulb-auto-outline":989185,"lightbulb-cfl":987656,"lightbulb-cfl-off":987657,"lightbulb-cfl-spiral":987765,"lightbulb-cfl-spiral-off":987843,"lightbulb-fluorescent-tube":989188,"lightbulb-fluorescent-tube-outline":989189,"lightbulb-group":987731,"lightbulb-group-off":987853,"lightbulb-group-off-outline":987854,"lightbulb-group-outline":987732,"lightbulb-multiple":987733,"lightbulb-multiple-off":987855,"lightbulb-multiple-off-outline":987856,"lightbulb-multiple-outline":987734,"lightbulb-off":986703,"lightbulb-off-outline":986704,"lightbulb-on":984808,"lightbulb-on-outline":984809,"lightbulb-outline":983862,"lightbulb-spot":989172,"lightbulb-spot-off":989173,"lightbulb-variant":989186,"lightbulb-variant-outline":989187,"lighthouse":985599,"lighthouse-on":985600,"lightning-bolt":988171,"lightning-bolt-circle":985120,"lightning-bolt-outline":988172,"line-scan":984612,"lingerie":988278,"link":983863,"link-box":986394,"link-box-outline":986395,"link-box-variant":986396,"link-box-variant-outline":986397,"link-lock":987322,"link-off":983864,"link-plus":986260,"link-variant":983865,"link-variant-minus":987391,"link-variant-off":983866,"link-variant-plus":987392,"link-variant-remove":987393,"linkedin":983867,"linux":983869,"linux-mint":985325,"lipstick":988085,"liquid-spot":989222,"liquor":989470,"list-status":988587,"litecoin":985697,"loading":984946,"location-enter":987076,"location-exit":987077,"lock":983870,"lock-alert":985326,"lock-alert-outline":988625,"lock-check":988058,"lock-check-outline":988840,"lock-clock":985471,"lock-minus":988841,"lock-minus-outline":988842,"lock-off":988785,"lock-off-outline":988786,"lock-open":983871,"lock-open-alert":988059,"lock-open-alert-outline":988626,"lock-open-check":988060,"lock-open-check-outline":988843,"lock-open-minus":988844,"lock-open-minus-outline":988845,"lock-open-outline":983872,"lock-open-plus":988846,"lock-open-plus-outline":988847,"lock-open-remove":988848,"lock-open-remove-outline":988849,"lock-open-variant":987078,"lock-open-variant-outline":987079,"lock-outline":983873,"lock-pattern":984810,"lock-plus":984571,"lock-plus-outline":988850,"lock-question":985327,"lock-remove":988851,"lock-remove-outline":988852,"lock-reset":984947,"lock-smart":985266,"locker":985047,"locker-multiple":985048,"login":983874,"login-variant":984572,"logout":983875,"logout-variant":984573,"longitude":986970,"looks":983876,"lotion":988546,"lotion-outline":988547,"lotion-plus":988548,"lotion-plus-outline":988549,"loupe":983877,"lumx":983878,"lungs":987268,"mace":989251,"magazine-pistol":983844,"magazine-rifle":983843,"magic-staff":989252,"magnet":983879,"magnet-on":983880,"magnify":983881,"magnify-close":985472,"magnify-expand":989300,"magnify-minus":983882,"magnify-minus-cursor":985698,"magnify-minus-outline":984812,"magnify-plus":983883,"magnify-plus-cursor":985699,"magnify-plus-outline":984813,"magnify-remove-cursor":987660,"magnify-remove-outline":987661,"magnify-scan":987766,"mail":986811,"mailbox":984814,"mailbox-open":986504,"mailbox-open-outline":986505,"mailbox-open-up":986506,"mailbox-open-up-outline":986507,"mailbox-outline":986508,"mailbox-up":986509,"mailbox-up-outline":986510,"manjaro":988682,"map":983885,"map-check":986812,"map-check-outline":986813,"map-clock":986398,"map-clock-outline":986399,"map-legend":985601,"map-marker":983886,"map-marker-account":989411,"map-marker-account-outline":989412,"map-marker-alert":986885,"map-marker-alert-outline":986886,"map-marker-check":986261,"map-marker-check-outline":987899,"map-marker-circle":983887,"map-marker-distance":985328,"map-marker-down":987394,"map-marker-left":987867,"map-marker-left-outline":987869,"map-marker-minus":984656,"map-marker-minus-outline":987897,"map-marker-multiple":983888,"map-marker-multiple-outline":987767,"map-marker-off":983889,"map-marker-off-outline":987901,"map-marker-outline":985049,"map-marker-path":986400,"map-marker-plus":984657,"map-marker-plus-outline":987896,"map-marker-question":986887,"map-marker-question-outline":986888,"map-marker-radius":983890,"map-marker-radius-outline":987900,"map-marker-remove":986889,"map-marker-remove-outline":987898,"map-marker-remove-variant":986890,"map-marker-right":987868,"map-marker-right-outline":987870,"map-marker-star":988680,"map-marker-star-outline":988681,"map-marker-up":987395,"map-minus":985473,"map-outline":985474,"map-plus":985475,"map-search":985476,"map-search-outline":985477,"mapbox":986026,"margin":983891,"marker":984658,"marker-cancel":986585,"marker-check":983893,"mastodon":985809,"material-design":985478,"material-ui":983895,"math-compass":983896,"math-cos":986262,"math-integral":987080,"math-integral-box":987081,"math-log":987269,"math-norm":987082,"math-norm-box":987083,"math-sin":986263,"math-tan":986264,"matrix":984616,"medal":985479,"medal-outline":987942,"medical-bag":984815,"meditation":987515,"memory":983899,"menorah":989140,"menorah-fire":989141,"menu":983900,"menu-down":983901,"menu-down-outline":984758,"menu-left":983902,"menu-left-outline":985602,"menu-open":986027,"menu-right":983903,"menu-right-outline":985603,"menu-swap":985700,"menu-swap-outline":985701,"menu-up":983904,"menu-up-outline":984759,"merge":986972,"message":983905,"message-alert":983906,"message-alert-outline":985604,"message-arrow-left":987890,"message-arrow-left-outline":987891,"message-arrow-right":987892,"message-arrow-right-outline":987893,"message-badge":989505,"message-badge-outline":989506,"message-bookmark":988588,"message-bookmark-outline":988589,"message-bulleted":984738,"message-bulleted-off":984739,"message-cog":984817,"message-cog-outline":987506,"message-draw":983907,"message-flash":988585,"message-flash-outline":988586,"message-image":983908,"message-image-outline":987500,"message-lock":987084,"message-lock-outline":987501,"message-minus":987502,"message-minus-outline":987503,"message-off":988749,"message-off-outline":988750,"message-outline":983909,"message-plus":984659,"message-plus-outline":987323,"message-processing":983910,"message-processing-outline":987504,"message-question":988986,"message-question-outline":988987,"message-reply":983911,"message-reply-outline":988989,"message-reply-text":983912,"message-reply-text-outline":988990,"message-settings":984816,"message-settings-outline":987505,"message-star":984730,"message-star-outline":987728,"message-text":983913,"message-text-clock":987507,"message-text-clock-outline":987508,"message-text-lock":987085,"message-text-lock-outline":987509,"message-text-outline":983914,"message-video":983915,"meteor":984617,"metronome":985050,"metronome-tick":985051,"micro-sd":985052,"microphone":983916,"microphone-minus":985267,"microphone-off":983917,"microphone-outline":983918,"microphone-plus":985268,"microphone-question":989577,"microphone-question-outline":989578,"microphone-settings":983919,"microphone-variant":983920,"microphone-variant-off":983921,"microscope":984660,"microsoft":983922,"microsoft-access":988046,"microsoft-azure":985093,"microsoft-azure-devops":987093,"microsoft-bing":983204,"microsoft-dynamics-365":985480,"microsoft-edge":983529,"microsoft-excel":988047,"microsoft-internet-explorer":983808,"microsoft-office":984006,"microsoft-onedrive":984010,"microsoft-onenote":984903,"microsoft-outlook":986402,"microsoft-powerpoint":988048,"microsoft-sharepoint":988049,"microsoft-teams":983739,"microsoft-visual-studio":984592,"microsoft-visual-studio-code":985630,"microsoft-windows":984499,"microsoft-windows-classic":985633,"microsoft-word":988050,"microsoft-xbox":984505,"microsoft-xbox-controller":984506,"microsoft-xbox-controller-battery-alert":984907,"microsoft-xbox-controller-battery-charging":985634,"microsoft-xbox-controller-battery-empty":984908,"microsoft-xbox-controller-battery-full":984909,"microsoft-xbox-controller-battery-low":984910,"microsoft-xbox-controller-battery-medium":984911,"microsoft-xbox-controller-battery-unknown":984912,"microsoft-xbox-controller-menu":986735,"microsoft-xbox-controller-off":984507,"microsoft-xbox-controller-view":986736,"microwave":986265,"microwave-off":988195,"middleware":986973,"middleware-outline":986974,"midi":985329,"midi-port":985330,"mine":986586,"minecraft":983923,"mini-sd":985605,"minidisc":985606,"minus":983924,"minus-box":983925,"minus-box-multiple":987457,"minus-box-multiple-outline":987458,"minus-box-outline":984818,"minus-circle":983926,"minus-circle-multiple":983898,"minus-circle-multiple-outline":985811,"minus-circle-off":988249,"minus-circle-off-outline":988250,"minus-circle-outline":983927,"minus-network":983928,"minus-network-outline":986266,"minus-thick":988729,"mirror":987645,"mirror-rectangle":989087,"mirror-variant":989088,"mixed-martial-arts":986511,"mixed-reality":985215,"molecule":986028,"molecule-co":987902,"molecule-co2":985060,"monitor":983929,"monitor-cellphone":985481,"monitor-cellphone-star":985482,"monitor-dashboard":985607,"monitor-edit":987846,"monitor-eye":988084,"monitor-lock":986587,"monitor-multiple":983930,"monitor-off":986512,"monitor-screenshot":986705,"monitor-share":988291,"monitor-shimmer":987396,"monitor-small":989302,"monitor-speaker":986975,"monitor-speaker-off":986976,"monitor-star":986588,"moon-first-quarter":986977,"moon-full":986978,"moon-last-quarter":986979,"moon-new":986980,"moon-waning-crescent":986981,"moon-waning-gibbous":986982,"moon-waxing-crescent":986983,"moon-waxing-gibbous":986984,"moped":987270,"moped-electric":988599,"moped-electric-outline":988600,"moped-outline":988601,"more":983931,"mortar-pestle":989000,"mortar-pestle-plus":984049,"mosque":989223,"mother-heart":987924,"mother-nurse":986401,"motion":988594,"motion-outline":988595,"motion-pause":988560,"motion-pause-outline":988562,"motion-play":988559,"motion-play-outline":988561,"motion-sensor":986513,"motion-sensor-off":988213,"motorbike":983932,"motorbike-electric":988602,"mouse":983933,"mouse-bluetooth":985483,"mouse-move-down":988496,"mouse-move-up":988497,"mouse-move-vertical":988498,"mouse-off":983934,"mouse-variant":983935,"mouse-variant-off":983936,"move-resize":984661,"move-resize-variant":984662,"movie":983937,"movie-check":988915,"movie-check-outline":988916,"movie-cog":988917,"movie-cog-outline":988918,"movie-edit":987426,"movie-edit-outline":987427,"movie-filter":987428,"movie-filter-outline":987429,"movie-minus":988919,"movie-minus-outline":988920,"movie-off":988921,"movie-off-outline":988922,"movie-open":987086,"movie-open-check":988923,"movie-open-check-outline":988924,"movie-open-cog":988925,"movie-open-cog-outline":988926,"movie-open-edit":988927,"movie-open-edit-outline":988928,"movie-open-minus":988929,"movie-open-minus-outline":988930,"movie-open-off":988931,"movie-open-off-outline":988932,"movie-open-outline":987087,"movie-open-play":988933,"movie-open-play-outline":988934,"movie-open-plus":988935,"movie-open-plus-outline":988936,"movie-open-remove":988937,"movie-open-remove-outline":988938,"movie-open-settings":988939,"movie-open-settings-outline":988940,"movie-open-star":988941,"movie-open-star-outline":988942,"movie-outline":986589,"movie-play":988943,"movie-play-outline":988944,"movie-plus":988945,"movie-plus-outline":988946,"movie-remove":988947,"movie-remove-outline":988948,"movie-roll":985054,"movie-search":987602,"movie-search-outline":987603,"movie-settings":988949,"movie-settings-outline":988950,"movie-star":988951,"movie-star-outline":988952,"mower":988783,"mower-bag":988784,"muffin":985484,"multicast":989331,"multiplication":983938,"multiplication-box":983939,"mushroom":985055,"mushroom-off":988154,"mushroom-off-outline":988155,"mushroom-outline":985056,"music":984922,"music-accidental-double-flat":986985,"music-accidental-double-sharp":986986,"music-accidental-flat":986987,"music-accidental-natural":986988,"music-accidental-sharp":986989,"music-box":983940,"music-box-multiple":983859,"music-box-multiple-outline":986884,"music-box-outline":983941,"music-circle":983942,"music-circle-outline":985812,"music-clef-alto":986990,"music-clef-bass":986991,"music-clef-treble":986992,"music-note":983943,"music-note-bluetooth":984574,"music-note-bluetooth-off":984575,"music-note-eighth":983944,"music-note-eighth-dotted":986993,"music-note-half":983945,"music-note-half-dotted":986994,"music-note-off":983946,"music-note-off-outline":986995,"music-note-outline":986996,"music-note-plus":986590,"music-note-quarter":983947,"music-note-quarter-dotted":986997,"music-note-sixteenth":983948,"music-note-sixteenth-dotted":986998,"music-note-whole":983949,"music-note-whole-dotted":986999,"music-off":984923,"music-rest-eighth":987000,"music-rest-half":987001,"music-rest-quarter":987002,"music-rest-sixteenth":987003,"music-rest-whole":987004,"mustache":988638,"nail":986591,"nas":985331,"nativescript":985216,"nature":983950,"nature-people":983951,"navigation":983952,"navigation-outline":988679,"navigation-variant":989424,"navigation-variant-outline":989425,"near-me":984525,"necklace":986891,"needle":983953,"netflix":984902,"network":984819,"network-off":986267,"network-off-outline":986268,"network-outline":986269,"network-strength-1":985332,"network-strength-1-alert":985333,"network-strength-2":985334,"network-strength-2-alert":985335,"network-strength-3":985336,"network-strength-3-alert":985337,"network-strength-4":985338,"network-strength-4-alert":985339,"network-strength-4-cog":989466,"network-strength-off":985340,"network-strength-off-outline":985341,"network-strength-outline":985342,"new-box":983956,"newspaper":983957,"newspaper-check":989507,"newspaper-minus":986892,"newspaper-plus":986893,"newspaper-remove":989508,"newspaper-variant":987137,"newspaper-variant-multiple":987138,"newspaper-variant-multiple-outline":987139,"newspaper-variant-outline":987140,"nfc":983958,"nfc-search-variant":986707,"nfc-tap":983959,"nfc-variant":983960,"nfc-variant-off":986708,"ninja":984948,"nintendo-game-boy":988051,"nintendo-switch":985057,"nintendo-wii":984491,"nintendo-wiiu":984877,"nix":987397,"nodejs":983961,"noodles":987518,"not-equal":985485,"not-equal-variant":985486,"note":983962,"note-alert":989053,"note-alert-outline":989054,"note-check":989055,"note-check-outline":989056,"note-edit":989057,"note-edit-outline":989058,"note-minus":988751,"note-minus-outline":988752,"note-multiple":984760,"note-multiple-outline":984761,"note-off":989059,"note-off-outline":989060,"note-outline":983963,"note-plus":983964,"note-plus-outline":983965,"note-remove":988753,"note-remove-outline":988754,"note-search":988755,"note-search-outline":988756,"note-text":983966,"note-text-outline":987607,"notebook":985134,"notebook-check":988405,"notebook-check-outline":988406,"notebook-edit":988391,"notebook-edit-outline":988393,"notebook-minus":988688,"notebook-minus-outline":988689,"notebook-multiple":986709,"notebook-outline":986815,"notebook-plus":988690,"notebook-plus-outline":988691,"notebook-remove":988692,"notebook-remove-outline":988693,"notification-clear-all":983967,"npm":984823,"nuke":984740,"null":985058,"numeric":983968,"numeric-0":985913,"numeric-0-box":983969,"numeric-0-box-multiple":986894,"numeric-0-box-multiple-outline":983970,"numeric-0-box-outline":983971,"numeric-0-circle":986270,"numeric-0-circle-outline":986271,"numeric-1":985914,"numeric-1-box":983972,"numeric-1-box-multiple":986895,"numeric-1-box-multiple-outline":983973,"numeric-1-box-outline":983974,"numeric-1-circle":986272,"numeric-1-circle-outline":986273,"numeric-10":987113,"numeric-10-box":987005,"numeric-10-box-multiple":987114,"numeric-10-box-multiple-outline":987115,"numeric-10-box-outline":987006,"numeric-10-circle":987116,"numeric-10-circle-outline":987117,"numeric-2":985915,"numeric-2-box":983975,"numeric-2-box-multiple":986896,"numeric-2-box-multiple-outline":983976,"numeric-2-box-outline":983977,"numeric-2-circle":986274,"numeric-2-circle-outline":986275,"numeric-3":985916,"numeric-3-box":983978,"numeric-3-box-multiple":986897,"numeric-3-box-multiple-outline":983979,"numeric-3-box-outline":983980,"numeric-3-circle":986276,"numeric-3-circle-outline":986277,"numeric-4":985917,"numeric-4-box":983981,"numeric-4-box-multiple":986898,"numeric-4-box-multiple-outline":983986,"numeric-4-box-outline":983982,"numeric-4-circle":986278,"numeric-4-circle-outline":986279,"numeric-5":985918,"numeric-5-box":983985,"numeric-5-box-multiple":986899,"numeric-5-box-multiple-outline":983983,"numeric-5-box-outline":983984,"numeric-5-circle":986280,"numeric-5-circle-outline":986281,"numeric-6":985919,"numeric-6-box":983987,"numeric-6-box-multiple":986900,"numeric-6-box-multiple-outline":983988,"numeric-6-box-outline":983989,"numeric-6-circle":986282,"numeric-6-circle-outline":986283,"numeric-7":985920,"numeric-7-box":983990,"numeric-7-box-multiple":986901,"numeric-7-box-multiple-outline":983991,"numeric-7-box-outline":983992,"numeric-7-circle":986284,"numeric-7-circle-outline":986285,"numeric-8":985921,"numeric-8-box":983993,"numeric-8-box-multiple":986902,"numeric-8-box-multiple-outline":983994,"numeric-8-box-outline":983995,"numeric-8-circle":986286,"numeric-8-circle-outline":986287,"numeric-9":985922,"numeric-9-box":983996,"numeric-9-box-multiple":986903,"numeric-9-box-multiple-outline":983997,"numeric-9-box-outline":983998,"numeric-9-circle":986288,"numeric-9-circle-outline":986289,"numeric-9-plus":987118,"numeric-9-plus-box":983999,"numeric-9-plus-box-multiple":986904,"numeric-9-plus-box-multiple-outline":984000,"numeric-9-plus-box-outline":984001,"numeric-9-plus-circle":986290,"numeric-9-plus-circle-outline":986291,"numeric-negative-1":987218,"numeric-positive-1":988619,"nut":984824,"nutrition":984002,"nuxt":987398,"oar":984700,"ocarina":986592,"oci":987881,"ocr":987450,"octagon":984003,"octagon-outline":984004,"octagram":984825,"octagram-outline":984949,"octahedron":989520,"octahedron-off":989521,"odnoklassniki":984005,"offer":987675,"office-building":985489,"office-building-cog":989513,"office-building-cog-outline":989514,"office-building-marker":988448,"office-building-marker-outline":988449,"office-building-outline":988447,"oil":984007,"oil-lamp":986905,"oil-level":987219,"oil-temperature":987128,"om":985459,"omega":984009,"one-up":986029,"onepassword":985217,"opacity":984524,"open-in-app":984011,"open-in-new":984012,"open-source-initiative":986030,"openid":984013,"opera":984014,"orbit":983064,"orbit-variant":988635,"order-alphabetical-ascending":983565,"order-alphabetical-descending":986375,"order-bool-ascending":983742,"order-bool-ascending-variant":985487,"order-bool-descending":988036,"order-bool-descending-variant":985488,"order-numeric-ascending":984389,"order-numeric-descending":984390,"origin":985923,"ornament":984015,"ornament-variant":984016,"outdoor-lamp":987220,"overscan":987141,"owl":984018,"pac-man":986031,"package":984019,"package-down":984020,"package-up":984021,"package-variant":984022,"package-variant-closed":984023,"page-first":984576,"page-last":984577,"page-layout-body":984826,"page-layout-footer":984827,"page-layout-header":984828,"page-layout-header-footer":987007,"page-layout-sidebar-left":984829,"page-layout-sidebar-right":984830,"page-next":986032,"page-next-outline":986033,"page-previous":986034,"page-previous-outline":986035,"pail":988183,"pail-minus":988215,"pail-minus-outline":988220,"pail-off":988217,"pail-off-outline":988222,"pail-outline":988218,"pail-plus":988214,"pail-plus-outline":988219,"pail-remove":988216,"pail-remove-outline":988221,"palette":984024,"palette-advanced":984025,"palette-outline":986636,"palette-swatch":985269,"palette-swatch-outline":987996,"palette-swatch-variant":989530,"palm-tree":987221,"pan":986036,"pan-bottom-left":986037,"pan-bottom-right":986038,"pan-down":986039,"pan-horizontal":986040,"pan-left":986041,"pan-right":986042,"pan-top-left":986043,"pan-top-right":986044,"pan-up":986045,"pan-vertical":986046,"panda":984026,"pandora":984027,"panorama":984028,"panorama-fisheye":984029,"panorama-horizontal":989480,"panorama-horizontal-outline":984030,"panorama-outline":989580,"panorama-sphere":989581,"panorama-sphere-outline":989582,"panorama-variant":989583,"panorama-variant-outline":989584,"panorama-vertical":989481,"panorama-vertical-outline":984031,"panorama-wide-angle":989535,"panorama-wide-angle-outline":984032,"paper-cut-vertical":984033,"paper-roll":987479,"paper-roll-outline":987480,"paperclip":984034,"parachute":986292,"parachute-outline":986293,"paragliding":988997,"parking":984035,"party-popper":987222,"passport":985059,"passport-biometric":986593,"pasta":987488,"patio-heater":987008,"patreon":985218,"pause":984036,"pause-circle":984037,"pause-circle-outline":984038,"pause-octagon":984039,"pause-octagon-outline":984040,"paw":984041,"paw-off":984663,"paw-off-outline":988790,"paw-outline":988789,"peace":985220,"peanut":987132,"peanut-off":987133,"peanut-off-outline":987135,"peanut-outline":987134,"pen":984042,"pen-lock":986594,"pen-minus":986595,"pen-off":986596,"pen-plus":986597,"pen-remove":986598,"pencil":984043,"pencil-box":984044,"pencil-box-multiple":987460,"pencil-box-multiple-outline":987461,"pencil-box-outline":984045,"pencil-circle":984831,"pencil-circle-outline":984950,"pencil-lock":984046,"pencil-lock-outline":986599,"pencil-minus":986600,"pencil-minus-outline":986601,"pencil-off":984047,"pencil-off-outline":986602,"pencil-outline":986294,"pencil-plus":986603,"pencil-plus-outline":986604,"pencil-remove":986605,"pencil-remove-outline":986606,"pencil-ruler":987987,"penguin":986816,"pentagon":984833,"pentagon-outline":984832,"pentagram":988775,"percent":984048,"percent-outline":987768,"periodic-table":985270,"perspective-less":986403,"perspective-more":986404,"ph":989125,"phone":984050,"phone-alert":986906,"phone-alert-outline":987534,"phone-bluetooth":984051,"phone-bluetooth-outline":987535,"phone-cancel":987324,"phone-cancel-outline":987536,"phone-check":987561,"phone-check-outline":987562,"phone-classic":984578,"phone-classic-off":987769,"phone-dial":988505,"phone-dial-outline":988506,"phone-forward":984052,"phone-forward-outline":987537,"phone-hangup":984053,"phone-hangup-outline":987538,"phone-in-talk":984054,"phone-in-talk-outline":987522,"phone-incoming":984055,"phone-incoming-outline":987539,"phone-lock":984056,"phone-lock-outline":987540,"phone-log":984057,"phone-log-outline":987541,"phone-message":987542,"phone-message-outline":987543,"phone-minus":984664,"phone-minus-outline":987544,"phone-missed":984058,"phone-missed-outline":987557,"phone-off":986607,"phone-off-outline":987558,"phone-outgoing":984059,"phone-outgoing-outline":987545,"phone-outline":986608,"phone-paused":984060,"phone-paused-outline":987546,"phone-plus":984665,"phone-plus-outline":987547,"phone-refresh":989587,"phone-refresh-outline":989588,"phone-remove":988463,"phone-remove-outline":988464,"phone-return":985135,"phone-return-outline":987548,"phone-ring":987563,"phone-ring-outline":987564,"phone-rotate-landscape":985221,"phone-rotate-portrait":985222,"phone-settings":984061,"phone-settings-outline":987549,"phone-sync":989589,"phone-sync-outline":989590,"phone-voip":984062,"pi":984063,"pi-box":984064,"pi-hole":986609,"piano":984701,"piano-off":984728,"pickaxe":985271,"picture-in-picture-bottom-right":986711,"picture-in-picture-bottom-right-outline":986712,"picture-in-picture-top-right":986713,"picture-in-picture-top-right-outline":986714,"pier":985223,"pier-crane":985224,"pig":984065,"pig-variant":987142,"pig-variant-outline":988792,"piggy-bank":987143,"piggy-bank-outline":988793,"pill":984066,"pillar":984834,"pin":984067,"pin-off":984068,"pin-off-outline":985392,"pin-outline":985393,"pine-tree":984069,"pine-tree-box":984070,"pine-tree-fire":988186,"pinterest":984071,"pinwheel":985813,"pinwheel-outline":985814,"pipe":985061,"pipe-disconnected":985062,"pipe-leak":985225,"pipe-valve":989261,"pipe-wrench":987988,"pirate":985608,"pistol":984835,"piston":985226,"pitchfork":988499,"pizza":984073,"play":984074,"play-box":987770,"play-box-multiple":986393,"play-box-multiple-outline":988134,"play-box-outline":984075,"play-circle":984076,"play-circle-outline":984077,"play-network":985227,"play-network-outline":986295,"play-outline":986907,"play-pause":984078,"play-protected-content":984079,"play-speed":985343,"playlist-check":984519,"playlist-edit":985344,"playlist-minus":984080,"playlist-music":986296,"playlist-music-outline":986297,"playlist-play":984081,"playlist-plus":984082,"playlist-remove":984083,"playlist-star":986610,"plex":984762,"pliers":989604,"plus":984085,"plus-box":984086,"plus-box-multiple":983860,"plus-box-multiple-outline":987459,"plus-box-outline":984836,"plus-circle":984087,"plus-circle-multiple":983884,"plus-circle-multiple-outline":984088,"plus-circle-outline":984089,"plus-minus":985490,"plus-minus-box":985491,"plus-minus-variant":988361,"plus-network":984090,"plus-network-outline":986298,"plus-outline":984837,"plus-thick":987628,"podcast":985492,"podium":986405,"podium-bronze":986406,"podium-gold":986407,"podium-silver":986408,"point-of-sale":986514,"pokeball":984093,"pokemon-go":985609,"poker-chip":985136,"polaroid":984094,"police-badge":987495,"police-badge-outline":987496,"police-station":989241,"poll":984095,"polo":988355,"polymer":984097,"pool":984582,"popcorn":984098,"post":987144,"post-outline":987145,"postage-stamp":986299,"pot":983781,"pot-mix":984667,"pot-mix-outline":984695,"pot-outline":983807,"pot-steam":984666,"pot-steam-outline":983846,"pound":984099,"pound-box":984100,"pound-box-outline":987519,"power":984101,"power-cycle":985345,"power-off":985346,"power-on":985347,"power-plug":984741,"power-plug-off":984742,"power-plug-off-outline":988196,"power-plug-outline":988197,"power-settings":984102,"power-sleep":985348,"power-socket":984103,"power-socket-au":985349,"power-socket-ch":987059,"power-socket-de":987399,"power-socket-eu":985063,"power-socket-fr":987400,"power-socket-it":988415,"power-socket-jp":987401,"power-socket-uk":985064,"power-socket-us":985065,"power-standby":985350,"powershell":985610,"prescription":984838,"presentation":984104,"presentation-play":984105,"pretzel":988514,"printer":984106,"printer-3d":984107,"printer-3d-nozzle":986715,"printer-3d-nozzle-alert":987584,"printer-3d-nozzle-alert-outline":987585,"printer-3d-nozzle-heat":989368,"printer-3d-nozzle-heat-outline":989369,"printer-3d-nozzle-outline":986716,"printer-alert":984108,"printer-check":987462,"printer-eye":988248,"printer-off":986717,"printer-off-outline":989061,"printer-outline":989062,"printer-pos":987223,"printer-search":988247,"printer-settings":984839,"printer-wireless":985611,"priority-high":984579,"priority-low":984580,"professional-hexagon":984109,"progress-alert":986300,"progress-check":985493,"progress-clock":985494,"progress-close":987402,"progress-download":985495,"progress-pencil":989063,"progress-question":988450,"progress-star":989064,"progress-upload":985496,"progress-wrench":986301,"projector":984110,"projector-screen":984111,"projector-screen-off":989197,"projector-screen-off-outline":989198,"projector-screen-outline":988964,"projector-screen-variant":989199,"projector-screen-variant-off":989200,"projector-screen-variant-off-outline":989201,"projector-screen-variant-outline":989202,"propane-tank":987991,"propane-tank-outline":987992,"protocol":987096,"publish":984743,"publish-off":989509,"pulse":984112,"pump":988162,"pumpkin":986047,"purse":986908,"purse-outline":986909,"puzzle":984113,"puzzle-check":988198,"puzzle-check-outline":988199,"puzzle-edit":988371,"puzzle-edit-outline":988377,"puzzle-heart":988372,"puzzle-heart-outline":988378,"puzzle-minus":988369,"puzzle-minus-outline":988375,"puzzle-outline":985702,"puzzle-plus":988368,"puzzle-plus-outline":988374,"puzzle-remove":988370,"puzzle-remove-outline":988376,"puzzle-star":988373,"puzzle-star-outline":988379,"pyramid":989522,"pyramid-off":989523,"qi":985497,"qqchat":984581,"qrcode":984114,"qrcode-edit":985272,"qrcode-minus":987532,"qrcode-plus":987531,"qrcode-remove":987533,"qrcode-scan":984115,"quadcopter":984116,"quality-high":984117,"quality-low":985612,"quality-medium":985613,"quora":986409,"rabbit":985351,"racing-helmet":986515,"racquetball":986516,"radar":984119,"radiator":984120,"radiator-disabled":985815,"radiator-off":985816,"radio":984121,"radio-am":986302,"radio-fm":986303,"radio-handheld":984122,"radio-off":987676,"radio-tower":984123,"radioactive":984124,"radioactive-circle":989277,"radioactive-circle-outline":989278,"radioactive-off":986817,"radiobox-blank":984125,"radiobox-marked":984126,"radiology-box":988357,"radiology-box-outline":988358,"radius":986304,"radius-outline":986305,"railroad-light":986910,"rake":988484,"raspberry-pi":984127,"ray-end":984128,"ray-end-arrow":984129,"ray-start":984130,"ray-start-arrow":984131,"ray-start-end":984132,"ray-start-vertex-end":988632,"ray-vertex":984133,"razor-double-edge":989591,"razor-single-edge":989592,"react":984840,"read":984135,"receipt":984137,"record":984138,"record-circle":986818,"record-circle-outline":986819,"record-player":985498,"record-rec":984139,"rectangle":986718,"rectangle-outline":986719,"recycle":984140,"recycle-variant":988061,"reddit":984141,"redhat":987419,"redo":984142,"redo-variant":984143,"reflect-horizontal":985614,"reflect-vertical":985615,"refresh":984144,"refresh-auto":989426,"refresh-circle":988023,"regex":984145,"registered-trademark":985703,"reiterate":988552,"relation-many-to-many":988310,"relation-many-to-one":988311,"relation-many-to-one-or-many":988312,"relation-many-to-only-one":988313,"relation-many-to-zero-or-many":988314,"relation-many-to-zero-or-one":988315,"relation-one-or-many-to-many":988316,"relation-one-or-many-to-one":988317,"relation-one-or-many-to-one-or-many":988318,"relation-one-or-many-to-only-one":988319,"relation-one-or-many-to-zero-or-many":988320,"relation-one-or-many-to-zero-or-one":988321,"relation-one-to-many":988322,"relation-one-to-one":988323,"relation-one-to-one-or-many":988324,"relation-one-to-only-one":988325,"relation-one-to-zero-or-many":988326,"relation-one-to-zero-or-one":988327,"relation-only-one-to-many":988328,"relation-only-one-to-one":988329,"relation-only-one-to-one-or-many":988330,"relation-only-one-to-only-one":988331,"relation-only-one-to-zero-or-many":988332,"relation-only-one-to-zero-or-one":988333,"relation-zero-or-many-to-many":988334,"relation-zero-or-many-to-one":988335,"relation-zero-or-many-to-one-or-many":988336,"relation-zero-or-many-to-only-one":988337,"relation-zero-or-many-to-zero-or-many":988338,"relation-zero-or-many-to-zero-or-one":988339,"relation-zero-or-one-to-many":988340,"relation-zero-or-one-to-one":988341,"relation-zero-or-one-to-one-or-many":988342,"relation-zero-or-one-to-only-one":988343,"relation-zero-or-one-to-zero-or-many":988344,"relation-zero-or-one-to-zero-or-one":988345,"relative-scale":984146,"reload":984147,"reload-alert":987403,"reminder":985228,"remote":984148,"remote-desktop":985273,"remote-off":986820,"remote-tv":986821,"remote-tv-off":986822,"rename-box":984149,"reorder-horizontal":984712,"reorder-vertical":984713,"repeat":984150,"repeat-off":984151,"repeat-once":984152,"repeat-variant":984391,"replay":984153,"reply":984154,"reply-all":984155,"reply-all-outline":986911,"reply-circle":987566,"reply-outline":986912,"reproduction":984156,"resistor":985924,"resistor-nodes":985925,"resize":985704,"resize-bottom-right":984157,"responsive":984158,"restart":984841,"restart-alert":987404,"restart-off":986517,"restore":985499,"restore-alert":987405,"rewind":984159,"rewind-10":986410,"rewind-15":989510,"rewind-30":986518,"rewind-5":987641,"rewind-60":988684,"rewind-outline":984842,"rhombus":984843,"rhombus-medium":985616,"rhombus-medium-outline":988380,"rhombus-outline":984844,"rhombus-split":985617,"rhombus-split-outline":988381,"ribbon":984160,"rice":985066,"rickshaw":988603,"rickshaw-electric":988604,"ring":985067,"rivet":986720,"road":984161,"road-variant":984162,"robber":987224,"robot":984745,"robot-angry":988829,"robot-angry-outline":988830,"robot-confused":988831,"robot-confused-outline":988832,"robot-dead":988833,"robot-dead-outline":988834,"robot-excited":988835,"robot-excited-outline":988836,"robot-happy":988953,"robot-happy-outline":988954,"robot-industrial":985926,"robot-love":988837,"robot-love-outline":988838,"robot-mower":987639,"robot-mower-outline":987635,"robot-off":988839,"robot-off-outline":988795,"robot-outline":988794,"robot-vacuum":984845,"robot-vacuum-variant":985352,"rocket":984163,"rocket-launch":988382,"rocket-launch-outline":988383,"rocket-outline":988079,"rodent":987943,"roller-skate":986411,"roller-skate-off":983365,"rollerblade":986412,"rollerblade-off":983086,"rollupjs":986048,"roman-numeral-1":987272,"roman-numeral-10":987281,"roman-numeral-2":987273,"roman-numeral-3":987274,"roman-numeral-4":987275,"roman-numeral-5":987276,"roman-numeral-6":987277,"roman-numeral-7":987278,"roman-numeral-8":987279,"roman-numeral-9":987280,"room-service":985229,"room-service-outline":986519,"rotate-360":989593,"rotate-3d":986823,"rotate-3d-variant":984164,"rotate-left":984165,"rotate-left-variant":984166,"rotate-orbit":986520,"rotate-right":984167,"rotate-right-variant":984168,"rounded-corner":984583,"router":987618,"router-network":987271,"router-wireless":984169,"router-wireless-off":988579,"router-wireless-settings":985705,"routes":984170,"routes-clock":987225,"rowing":984584,"rss":984171,"rss-box":984172,"rss-off":986913,"rug":988277,"rugby":986521,"ruler":984173,"ruler-square":986306,"ruler-square-compass":986814,"run":984846,"run-fast":984174,"rv-truck":987604,"sack":986414,"sack-percent":986415,"safe":985706,"safe-square":987772,"safe-square-outline":987773,"safety-goggles":986416,"sail-boat":986824,"sale":984175,"salesforce":985230,"sass":985068,"satellite":984176,"satellite-uplink":985353,"satellite-variant":984177,"sausage":985274,"sausage-off":989065,"saw-blade":986721,"sawtooth-wave":988282,"saxophone":984585,"scale":984178,"scale-balance":984529,"scale-bathroom":984179,"scale-off":987226,"scale-unbalanced":989624,"scan-helper":988120,"scanner":984747,"scanner-off":985354,"scatter-plot":986825,"scatter-plot-outline":986826,"scent":989528,"scent-off":989529,"school":984180,"school-outline":987520,"scissors-cutting":985707,"scooter":988605,"scooter-electric":988606,"scoreboard":987774,"scoreboard-outline":987775,"screen-rotation":984181,"screen-rotation-lock":984184,"screw-flat-top":986611,"screw-lag":986612,"screw-machine-flat-top":986613,"screw-machine-round-top":986614,"screw-round-top":986615,"screwdriver":984182,"script":986049,"script-outline":984183,"script-text":986050,"script-text-key":988965,"script-text-key-outline":988966,"script-text-outline":986051,"script-text-play":988967,"script-text-play-outline":988968,"sd":984185,"seal":984186,"seal-variant":987097,"search-web":984847,"seat":986307,"seat-flat":984187,"seat-flat-angled":984188,"seat-individual-suite":984189,"seat-legroom-extra":984190,"seat-legroom-normal":984191,"seat-legroom-reduced":984192,"seat-outline":986308,"seat-passenger":987721,"seat-recline-extra":984193,"seat-recline-normal":984194,"seatbelt":986309,"security":984195,"security-network":984196,"seed":986722,"seed-off":988157,"seed-off-outline":988158,"seed-outline":986723,"seesaw":988580,"segment":986827,"select":984197,"select-all":984198,"select-color":986417,"select-compare":985817,"select-drag":985708,"select-group":987010,"select-inverse":984199,"select-marker":987776,"select-multiple":987777,"select-multiple-marker":987778,"select-off":984200,"select-place":987098,"select-remove":989121,"select-search":987652,"selection":984201,"selection-drag":985709,"selection-ellipse":986418,"selection-ellipse-arrow-inside":986914,"selection-ellipse-remove":989122,"selection-marker":987779,"selection-multiple":987781,"selection-multiple-marker":987780,"selection-off":984951,"selection-remove":989123,"selection-search":987653,"semantic-web":987926,"send":984202,"send-check":987489,"send-check-outline":987490,"send-circle":986616,"send-circle-outline":986617,"send-clock":987491,"send-clock-outline":987492,"send-lock":985069,"send-lock-outline":987494,"send-outline":987493,"serial-port":984668,"server":984203,"server-minus":984204,"server-network":984205,"server-network-off":984206,"server-off":984207,"server-plus":984208,"server-remove":984209,"server-security":984210,"set-all":984952,"set-center":984953,"set-center-right":984954,"set-left":984955,"set-left-center":984956,"set-left-right":984957,"set-merge":988384,"set-none":984958,"set-right":984959,"set-split":988385,"set-square":988253,"set-top-box":985503,"settings-helper":985710,"shaker":987406,"shaker-outline":987407,"shape":985137,"shape-circle-plus":984669,"shape-outline":985138,"shape-oval-plus":987642,"shape-plus":984213,"shape-polygon-plus":984670,"shape-rectangle-plus":984671,"shape-square-plus":984672,"shape-square-rounded-plus":988410,"share":984214,"share-all":987636,"share-all-outline":987637,"share-circle":987565,"share-off":986915,"share-off-outline":986916,"share-outline":985394,"share-variant":984215,"share-variant-outline":988436,"shark":989370,"shark-fin":988787,"shark-fin-outline":988788,"shark-off":989371,"sheep":986310,"shield":984216,"shield-account":985231,"shield-account-outline":985618,"shield-account-variant":988583,"shield-account-variant-outline":988584,"shield-airplane":984763,"shield-airplane-outline":986311,"shield-alert":986828,"shield-alert-outline":986829,"shield-bug":988122,"shield-bug-outline":988123,"shield-car":987011,"shield-check":984421,"shield-check-outline":986312,"shield-cross":986313,"shield-cross-outline":986314,"shield-crown":989372,"shield-crown-outline":989373,"shield-edit":987552,"shield-edit-outline":987553,"shield-half":988000,"shield-half-full":984960,"shield-home":984714,"shield-home-outline":986315,"shield-key":986052,"shield-key-outline":986053,"shield-link-variant":986419,"shield-link-variant-outline":986420,"shield-lock":985501,"shield-lock-open":989594,"shield-lock-open-outline":989595,"shield-lock-outline":986316,"shield-moon":989224,"shield-moon-outline":989225,"shield-off":985502,"shield-off-outline":985500,"shield-outline":984217,"shield-plus":985818,"shield-plus-outline":985819,"shield-refresh":983210,"shield-refresh-outline":983520,"shield-remove":985820,"shield-remove-outline":985821,"shield-search":986522,"shield-star":987451,"shield-star-outline":987452,"shield-sun":987229,"shield-sun-outline":987230,"shield-sword":989374,"shield-sword-outline":989375,"shield-sync":987554,"shield-sync-outline":987555,"shimmer":988485,"ship-wheel":985139,"shipping-pallet":989262,"shoe-ballet":988618,"shoe-cleat":988615,"shoe-formal":985927,"shoe-heel":985928,"shoe-print":986618,"shoe-sneaker":988616,"shopping":984218,"shopping-music":984219,"shopping-outline":987605,"shopping-search":987012,"shore":988409,"shovel":984848,"shovel-off":984849,"shower":985504,"shower-head":985505,"shredder":984220,"shuffle":984221,"shuffle-disabled":984222,"shuffle-variant":984223,"shuriken":988031,"sickle":989376,"sigma":984224,"sigma-lower":984619,"sign-caution":984225,"sign-direction":984961,"sign-direction-minus":987136,"sign-direction-plus":987100,"sign-direction-remove":987101,"sign-pole":988408,"sign-real-estate":987416,"sign-text":984962,"signal":984226,"signal-2g":984850,"signal-3g":984851,"signal-4g":984852,"signal-5g":985711,"signal-cellular-1":985276,"signal-cellular-2":985277,"signal-cellular-3":985278,"signal-cellular-outline":985279,"signal-distance-variant":986724,"signal-hspa":984853,"signal-hspa-plus":984854,"signal-off":984963,"signal-variant":984586,"signature":986619,"signature-freehand":986620,"signature-image":986621,"signature-text":986622,"silo":985929,"silverware":984227,"silverware-clean":987102,"silverware-fork":984228,"silverware-fork-knife":985712,"silverware-spoon":984229,"silverware-variant":984230,"sim":984231,"sim-alert":984232,"sim-alert-outline":988627,"sim-off":984233,"sim-off-outline":988628,"sim-outline":988629,"simple-icons":987933,"sina-weibo":985823,"sine-wave":985435,"sitemap":984234,"sitemap-outline":989596,"size-l":988070,"size-m":988069,"size-s":988068,"size-xl":988071,"size-xs":988067,"size-xxl":988072,"size-xxs":988066,"size-xxxl":988073,"skate":986421,"skate-off":984729,"skateboard":988354,"skateboarding":984321,"skew-less":986422,"skew-more":986423,"ski":987908,"ski-cross-country":987909,"ski-water":987910,"skip-backward":984235,"skip-backward-outline":986917,"skip-forward":984236,"skip-forward-outline":986918,"skip-next":984237,"skip-next-circle":984673,"skip-next-circle-outline":984674,"skip-next-outline":986919,"skip-previous":984238,"skip-previous-circle":984675,"skip-previous-circle-outline":984676,"skip-previous-outline":986920,"skull":984716,"skull-crossbones":986054,"skull-crossbones-outline":986055,"skull-outline":986056,"skull-scan":988359,"skull-scan-outline":988360,"skype":984239,"skype-business":984240,"slack":984241,"slash-forward":987103,"slash-forward-box":987104,"sledding":984091,"sleep":984242,"sleep-off":984243,"slide":988581,"slope-downhill":986623,"slope-uphill":986624,"slot-machine":987412,"slot-machine-outline":987413,"smart-card":987325,"smart-card-off":989431,"smart-card-off-outline":989432,"smart-card-outline":987326,"smart-card-reader":987327,"smart-card-reader-outline":987328,"smog":985713,"smoke":989081,"smoke-detector":983954,"smoke-detector-alert":989486,"smoke-detector-alert-outline":989487,"smoke-detector-off":989193,"smoke-detector-off-outline":989194,"smoke-detector-outline":989192,"smoke-detector-variant":989195,"smoke-detector-variant-alert":989488,"smoke-detector-variant-off":989196,"smoking":984244,"smoking-off":984245,"smoking-pipe":988173,"smoking-pipe-off":988200,"snail":988791,"snake":988430,"snapchat":984246,"snowboard":987911,"snowflake":984855,"snowflake-alert":986921,"snowflake-melt":987851,"snowflake-off":988387,"snowflake-variant":986922,"snowman":984247,"snowmobile":984797,"soccer":984248,"soccer-field":985140,"social-distance-2-meters":988537,"social-distance-6-feet":988538,"sofa":984249,"sofa-outline":988525,"sofa-single":988526,"sofa-single-outline":988527,"solar-panel":986523,"solar-panel-large":986524,"solar-power":985714,"soldering-iron":987282,"solid":984717,"sony-playstation":984084,"sort":984250,"sort-alphabetical-ascending":984509,"sort-alphabetical-ascending-variant":987464,"sort-alphabetical-descending":984511,"sort-alphabetical-descending-variant":987465,"sort-alphabetical-variant":984251,"sort-ascending":984252,"sort-bool-ascending":988037,"sort-bool-ascending-variant":988038,"sort-bool-descending":988039,"sort-bool-descending-variant":988040,"sort-calendar-ascending":988487,"sort-calendar-descending":988488,"sort-clock-ascending":988489,"sort-clock-ascending-outline":988490,"sort-clock-descending":988491,"sort-clock-descending-outline":988492,"sort-descending":984253,"sort-numeric-ascending":988041,"sort-numeric-ascending-variant":985357,"sort-numeric-descending":988042,"sort-numeric-descending-variant":985810,"sort-numeric-variant":984254,"sort-reverse-variant":983868,"sort-variant":984255,"sort-variant-lock":986317,"sort-variant-lock-open":986318,"sort-variant-remove":987463,"soundbar":989147,"soundcloud":984256,"source-branch":984620,"source-branch-check":988367,"source-branch-minus":988363,"source-branch-plus":988362,"source-branch-refresh":988365,"source-branch-remove":988364,"source-branch-sync":988366,"source-commit":984856,"source-commit-end":984857,"source-commit-end-local":984858,"source-commit-local":984859,"source-commit-next-local":984860,"source-commit-start":984861,"source-commit-start-next-local":984862,"source-fork":984257,"source-merge":984621,"source-pull":984258,"source-repository":986319,"source-repository-multiple":986320,"soy-sauce":985070,"soy-sauce-off":988156,"spa":986321,"spa-outline":986322,"space-invaders":986057,"space-station":988035,"spade":986725,"speaker":984259,"speaker-bluetooth":985506,"speaker-multiple":986424,"speaker-off":984260,"speaker-wireless":984863,"spear":989253,"speedometer":984261,"speedometer-medium":987013,"speedometer-slow":987014,"spellcheck":984262,"sphere":989524,"sphere-off":989525,"spider":987626,"spider-thread":987627,"spider-web":986058,"spirit-level":988401,"spoon-sugar":988201,"spotify":984263,"spotlight":984264,"spotlight-beam":984265,"spray":984677,"spray-bottle":985824,"sprinkler":987231,"sprinkler-fire":989597,"sprinkler-variant":987232,"sprout":986726,"sprout-outline":986727,"square":984932,"square-circle":988416,"square-edit-outline":985356,"square-medium":985619,"square-medium-outline":985620,"square-off":987886,"square-off-outline":987887,"square-opacity":989268,"square-outline":984931,"square-root":984964,"square-root-box":985507,"square-rounded":988411,"square-rounded-outline":988412,"square-small":985621,"square-wave":988283,"squeegee":985825,"ssh":985280,"stack-exchange":984587,"stack-overflow":984268,"stackpath":983897,"stadium":987129,"stadium-variant":984864,"stairs":984269,"stairs-box":988062,"stairs-down":987838,"stairs-up":987837,"stamper":986425,"standard-definition":985071,"star":984270,"star-box":985715,"star-box-multiple":987782,"star-box-multiple-outline":987783,"star-box-outline":985716,"star-check":988518,"star-check-outline":988522,"star-circle":984271,"star-circle-outline":985508,"star-cog":988776,"star-cog-outline":988777,"star-crescent":985465,"star-david":985466,"star-face":985509,"star-four-points":985826,"star-four-points-outline":985827,"star-half":983622,"star-half-full":984272,"star-minus":988516,"star-minus-outline":988520,"star-off":984273,"star-off-outline":988507,"star-outline":984274,"star-plus":988515,"star-plus-outline":988519,"star-remove":988517,"star-remove-outline":988521,"star-settings":988778,"star-settings-outline":988779,"star-shooting":988993,"star-shooting-outline":988994,"star-three-points":985828,"star-three-points-outline":985829,"state-machine":987631,"steam":984275,"steering":984276,"steering-off":985358,"step-backward":984277,"step-backward-2":984278,"step-forward":984279,"step-forward-2":984280,"stethoscope":984281,"sticker":988004,"sticker-alert":988005,"sticker-alert-outline":988006,"sticker-check":988007,"sticker-check-outline":988008,"sticker-circle-outline":984528,"sticker-emoji":984965,"sticker-minus":988009,"sticker-minus-outline":988010,"sticker-outline":988011,"sticker-plus":988012,"sticker-plus-outline":988013,"sticker-remove":988014,"sticker-remove-outline":988015,"sticker-text":989070,"sticker-text-outline":989071,"stocking":984282,"stomach":987283,"stool":989533,"stool-outline":989534,"stop":984283,"stop-circle":984678,"stop-circle-outline":984679,"store":984284,"store-24-hour":984285,"store-alert":989377,"store-alert-outline":989378,"store-check":989379,"store-check-outline":989380,"store-clock":989381,"store-clock-outline":989382,"store-cog":989383,"store-cog-outline":989384,"store-edit":989385,"store-edit-outline":989386,"store-marker":989387,"store-marker-outline":989388,"store-minus":988766,"store-minus-outline":989389,"store-off":989390,"store-off-outline":989391,"store-outline":988001,"store-plus":988767,"store-plus-outline":989392,"store-remove":988768,"store-remove-outline":989393,"store-search":989394,"store-search-outline":989395,"store-settings":989396,"store-settings-outline":989397,"storefront":985031,"storefront-outline":987329,"stove":984286,"strategy":987606,"stretch-to-page":986923,"stretch-to-page-outline":986924,"string-lights":987834,"string-lights-off":987835,"subdirectory-arrow-left":984588,"subdirectory-arrow-right":984589,"submarine":988524,"subtitles":985622,"subtitles-outline":985623,"subway":984748,"subway-alert-variant":986525,"subway-variant":984287,"summit":984966,"sun-compass":989605,"sun-snowflake":989078,"sun-thermometer":989398,"sun-thermometer-outline":989399,"sun-wireless":989182,"sun-wireless-outline":989183,"sunglasses":984288,"surfing":988998,"surround-sound":984517,"surround-sound-2-0":985072,"surround-sound-2-1":988969,"surround-sound-3-1":985073,"surround-sound-5-1":985074,"surround-sound-5-1-2":988970,"surround-sound-7-1":985075,"svg":984865,"swap-horizontal":984289,"swap-horizontal-bold":986061,"swap-horizontal-circle":987105,"swap-horizontal-circle-outline":987106,"swap-horizontal-variant":985281,"swap-vertical":984290,"swap-vertical-bold":986062,"swap-vertical-circle":987107,"swap-vertical-circle-outline":987108,"swap-vertical-variant":985282,"swim":984291,"switch":984292,"sword":984293,"sword-cross":984967,"syllabary-hangul":987955,"syllabary-hiragana":987956,"syllabary-katakana":987957,"syllabary-katakana-halfwidth":987958,"symbol":988417,"symfony":985830,"sync":984294,"sync-alert":984295,"sync-circle":988024,"sync-off":984296,"tab":984297,"tab-minus":985931,"tab-plus":984924,"tab-remove":985932,"tab-search":989598,"tab-unselected":984298,"table":984299,"table-account":988089,"table-alert":988090,"table-arrow-down":988091,"table-arrow-left":988092,"table-arrow-right":988093,"table-arrow-up":988094,"table-border":985624,"table-cancel":988095,"table-chair":987233,"table-check":988096,"table-clock":988097,"table-cog":988098,"table-column":985141,"table-column-plus-after":984300,"table-column-plus-before":984301,"table-column-remove":984302,"table-column-width":984303,"table-edit":984304,"table-eye":987284,"table-eye-off":988099,"table-furniture":984508,"table-headers-eye":987677,"table-headers-eye-off":987678,"table-heart":988100,"table-key":988101,"table-large":984305,"table-large-plus":987015,"table-large-remove":987016,"table-lock":988102,"table-merge-cells":985510,"table-minus":988103,"table-multiple":988104,"table-network":988105,"table-of-contents":985142,"table-off":988106,"table-picnic":988995,"table-pivot":989244,"table-plus":985717,"table-refresh":988064,"table-remove":985718,"table-row":985143,"table-row-height":984306,"table-row-plus-after":984307,"table-row-plus-before":984308,"table-row-remove":984309,"table-search":985359,"table-settings":985144,"table-split-cell":988202,"table-star":988107,"table-sync":988065,"table-tennis":986728,"tablet":984310,"tablet-android":984311,"tablet-cellphone":985511,"tablet-dashboard":986830,"taco":984930,"tag":984313,"tag-arrow-down":988971,"tag-arrow-down-outline":988972,"tag-arrow-left":988973,"tag-arrow-left-outline":988974,"tag-arrow-right":988975,"tag-arrow-right-outline":988976,"tag-arrow-up":988977,"tag-arrow-up-outline":988978,"tag-faces":984314,"tag-heart":984715,"tag-heart-outline":986063,"tag-minus":985360,"tag-minus-outline":987679,"tag-multiple":984315,"tag-multiple-outline":987895,"tag-off":987680,"tag-off-outline":987681,"tag-outline":984316,"tag-plus":984866,"tag-plus-outline":987682,"tag-remove":984867,"tag-remove-outline":987683,"tag-search":989447,"tag-search-outline":989448,"tag-text":987684,"tag-text-outline":984317,"tailwind":988159,"tangram":984312,"tank":986426,"tanker-truck":987109,"tape-drive":988895,"tape-measure":985933,"target":984318,"target-account":986064,"target-variant":985719,"taxi":984319,"tea":986526,"tea-outline":986527,"teamviewer":984320,"teddy-bear":989435,"telescope":985934,"television":984322,"television-ambient-light":987990,"television-box":985145,"television-classic":985076,"television-classic-off":985146,"television-guide":984323,"television-off":985147,"television-pause":987017,"television-play":986831,"television-shimmer":987408,"television-stop":987018,"temperature-celsius":984324,"temperature-fahrenheit":984325,"temperature-kelvin":984326,"tennis":986528,"tennis-ball":984327,"tent":984328,"terraform":987234,"terrain":984329,"test-tube":984680,"test-tube-empty":985361,"test-tube-off":985362,"text":985512,"text-account":988528,"text-box":983578,"text-box-check":986790,"text-box-check-outline":986791,"text-box-minus":986792,"text-box-minus-outline":986793,"text-box-multiple":985783,"text-box-multiple-outline":985784,"text-box-outline":985581,"text-box-plus":986794,"text-box-plus-outline":986795,"text-box-remove":986796,"text-box-remove-outline":986797,"text-box-search":986798,"text-box-search-outline":986799,"text-long":985514,"text-recognition":987453,"text-search":988088,"text-shadow":984681,"text-short":985513,"text-to-speech":984330,"text-to-speech-off":984331,"texture":984332,"texture-box":987110,"theater":984333,"theme-light-dark":984334,"thermometer":984335,"thermometer-alert":986625,"thermometer-bluetooth":989333,"thermometer-chevron-down":986626,"thermometer-chevron-up":986627,"thermometer-high":987330,"thermometer-lines":984336,"thermometer-low":987331,"thermometer-minus":986628,"thermometer-off":988465,"thermometer-plus":986629,"thermostat":983955,"thermostat-box":985233,"thought-bubble":985078,"thought-bubble-outline":985079,"thumb-down":984337,"thumb-down-outline":984338,"thumb-up":984339,"thumb-up-outline":984340,"thumbs-up-down":984341,"thumbs-up-down-outline":989460,"ticket":984342,"ticket-account":984343,"ticket-confirmation":984344,"ticket-confirmation-outline":988074,"ticket-outline":985363,"ticket-percent":984868,"ticket-percent-outline":988203,"tie":984345,"tilde":984869,"tilde-off":989427,"timelapse":984346,"timeline":986065,"timeline-alert":987029,"timeline-alert-outline":987032,"timeline-check":988466,"timeline-check-outline":988467,"timeline-clock":987643,"timeline-clock-outline":987644,"timeline-help":987033,"timeline-help-outline":987034,"timeline-minus":988468,"timeline-minus-outline":988469,"timeline-outline":986066,"timeline-plus":987030,"timeline-plus-outline":987031,"timeline-remove":988470,"timeline-remove-outline":988471,"timeline-text":986067,"timeline-text-outline":986068,"timer":988075,"timer-10":984348,"timer-3":984349,"timer-cog":989477,"timer-cog-outline":989478,"timer-off":988076,"timer-off-outline":984350,"timer-outline":984347,"timer-sand":984351,"timer-sand-complete":989599,"timer-sand-empty":984749,"timer-sand-full":984972,"timer-sand-paused":989600,"timer-settings":989475,"timer-settings-outline":989476,"timetable":984352,"tire":989334,"toaster":987235,"toaster-off":987575,"toaster-oven":986323,"toggle-switch":984353,"toggle-switch-off":984354,"toggle-switch-off-outline":985625,"toggle-switch-outline":985626,"toilet":985515,"toolbox":985516,"toolbox-outline":985517,"tools":987236,"tooltip":984355,"tooltip-account":983052,"tooltip-cellphone":989243,"tooltip-check":988508,"tooltip-check-outline":988509,"tooltip-edit":984356,"tooltip-edit-outline":987845,"tooltip-image":984357,"tooltip-image-outline":986069,"tooltip-minus":988510,"tooltip-minus-outline":988511,"tooltip-outline":984358,"tooltip-plus":986070,"tooltip-plus-outline":984359,"tooltip-remove":988512,"tooltip-remove-outline":988513,"tooltip-text":984360,"tooltip-text-outline":986071,"tooth":985283,"tooth-outline":984361,"toothbrush":987433,"toothbrush-electric":987436,"toothbrush-paste":987434,"torch":988678,"tortoise":986427,"toslink":987832,"tournament":985518,"tow-truck":985148,"tower-beach":984705,"tower-fire":984706,"town-hall":989301,"toy-brick":987784,"toy-brick-marker":987785,"toy-brick-marker-outline":987786,"toy-brick-minus":987787,"toy-brick-minus-outline":987788,"toy-brick-outline":987789,"toy-brick-plus":987790,"toy-brick-plus-outline":987791,"toy-brick-remove":987792,"toy-brick-remove-outline":987793,"toy-brick-search":987794,"toy-brick-search-outline":987795,"track-light":985364,"trackpad":985080,"trackpad-lock":985395,"tractor":985234,"tractor-variant":988356,"trademark":985720,"traffic-cone":988028,"traffic-light":984363,"traffic-light-outline":989226,"train":984364,"train-car":986072,"train-car-passenger":988979,"train-car-passenger-door":988980,"train-car-passenger-door-open":988981,"train-car-passenger-variant":988982,"train-variant":985284,"tram":984365,"tram-side":987111,"transcribe":984366,"transcribe-close":984367,"transfer":987237,"transfer-down":986529,"transfer-left":986530,"transfer-right":984368,"transfer-up":986531,"transit-connection":986428,"transit-connection-horizontal":988486,"transit-connection-variant":986429,"transit-detour":987019,"transit-skip":988437,"transit-transfer":984750,"transition":985365,"transition-masked":985366,"translate":984522,"translate-off":986630,"transmission-tower":986430,"transmission-tower-export":989484,"transmission-tower-import":989485,"trash-can":985721,"trash-can-outline":985722,"tray":987796,"tray-alert":987797,"tray-arrow-down":983328,"tray-arrow-up":983325,"tray-full":987798,"tray-minus":987799,"tray-plus":987800,"tray-remove":987801,"treasure-chest":984870,"tree":984369,"tree-outline":986729,"trello":984370,"trending-down":984371,"trending-neutral":984372,"trending-up":984373,"triangle":984374,"triangle-outline":984375,"triangle-wave":988284,"triforce":986073,"trophy":984376,"trophy-award":984377,"trophy-broken":986532,"trophy-outline":984378,"trophy-variant":984379,"trophy-variant-outline":984380,"truck":984381,"truck-cargo-container":989400,"truck-check":986324,"truck-check-outline":987802,"truck-delivery":984382,"truck-delivery-outline":987803,"truck-fast":984968,"truck-fast-outline":987804,"truck-flatbed":989329,"truck-minus":989614,"truck-minus-outline":989629,"truck-outline":987805,"truck-plus":989613,"truck-plus-outline":989628,"truck-remove":989615,"truck-remove-outline":989630,"truck-snowflake":989606,"truck-trailer":984871,"trumpet":987286,"tshirt-crew":985723,"tshirt-crew-outline":984383,"tshirt-v":985724,"tshirt-v-outline":984384,"tumble-dryer":985367,"tumble-dryer-alert":987578,"tumble-dryer-off":987579,"tune":984622,"tune-variant":988482,"tune-vertical":984682,"tune-vertical-variant":988483,"tunnel":989245,"tunnel-outline":989246,"turkey":988955,"turnstile":986325,"turnstile-outline":986326,"turtle":986327,"twitch":984387,"twitter":984388,"two-factor-authentication":985519,"typewriter":986925,"ubisoft":986074,"ubuntu":984392,"ufo":987332,"ufo-outline":987333,"ultra-high-definition":985081,"umbraco":984393,"umbrella":984394,"umbrella-beach":989322,"umbrella-beach-outline":989323,"umbrella-closed":985520,"umbrella-closed-outline":988130,"umbrella-closed-variant":988129,"umbrella-outline":984395,"undo":984396,"undo-variant":984397,"unfold-less-horizontal":984398,"unfold-less-vertical":984928,"unfold-more-horizontal":984399,"unfold-more-vertical":984929,"ungroup":984400,"unicode":986832,"unicorn":988610,"unicorn-variant":988611,"unicycle":988645,"unity":984751,"unreal":985521,"update":984752,"upload":984402,"upload-lock":988019,"upload-lock-outline":988020,"upload-multiple":985149,"upload-network":984822,"upload-network-outline":986328,"upload-off":987334,"upload-off-outline":987335,"upload-outline":986631,"usb":984403,"usb-flash-drive":987806,"usb-flash-drive-outline":987807,"usb-port":987632,"vacuum":989601,"vacuum-outline":989602,"valve":987238,"valve-closed":987239,"valve-open":987240,"van-passenger":985082,"van-utility":985083,"vanish":985084,"vanish-quarter":988500,"vanity-light":987617,"variable":985831,"variable-box":987409,"vector-arrange-above":984404,"vector-arrange-below":984405,"vector-bezier":985832,"vector-circle":984406,"vector-circle-variant":984407,"vector-combine":984408,"vector-curve":984409,"vector-difference":984410,"vector-difference-ab":984411,"vector-difference-ba":984412,"vector-ellipse":985235,"vector-intersection":984413,"vector-line":984414,"vector-link":987112,"vector-point":984415,"vector-polygon":984416,"vector-polygon-variant":989270,"vector-polyline":984417,"vector-polyline-edit":987685,"vector-polyline-minus":987686,"vector-polyline-plus":987687,"vector-polyline-remove":987688,"vector-radius":984906,"vector-rectangle":984518,"vector-selection":984418,"vector-square":983041,"vector-square-close":989271,"vector-square-edit":989401,"vector-square-minus":989402,"vector-square-open":989272,"vector-square-plus":989403,"vector-square-remove":989404,"vector-triangle":984419,"vector-union":984420,"vhs":985627,"vibrate":984422,"vibrate-off":986329,"video":984423,"video-3d":985085,"video-3d-off":988121,"video-3d-variant":986833,"video-4k-box":985150,"video-account":985369,"video-box":983293,"video-box-off":983294,"video-check":987241,"video-check-outline":987242,"video-high-definition":988462,"video-image":985370,"video-input-antenna":985151,"video-input-component":985152,"video-input-hdmi":985153,"video-input-scart":987020,"video-input-svideo":985154,"video-marker":989609,"video-marker-outline":989610,"video-minus":985522,"video-minus-outline":983738,"video-off":984424,"video-off-outline":986075,"video-outline":986076,"video-plus":985523,"video-plus-outline":983507,"video-stabilization":985371,"video-switch":984425,"video-switch-outline":984976,"video-vintage":985628,"video-wireless":986834,"video-wireless-outline":986835,"view-agenda":984426,"view-agenda-outline":987608,"view-array":984427,"view-array-outline":988293,"view-carousel":984428,"view-carousel-outline":988294,"view-column":984429,"view-column-outline":988295,"view-comfy":986730,"view-comfy-outline":988296,"view-compact":986731,"view-compact-outline":986732,"view-dashboard":984430,"view-dashboard-edit":989511,"view-dashboard-edit-outline":989512,"view-dashboard-outline":985629,"view-dashboard-variant":985155,"view-dashboard-variant-outline":988297,"view-day":984431,"view-day-outline":988298,"view-gallery":989320,"view-gallery-outline":989321,"view-grid":984432,"view-grid-outline":987609,"view-grid-plus":987021,"view-grid-plus-outline":987610,"view-headline":984433,"view-list":984434,"view-list-outline":988299,"view-module":984435,"view-module-outline":988300,"view-parallel":984872,"view-parallel-outline":988301,"view-quilt":984436,"view-quilt-outline":988302,"view-sequential":984873,"view-sequential-outline":988303,"view-split-horizontal":986059,"view-split-vertical":986060,"view-stream":984437,"view-stream-outline":988304,"view-week":984438,"view-week-outline":988305,"vimeo":984439,"violin":984591,"virtual-reality":985236,"virus":988086,"virus-off":989409,"virus-off-outline":989410,"virus-outline":988087,"vlc":984444,"voicemail":984445,"volleyball":985524,"volume-high":984446,"volume-low":984447,"volume-medium":984448,"volume-minus":984926,"volume-mute":984927,"volume-off":984449,"volume-plus":984925,"volume-source":987424,"volume-variant-off":986632,"volume-vibrate":987425,"vote":985631,"vote-outline":985632,"vpn":984450,"vuejs":985156,"vuetify":986733,"walk":984451,"wall":985086,"wall-sconce":985372,"wall-sconce-flat":985373,"wall-sconce-flat-outline":989129,"wall-sconce-flat-variant":984092,"wall-sconce-flat-variant-outline":989130,"wall-sconce-outline":989131,"wall-sconce-round":984904,"wall-sconce-round-outline":989132,"wall-sconce-round-variant":985374,"wall-sconce-round-variant-outline":989133,"wallet":984452,"wallet-giftcard":984453,"wallet-membership":984454,"wallet-outline":986077,"wallet-plus":987022,"wallet-plus-outline":987023,"wallet-travel":984455,"wallpaper":986633,"wan":984456,"wardrobe":987024,"wardrobe-outline":987025,"warehouse":987009,"washing-machine":984874,"washing-machine-alert":987580,"washing-machine-off":987581,"watch":984457,"watch-export":984458,"watch-export-variant":985237,"watch-import":984459,"watch-import-variant":985238,"watch-variant":985239,"watch-vibrate":984753,"watch-vibrate-off":986330,"water":984460,"water-alert":988418,"water-alert-outline":988419,"water-boiler":987026,"water-boiler-alert":987571,"water-boiler-off":987572,"water-check":988420,"water-check-outline":988421,"water-circle":989190,"water-minus":988422,"water-minus-outline":988423,"water-off":984461,"water-off-outline":988424,"water-opacity":989269,"water-outline":986634,"water-percent":984462,"water-percent-alert":988425,"water-plus":988426,"water-plus-outline":988427,"water-polo":987808,"water-pump":984463,"water-pump-off":987027,"water-remove":988428,"water-remove-outline":988429,"water-sync":989126,"water-well":987243,"water-well-outline":987244,"waterfall":989257,"watering-can":988289,"watering-can-outline":988290,"watermark":984594,"wave":986926,"waveform":988285,"waves":984973,"waves-arrow-left":989273,"waves-arrow-right":989274,"waves-arrow-up":989275,"waze":986078,"weather-cloudy":984464,"weather-cloudy-alert":986927,"weather-cloudy-arrow-right":986734,"weather-cloudy-clock":989430,"weather-fog":984465,"weather-hail":984466,"weather-hazy":986928,"weather-hurricane":985240,"weather-lightning":984467,"weather-lightning-rainy":984702,"weather-night":984468,"weather-night-partly-cloudy":986929,"weather-partly-cloudy":984469,"weather-partly-lightning":986930,"weather-partly-rainy":986931,"weather-partly-snowy":986932,"weather-partly-snowy-rainy":986933,"weather-pouring":984470,"weather-rainy":984471,"weather-snowy":984472,"weather-snowy-heavy":986934,"weather-snowy-rainy":984703,"weather-sunny":984473,"weather-sunny-alert":986935,"weather-sunny-off":988388,"weather-sunset":984474,"weather-sunset-down":984475,"weather-sunset-up":984476,"weather-tornado":986936,"weather-windy":984477,"weather-windy-variant":984478,"web":984479,"web-box":987028,"web-cancel":989072,"web-check":984969,"web-clock":987722,"web-minus":987296,"web-off":985742,"web-plus":983091,"web-refresh":989073,"web-remove":984401,"web-sync":989074,"webcam":984480,"webcam-off":988983,"webhook":984623,"webpack":984875,"webrtc":987720,"wechat":984593,"weight":984481,"weight-gram":986431,"weight-kilogram":984482,"weight-lifter":987485,"weight-pound":985525,"whatsapp":984483,"wheel-barrow":988402,"wheelchair-accessibility":984484,"whistle":985526,"whistle-outline":987836,"white-balance-auto":984485,"white-balance-incandescent":984486,"white-balance-iridescent":984487,"white-balance-sunny":984488,"widgets":984876,"widgets-outline":987989,"wifi":984489,"wifi-alert":988853,"wifi-arrow-down":988854,"wifi-arrow-left":988855,"wifi-arrow-left-right":988856,"wifi-arrow-right":988857,"wifi-arrow-up":988858,"wifi-arrow-up-down":988859,"wifi-cancel":988860,"wifi-check":988861,"wifi-cog":988862,"wifi-lock":988863,"wifi-lock-open":988864,"wifi-marker":988865,"wifi-minus":988866,"wifi-off":984490,"wifi-plus":988867,"wifi-refresh":988868,"wifi-remove":988869,"wifi-settings":988870,"wifi-star":986635,"wifi-strength-1":985375,"wifi-strength-1-alert":985376,"wifi-strength-1-lock":985377,"wifi-strength-1-lock-open":988875,"wifi-strength-2":985378,"wifi-strength-2-alert":985379,"wifi-strength-2-lock":985380,"wifi-strength-2-lock-open":988876,"wifi-strength-3":985381,"wifi-strength-3-alert":985382,"wifi-strength-3-lock":985383,"wifi-strength-3-lock-open":988877,"wifi-strength-4":985384,"wifi-strength-4-alert":985385,"wifi-strength-4-lock":985386,"wifi-strength-4-lock-open":988878,"wifi-strength-alert-outline":985387,"wifi-strength-lock-open-outline":988879,"wifi-strength-lock-outline":985388,"wifi-strength-off":985389,"wifi-strength-off-outline":985390,"wifi-strength-outline":985391,"wifi-sync":988871,"wikipedia":984492,"wind-turbine":986533,"wind-turbine-alert":989611,"wind-turbine-check":989612,"window-close":984493,"window-closed":984494,"window-closed-variant":987611,"window-maximize":984495,"window-minimize":984496,"window-open":984497,"window-open-variant":987612,"window-restore":984498,"window-shutter":987420,"window-shutter-alert":987421,"window-shutter-open":987422,"windsock":988666,"wiper":985833,"wiper-wash":986534,"wiper-wash-alert":989407,"wizard-hat":988279,"wordpress":984500,"wrap":984502,"wrap-disabled":986079,"wrench":984503,"wrench-clock":989603,"wrench-outline":986080,"xamarin":985157,"xml":984512,"xmpp":985087,"yahoo":985935,"yeast":984513,"yin-yang":984704,"yoga":987516,"youtube":984515,"youtube-gaming":985160,"youtube-studio":985159,"youtube-subscription":986432,"youtube-tv":984136,"yurt":988438,"z-wave":985834,"zend":985835,"zigbee":986433,"zip-box":984516,"zip-box-outline":987130,"zip-disk":985635,"zodiac-aquarius":985725,"zodiac-aries":985726,"zodiac-cancer":985727,"zodiac-capricorn":985728,"zodiac-gemini":985729,"zodiac-leo":985730,"zodiac-libra":985731,"zodiac-pisces":985732,"zodiac-sagittarius":985733,"zodiac-scorpio":985734,"zodiac-taurus":985735,"zodiac-virgo":985736,"blank":63116}'),"material-community",pe)},9247:e=>{e.exports={pick:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.flat().filter((function(t){return Object.prototype.hasOwnProperty.call(e,t)})).reduce((function(t,n){return t[n]=e[n],t}),{})},omit:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=new Set(n.flat());return Object.getOwnPropertyNames(e).filter((function(e){return!a.has(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}}},519:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,useAsyncStorage:()=>u});var r=n(986).bind({concatArrays:!0,ignoreUndefined:!0});function a(e,t){return new Promise((function(n,r){try{var a=e();null===t||void 0===t||t(null,a),n(a)}catch(i){null===t||void 0===t||t(i),r(i)}}))}function i(e,t,n){return Promise.all(e).then((function(e){var r,a=null!=(r=null===n||void 0===n?void 0:n(e))?r:null;return null===t||void 0===t||t(null,a),Promise.resolve(a)}),(function(e){return null===t||void 0===t||t(e),Promise.reject(e)}))}var o={getItem:function(e,t){return a((function(){return window.localStorage.getItem(e)}),t)},setItem:function(e,t,n){return a((function(){return window.localStorage.setItem(e,t)}),n)},removeItem:function(e,t){return a((function(){return window.localStorage.removeItem(e)}),t)},mergeItem:function(e,t,n){return a((function(){return function(e,t){var n=window.localStorage.getItem(e);if(n){var a=JSON.parse(n),i=JSON.parse(t),o=JSON.stringify(r(a,i));window.localStorage.setItem(e,o)}else window.localStorage.setItem(e,t)}(e,t)}),n)},clear:function(e){return a((function(){return window.localStorage.clear()}),e)},getAllKeys:function(e){return a((function(){for(var e=window.localStorage.length,t=[],n=0;n<e;n+=1){var r=window.localStorage.key(n)||"";t.push(r)}return t}),e)},flushGetRequests:function(){},multiGet:function(e,t){return i(e.map((function(e){return o.getItem(e)})),t,(function(t){return t.map((function(t,n){return[e[n],t]}))}))},multiSet:function(e,t){return i(e.map((function(e){return o.setItem(e[0],e[1])})),t)},multiRemove:function(e,t){return i(e.map((function(e){return o.removeItem(e)})),t)},multiMerge:function(e,t){return i(e.map((function(e){return o.mergeItem(e[0],e[1])})),t)}};const s=o;function u(e){return{getItem:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.getItem.apply(s,[e].concat(n))},setItem:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.setItem.apply(s,[e].concat(n))},mergeItem:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.mergeItem.apply(s,[e].concat(n))},removeItem:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return s.removeItem.apply(s,[e].concat(n))}}}const l=o},2222:e=>{"use strict";var t=[];e.exports={registerAsset:function(e){return t.push(e)},getAssetByID:function(e){return t[e-1]}}},4485:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertNotComplex:()=>a});var r=n(6984);function a(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&r.util.assert("complex64"!==e.dtype,(function(){return`${t} does not support complex64 tensors in the CPU backend.`}))}))}},354:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MathBackendCPU:()=>g,shared:()=>r,version_cpu:()=>pe});var r={};n.r(r),n.d(r,{addImpl:()=>b.addImpl,bincountImpl:()=>k.bincountImpl,bincountReduceImpl:()=>k.bincountReduceImpl,castImpl:()=>w.castImpl,ceilImpl:()=>x.ceilImpl,concatImpl:()=>S.concatImpl,equalImpl:()=>T.equalImpl,expImpl:()=>E.expImpl,expm1Impl:()=>C.expm1Impl,floorImpl:()=>N.floorImpl,gatherNdImpl:()=>I.gatherNdImpl,gatherV2Impl:()=>_.gatherV2Impl,greaterEqualImpl:()=>A.greaterEqualImpl,greaterImpl:()=>R.greaterImpl,lessEqualImpl:()=>D.lessEqualImpl,lessImpl:()=>O.lessImpl,linSpaceImpl:()=>F.linSpaceImpl,logImpl:()=>$.logImpl,maxImpl:()=>P.maxImpl,maximumImpl:()=>M.maximumImpl,minimumImpl:()=>L.minimumImpl,multiplyImpl:()=>z.multiplyImpl,negImpl:()=>B.negImpl,notEqualImpl:()=>V.notEqualImpl,prodImpl:()=>U.prodImpl,raggedTensorToTensorImpl:()=>G.raggedTensorToTensorImpl,rangeImpl:()=>W.rangeImpl,rsqrtImpl:()=>j.rsqrtImpl,scatterImpl:()=>q.scatterImpl,sigmoidImpl:()=>H.sigmoidImpl,simpleAbsImpl:()=>y.simpleAbsImpl,sliceImpl:()=>K.sliceImpl,sparseFillEmptyRowsImpl:()=>X.sparseFillEmptyRowsImpl,sparseReshapeImpl:()=>Y.sparseReshapeImpl,sparseSegmentReductionImpl:()=>Z.sparseSegmentReductionImpl,sqrtImpl:()=>Q.sqrtImpl,squaredDifferenceImpl:()=>te,stridedSliceImpl:()=>ae.stridedSliceImpl,stringNGramsImpl:()=>ie.stringNGramsImpl,stringSplitImpl:()=>oe.stringSplitImpl,stringToHashBucketFastImpl:()=>se.stringToHashBucketFastImpl,subImpl:()=>ue.subImpl,tileImpl:()=>le.tileImpl,topKImpl:()=>ce.topKImpl,transposeImpl:()=>de.transposeImpl,uniqueImpl:()=>fe.uniqueImpl});var a=n(6984),i=n(5861),o=n(5671),s=n(3144),u=n(7326),l=n(1752),c=n(136),d=n(6215),f=n(1120),p=n(4485);function h(e){var t=m();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(m=function(){return!!e})()}var v=a.kernel_impls.whereImpl,g=function(e){(0,c.default)(n,e);var t=h(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new a.DataStorage((0,u.default)(e),(0,a.engine)()),e}return(0,s.default)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,(0,a.env)().get("IS_NODE")&&a.backend_util.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&a.util.isString(n[0])){var i=n.map((function(e){return a.util.encodeString(e)}));r=this.write(i,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=(0,i.default)((function*(e){return this.readSync(e)}));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var i=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return a.backend_util.mergeRealAndImagArrays(i,o)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return a.util.decodeString(e)}));return(0,a.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,a.buffer)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return(0,a.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e).complexTensorInfos;null!=n&&(this.disposeData(n.real.dataId,!0),this.disposeData(n.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=(0,i.default)((function*(e){var t=a.util.now();return e(),{kernelMs:a.util.now()-t}}));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){(0,p.assertNotComplex)([e],"where");var t=this.readSync(e.dataId);return v(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return(0,l.default)((0,f.default)(n.prototype),"epsilon",this).call(this)}}]),n}(a.KernelBackend);g.nextDataId=0;var y=n(3797),b=n(1115),k=n(8256),w=n(4738),x=n(2622),S=n(8353),T=n(3814),E=n(9486),C=n(6712),N=n(9399),I=n(9721),_=n(5580),R=n(2981),A=n(4736),O=n(7086),D=n(5813),F=n(4763),$=n(6421),P=n(826),M=n(7062),L=n(2266),z=n(2367),B=n(498),V=n(9844),U=n(4166),G=n(2860),W=n(9932),j=n(4245),q=n(9921),H=n(7730),K=n(8151),X=n(912),Y=n(8383),Z=n(1273),Q=n(7607),J=n(222),ee=n(3032),te=(0,J.createSimpleBinaryKernelImpl)((function(e,t){var n=e-t;return n*n})),ne=(0,ee.binaryKernelFunc)(a.SquaredDifference,te),re={kernelName:a.SquaredDifference,backendName:"cpu",kernelFunc:ne},ae=n(8022),ie=n(6357),oe=n(3595),se=n(6434),ue=n(6078),le=n(7183),ce=n(3325),de=n(8016),fe=n(4262),pe="3.20.0";(0,a.registerBackend)("cpu",(function(){return new g}),1);var he=n(1531),me=(0,he.unaryKernelFunc)(a.Elu,(function(e){return e>=0?e:Math.exp(e)-1})),ve={kernelName:a.Elu,backendName:"cpu",kernelFunc:me},ge=n(4588);function ye(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.alpha;(0,p.assertNotComplex)([i],"leakyRelu");for(var s=a.util.sizeFromShape(i.shape),u=n.data.get(i.dataId).values,l=a.util.getTypedArrayFromDType("float32",s),c=0;c<u.length;c++)l[c]=u[c]<0?o*u[c]:u[c];return n.makeTensorInfo(i.shape,"float32",l)}var be={kernelName:a.LeakyRelu,backendName:"cpu",kernelFunc:ye},ke=n(885),we=(0,J.createSimpleBinaryKernelImpl)((function(e,t){return e<0?t*e:e}));function xe(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;(0,p.assertNotComplex)([r,a],"prelu");var i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=we(r.shape,a.shape,i,o,"float32"),u=(0,ke.default)(s,2),l=u[0],c=u[1];return n.makeTensorInfo(c,"float32",l)}var Se={kernelName:a.Prelu,backendName:"cpu",kernelFunc:xe},Te=(0,he.unaryKernelFunc)(a.Relu,(function(e){return Math.max(0,e)})),Ee={kernelName:a.Relu,backendName:"cpu",kernelFunc:Te},Ce=(0,he.unaryKernelFunc)(a.Relu6,(function(e){return Math.min(Math.max(0,e),6)})),Ne={kernelName:a.Relu6,backendName:"cpu",kernelFunc:Ce};function Ie(e,t,n,r,a){if("linear"===n)return(0,ge.identity)({inputs:{x:t},backend:e});if("relu"===n)return Te({inputs:{x:t},backend:e});if("elu"===n)return me({inputs:{x:t},backend:e});if("relu6"===n)return Ce({inputs:{x:t},backend:e});if("prelu"===n)return xe({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return ye({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return(0,H.sigmoid)({inputs:{x:t},backend:e});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}function _e(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.shape,s=a.util.sizeFromShape(i.shape),u=a.util.inferFromImplicitShape(o,s),l=a.util.sizeFromShape(u);a.util.assert(s===l,(function(){return`The new shape (${u}) has ${l} elements and the old shape (${i.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`})),n.incRef(i.dataId);var c=n.data.get(i.dataId);if(null!=c.complexTensorInfos){var d=c.complexTensorInfos.real,f=c.complexTensorInfos.imag;d.shape=u,f.shape=u}return{dataId:i.dataId,shape:u,dtype:i.dtype}}var Re={kernelName:a.Reshape,backendName:"cpu",kernelFunc:_e};function Ae(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.a,o=t.b,s=r.transposeA,u=r.transposeB;(0,p.assertNotComplex)([i,o],"matMul");var l=i.shape.length,c=o.shape.length,d=s?i.shape[l-2]:i.shape[l-1],f=u?o.shape[c-1]:o.shape[c-2],h=s?i.shape[l-1]:i.shape[l-2],m=u?o.shape[c-2]:o.shape[c-1],v=i.shape.slice(0,-2),g=o.shape.slice(0,-2),y=a.util.sizeFromShape(v),b=a.util.sizeFromShape(g),k=a.broadcast_util.assertAndGetBroadcastShape(i.shape.slice(0,-2),o.shape.slice(0,-2)).concat([h,m]);a.util.assert(d===f,(function(){return`Error in matMul: inner shapes (${d}) and (${f}) of Tensors with shapes ${i.shape} and ${o.shape} and transposeA=${s} and transposeB=${u} must match.`}));for(var w=u?[b,m,f]:[b,f,m],x=_e({inputs:{x:i},backend:n,attrs:{shape:s?[y,d,h]:[y,h,d]}}),S=_e({inputs:{x:o},backend:n,attrs:{shape:w}}),T=s?x.shape[1]:x.shape[2],E=s?x.shape[2]:x.shape[1],C=u?S.shape[1]:S.shape[2],N=Math.max(y,b),I=n.data.get(x.dataId).values,_=n.data.get(S.dataId).values,R=a.util.computeStrides(x.shape),A=a.util.computeStrides(S.shape),O=s?[R[0],1,R[1]]:[R[0],R[1],1],D=(0,ke.default)(O,3),F=D[0],$=D[1],P=D[2],M=u?[1,A[1],A[0]]:[A[1],1,A[0]],L=(0,ke.default)(M,3),z=L[0],B=L[1],V=L[2],U=E*C,G=(0,a.buffer)([N,E,C],x.dtype),W=G.values,j=n.blockSize,q=0;q<N;q++)for(var H=0;H<E;H+=j)for(var K=0;K<C;K+=j)for(var X=0;X<T;X+=j)for(var Y=Math.min(H+j,E),Z=Math.min(K+j,C),Q=Math.min(X+j,T),J=H;J<Y;J++)for(var ee=K;ee<Z;ee++){for(var te=0,ne=X;ne<Q;ne++){var re=Math.min(q,y-1)*F,ae=Math.min(q,b-1)*V;te+=I[re+J*$+ne*P]*_[ne*z+ee*B+ae]}W[q*U+(J*C+ee)]+=te}return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(S),n.makeTensorInfo(k,G.dtype,G.values)}var Oe={kernelName:a.BatchMatMul,backendName:"cpu",kernelFunc:Ae};var De={kernelName:a._FusedMatMul,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,i=e.backend,o=e.attrs,s=a.a,u=a.b,l=a.bias,c=a.preluActivationWeights,d=o.transposeA,f=o.transposeB,p=o.activation,h=o.leakyreluAlpha,m=[],v=Ae({inputs:{a:s,b:u},attrs:{transposeA:d,transposeB:f},backend:i});for(var g of(t=v,l&&(n=(0,b.add)({inputs:{a:t,b:l},backend:i}),m.push(t),t=n),p&&(r=Ie(i,t,p,c,h),m.push(t),t=r),m))i.disposeIntermediateTensorInfo(g);return t}},Fe=(0,he.unaryKernelFunc)(a.Acos,(function(e){return Math.acos(e)})),$e={kernelName:a.Acos,backendName:"cpu",kernelFunc:Fe},Pe=(0,he.unaryKernelFunc)(a.Acosh,(function(e){return Math.acosh(e)})),Me={kernelName:a.Acosh,backendName:"cpu",kernelFunc:Pe};var Le={kernelName:a.AddN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;(0,p.assertNotComplex)(t,"addN");for(var i=r.map((function(e){return n.data.get(e.dataId).values})),o=(0,a.buffer)(r[0].shape,r[0].dtype),s=o.values,u=0;u<r.length;u++)for(var l=i[u],c=0;c<s.length;c++)s[c]+=l[c];return n.makeTensorInfo(o.shape,o.dtype,o.values)}},ze=n(6147);var Be={kernelName:a.All,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis,s=r.keepDims;(0,p.assertNotComplex)(i,"all");var u=a.util.parseAxisParam(o,i.shape),l=u,c=a.backend_util.getAxesPermutation(l,i.shape.length),d=i;null!=c&&(d=(0,ze.transpose)({inputs:{x:i},backend:n,attrs:{perm:c}}),l=a.backend_util.getInnerMostAxes(l.length,i.shape.length)),a.backend_util.assertAxesAreInnerMostDims("all",l,d.shape.length);for(var f=a.backend_util.computeOutAndReduceShapes(d.shape,l),h=(0,ke.default)(f,2),m=h[0],v=h[1],g=a.util.sizeFromShape(v),y=a.util.makeZerosTypedArray(a.util.sizeFromShape(m),d.dtype),b=n.data.get(d.dataId).values,k=0;k<y.length;++k){for(var w=k*g,x=b[w],S=0;S<g;++S){var T=b[w+S];x=x&&T}y[k]=x}null!=c&&n.disposeIntermediateTensorInfo(d);var E=n.makeTensorInfo(m,d.dtype,y);if(s){var C=_e({inputs:{x:E},backend:n,attrs:{shape:a.backend_util.expandShapeToKeepDim(m,u)}});return n.disposeIntermediateTensorInfo(E),C}return E}};var Ve={kernelName:a.Any,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis,s=r.keepDims;(0,p.assertNotComplex)(i,"any");var u=a.util.parseAxisParam(o,i.shape),l=u,c=a.backend_util.getAxesPermutation(l,i.shape.length),d=i;null!=c&&(d=(0,ze.transpose)({inputs:{x:i},backend:n,attrs:{perm:c}}),l=a.backend_util.getInnerMostAxes(l.length,i.shape.length)),a.backend_util.assertAxesAreInnerMostDims("any",l,d.shape.length);for(var f=a.backend_util.computeOutAndReduceShapes(d.shape,l),h=(0,ke.default)(f,2),m=h[0],v=h[1],g=a.util.sizeFromShape(v),y=a.util.makeZerosTypedArray(a.util.sizeFromShape(m),d.dtype),b=n.data.get(d.dataId).values,k=0;k<y.length;++k){for(var w=k*g,x=b[w],S=0;S<g;++S){var T=b[w+S];x=x||T}y[k]=x}null!=c&&n.disposeIntermediateTensorInfo(d);var E=n.makeTensorInfo(m,d.dtype,y);if(s){var C=_e({inputs:{x:E},backend:n,attrs:{shape:a.backend_util.expandShapeToKeepDim(m,u)}});return n.disposeIntermediateTensorInfo(E),C}return E}};var Ue={kernelName:a.ArgMax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis;(0,p.assertNotComplex)(i,"argMax");var s=a.util.parseAxisParam(o,i.shape),u=a.backend_util.getAxesPermutation(s,i.shape.length),l=i,c=[];null!=u&&(l=(0,ze.transpose)({inputs:{x:i},backend:n,attrs:{perm:u}}),c.push(l),s=a.backend_util.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],a.backend_util.assertAxesAreInnerMostDims("argMax",s,l.shape.length);for(var d=a.backend_util.computeOutAndReduceShapes(l.shape,s),f=(0,ke.default)(d,2),h=f[0],m=f[1],v=a.util.sizeFromShape(h),g=a.util.makeZerosTypedArray(v,"int32"),y=a.util.sizeFromShape(m),b=n.data.get(l.dataId).values,k=0;k<g.length;++k){for(var w=k*y,x=b[w],S=0,T=0;T<y;++T){var E=b[w+T];E>x&&(x=E,S=T)}g[k]=S}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",g)}};var Ge={kernelName:a.ArgMin,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis;(0,p.assertNotComplex)(i,"argMin");var s=a.util.parseAxisParam(o,i.shape),u=a.backend_util.getAxesPermutation(s,i.shape.length),l=i,c=[];null!=u&&(l=(0,ze.transpose)({inputs:{x:i},backend:n,attrs:{perm:u}}),c.push(l),s=a.backend_util.getInnerMostAxes(s.length,l.shape.length)),s=[s[0]],a.backend_util.assertAxesAreInnerMostDims("argMin",s,l.shape.length);for(var d=a.backend_util.computeOutAndReduceShapes(l.shape,s),f=(0,ke.default)(d,2),h=f[0],m=f[1],v=a.util.sizeFromShape(h),g=a.util.makeZerosTypedArray(v,"int32"),y=a.util.sizeFromShape(m),b=n.data.get(l.dataId).values,k=0;k<g.length;++k){for(var w=k*y,x=b[w],S=0,T=0;T<y;++T){var E=b[w+T];E<x&&(x=E,S=T)}g[k]=S}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",g)}},We=(0,he.unaryKernelFunc)(a.Asin,(function(e){return Math.asin(e)})),je={kernelName:a.Asin,backendName:"cpu",kernelFunc:We},qe=(0,he.unaryKernelFunc)(a.Asinh,(function(e){return Math.asinh(e)})),He={kernelName:a.Asinh,backendName:"cpu",kernelFunc:qe},Ke=(0,he.unaryKernelFunc)(a.Atan,(function(e){return Math.atan(e)})),Xe={kernelName:a.Atan,backendName:"cpu",kernelFunc:Ke},Ye=(0,J.createSimpleBinaryKernelImpl)((function(e,t){return Math.atan2(e,t)})),Ze=(0,ee.binaryKernelFunc)(a.Atan2,Ye),Qe={kernelName:a.Atan2,backendName:"cpu",kernelFunc:Ze},Je=(0,he.unaryKernelFunc)(a.Atanh,(function(e){return Math.atanh(e)})),et={kernelName:a.Atanh,backendName:"cpu",kernelFunc:Je};function tt(e,t,n,r,i,o){for(var s=i.strideHeight,u=i.strideWidth,l=i.dilationHeight,c=i.dilationWidth,d=i.effectiveFilterHeight,f=i.effectiveFilterWidth,p=i.padInfo.top,h=i.padInfo.left,m="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=(0,a.buffer)(i.outShape,n),g=v.values,y=i.outShape[1]*i.outShape[2]*i.outShape[3],b=i.outShape[2]*i.outShape[3],k=i.outShape[3],w=0;w<i.batchSize;++w)for(var x=w*y,S=w*r[0],T=0;T<i.inChannels;++T)for(var E=0;E<i.outHeight;++E)for(var C=E*s-p,N=Math.max(0,C),I=Math.min(i.inHeight,d+C),_=x+E*b,R=0;R<i.outWidth;++R){for(var A=R*u-h,O=Math.max(0,A),D=Math.min(i.inWidth,f+A),F=m,$=0,P=0,M=N;M<I;M+=l){for(var L=S+M*r[1],z=O;z<D;z+=c){var B=e[L+z*r[2]+T];"max"===o&&B>F?F=B:"avg"===o&&($+=B,P++)}if(isNaN(F))break}g[_+R*k+T]="avg"===o?$/P:F}return v}function nt(e,t,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=(0,a.buffer)(r.outShape,"int32"),u=r.strideHeight,l=r.strideWidth,c=r.dilationHeight,d=r.dilationWidth,f=r.effectiveFilterHeight,p=r.effectiveFilterWidth,h=r.padInfo.top,m=r.padInfo.left,v=(0,a.buffer)(t,n,e),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.outHeight;++b){for(var k=b*u-h,w=k;w<0;)w+=c;for(var x=Math.min(r.inHeight,f+k),S=0;S<r.outWidth;++S){for(var T=S*l-m,E=T;E<0;)E+=d;for(var C=Math.min(r.inWidth,p+T),N=Number.NEGATIVE_INFINITY,I=-1,_=w;_<x;_+=c)for(var R=_-k,A=E;A<C;A+=d){var O=A-T,D=v.get(g,_,A,y);D>N&&(N=D,I=i?o?((g*r.inHeight+_)*r.inWidth+A)*r.inChannels+y:(_*r.inWidth+A)*r.inChannels+y:R*p+O)}s.set(I,g,b,S,y)}}return s}function rt(e,t,n,r,i,o){for(var s=i.strideDepth,u=i.strideHeight,l=i.strideWidth,c=i.dilationDepth,d=i.dilationHeight,f=i.dilationWidth,p=i.effectiveFilterDepth,h=i.effectiveFilterHeight,m=i.effectiveFilterWidth,v=i.padInfo.front,g=i.padInfo.top,y=i.padInfo.left,b="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,k=(0,a.buffer)(i.outShape,n),w=k.values,x=i.outShape[1]*i.outShape[2]*i.outShape[3]*i.outShape[4],S=i.outShape[2]*i.outShape[3]*i.outShape[4],T=i.outShape[3]*i.outShape[4],E=i.outShape[4],C=0;C<i.batchSize;++C)for(var N=C*x,I=C*r[0],_=0;_<i.inChannels;++_)for(var R=0;R<i.outDepth;++R){for(var A=R*s-v,O=A;O<0;)O+=c;for(var D=Math.min(i.inDepth,p+A),F=N+R*S,$=0;$<i.outHeight;++$){for(var P=$*u-g,M=P;M<0;)M+=d;for(var L=Math.min(i.inHeight,h+P),z=F+$*T,B=0;B<i.outWidth;++B){for(var V=B*l-y,U=V;U<0;)U+=f;for(var G=Math.min(i.inWidth,m+V),W=z+B*E,j=b,q=0,H=0,K=O;K<D;K+=c){for(var X=I+K*r[1],Y=M;Y<L;Y+=d){for(var Z=X+Y*r[2],Q=U;Q<G;Q+=f){var J=e[Z+Q*r[3]+_];if("max"===o&&J>j?j=J:"avg"===o&&(q+=J,H++),isNaN(j))break}if(isNaN(j))break}if(isNaN(j))break}w[W+_]="avg"===o?q/H:j}}}return k}var at={kernelName:a.AvgPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;(0,p.assertNotComplex)(i,"avgPool");var o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode;a.util.assert(a.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return`Error in avgPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`}));var c,d=a.backend_util.computePool2DInfo(i.shape,o,s,1,u,l);if(1===d.filterWidth&&1===d.filterHeight&&a.util.arraysEqual(d.inShape,d.outShape))c=(0,ge.identity)({inputs:{x:i},backend:n});else{var f=n.data.get(i.dataId).values,h=a.util.computeStrides(i.shape),m=tt(f,i.shape,i.dtype,h,d,"avg");c=n.makeTensorInfo(d.outShape,i.dtype,m.values)}return c}};var it={kernelName:a.AvgPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode,c=r.dataFormat;(0,p.assertNotComplex)(i,"avgPool3d");var d=a.backend_util.computePool3DInfo(i.shape,o,s,1,u,l,c),f=rt(n.data.get(i.dataId).values,i.shape,i.dtype,a.util.computeStrides(i.shape),d,"avg");return n.makeTensorInfo(f.shape,"float32",f.values)}};var ot={kernelName:a.AvgPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,o=t.input,s=r.filterSize,u=r.strides,l=r.pad,c=r.dimRoundingMode;(0,p.assertNotComplex)([i,o],"avgPool3DGrad");for(var d=a.backend_util.computePool3DInfo(o.shape,s,u,1,l,c),f=d.strideDepth,h=d.strideHeight,m=d.strideWidth,v=d.filterDepth,g=d.filterHeight,y=d.filterWidth,b=d.dilationDepth,k=d.dilationHeight,w=d.dilationWidth,x=d.effectiveFilterDepth,S=d.effectiveFilterHeight,T=d.effectiveFilterWidth,E=x-1-d.padInfo.front,C=T-1-d.padInfo.left,N=S-1-d.padInfo.top,I=(0,a.buffer)(o.shape,"float32"),_=1/(v*g*y),R=n.bufferSync(i),A=0;A<d.batchSize;++A)for(var O=0;O<d.inChannels;++O)for(var D=0;D<d.inDepth;++D)for(var F=0;F<d.inHeight;++F)for(var $=0;$<d.inWidth;++$){for(var P=D-E,M=F-N,L=$-C,z=0,B=0;B<x;B+=b){var V=(P+B)/f;if(!(V<0||V>=d.outDepth||Math.floor(V)!==V))for(var U=0;U<S;U+=k){var G=(M+U)/h;if(!(G<0||G>=d.outHeight||Math.floor(G)!==G))for(var W=0;W<T;W+=w){var j=(L+W)/m;if(!(j<0||j>=d.outWidth||Math.floor(j)!==j))z+=R.get(A,V,G,j,O)}}}I.set(z*_,A,D,F,$,O)}return n.makeTensorInfo(I.shape,I.dtype,I.values)}};var st={kernelName:a.AvgPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,o=t.input,s=o;(0,p.assertNotComplex)([i,o],"avgPoolGrad");for(var u=r.filterSize,l=r.strides,c=r.pad,d=a.backend_util.computePool2DInfo(s.shape,u,l,1,c),f=d.strideHeight,h=d.strideWidth,m=d.filterHeight,v=d.filterWidth,g=d.dilationHeight,y=d.dilationWidth,b=d.effectiveFilterHeight,k=d.effectiveFilterWidth,w=k-1-d.padInfo.left,x=b-1-d.padInfo.top,S=(0,a.buffer)(s.shape,"float32"),T=1/(m*v),E=n.data.get(i.dataId).values,C=(0,a.buffer)(i.shape,"float32",E),N=0;N<d.batchSize;++N)for(var I=0;I<d.inChannels;++I)for(var _=0;_<d.inHeight;++_)for(var R=0;R<d.inWidth;++R){for(var A=_-x,O=R-w,D=0,F=0;F<b;F+=g){var $=(A+F)/f;if(!($<0||$>=d.outHeight||Math.floor($)!==$))for(var P=0;P<k;P+=y){var M=(O+P)/h;if(!(M<0||M>=d.outWidth||Math.floor(M)!==M))D+=C.get(N,$,M,I)}}S.set(D*T,N,_,R,I)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};var ut={kernelName:a.FusedBatchNorm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.scale,s=t.offset,u=t.mean,l=t.variance;a.util.assert(u.shape.length===l.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),a.util.assert(null==s||u.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),a.util.assert(null==o||u.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),(0,p.assertNotComplex)([i,u,l,o,s],"batchNorm");var c=r.varianceEpsilon;null==c&&(c=.001);for(var d=n.data.get(i.dataId).values,f=n.data.get(u.dataId).values,h=n.data.get(l.dataId).values,m=o?n.data.get(o.dataId).values:new Float32Array([1]),v=s?n.data.get(s.dataId).values:new Float32Array([0]),g=new Float32Array(d.length),y=v.length,b=m.length,k=h.length,w=f.length,x=0,S=0,T=0,E=0,C=0;C<d.length;++C)g[C]=v[x++]+(d[C]-f[S++])*m[T++]/Math.sqrt(h[E++]+c),x>=y&&(x=0),S>=w&&(S=0),T>=b&&(T=0),E>=k&&(E=0);return n.makeTensorInfo(i.shape,i.dtype,g)}};var lt={kernelName:a.BatchToSpaceND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.blockShape,s=r.crops;(0,p.assertNotComplex)([i],"batchToSpaceND");var u=o.reduce((function(e,t){return e*t})),l=a.backend_util.getReshaped(i.shape,o,u),c=a.backend_util.getPermuted(l.length,o.length),d=a.backend_util.getReshapedPermuted(i.shape,o,u),f=a.backend_util.getSliceBeginCoords(s,o.length),h=a.backend_util.getSliceSize(d,s,o.length),m=_e({inputs:{x:i},backend:n,attrs:{shape:l}}),v=(0,ze.transpose)({inputs:{x:m},backend:n,attrs:{perm:c}}),g=_e({inputs:{x:v},backend:n,attrs:{shape:d}}),y=(0,K.slice)({inputs:{x:g},backend:n,attrs:{begin:f,size:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),y}};var ct={kernelName:a.Bincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,l=(0,k.bincountImpl)(s,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}};var dt={kernelName:a.BroadcastArgs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,i=t.s1,o=n.data.get(r.dataId).values,s=n.data.get(i.dataId).values,u=a.backend_util.assertAndGetBroadcastShape(Array.from(o),Array.from(s));return n.makeTensorInfo([u.length],"int32",Int32Array.from(u))}},ft=(0,he.unaryKernelFunc)(a.ClipByValue,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),pt={kernelName:a.ClipByValue,backendName:"cpu",kernelFunc:ft},ht=n(8671),mt={kernelName:a.ComplexAbs,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(a.util.sizeFromShape(t.shape)),i=n.data.get(t.dataId),o=i.complexTensorInfos.real,s=i.complexTensorInfos.imag,u=n.data.get(o.dataId).values,l=n.data.get(s.dataId).values,c=0;c<u.length;c++){var d=u[c],f=l[c];r[c]=Math.hypot(d,f)}return n.makeOutput(r,t.shape,"float32")}};function vt(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}var gt={kernelName:a.Imag,backendName:"cpu",kernelFunc:vt},yt=n(1716);function bt(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,i=a.util.parseAxisParam(r,t[0].shape)[0],o=a.backend_util.computeOutShape(t.map((function(e){return e.shape})),i);if(0===a.util.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);var s=t.filter((function(e){return a.util.sizeFromShape(e.shape)>0}));if(1===s.length)return(0,ge.identity)({inputs:{x:s[0]},backend:n});var u=s.map((function(e){return e.shape}));if(a.backend_util.assertParamsConsistent(u,i),"complex64"===s[0].dtype){var l=s.map((function(e){return(0,yt.real)({inputs:{input:e},backend:n})})),c=s.map((function(e){return vt({inputs:{input:e},backend:n})})),d=bt({inputs:l,backend:n,attrs:{axis:i}}),f=bt({inputs:c,backend:n,attrs:{axis:i}}),p=(0,ht.complex)({inputs:{real:d,imag:f},backend:n});return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),p}var h=s.map((function(e){var t=a.util.sizeFromShape(e.shape.slice(i));return _e({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),m=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));o=a.backend_util.computeOutShape(h.map((function(e){return e.shape})),1);var v=1===h[0].shape[0],g=(0,S.concatImpl)(m,o,t[0].dtype,v),y=a.backend_util.computeOutShape(s.map((function(e){return e.shape})),i),b=n.makeTensorInfo(y,t[0].dtype,g);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}var kt={kernelName:a.Concat,backendName:"cpu",kernelFunc:bt};function wt(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.filter,s=r.strides,u=r.pad,l=r.dataFormat,c=r.dilations,d=r.dimRoundingMode;(0,p.assertNotComplex)([i,o],"conv2d");for(var f=a.backend_util.convertConv2DDataFormat(l),h=a.backend_util.computeConv2DInfo(i.shape,o.shape,s,c,u,d,!1,f),m=h.filterHeight,v=h.filterWidth,g=h.dilationHeight,y=h.dilationWidth,b=h.padInfo.left,k=h.padInfo.top,w="channelsLast"===h.dataFormat,x=new a.TensorBuffer(h.outShape,i.dtype),S=a.util.computeStrides(i.shape),T=a.util.computeStrides(o.shape),E=S[0],C=w?S[1]:S[2],N=w?S[2]:1,I=w?1:S[1],_=x.strides[0],R=w?x.strides[1]:x.strides[2],A=w?x.strides[2]:1,O=w?1:x.strides[1],D=n.data.get(i.dataId).values,F=n.data.get(o.dataId).values,$=x.values,P=0;P<h.batchSize;++P)for(var M=P*E,L=P*_,z=0;z<h.outHeight;++z)for(var B=L+z*R,V=z*h.strideHeight-k,U=0;U<m;++U){var G=V+U*g;if(!(G<0||G>=h.inHeight))for(var W=U*T[0],j=M+G*C,q=0;q<h.outWidth;++q)for(var H=B+q*A,K=q*h.strideWidth-b,X=0;X<v;++X){var Y=K+X*y;if(!(Y<0||Y>=h.inWidth))for(var Z=j+Y*N,Q=W+X*T[1],J=0;J<h.inChannels;++J){for(var ee=D[Z+J*I],te=0;te<h.outChannels;++te)$[H+te*O]+=ee*F[Q+te];Q+=h.outChannels}}}return n.makeTensorInfo(x.shape,x.dtype,$)}var xt={kernelName:a.Conv2D,backendName:"cpu",kernelFunc:wt};var St={kernelName:a.Conv2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.dy,s=r.strides,u=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=r.filterShape;(0,p.assertNotComplex)([i,o],"conv2dBackpropFilter");for(var f=a.backend_util.convertConv2DDataFormat(l),h=a.backend_util.computeConv2DInfo(i.shape,d,s,1,u,c,!1,f),m=h.strideHeight,v=h.strideWidth,g=h.filterHeight,y=h.filterWidth,b="channelsLast"===h.dataFormat,k=new a.TensorBuffer(h.filterShape,"float32"),w=h.padInfo.left,x=h.padInfo.top,S=n.data.get(i.dataId).values,T=n.data.get(o.dataId).values,E=new a.TensorBuffer(i.shape,i.dtype,S),C=new a.TensorBuffer(o.shape,o.dtype,T),N=0;N<g;++N)for(var I=Math.max(0,Math.ceil((x-N)/m)),_=Math.min(h.outHeight,(h.inHeight+x-N)/m),R=0;R<y;++R)for(var A=Math.max(0,Math.ceil((w-R)/v)),O=Math.min(h.outWidth,(h.inWidth+w-R)/v),D=0;D<h.inChannels;++D)for(var F=0;F<h.outChannels;++F){for(var $=0,P=0;P<h.batchSize;++P)for(var M=I;M<_;++M)for(var L=N+M*m-x,z=A;z<O;++z){var B=R+z*v-w;$+=b?E.get(P,L,B,D)*C.get(P,M,z,F):E.get(P,D,L,B)*C.get(P,F,M,z)}k.set($,N,R,D,F)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var Tt={kernelName:a.Conv2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,o=t.filter,s=r.inputShape,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dimRoundingMode;(0,p.assertNotComplex)([i,o],"conv2dBackpropInput");var f=a.util.computeStrides(o.shape),h=a.util.computeStrides(i.shape),m=a.backend_util.convertConv2DDataFormat(c),v=a.backend_util.computeConv2DInfo(s,o.shape,u,1,l,d,!1,m),g=new a.TensorBuffer(v.inShape,"float32"),y=g.values,b=n.data.get(i.dataId).values,k=n.data.get(o.dataId).values,w=(0,ke.default)(f,3),x=w[0],S=w[1],T=w[2],E=v.batchSize,C=v.filterHeight,N=v.filterWidth,I=v.inChannels,_=v.inHeight,R=v.inWidth,A=v.outChannels,O=v.outHeight,D=v.outWidth,F=v.strideHeight,$=v.strideWidth;m=v.dataFormat;for(var P=C-1-v.padInfo.top,M=N-1-v.padInfo.left,L="channelsLast"===m,z=g.strides[0],B=L?g.strides[1]:g.strides[2],V=L?g.strides[2]:1,U=L?1:g.strides[1],G=h[0],W=L?h[1]:h[2],j=L?h[2]:1,q=L?1:h[1],H=0;H<E;++H)for(var K=0;K<I;++K)for(var X=0;X<_;++X)for(var Y=X-P,Z=Math.max(0,Math.ceil(Y/F)),Q=Math.min(O,(C+Y)/F),J=0;J<R;++J){for(var ee=J-M,te=Math.max(0,Math.ceil(ee/$)),ne=Math.min(D,(N+ee)/$),re=0,ae=Z;ae<Q;++ae)for(var ie=ae*F-Y,oe=te;oe<ne;++oe)for(var se=G*H+W*ae+j*oe,ue=x*(C-1-ie)+S*(N-1-(oe*$-ee))+T*K,le=0;le<A;++le){re+=b[se+q*le]*k[ue+le]}y[z*H+B*X+V*J+U*K]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Et={kernelName:a.Conv3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.filter,s=r.strides,u=r.pad,l=r.dilations;(0,p.assertNotComplex)([i,o],"conv3d");for(var c=a.backend_util.computeConv3DInfo(i.shape,o.shape,s,l,u),d=c.filterDepth,f=c.filterHeight,h=c.filterWidth,m=c.dilationDepth,v=c.dilationHeight,g=c.dilationWidth,y=c.padInfo,b=y.front,k=y.left,w=y.top,x=new a.TensorBuffer(c.outShape,i.dtype),S=n.data.get(i.dataId).values,T=n.data.get(o.dataId).values,E=x.values,C=a.util.computeStrides(i.shape),N=a.util.computeStrides(o.shape),I=0;I<c.batchSize;++I)for(var _=I*C[0],R=I*x.strides[0],A=0;A<c.outDepth;++A)for(var O=R+A*x.strides[1],D=A*c.strideDepth-b,F=0;F<d;++F){var $=D+F*m;if(!($<0||$>=c.inDepth))for(var P=F*N[0],M=_+$*C[1],L=0;L<c.outHeight;++L)for(var z=O+L*x.strides[2],B=L*c.strideHeight-w,V=0;V<f;++V){var U=B+V*v;if(!(U<0||U>=c.inHeight))for(var G=P+V*N[1],W=M+U*C[2],j=0;j<c.outWidth;++j)for(var q=z+j*c.outChannels,H=j*c.strideWidth-k,K=0;K<h;++K){var X=H+K*g;if(!(X<0||X>=c.inWidth))for(var Y=G+K*N[2],Z=W+X*c.inChannels,Q=Y,J=0;J<c.inChannels;++J){for(var ee=S[Z+J],te=0;te<c.outChannels;++te)E[q+te]+=ee*T[Q+te];Q+=c.outChannels}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Ct={kernelName:a.Conv3DBackpropFilterV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.dy,s=r.strides,u=r.pad,l=r.filterShape;(0,p.assertNotComplex)([i,o],"conv3dBackpropFilterV2");for(var c=a.util.computeStrides(i.shape),d=a.util.computeStrides(o.shape),f=a.backend_util.computeConv3DInfo(i.shape,l,s,1,u),h=f.strideDepth,m=f.strideHeight,v=f.strideWidth,g=f.filterDepth,y=f.filterHeight,b=f.filterWidth,k=new a.TensorBuffer(f.filterShape,"float32"),w=k.values,x=(0,ke.default)(k.strides,4),S=x[0],T=x[1],E=x[2],C=x[3],N=n.data.get(o.dataId).values,I=(0,ke.default)(d,4),_=I[0],R=I[1],A=I[2],O=I[3],D=n.data.get(i.dataId).values,F=(0,ke.default)(c,4),$=F[0],P=F[1],M=F[2],L=F[3],z=f.padInfo.front,B=f.padInfo.left,V=f.padInfo.top,U=0;U<g;++U)for(var G=Math.max(0,Math.ceil((z-U)/h)),W=Math.min(f.outDepth,(f.inDepth+z-U)/h),j=U*S,q=0;q<y;++q)for(var H=Math.max(0,Math.ceil((V-q)/m)),K=Math.min(f.outHeight,(f.inHeight+V-q)/m),X=q*T+j,Y=0;Y<b;++Y)for(var Z=Math.max(0,Math.ceil((B-Y)/v)),Q=Math.min(f.outWidth,(f.inWidth+B-Y)/v),J=Y*E+X,ee=0;ee<f.inChannels;++ee)for(var te=ee*C+J,ne=0;ne<f.outChannels;++ne){for(var re=0,ae=0;ae<f.batchSize;++ae)for(var ie=ae*$,oe=ae*_,se=G;se<W;++se)for(var ue=(U+se*h-z)*P+ie,le=se*R+oe,ce=H;ce<K;++ce)for(var de=(q+ce*m-V)*M+ue,fe=ce*A+le,pe=Z;pe<Q;++pe){var he=pe*O+fe;re+=D[(Y+pe*v-B)*L+de+ee]*N[he+ne]}w[te+ne]=re}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var Nt={kernelName:a.Conv3DBackpropInputV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,o=t.filter,s=r.pad,u=r.strides,l=r.inputShape;(0,p.assertNotComplex)([i],"conv3dBackpropInputV2");for(var c=a.util.computeStrides(i.shape),d=a.util.computeStrides(o.shape),f=a.backend_util.computeConv3DInfo(l,o.shape,u,1,s),h=new a.TensorBuffer(f.inShape,"float32"),m=h.values,v=(0,ke.default)(h.strides,4),g=v[0],y=v[1],b=v[2],k=v[3],w=n.data.get(i.dataId).values,x=(0,ke.default)(c,4),S=x[0],T=x[1],E=x[2],C=x[3],N=n.data.get(o.dataId).values,I=(0,ke.default)(d,4),_=I[0],R=I[1],A=I[2],O=I[3],D=f.batchSize,F=f.filterDepth,$=f.filterHeight,P=f.filterWidth,M=f.inChannels,L=f.inDepth,z=f.inHeight,B=f.inWidth,V=f.outChannels,U=f.outDepth,G=f.outHeight,W=f.outWidth,j=f.strideDepth,q=f.strideHeight,H=f.strideWidth,K=F-1-f.padInfo.front,X=$-1-f.padInfo.top,Y=P-1-f.padInfo.left,Z=0;Z<D;++Z)for(var Q=0;Q<M;++Q)for(var J=0;J<L;++J)for(var ee=J-K,te=Math.max(0,Math.ceil(ee/j)),ne=Math.min(U,(F+ee)/j),re=0;re<z;++re)for(var ae=re-X,ie=Math.max(0,Math.ceil(ae/q)),oe=Math.min(G,($+ae)/q),se=0;se<B;++se){for(var ue=se-Y,le=Math.max(0,Math.ceil(ue/H)),ce=Math.min(W,(P+ue)/H),de=0,fe=te;fe<ne;++fe)for(var pe=fe*j-ee,he=ie;he<oe;++he)for(var me=he*q-ae,ve=le;ve<ce;++ve)for(var ge=S*Z+T*fe+E*he+C*ve,ye=_*(F-1-pe)+R*($-1-me)+A*(P-1-(ve*H-ue))+O*Q,be=0;be<V;++be){de+=w[ge+be]*N[ye+be]}m[g*Z+y*J+b*re+k*se+Q]=de}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},It=(0,he.unaryKernelFunc)(a.Cos,(function(e){return Math.cos(e)})),_t={kernelName:a.Cos,backendName:"cpu",kernelFunc:It},Rt=(0,he.unaryKernelFunc)(a.Cosh,(function(e){return Math.cosh(e)})),At={kernelName:a.Cosh,backendName:"cpu",kernelFunc:Rt};var Ot={kernelName:a.CropAndResize,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,i=t.image,o=t.boxes,s=t.boxInd,u=r.cropSize,l=r.method,c=r.extrapolationValue,d=(0,ke.default)(i.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=o.shape[0],g=(0,ke.default)(u,2),y=g[0],b=g[1],k=(0,a.buffer)([v,y,b,m],"float32"),w=n.data.get(o.dataId).values,x=n.data.get(s.dataId).values,S=n.data.get(i.dataId).values,T=a.util.computeStrides(i.shape),E=a.util.computeStrides(k.shape),C=0;C<v;C++){var N=4*C,I=w[N],_=w[N+1],R=w[N+2],A=w[N+3],O=x[C];if(!(O>=f))for(var D=y>1?(R-I)*(p-1)/(y-1):0,F=b>1?(A-_)*(h-1)/(b-1):0,$=0;$<y;$++){var P=y>1?I*(p-1)+$*D:.5*(I+R)*(p-1);if(P<0||P>p-1)for(var M=0;M<b;M++)for(var L=0;L<m;L++){var z=L+M*E[2]+$*E[1]+C*E[0];k.values[z]=c}else if("bilinear"===l)for(var B=Math.floor(P),V=Math.ceil(P),U=P-B,G=0;G<b;G++){var W=b>1?_*(h-1)+G*F:.5*(_+A)*(h-1);if(W<0||W>h-1)for(var j=0;j<m;j++){var q=j+G*E[2]+$*E[1]+C*E[0];k.values[q]=c}else for(var H=Math.floor(W),K=Math.ceil(W),X=W-H,Y=0;Y<m;Y++){var Z=Y+H*T[2]+B*T[1]+O*T[0],Q=S[Z],J=S[Z=Y+K*T[2]+B*T[1]+O*T[0]],ee=S[Z=Y+H*T[2]+V*T[1]+O*T[0]],te=Q+(J-Q)*X,ne=ee+(S[Z=Y+K*T[2]+V*T[1]+O*T[0]]-ee)*X;Z=Y+G*E[2]+$*E[1]+C*E[0],k.values[Z]=te+(ne-te)*U}}else for(var re=0;re<b;++re){var ae=b>1?_*(h-1)+re*F:.5*(_+A)*(h-1);if(ae<0||ae>h-1)for(var ie=0;ie<m;ie++){var oe=ie+re*E[2]+$*E[1]+C*E[0];k.values[oe]=c}else for(var se=Math.round(ae),ue=Math.round(P),le=0;le<m;le++){var ce=le+se*T[2]+ue*T[1]+O*T[0],de=le+re*E[2]+$*E[1]+C*E[0];k.values[de]=S[ce]}}}}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var Dt={kernelName:a.Cumprod,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,p.assertNotComplex)(i,"cumprod");var l=a.backend_util.getAxesPermutation([o],i.shape.length),c=i;null!=l&&(c=(0,ze.transpose)({inputs:{x:i},backend:n,attrs:{perm:l}}));var d=a.backend_util.getInnerMostAxes(1,i.shape.length)[0];if(d!==c.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${d}`);for(var f=(0,a.upcastType)(c.dtype,"int32"),h=a.util.makeOnesTypedArray(a.util.sizeFromShape(c.shape),f),m=n.data.get(c.dataId).values,v=c.shape[c.shape.length-1],g=u?function(e,t){return e+v-t-1}:function(e,t){return e+t},y=0;y<m.length;y+=v)for(var b=0;b<v;b++){var k=g(y,b);if(0===b)h[k]=s?1:m[k];else{var w=g(y,b-1);h[k]=s?m[w]*h[w]:m[k]*h[w]}}var x=n.makeTensorInfo(c.shape,f,h);if(null!=l){var S=a.backend_util.getUndoAxesPermutation(l),T=(0,ze.transpose)({inputs:{x:x},backend:n,attrs:{perm:S}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(c),T}return x}};var Ft={kernelName:a.Cumsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis,s=r.exclusive,u=r.reverse;(0,p.assertNotComplex)(i,"cumsum");var l=a.backend_util.getAxesPermutation([o],i.shape.length),c=i;null!=l&&(c=(0,ze.transpose)({inputs:{x:i},backend:n,attrs:{perm:l}}));var d=a.backend_util.getInnerMostAxes(1,i.shape.length)[0];if(d!==c.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${c.shape.length-1} but got axis=${d}`);for(var f=(0,a.upcastType)(c.dtype,"int32"),h=a.util.makeZerosTypedArray(a.util.sizeFromShape(c.shape),f),m=n.data.get(c.dataId).values,v=c.shape[c.shape.length-1],g=u?function(e,t){return e+v-t-1}:function(e,t){return e+t},y=0;y<m.length;y+=v)for(var b=0;b<v;b++){var k=g(y,b);if(0===b)h[k]=s?0:m[k];else{var w=g(y,b-1);h[k]=s?m[w]+h[w]:m[k]+h[w]}}var x=n.makeTensorInfo(c.shape,f,h);if(null!=l){var S=a.backend_util.getUndoAxesPermutation(l),T=(0,ze.transpose)({inputs:{x:x},backend:n,attrs:{perm:S}});return n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(c),T}return x}};var $t={kernelName:a.DenseBincount,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,c=(0,k.bincountImpl)(u,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}if(2===a.shape.length){var d=n.bufferSync(a),f=n.bufferSync(i),p=(0,k.bincountReduceImpl)(d,f,o,s);return n.makeTensorInfo(p.shape,i.dtype,p.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}};var Pt={kernelName:a.DepthToSpace,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.blockSize,s=r.dataFormat;a.util.assert("NHWC"===s,(function(){return`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${s}`}));for(var u=i.shape[0],l=i.shape[1],c=i.shape[2],d=i.shape[3],f=l*o,p=c*o,h=d/(o*o),m=n.data.get(i.dataId).values,v=new Float32Array(u*f*p*h),g=0,y=0;y<u;++y)for(var b=0;b<f;++b)for(var k=Math.floor(b/o),w=b%o,x=0;x<p;++x)for(var S=Math.floor(x/o),T=(w*o+x%o)*h,E=0;E<h;++E){var C=E+T+d*(S+c*(k+l*y));v[g++]=m[C]}return n.makeTensorInfo([u,f,p,h],i.dtype,v)}};function Mt(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.filter,s=r.strides,u=r.pad,l=r.dilations,c=r.dimRoundingMode;(0,p.assertNotComplex)([i,o],"depthwiseConv2DNative");var d=a.util.computeStrides(i.shape),f=a.util.computeStrides(o.shape),h=l;null==h&&(h=[1,1]),a.util.assert(a.backend_util.eitherStridesOrDilationsAreOne(s,h),(function(){return`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${s} and dilations '${h}'`}));for(var m=a.backend_util.computeConv2DInfo(i.shape,o.shape,s,h,u,c,!0),v=m.filterHeight,g=m.filterWidth,y=m.dilationHeight,b=m.dilationWidth,k=m.padInfo,w=k.left,x=k.top,S=m.outChannels/m.inChannels,T=new a.TensorBuffer(m.outShape,i.dtype),E=n.data.get(i.dataId).values,C=n.data.get(o.dataId).values,N=T.values,I=0;I<m.batchSize;++I)for(var _=I*d[0],R=I*T.strides[0],A=0;A<m.outHeight;++A)for(var O=R+A*T.strides[1],D=A*m.strideHeight-x,F=0;F<v;++F){var $=D+F*y;if(!($<0||$>=m.inHeight))for(var P=F*f[0],M=_+$*d[1],L=0;L<m.outWidth;++L)for(var z=O+L*T.strides[2],B=L*m.strideWidth-w,V=0;V<g;++V){var U=B+V*b;if(!(U<0||U>=m.inWidth))for(var G=P+V*f[1],W=M+U*m.inChannels,j=z,q=G,H=0;H<m.inChannels;++H){for(var K=E[W+H],X=0;X<S;++X)N[j+X]+=K*C[q+X];j+=S,q+=S}}}return n.makeTensorInfo(T.shape,T.dtype,T.values)}var Lt={kernelName:a.DepthwiseConv2dNative,backendName:"cpu",kernelFunc:Mt};var zt={kernelName:a.DepthwiseConv2dNativeBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.dy,s=r.strides,u=r.dilations,l=r.pad,c=r.dimRoundingMode,d=r.filterShape;(0,p.assertNotComplex)([i,o],"depthwiseConv2dNativeBackpropFilter");for(var f=a.backend_util.computeConv2DInfo(i.shape,d,s,u,l,c,!0),h=f.strideHeight,m=f.strideWidth,v=f.filterHeight,g=f.filterWidth,y=new a.TensorBuffer(f.filterShape,"float32"),b=f.padInfo.left,k=f.padInfo.top,w=f.outChannels/f.inChannels,x=n.data.get(i.dataId).values,S=new a.TensorBuffer(i.shape,i.dtype,x),T=n.data.get(o.dataId).values,E=new a.TensorBuffer(o.shape,o.dtype,T),C=0;C<v;++C)for(var N=Math.max(0,Math.ceil((k-C)/h)),I=Math.min(f.outHeight,(f.inHeight+k-C)/h),_=0;_<g;++_)for(var R=Math.max(0,Math.ceil((b-_)/m)),A=Math.min(f.outWidth,(f.inWidth+b-_)/m),O=0;O<f.outChannels;++O){for(var D=Math.trunc(O/w),F=O%w,$=0,P=0;P<f.batchSize;++P)for(var M=N;M<I;++M)for(var L=C+M*h-k,z=R;z<A;++z){var B=_+z*m-b;$+=S.get(P,L,B,D)*E.get(P,M,z,O)}y.set($,C,_,D,F)}return n.makeTensorInfo(y.shape,y.dtype,y.values)}};var Bt={kernelName:a.DepthwiseConv2dNativeBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,o=t.filter,s=r.strides,u=r.dilations,l=r.pad,c=r.dimRoundingMode,d=r.inputShape;(0,p.assertNotComplex)([i,o],"depthwiseConv2DNativeBackpropInput");for(var f=a.util.computeStrides(i.shape),h=a.util.computeStrides(o.shape),m=a.backend_util.computeConv2DInfo(d,o.shape,s,u,l,c,!0),v=new a.TensorBuffer(m.inShape,"float32"),g=v.values,y=(0,ke.default)(v.strides,3),b=y[0],k=y[1],w=y[2],x=n.data.get(i.dataId).values,S=(0,ke.default)(f,3),T=S[0],E=S[1],C=S[2],N=n.data.get(o.dataId).values,I=(0,ke.default)(h,3),_=I[0],R=I[1],A=I[2],O=m.batchSize,D=m.filterHeight,F=m.filterWidth,$=m.inChannels,P=m.inHeight,M=m.inWidth,L=m.outChannels,z=m.outHeight,B=m.outWidth,V=m.strideHeight,U=m.strideWidth,G=D-1-m.padInfo.top,W=F-1-m.padInfo.left,j=L/$,q=0;q<O;++q)for(var H=0;H<$;++H)for(var K=0;K<P;++K)for(var X=K-G,Y=Math.max(0,Math.ceil(X/V)),Z=Math.min(z,(D+X)/V),Q=0;Q<M;++Q){for(var J=Q-W,ee=Math.max(0,Math.ceil(J/U)),te=Math.min(B,(F+J)/U),ne=0,re=Y;re<Z;++re)for(var ae=re*V-X,ie=ee;ie<te;++ie)for(var oe=T*q+E*re+C*ie,se=_*(D-1-ae)+R*(F-1-(ie*U-J))+A*H,ue=0;ue<j;++ue){ne+=x[oe+(H*j+ue)]*N[se+ue]}g[b*q+k*K+w*Q+H]=ne}return n.makeTensorInfo(v.shape,v.dtype,v.values)}},Vt=n(2982);var Ut={kernelName:a.Diag,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,i=a.util.sizeFromShape(r.shape),o=n.data.get(r.dataId).values,s=(0,a.buffer)([i,i],r.dtype),u=s.values,l=0;l<o.length;l++)u[l*i+l]=o[l];var c=[].concat((0,Vt.default)(r.shape),(0,Vt.default)(r.shape));return n.makeTensorInfo(c,s.dtype,s.values)}},Gt={kernelName:a.Dilation2D,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.filter,s=r.strides,u=r.pad,l=r.dilations,c=n,d=c.data.get(i.dataId).values,f=i.shape.length,p=c.data.get(o.dataId).values,h=o.shape.length,m=a.backend_util.computeDilation2DInfo(i.shape,o.shape,s,u,"NHWC",l),v=m.batchSize,g=m.inHeight,y=m.inWidth,b=m.inChannels,k=m.outHeight,w=m.outWidth,x=m.padInfo,S=m.strideHeight,T=m.strideWidth,E=m.filterHeight,C=m.filterWidth,N=m.dilationHeight,I=m.dilationWidth,_=m.outShape,R=a.util.sizeFromShape(_),A=_.length,O=a.util.getArrayFromDType(i.dtype,R),D=0;D<v;++D)for(var F=0;F<k;++F)for(var $=F*S-x.top,P=0;P<w;++P)for(var M=P*T-x.left,L=0;L<b;++L){for(var z=Number.MIN_SAFE_INTEGER,B=0;B<E;++B){var V=$+B*N;if(V>=0&&V<g)for(var U=0;U<C;++U){var G=M+U*I;if(G>=0&&G<y){var W=a.util.locToIndex([D,V,G,L],f,a.util.computeStrides(i.shape)),j=a.util.locToIndex([B,U,L],h,a.util.computeStrides(o.shape)),q=d[W]+p[j];q>z&&(z=q)}}}O[a.util.locToIndex([D,F,P,L],A,a.util.computeStrides(_))]=z}return{dataId:c.write(a.util.toTypedArray(O,i.dtype),_,i.dtype),shape:_,dtype:i.dtype}}},Wt={kernelName:a.Dilation2DBackpropFilter,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.filter,s=t.dy,u=r.strides,l=r.pad,c=r.dilations,d=n,f=a.util.toNestedArray(i.shape,d.data.get(i.dataId).values),p=a.util.toNestedArray(o.shape,d.data.get(o.dataId).values),h=a.backend_util.computeDilation2DInfo(i.shape,o.shape,u,l,"NHWC",c),m=h.batchSize,v=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,k=h.outWidth,w=h.padInfo,x=h.strideHeight,S=h.strideWidth,T=h.filterHeight,E=h.filterWidth,C=h.dilationHeight,N=h.dilationWidth,I=h.outShape;a.util.assert(s.rank===I.length,(function(){return`Error in ${a.Dilation2DBackpropFilter}, dy must have the same rank as output ${I.length}, but got ${s.rank}`}));for(var _=a.util.toNestedArray(I,d.data.get(s.dataId).values),R=a.util.makeZerosNestedTypedArray(o.shape,o.dtype),A=0;A<m;++A)for(var O=0;O<b;++O)for(var D=O*x-w.top,F=0;F<k;++F)for(var $=F*S-w.left,P=0;P<y;++P){for(var M=Number.MIN_SAFE_INTEGER,L=0,z=0,B=0;B<T;++B){var V=D+B*C;if(V>=0&&V<v)for(var U=0;U<E;++U){var G=$+U*N;if(G>=0&&G<g){var W=f[A][V][G][P]+p[B][U][P];W>M&&(M=W,L=B,z=U)}}}R[L][z][P]+=_[A][O][F][P]}return{dataId:d.write(a.util.toTypedArray(R,i.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},jt={kernelName:a.Dilation2DBackpropInput,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.filter,s=t.dy,u=r.strides,l=r.pad,c=r.dilations,d=n,f=a.util.toNestedArray(i.shape,d.data.get(i.dataId).values),p=a.util.toNestedArray(o.shape,d.data.get(o.dataId).values),h=a.backend_util.computeDilation2DInfo(i.shape,o.shape,u,l,"NHWC",c),m=h.batchSize,v=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,k=h.outWidth,w=h.padInfo,x=h.strideHeight,S=h.strideWidth,T=h.filterHeight,E=h.filterWidth,C=h.dilationHeight,N=h.dilationWidth,I=h.outShape;a.util.assert(s.rank===I.length,(function(){return`Error in ${a.Dilation2DBackpropInput}, dy must have the same rank as output ${I.length}, but got ${s.rank}`}));for(var _=a.util.toNestedArray(I,d.data.get(s.dataId).values),R=a.util.makeZerosNestedTypedArray(i.shape,i.dtype),A=0;A<m;++A)for(var O=0;O<b;++O)for(var D=O*x-w.top,F=0;F<k;++F)for(var $=F*S-w.left,P=0;P<y;++P){for(var M=Number.MIN_SAFE_INTEGER,L=D<0?0:D,z=$<0?0:$,B=0;B<T;++B){var V=D+B*C;if(V>=0&&V<v)for(var U=0;U<E;++U){var G=$+U*N;if(G>=0&&G<g){var W=f[A][V][G][P]+p[B][U][P];W>M&&(M=W,L=V,z=G)}}}R[A][L][z][P]+=_[A][O][F][P]}return{dataId:d.write(a.util.toTypedArray(R,i.dtype),i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},qt=n(6803);function Ht(e){var t,n=e.inputs,r=e.backend,i=e.attrs,o=n.x,s=i.axis,u=i.keepDims;(0,p.assertNotComplex)(o,"sum");var l=(t="bool"===o.dtype?(0,w.cast)({inputs:{x:o},backend:r,attrs:{dtype:"int32"}}):(0,ge.identity)({inputs:{x:o},backend:r})).shape.length,c=a.util.parseAxisParam(s,t.shape),d=a.backend_util.getAxesPermutation(c,l),f=c,h=t;null!=d&&(h=(0,ze.transpose)({inputs:{x:t},backend:r,attrs:{perm:d}}),f=a.backend_util.getInnerMostAxes(f.length,l)),a.backend_util.assertAxesAreInnerMostDims("sum",f,h.shape.length);for(var m=a.backend_util.computeOutAndReduceShapes(h.shape,f),v=(0,ke.default)(m,2),g=v[0],y=v[1],b=a.backend_util.upcastType(h.dtype,"int32"),k=(0,qt.zeros)(r,g,b),x=a.util.sizeFromShape(y),S=r.data.get(k.dataId).values,T=r.data.get(h.dataId).values,E=0;E<S.length;++E){for(var C=E*x,N=0,I=0;I<x;++I)N+=T[C+I];S[E]=N}if(u){var _=k;k=_e({inputs:{x:k},backend:r,attrs:{shape:a.backend_util.expandShapeToKeepDim(k.shape,c)}}),r.disposeIntermediateTensorInfo(_)}return r.disposeIntermediateTensorInfo(t),null!=d&&r.disposeIntermediateTensorInfo(h),k}var Kt={kernelName:a.Sum,backendName:"cpu",kernelFunc:Ht};var Xt={kernelName:a.Einsum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,i=t,o=a.backend_util.decodeEinsumEquation(r,i.length),s=o.allDims,u=o.summedDims,l=o.idDims;a.backend_util.checkEinsumDimSizes(s.length,l,i);for(var c=a.backend_util.getEinsumComputePath(u,l),d=c.path,f=c.steps,p=f.length,h=null,m=s.length,v=[],g=0;g<p;++g){for(var y of f[g]){var b=a.backend_util.getEinsumPermutation(m,l[y]),k=b.permutationIndices,w=b.expandDims,x=void 0;a.backend_util.isIdentityPermutation(k)?x=i[y]:(x=(0,ze.transpose)({inputs:{x:i[y]},backend:n,attrs:{perm:k}}),v.push(x));for(var S=x.shape.slice(),T=0;T<w.length;++T)S.splice(w[T],0,1);a.util.arraysEqual(x.shape,S)||(x=_e({inputs:{x:x},backend:n,attrs:{shape:S}}),v.push(x)),null===h?h=x:(h=(0,z.multiply)({inputs:{a:x,b:h},backend:n}),v.push(h))}g<p-1&&(d[g]>=0&&(h=Ht({inputs:{x:h},backend:n,attrs:{axis:d[g]-(s.length-m),keepDims:!1}}),v.push(h)),m--)}for(var E of v)E!==h&&n.disposeIntermediateTensorInfo(E);return h}};var Yt={kernelName:a.EluGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,i=t.y;(0,p.assertNotComplex)([r,i],"eluGrad");for(var o=new Float32Array(a.util.sizeFromShape(i.shape)),s=n.data.get(i.dataId).values,u=n.data.get(r.dataId).values,l=0;l<s.length;++l){var c=s[l];o[l]=c>=1?u[l]:u[l]*(c+1)}return n.makeTensorInfo(i.shape,"float32",o)}},Zt=a.backend_util.ERF_P,Qt=a.backend_util.ERF_A1,Jt=a.backend_util.ERF_A2,en=a.backend_util.ERF_A3,tn=a.backend_util.ERF_A4,nn=a.backend_util.ERF_A5,rn=(0,he.unaryKernelFunc)(a.Erf,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Zt*n);return t*(1-((((nn*r+tn)*r+en)*r+Jt)*r+Qt)*r*Math.exp(-n*n))})),an={kernelName:a.Erf,backendName:"cpu",kernelFunc:rn};function on(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.input,o=r.dim,s=i.shape.length,u=i.shape.slice(),l=o;return o<0&&(a.util.assert(-(s+1)<=o,(function(){return`Axis must be in the interval [${-(s+1)}, ${s}]`})),l=s+o+1),u.splice(l,0,1),_e({inputs:{x:i},backend:n,attrs:{shape:u}})}var sn={kernelName:a.ExpandDims,backendName:"cpu",kernelFunc:on},un=(0,J.createSimpleBinaryKernelImpl)((function(e,t){return e/t})),ln=(0,ee.binaryKernelFunc)(a.RealDiv,un),cn={kernelName:a.RealDiv,backendName:"cpu",kernelFunc:ln};function dn(e,t,n){for(var r=e.shape,i=r[0],o=r[1],s=n.data.get(e.dataId),u=s.complexTensorInfos.real,l=s.complexTensorInfos.imag,c=[i,o],d=a.util.sizeFromShape(c),f=a.util.getTypedArrayFromDType("float32",d),p=a.util.getTypedArrayFromDType("float32",d),h=0;h<i;h++){for(var m=(0,K.slice)({inputs:{x:u},backend:n,attrs:{begin:[h,0],size:[1,o]}}),v=(0,K.slice)({inputs:{x:l},backend:n,attrs:{begin:[h,0],size:[1,o]}}),g=(0,ht.complex)({inputs:{real:m,imag:v},backend:n}),y=fn(g,t,n),b=y.real,k=y.imag,w=a.backend_util.mergeRealAndImagArrays(b,k),x=0;x<o;x++){var S=a.backend_util.getComplexWithIndex(w,x);f[h*o+x]=S.real,p[h*o+x]=S.imag}n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g)}var T=n.makeTensorInfo(c,"float32",f),E=n.makeTensorInfo(c,"float32",p),C=(0,ht.complex)({inputs:{real:T,imag:E},backend:n});return n.disposeIntermediateTensorInfo(T),n.disposeIntermediateTensorInfo(E),C}function fn(e,t,n){var r=a.util.sizeFromShape(e.shape),i=n.data.get(e.dataId),o=n.data.get(i.complexTensorInfos.real.dataId).values,s=n.data.get(i.complexTensorInfos.imag.dataId).values;if(0===((y=r)&y-1)){var u=pn(o,s,r,t,n),l=[e.shape[0],e.shape[1]];if(t){var c=n.makeTensorInfo(l,"float32",u.real),d=n.makeTensorInfo(l,"float32",u.imag),f=n.makeTensorInfo([],"float32",a.util.createScalarValue(r,"float32")),p=(0,ge.identity)({inputs:{x:f},backend:n}),h=cn.kernelFunc({inputs:{a:c,b:f},backend:n}),m=cn.kernelFunc({inputs:{a:d,b:p},backend:n}),v=n.data.get(h.dataId).values,g=n.data.get(m.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),{real:v,imag:g}}return u}var y,b=function(e,t,n){for(var r=new Float32Array(2*t),i=0;i<t;i++){for(var o=0,s=0,u=0;u<t;u++){var l=a.backend_util.exponent(i*u,t,n),c=a.backend_util.getComplexWithIndex(e,u);o+=c.real*l.real-c.imag*l.imag,s+=c.real*l.imag+c.imag*l.real}n&&(o/=t,s/=t),a.backend_util.assignToTypedArray(r,o,s,i)}return r}(a.backend_util.mergeRealAndImagArrays(o,s),r,t);return a.backend_util.splitRealAndImagArrays(b)}function pn(e,t,n,r,i){if(1===n)return{real:e,imag:t};var o=a.backend_util.mergeRealAndImagArrays(e,t),s=n/2,u=a.backend_util.complexWithEvenIndex(o),l=u.real,c=u.imag,d=[l.length],f=i.makeTensorInfo(d,"float32",l),p=i.makeTensorInfo(d,"float32",c),h=(0,ht.complex)({inputs:{real:f,imag:p},backend:i}),m=a.backend_util.complexWithOddIndex(o),v=m.real,g=m.imag,y=[v.length],k=i.makeTensorInfo(y,"float32",v),w=i.makeTensorInfo(y,"float32",g),x=(0,ht.complex)({inputs:{real:k,imag:w},backend:i}),S=pn(l,c,s,r,i),T=S.real,E=S.imag,C=[T.length],N=i.makeTensorInfo(C,"float32",T),I=i.makeTensorInfo(C,"float32",E),_=(0,ht.complex)({inputs:{real:N,imag:I},backend:i}),R=pn(v,g,s,r,i),A=R.real,O=R.imag,D=[A.length],F=i.makeTensorInfo(D,"float32",A),$=i.makeTensorInfo(D,"float32",O),P=(0,ht.complex)({inputs:{real:F,imag:$},backend:i}),M=a.backend_util.exponents(n,r),L=[M.real.length],B=i.makeTensorInfo(L,"float32",M.real),V=i.makeTensorInfo(L,"float32",M.imag),U=(0,ht.complex)({inputs:{real:B,imag:V},backend:i}),G=(0,z.multiply)({inputs:{a:U,b:P},backend:i}),W=(0,b.add)({inputs:{a:_,b:G},backend:i}),j=(0,ue.sub)({inputs:{a:_,b:G},backend:i}),q=(0,yt.real)({inputs:{input:W},backend:i}),H=(0,yt.real)({inputs:{input:j},backend:i}),K=vt({inputs:{input:W},backend:i}),X=vt({inputs:{input:j},backend:i}),Y=bt({inputs:[q,H],backend:i,attrs:{axis:0}}),Z=bt({inputs:[K,X],backend:i,attrs:{axis:0}}),Q=i.data.get(Y.dataId).values,J=i.data.get(Z.dataId).values;return i.disposeIntermediateTensorInfo(f),i.disposeIntermediateTensorInfo(p),i.disposeIntermediateTensorInfo(h),i.disposeIntermediateTensorInfo(k),i.disposeIntermediateTensorInfo(w),i.disposeIntermediateTensorInfo(x),i.disposeIntermediateTensorInfo(N),i.disposeIntermediateTensorInfo(I),i.disposeIntermediateTensorInfo(_),i.disposeIntermediateTensorInfo(F),i.disposeIntermediateTensorInfo($),i.disposeIntermediateTensorInfo(P),i.disposeIntermediateTensorInfo(B),i.disposeIntermediateTensorInfo(V),i.disposeIntermediateTensorInfo(U),i.disposeIntermediateTensorInfo(G),i.disposeIntermediateTensorInfo(W),i.disposeIntermediateTensorInfo(j),i.disposeIntermediateTensorInfo(q),i.disposeIntermediateTensorInfo(K),i.disposeIntermediateTensorInfo(H),i.disposeIntermediateTensorInfo(X),i.disposeIntermediateTensorInfo(Y),i.disposeIntermediateTensorInfo(Z),{real:Q,imag:J}}var hn={kernelName:a.FFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,i=a.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=_e({inputs:{x:r},backend:n,attrs:{shape:[i/o,o]}}),u=dn(s,!1,n),l=_e({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),l}};function mn(e){var t=e.backend,n=e.attrs,r=n.shape,i=n.value,o=n.dtype||a.util.inferDtype(i),s=a.util.getArrayFromDType(o,a.util.sizeFromShape(r));return function(e,t,n){e.fill(t)}(s,i),t.makeTensorInfo(r,o,s)}var vn={kernelName:a.Fill,backendName:"cpu",kernelFunc:mn};var gn={kernelName:a.FlipLeftRight,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,i=n,o=a.util.getTypedArrayFromDType(r.dtype,a.util.sizeFromShape(r.shape)),s=(0,ke.default)(r.shape,4),u=s[0],l=s[1],c=s[2],d=s[3],f=i.data.get(r.dataId).values,p=0;p<u;p++)for(var h=p*c*l*d,m=0;m<l;m++)for(var v=m*(c*d),g=0;g<c;g++)for(var y=g*d,b=0;b<d;b++){var k=Math.round(c-g-1),w=h+v+y+b,x=f[w];if(k>=0&&k<c)x=f[h+v+k*d+b];o[w]=x}return{dataId:i.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},yn=(0,J.createSimpleBinaryKernelImpl)((function(e,t){return Math.floor(e/t)})),bn=(0,ee.binaryKernelFunc)(a.FloorDiv,yn,null,"int32"),kn={kernelName:a.FloorDiv,backendName:"cpu",kernelFunc:bn};var wn={kernelName:a.FusedConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=wt({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f}});if(o){var v=m;if("NCHW"===c&&1===o.shape.length&&1!==o.shape[0]){var g=_e({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});m=(0,b.add)({inputs:{a:m,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else m=(0,b.add)({inputs:{a:m,b:o},backend:n});n.disposeIntermediateTensorInfo(v)}if(p){var y=m;if("NCHW"===c&&"prelu"===p&&1===s.shape.length&&1!==s.shape[0]){var k=_e({inputs:{x:s},backend:n,attrs:{shape:[s.shape[0],1,1]}});m=Ie(n,m,p,k,h),n.disposeIntermediateTensorInfo(k)}else m=Ie(n,m,p,s,h);n.disposeIntermediateTensorInfo(y)}return m}};var xn={kernelName:a.FusedDepthwiseConv2D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,u=r.strides,l=r.pad,c=r.dataFormat,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=Mt({inputs:{x:a,filter:i},backend:n,attrs:{strides:u,pad:l,dataFormat:c,dilations:d,dimRoundingMode:f}});if(o){var v=m;m=(0,b.add)({inputs:{a:m,b:o},backend:n}),n.disposeIntermediateTensorInfo(v)}if(p){var g=m;m=Ie(n,m,p,s,h),n.disposeIntermediateTensorInfo(g)}return m}};var Sn={kernelName:a.GatherNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,i=t.indices,o=a.util.sizeFromShape(r.shape),s=i.shape,u=s[s.length-1],l=a.backend_util.prepareAndValidate(r,i),c=(0,ke.default)(l,4),d=c[0],f=c[1],p=c[2],h=c[3];if(0===f)return n.makeTensorInfo(d,r.dtype,[]);var m=n.data.get(i.dataId).values,v=n.bufferSync(r),g=(0,I.gatherNdImpl)(m,v,r.dtype,f,u,p,h,r.shape,o);return n.makeTensorInfo(d,r.dtype,g.values)}};var Tn={kernelName:a.GatherV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.indices,s=r.axis,u=r.batchDims;(0,p.assertNotComplex)([i,o],"gatherV2");for(var l=a.util.parseAxisParam(s,i.shape)[0],c=n.data.get(o.dataId).values,d=i.shape[l],f=function(e){var t=c[e];a.util.assert(t<=d-1&&t>=0,(function(){return`GatherV2: the index value ${t} is not in [0, ${d-1}]`}))},h=0;h<c.length;++h)f(h);var m=u;null==u&&(m=0);var v=a.util.sizeFromShape(o.shape),g=a.backend_util.segment_util.collectGatherOpShapeInfo(i,o,l,m),y=_e({inputs:{x:i},backend:n,attrs:{shape:[g.batchSize,g.outerSize,g.dimSize,g.sliceSize]}}),b=_e({inputs:{x:o},backend:n,attrs:{shape:[g.batchSize,v/g.batchSize]}}),k=[g.batchSize,g.outerSize,v/g.batchSize,g.sliceSize],w=n.bufferSync(b),x=n.bufferSync(y),S=(0,_.gatherV2Impl)(x,w,k);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(b),n.makeTensorInfo(g.outputShape,S.dtype,S.values)}};var En={kernelName:a.IFFT,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,i=a.util.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],s=_e({inputs:{x:r},backend:n,attrs:{shape:[i/o,o]}}),u=dn(s,!0,n),l=_e({inputs:{x:u},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(u),l}},Cn=(0,he.unaryKernelFunc)(a.IsFinite,(function(e){return Number.isFinite(e)?1:0}),"bool"),Nn={kernelName:a.IsFinite,backendName:"cpu",kernelFunc:Cn},In=(0,he.unaryKernelFunc)(a.IsInf,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),_n={kernelName:a.IsInf,backendName:"cpu",kernelFunc:In},Rn=(0,he.unaryKernelFunc)(a.IsNan,(function(e){return Number.isNaN(e)?1:0}),"bool"),An={kernelName:a.IsNan,backendName:"cpu",kernelFunc:Rn};var On={kernelName:a.LinSpace,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=(0,F.linSpaceImpl)(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},Dn=(0,he.unaryKernelFunc)(a.Log1p,(function(e){return Math.log1p(e)})),Fn={kernelName:a.Log1p,backendName:"cpu",kernelFunc:Dn},$n=(0,J.createSimpleBinaryKernelImpl)((function(e,t){return e&&t})),Pn=(0,ee.binaryKernelFunc)(a.LogicalAnd,$n,null,"bool"),Mn={kernelName:a.LogicalAnd,backendName:"cpu",kernelFunc:Pn},Ln=(0,he.unaryKernelFunc)(a.LogicalNot,(function(e){return e?0:1}),"bool"),zn={kernelName:a.LogicalNot,backendName:"cpu",kernelFunc:Ln},Bn=(0,J.createSimpleBinaryKernelImpl)((function(e,t){return e||t})),Vn=(0,ee.binaryKernelFunc)(a.LogicalOr,Bn,null,"bool"),Un={kernelName:a.LogicalOr,backendName:"cpu",kernelFunc:Vn};var Gn={kernelName:a.LRN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.depthRadius,s=r.bias,u=r.alpha,l=r.beta;(0,p.assertNotComplex)(i,"LRN");var c=i.shape[3],d=c-1,f=n.data.get(i.dataId).values,h=a.util.sizeFromShape(i.shape),m=new Float32Array(h);function v(e){for(var t=e%c,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,d),a=0;n<=r;n++){var i=f[n];a+=i*i}return a}for(var g=0;g<h;g++){var y=v(g),b=f[g]*Math.pow(s+u*y,-l);m[g]=b}return n.makeTensorInfo(i.shape,i.dtype,m)}};var Wn={kernelName:a.LRNGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.y,s=t.dy,u=r.depthRadius,l=r.bias,c=r.alpha,d=r.beta;(0,p.assertNotComplex)(s,"LRNGrad");for(var f=a.util.sizeFromShape(s.shape),h=s.shape[3],m=n.data.get(s.dataId).values,v=n.data.get(i.dataId).values,g=n.data.get(o.dataId).values,y=new Float32Array(f),b=f,k=0;k<b;k++){for(var w=k%h,x=k-w+Math.max(0,w-u),S=k-w+Math.min(h,w+u+1),T=0,E=x;E<S;E++)T+=Math.pow(v[E],2);T=c*T+l;for(var C=x;C<S;C++){var N=-2*c*d*v[C]*g[k]/T;k===C&&(N+=Math.pow(T,-d)),N*=m[k],y[C]+=N}}return n.makeTensorInfo(s.shape,i.dtype,y)}};function jn(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.reductionIndices,s=r.keepDims,u=n,l=i.shape,c=l.length,d=a.util.parseAxisParam(o,l),f=d,h=a.backend_util.getAxesPermutation(f,c),m=u.data.get(i.dataId).values;if(null!=h){for(var v=new Array(c),g=0;g<v.length;g++)v[g]=l[h[g]];m=(0,de.transposeImpl)(m,l,i.dtype,h,v),f=a.backend_util.getInnerMostAxes(f.length,c),l=v}(0,p.assertNotComplex)(i,"max"),a.backend_util.assertAxesAreInnerMostDims("max",f,c);var y=a.backend_util.computeOutAndReduceShapes(l,f),b=(0,ke.default)(y,2),k=b[0],w=b[1],x=a.util.sizeFromShape(w),S=(0,P.maxImpl)(m,x,k,i.dtype),T=u.write(S,k,i.dtype),E=k;s&&(E=v=a.backend_util.expandShapeToKeepDim(k,d));return{dataId:T,shape:E,dtype:i.dtype}}var qn={kernelName:a.Max,backendName:"cpu",kernelFunc:jn};var Hn={kernelName:a.MaxPool,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x;(0,p.assertNotComplex)(i,"maxPool");var o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode;a.util.assert(a.backend_util.eitherStridesOrDilationsAreOne(s,1),(function(){return`Error in maxPool: Either strides or dilations must be 1. Got strides ${s} and dilations '1'`}));var c,d=a.backend_util.computePool2DInfo(i.shape,o,s,1,u,l);if(1===d.filterWidth&&1===d.filterHeight&&a.util.arraysEqual(d.inShape,d.outShape))c=(0,ge.identity)({inputs:{x:i},backend:n});else{var f=n.data.get(i.dataId).values,h=a.util.computeStrides(i.shape),m=tt(f,i.shape,i.dtype,h,d,"max");c=n.makeTensorInfo(d.outShape,i.dtype,m.values)}return c}};var Kn={kernelName:a.MaxPool3D,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.filterSize,s=r.strides,u=r.pad,l=r.dimRoundingMode,c=r.dataFormat;(0,p.assertNotComplex)(i,"maxPool3d");var d=a.backend_util.computePool3DInfo(i.shape,o,s,1,u,l,c),f=rt(n.data.get(i.dataId).values,i.shape,i.dtype,a.util.computeStrides(i.shape),d,"max");return n.makeTensorInfo(f.shape,"float32",f.values)}};var Xn={kernelName:a.MaxPool3DGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,o=t.input,s=r.filterSize,u=r.strides,l=r.pad,c=r.dimRoundingMode;(0,p.assertNotComplex)([i,o],"maxPool3DGrad");for(var d=a.backend_util.computePool3DInfo(o.shape,s,u,1,l,c),f=function(e,t){for(var n=(0,a.buffer)(t.outShape,"int32"),r=t.strideDepth,i=t.strideHeight,o=t.strideWidth,s=t.dilationDepth,u=t.dilationHeight,l=t.dilationWidth,c=t.effectiveFilterDepth,d=t.effectiveFilterHeight,f=t.effectiveFilterWidth,p=t.padInfo.front,h=t.padInfo.top,m=t.padInfo.left,v=0;v<t.batchSize;++v)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-p,k=b;k<0;)k+=s;for(var w=Math.min(t.inDepth,c+b),x=0;x<t.outHeight;++x){for(var S=x*i-h,T=S;T<0;)T+=u;for(var E=Math.min(t.inHeight,d+S),C=0;C<t.outWidth;++C){for(var N=C*o-m,I=N;I<0;)I+=l;for(var _=Math.min(t.inWidth,f+N),R=Number.NEGATIVE_INFINITY,A=-1,O=k;O<w;O+=s)for(var D=O-b,F=T;F<E;F+=u)for(var $=F-S,P=I;P<_;P+=l){var M=P-N,L=e.get(v,O,F,P,g);L>=R&&(R=L,A=D*d*f+$*d+M)}n.set(A,v,y,x,C,g)}}}return n}(n.bufferSync(o),d),h=d.strideDepth,m=d.strideHeight,v=d.strideWidth,g=d.dilationDepth,y=d.dilationHeight,b=d.dilationWidth,k=d.effectiveFilterDepth,w=d.effectiveFilterHeight,x=d.effectiveFilterWidth,S=k-1-d.padInfo.front,T=x-1-d.padInfo.left,E=w-1-d.padInfo.top,C=(0,a.buffer)(o.shape,"float32"),N=n.bufferSync(i),I=0;I<d.batchSize;++I)for(var _=0;_<d.inChannels;++_)for(var R=0;R<d.inDepth;++R)for(var A=0;A<d.inHeight;++A)for(var O=0;O<d.inWidth;++O){for(var D=R-S,F=A-E,$=O-T,P=0,M=0;M<k;M+=g){var L=(D+M)/h;if(!(L<0||L>=d.outDepth||Math.floor(L)!==L))for(var z=0;z<w;z+=y){var B=(F+z)/m;if(!(B<0||B>=d.outHeight||Math.floor(B)!==B))for(var V=0;V<x;V+=b){var U=($+V)/v;if(!(U<0||U>=d.outWidth||Math.floor(U)!==U)){var G=k*w*x-1-f.get(I,L,B,U,_)===M*w*x+z*x+V?1:0;if(0!==G)P+=N.get(I,L,B,U,_)*G}}}}C.set(P,I,R,A,O,_)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var Yn={kernelName:a.MaxPoolGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.dy,o=t.input,s=t.output,u=o;(0,p.assertNotComplex)([o,s],"maxPoolGrad");for(var l=r.filterSize,c=r.strides,d=r.pad,f=r.dimRoundingMode,h=a.backend_util.computePool2DInfo(u.shape,l,c,1,d,f),m=n.data.get(u.dataId).values,v=(0,a.buffer)(h.outShape,u.dtype,nt(m,u.shape,u.dtype,h).values),g=h.strideHeight,y=h.strideWidth,b=h.dilationHeight,k=h.dilationWidth,w=h.effectiveFilterHeight,x=h.effectiveFilterWidth,S=x-1-h.padInfo.left,T=w-1-h.padInfo.top,E=(0,a.buffer)(u.shape,"float32"),C=n.data.get(i.dataId).values,N=(0,a.buffer)(i.shape,"float32",C),I=0;I<h.batchSize;++I)for(var _=0;_<h.inChannels;++_)for(var R=0;R<h.inHeight;++R)for(var A=0;A<h.inWidth;++A){for(var O=R-T,D=A-S,F=0,$=0;$<w;$+=b){var P=(O+$)/g;if(!(P<0||P>=h.outHeight||Math.floor(P)!==P))for(var M=0;M<x;M+=k){var L=(D+M)/y;if(!(L<0||L>=h.outWidth||Math.floor(L)!==L)){var z=w*x-1-v.get(I,P,L,_)===$*x+M?1:0;if(0!==z)F+=N.get(I,P,L,_)*z}}}E.set(F,I,R,A,_)}return n.makeTensorInfo(E.shape,E.dtype,E.values)}};var Zn={kernelName:a.MaxPoolWithArgmax,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.x,o=n.filterSize,s=n.strides,u=n.pad,l=n.includeBatchInIndex,c=r;(0,p.assertNotComplex)(i,"MaxPoolWithArgmax");var d=c.data.get(i.dataId).values,f=a.backend_util.computePool2DInfo(i.shape,o,s,[1,1],u),h=function(e,t,n,r,i){var o=tt(e,0,n,a.util.computeStrides(t),i,"max"),s=nt(e,t,n,i,!0,r);return[o.values,s.values]}(d,i.shape,i.dtype,l,f),m=(0,ke.default)(h,2),v=m[0],g=m[1],y=c.write(v,f.outShape,i.dtype),b=c.write(g,f.outShape,i.dtype);return[{dataId:y,shape:f.outShape,dtype:i.dtype},{dataId:b,shape:f.outShape,dtype:"int32"}]}};var Qn={kernelName:a.Mean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis,s=r.keepDims,u=a.util.parseAxisParam(o,i.shape),l=a.backend_util.computeOutAndReduceShapes(i.shape,u)[1],c=a.util.sizeFromShape(l),d=[],f=n.makeTensorInfo([],"float32",new Float32Array([c]));d.push(f);var p=(0,w.cast)({inputs:{x:i},backend:n,attrs:{dtype:"float32"}});d.push(p);var h=ln({inputs:{a:p,b:f},backend:n});d.push(h);var m=Ht({inputs:{x:h},backend:n,attrs:{axis:o,keepDims:s}});return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}};var Jn={kernelName:a.Min,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.axis,s=r.keepDims;(0,p.assertNotComplex)(i,"min");var u=a.util.parseAxisParam(o,i.shape),l=u,c=a.backend_util.getAxesPermutation(l,i.shape.length),d=i;null!=c&&(d=(0,ze.transpose)({inputs:{x:i},backend:n,attrs:{perm:c}}),l=a.backend_util.getInnerMostAxes(l.length,i.shape.length)),a.backend_util.assertAxesAreInnerMostDims("min",l,d.shape.length);for(var f=a.backend_util.computeOutAndReduceShapes(d.shape,l),h=(0,ke.default)(f,2),m=h[0],v=h[1],g=a.util.sizeFromShape(v),y=a.util.makeZerosTypedArray(a.util.sizeFromShape(m),d.dtype),b=n.data.get(d.dataId).values,k=0;k<y.length;++k){for(var w=k*g,x=b[w],S=0;S<g;++S){var T=b[w+S];(Number.isNaN(T)||T<x)&&(x=T)}y[k]=x}null!=c&&n.disposeIntermediateTensorInfo(d);var E=n.makeTensorInfo(m,d.dtype,y);if(s){var C=_e({inputs:{x:E},backend:n,attrs:{shape:a.backend_util.expandShapeToKeepDim(m,u)}});return n.disposeIntermediateTensorInfo(E),C}return E}};var er={kernelName:a.MirrorPad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.paddings,s=r.mode;(0,p.assertNotComplex)(i,"mirrorPad");for(var u=o.map((function(e,t){return e[0]+i.shape[t]+e[1]})),l=o.map((function(e){return e[0]})),c=o.map((function(e,t){return e[0]+i.shape[t]})),d="reflect"===s?0:1,f=n.data.get(i.dataId).values,h=i.shape.length,m=a.util.computeStrides(i.shape),v=a.util.sizeFromShape(u),g=u.length,y=a.util.computeStrides(u),b=a.util.getTypedArrayFromDType(i.dtype,v),k=0;k<v;k++){for(var w=a.util.indexToLoc(k,g,y),x=0;x<g;x++)w[x]<l[x]?w[x]=2*l[x]-w[x]-d:w[x]>=c[x]&&(w[x]=2*(c[x]-1)-w[x]+d);w=w.map((function(e,t){return e-l[t]}));var S=a.util.locToIndex(w,h,m);b[k]=f[S]}return{dataId:n.write(b,u,i.dtype),shape:u,dtype:i.dtype}}},tr=(0,J.createSimpleBinaryKernelImpl)((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),nr=(0,ee.binaryKernelFunc)(a.Mod,tr),rr={kernelName:a.Mod,backendName:"cpu",kernelFunc:nr},ar=n(4838);function ir(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,o=r.dim,s=i.shape.length,u=o;if(-1===u&&(u=s-1),u!==s-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${s} and dim was ${u}`);var l=a.util.parseAxisParam([u],i.shape),c=jn({inputs:{x:i},backend:n,attrs:{reductionIndices:l,keepDims:!1}}),d=a.backend_util.expandShapeToKeepDim(c.shape,l),f=_e({inputs:{x:c},backend:n,attrs:{shape:d}}),p=(0,ue.sub)({inputs:{a:i,b:f},backend:n}),h=(0,E.exp)({inputs:{x:p},backend:n}),m=Ht({inputs:{x:h},backend:n,attrs:{axis:l,keepDims:!1}}),v=_e({inputs:{x:m},backend:n,attrs:{shape:d}}),g=ln({inputs:{a:h,b:v},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),g}var or={kernelName:a.Softmax,backendName:"cpu",kernelFunc:ir};var sr={kernelName:a.Multinomial,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.logits,o=r.numSamples,s=r.seed,u=r.normalized;(0,p.assertNotComplex)(i,"multinomial");for(var l=u?i:ir({inputs:{logits:i},backend:n,attrs:{dim:-1}}),c=l.shape[0],d=l.shape[1],f=n.data.get(l.dataId).values,h=[c,o],m=a.util.makeZerosTypedArray(a.util.sizeFromShape(h),"int32"),v=0;v<c;++v){var g=v*d,y=new Float32Array(d-1);y[0]=f[g];for(var b=1;b<y.length;++b)y[b]=y[b-1]+f[g+b];for(var k=ar.alea(s.toString()),w=v*o,x=0;x<o;++x){var S=k();m[w+x]=y.length;for(var T=0;T<y.length;T++)if(S<y[T]){m[w+x]=T;break}}}return u||n.disposeIntermediateTensorInfo(l),n.makeTensorInfo(h,"int32",m)}},ur=a.kernel_impls.nonMaxSuppressionV3Impl;var lr={kernelName:a.NonMaxSuppressionV3,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;(0,p.assertNotComplex)(a,"NonMaxSuppression");var l=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,d=ur(l,c,o,s,u).selectedIndices;return n.makeTensorInfo([d.length],"int32",new Int32Array(d))}},cr=a.kernel_impls.nonMaxSuppressionV4Impl;var dr={kernelName:a.NonMaxSuppressionV4,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.padToMaxOutputSize;(0,p.assertNotComplex)(a,"NonMaxSuppressionPadded");var c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,f=cr(c,d,o,s,u,l),h=f.selectedIndices,m=f.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},fr=a.kernel_impls.nonMaxSuppressionV5Impl;var pr={kernelName:a.NonMaxSuppressionV5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,l=r.softNmsSigma;(0,p.assertNotComplex)(a,"NonMaxSuppressionWithScore");var c=n.data.get(a.dataId).values,d=n.data.get(i.dataId).values,f=fr(c,d,o,s,u,l),h=f.selectedIndices,m=f.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}};var hr={kernelName:a.OneHot,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,o=r.dtype,s=r.depth,u=r.onValue,l=r.offValue;(0,p.assertNotComplex)(i,"oneHot");var c=a.util.sizeFromShape(i.shape),d=new Float32Array(c*s);d.fill(l);for(var f=n.data.get(i.dataId).values,h=0;h<c;++h)f[h]>=0&&f[h]<s&&(d[h*s+f[h]]=u);return n.makeTensorInfo([].concat((0,Vt.default)(i.shape),[s]),o,d)}};function mr(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=(0,yt.real)({inputs:{input:r},backend:n}),i=mr({inputs:{x:a},backend:n}),o=vt({inputs:{input:r},backend:n}),s=mr({inputs:{x:o},backend:n}),u=(0,ht.complex)({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return mn({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var vr={kernelName:a.ZerosLike,backendName:"cpu",kernelFunc:mr};var gr={kernelName:a.OnesLike,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var i=(0,yt.real)({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=vt({inputs:{input:a},backend:r}),u=mr({inputs:{x:s},backend:r}),l=(0,ht.complex)({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),l}return mn({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function yr(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return on({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var i=t[0].shape,o=t[0].dtype;t.forEach((function(e){a.util.assertShapesMatch(i,e.shape,"All tensors passed to stack must have matching shapes"),a.util.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var s=[],u=bt({inputs:t.map((function(e){var t=on({inputs:{input:e},backend:n,attrs:{dim:r}});return s.push(t),t})),backend:n,attrs:{axis:r}});return s.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),u}var br={kernelName:a.Pack,backendName:"cpu",kernelFunc:yr};var kr={kernelName:a.PadV2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.paddings,s=r.constantValue;(0,p.assertNotComplex)(i,"pad");var u=o.map((function(e,t){return e[0]+i.shape[t]+e[1]})),l=o.map((function(e){return e[0]})),c=n.data.get(i.dataId).values,d=a.util.sizeFromShape(i.shape),f=i.shape.length,h=a.util.computeStrides(i.shape),m=a.util.sizeFromShape(u),v=u.length,g=a.util.computeStrides(u),y=a.util.getTypedArrayFromDType(i.dtype,m);0!==s&&y.fill(s);for(var b=0;b<d;b++){var k=a.util.indexToLoc(b,f,h).map((function(e,t){return e+l[t]}));y[a.util.locToIndex(k,v,g)]=c[b]}return{dataId:n.write(y,u,i.dtype),shape:u,dtype:i.dtype}}},wr=(0,J.createSimpleBinaryKernelImpl)((function(e,t){return Math.pow(e,t)})),xr=(0,ee.binaryKernelFunc)(a.Pow,wr),Sr={kernelName:a.Pow,backendName:"cpu",kernelFunc:xr};var Tr={kernelName:a.RaggedTensorToTensor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.shape,i=t.values,o=t.defaultValue,s=t.rowPartitionTensors,u=r.rowPartitionTypes,l=n.data.get(a.dataId).values,c=n.data.get(i.dataId).values,d=n.data.get(o.dataId).values,f=s.map((function(e){return n.data.get(e.dataId).values})),p=s.map((function(e){return e.shape})),h=(0,G.raggedTensorToTensorImpl)(l,a.shape,c,i.shape,i.dtype,d,o.shape,f,p,u),m=(0,ke.default)(h,2),v=m[0],g=m[1];return n.makeTensorInfo(v,i.dtype,g)}};var Er={kernelName:a.Range,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.dtype,o=n.step,s=(0,W.rangeImpl)(r,a,o,i);return t.makeTensorInfo([s.length],i,s)}},Cr=(0,he.unaryKernelFunc)(a.Reciprocal,(function(e){return 1/e})),Nr={kernelName:a.Reciprocal,backendName:"cpu",kernelFunc:Cr};var Ir={kernelName:a.ResizeBilinear,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,p.assertNotComplex)(i,"resizeBilinear");for(var l=a.util.computeStrides(i.shape),c=(0,ke.default)(u,2),d=c[0],f=c[1],h=(0,ke.default)(i.shape,4),m=h[0],v=h[1],g=h[2],y=h[3],b=n.data.get(i.dataId).values,k=new Float32Array(a.util.sizeFromShape([m,d,f,y])),w=[o&&d>1?v-1:v,o&&f>1?g-1:g],x=[o&&d>1?d-1:d,o&&f>1?f-1:f],S=0,T=w[0]/x[0],E=w[1]/x[1],C=0;C<m;C++)for(var N=0;N<d;N++){var I=void 0;I=s?T*(N+.5)-.5:T*N;for(var _=Math.max(0,Math.floor(I)),R=I-_,A=Math.min(v-1,Math.ceil(I)),O=C*l[0]+_*l[1],D=C*l[0]+A*l[1],F=0;F<f;F++){var $=void 0;$=s?E*(F+.5)-.5:E*F;for(var P=Math.max(0,Math.floor($)),M=$-P,L=Math.min(g-1,Math.ceil($)),z=O+P*l[2],B=D+P*l[2],V=O+L*l[2],U=D+L*l[2],G=0;G<y;G++){var W=b[z+G],j=b[B+G],q=W+(b[V+G]-W)*M,H=q+(j+(b[U+G]-j)*M-q)*R;k[S++]=H}}}return n.makeTensorInfo([m,d,f,y],"float32",k)}};var _r={kernelName:a.ResizeBilinearGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,o=t.dy,s=r.alignCorners;(0,p.assertNotComplex)([o,i],"resizeBilinearGrad");for(var u=a.util.computeStrides(i.shape),l=(0,ke.default)(i.shape,4),c=l[0],d=l[1],f=l[2],h=l[3],m=(0,ke.default)(o.shape,3),v=m[1],g=m[2],y=new Float32Array(c*d*f*h),b=[s&&v>1?d-1:d,s&&g>1?f-1:f],k=[s&&v>1?v-1:v,s&&g>1?g-1:g],w=b[0]/k[0],x=b[1]/k[1],S=n.data.get(o.dataId).values,T=0,E=0;E<c;E++)for(var C=E*u[0],N=0;N<v;N++)for(var I=N*w,_=Math.floor(I),R=Math.min(Math.ceil(I),d-1),A=C+_*u[1],O=C+R*u[1],D=I-_,F=1-D,$=0;$<g;$++)for(var P=$*x,M=Math.floor(P),L=Math.min(Math.ceil(P),f-1),z=P-M,B=1-z,V=A+M*u[2],U=A+L*u[2],G=O+M*u[2],W=O+L*u[2],j=F*B,q=F*z,H=D*B,K=D*z,X=0;X<h;X++){var Y=S[T++];y[V+X]+=Y*j,y[U+X]+=Y*q,y[G+X]+=Y*H,y[W+X]+=Y*K}return n.makeTensorInfo([c,f,d,h],"float32",y)}};var Rr={kernelName:a.ResizeNearestNeighbor,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,o=r.alignCorners,s=r.halfPixelCenters,u=r.size;(0,p.assertNotComplex)(i,"resizeNearestNeighbor");for(var l=a.util.computeStrides(i.shape),c=(0,ke.default)(u,2),d=c[0],f=c[1],h=(0,ke.default)(i.shape,4),m=h[0],v=h[1],g=h[2],y=h[3],b=n.data.get(i.dataId).values,k=new Float32Array(m*d*f*y),w=[o&&d>1?v-1:v,o&&f>1?g-1:g],x=[o&&d>1?d-1:d,o&&f>1?f-1:f],S=w[0]/x[0],T=w[1]/x[1],E=0,C=0;C<m;C++)for(var N=C*l[0],I=0;I<d;I++){var _=s?S*(I+.5):S*I,R=Math.min(v-1,o?Math.round(_):Math.floor(_));s&&(R=Math.max(0,R));for(var A=N+R*l[1],O=0;O<f;O++){var D=s?T*(O+.5):T*O,F=Math.min(g-1,o?Math.round(D):Math.floor(D));s&&(F=Math.max(0,F));for(var $=A+F*l[2],P=0;P<y;P++){var M=b[$+P];k[E++]=M}}}return n.makeTensorInfo([m,d,f,y],i.dtype,k)}};var Ar={kernelName:a.ResizeNearestNeighborGrad,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.images,o=t.dy,s=r.alignCorners;(0,p.assertNotComplex)([o,i],"resizeNearestNeighborGrad");for(var u=a.util.computeStrides(i.shape),l=a.util.computeStrides(o.shape),c=(0,ke.default)(i.shape,4),d=c[0],f=c[1],h=c[2],m=c[3],v=(0,ke.default)(o.shape,3),g=v[1],y=v[2],b=new Float32Array(d*f*h*m),k=n.data.get(o.dataId).values,w=[s&&g>1?f-1:f,s&&y>1?h-1:h],x=[s&&g>1?g-1:g,s&&y>1?y-1:y],S=w[0]/x[0],T=w[1]/x[1],E=1/S,C=1/T,N=2*Math.ceil(E)+2,I=2*Math.ceil(C)+2,_=0;_<d;_++)for(var R=_*u[0],A=0;A<f;A++)for(var O=R+A*u[1],D=Math.floor(A*E),F=Math.floor(D-N/2),$=0;$<h;$++)for(var P=O+$*u[2],M=Math.floor($*C),L=Math.floor(M-I/2),z=0;z<m;z++){for(var B=0,V=0;V<N;V++){var U=V+F;if(!(U<0||U>=g)){var G=R+U*l[1],W=U*S;if(A===Math.min(f-1,s?Math.round(W):Math.floor(W)))for(var j=0;j<I;j++){var q=j+L;if(!(q<0||q>=y)){var H=G+q*l[2],K=q*T;$===Math.min(h-1,s?Math.round(K):Math.floor(K))&&(B+=k[H+z])}}}}b[P+z]=B}return n.makeTensorInfo(i.shape,i.dtype,b)}};var Or={kernelName:a.Reverse,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.dims;(0,p.assertNotComplex)(i,"reverse");var s=i.shape.length,u=a.util.parseAxisParam(o,i.shape);if(0===s)return(0,ge.identity)({inputs:{x:i},backend:n});for(var l=new a.TensorBuffer(i.shape,i.dtype),c=n.bufferSync(i),d=function(e){var t=l.indexToLoc(e),n=t.slice();u.forEach((function(e){return n[e]=i.shape[e]-1-n[e]})),l.set.apply(l,[c.get.apply(c,(0,Vt.default)(n))].concat((0,Vt.default)(t)))},f=0;f<l.size;f++)d(f);return n.makeTensorInfo(l.shape,l.dtype,l.values)}},Dr={kernelName:a.RotateWithOffset,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,o=n.radians,s=n.fillValue,u=n.center,l=r,c=a.util.getTypedArrayFromDType(i.dtype,a.util.sizeFromShape(i.shape)),d=(0,ke.default)(i.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=a.backend_util.getImageCenter(u,p,h),g=(0,ke.default)(v,2),y=g[0],b=g[1],k=Math.sin(o),w=Math.cos(o),x=l.data.get(i.dataId).values,S=0;S<f;S++)for(var T=S*h*p*m,E=0;E<p;E++)for(var C=E*(h*m),N=0;N<h;N++)for(var I=N*m,_=0;_<m;_++){var R=[f,E,N,_],A=R[2],O=R[1],D=(A-y)*w-(O-b)*k,F=(A-y)*k+(O-b)*w;D=Math.round(D+y),F=Math.round(F+b);var $=s;if("number"!==typeof s&&($=3===_?255:s[_]),D>=0&&D<h&&F>=0&&F<p)$=x[T+F*(h*m)+D*m+_];c[T+C+I+_]=$}return{dataId:l.write(c,i.shape,i.dtype),shape:i.shape,dtype:i.dtype}}},Fr=(0,he.unaryKernelFunc)(a.Round,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),$r={kernelName:a.Round,backendName:"cpu",kernelFunc:Fr};var Pr={kernelName:a.ScatterNd,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.indices,o=t.updates,s=r.shape,u=a.backend_util.calculateShapes(o,i,s),l=u.sliceRank,c=u.numUpdates,d=u.sliceSize,f=u.strides,p=u.outputSize,h=n.bufferSync(i),m=n.bufferSync(o),v=(0,q.scatterImpl)(h,m,s,p,d,c,l,f,0,!0);return n.makeTensorInfo(s,v.dtype,v.values)}};function Mr(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<t?n=a+1:r=a;return r}function Lr(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<=t?n=a+1:r=a;return r}var zr={kernelName:a.SearchSorted,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.sortedSequence,o=t.values,s=r.side,u=function(e,t,n,r,i,o){for(var s=a.util.getArrayFromDType("int32",n*i),u=0;u<n;++u)for(var l=e.slice(u*r,(u+1)*r),c=u*i,d=0;d<i;++d)s[c+d]="left"===o?Mr(l,t[d+c]):Lr(l,t[d+c]);return s}(n.data.get(i.dataId).values,n.data.get(o.dataId).values,i.shape[0],i.shape[1],o.shape[1],s);return n.makeTensorInfo(o.shape,"int32",u)}};var Br={kernelName:a.Select,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,i=t.t,o=t.e;(0,p.assertNotComplex)([r,i,o],"select");for(var s=r.shape.length,u=n.data.get(r.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values,d=(0,a.upcastType)(i.dtype,o.dtype),f=a.util.makeZerosTypedArray(a.util.sizeFromShape(i.shape),d),h=0,m=0===s||s>1||1===i.shape.length?1:a.util.sizeFromShape(i.shape.slice(1)),v=0;v<u.length;v++)for(var g=0;g<m;g++)1===u[v]?f[h++]=l[v]:f[h++]=c[v];return n.makeTensorInfo(i.shape,d,f)}},Vr=a.backend_util.SELU_SCALEALPHA,Ur=a.backend_util.SELU_SCALE,Gr=(0,he.unaryKernelFunc)(a.Selu,(function(e){return e>=0?Ur*e:Vr*(Math.exp(e)-1)})),Wr={kernelName:a.Selu,backendName:"cpu",kernelFunc:Gr},jr=(0,he.unaryKernelFunc)(a.Sign,(function(e){return e<0?-1:e>0?1:0})),qr={kernelName:a.Sign,backendName:"cpu",kernelFunc:jr},Hr=(0,he.unaryKernelFunc)(a.Sin,(function(e){return Math.sin(e)})),Kr={kernelName:a.Sin,backendName:"cpu",kernelFunc:Hr},Xr=(0,he.unaryKernelFunc)(a.Sinh,(function(e){return Math.sinh(e)})),Yr={kernelName:a.Sinh,backendName:"cpu",kernelFunc:Xr},Zr=Math.log(1.1920928955078125e-7)+2,Qr=(0,he.unaryKernelFunc)(a.Softplus,(function(e){var t=e>-Zr,n=e<Zr,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),Jr={kernelName:a.Softplus,backendName:"cpu",kernelFunc:Qr};var ea={kernelName:a.SpaceToBatchND,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.blockShape,s=r.paddings;(0,p.assertNotComplex)([i],"spaceToBatchND");var u=a.util.sizeFromShape(o),l=[[0,0]];l.push.apply(l,(0,Vt.default)(s));for(var c=1+o.length;c<i.shape.length;++c)l.push([0,0]);var d=kr.kernelFunc({inputs:{x:i},backend:n,attrs:{paddings:l,constantValue:0}}),f=a.backend_util.getReshaped(d.shape,o,u,!1),h=a.backend_util.getPermuted(f.length,o.length,!1),m=a.backend_util.getReshapedPermuted(d.shape,o,u,!1),v=_e({inputs:{x:d},backend:n,attrs:{shape:f}}),g={x:v},y={perm:h},b=(0,ze.transpose)({inputs:g,backend:n,attrs:y}),k=_e({inputs:{x:b},backend:n,attrs:{shape:m}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),k}};var ta={kernelName:a.SparseFillEmptyRows,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,o=t.defaultValue;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n        ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n        ${a.shape}`);if(0!==o.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${o.shape}`);var s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,l=n.data.get(i.dataId).values,c=n.data.get(o.dataId).values[0],d=(0,X.sparseFillEmptyRowsImpl)(s,r.shape,r.dtype,u,a.dtype,l,c),f=(0,ke.default)(d,5),p=f[0],h=f[1],m=f[2],v=f[3],g=f[4];return[n.makeTensorInfo(h,r.dtype,p),n.makeTensorInfo([h[0]],a.dtype,m),n.makeTensorInfo([v.length],"bool",new Uint8Array(v.map((function(e){return Number(e)})))),n.makeTensorInfo([g.length],r.dtype,new Int32Array(g))]}};var na={kernelName:a.SparseReshape,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape\n        ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape\n        ${a.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);var o=Array.from(n.data.get(a.dataId).values),s=n.data.get(r.dataId).values,u=Array.from(n.data.get(i.dataId).values),l=(0,Y.sparseReshapeImpl)(s,r.shape,r.dtype,o,u),c=(0,ke.default)(l,3),d=c[0],f=c[1],p=c[2];return[n.makeTensorInfo(f,r.dtype,d),n.makeTensorInfo([p.length],i.dtype,new Int32Array(p))]}};var ra={kernelName:a.SparseSegmentMean,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n          ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n          ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,l=(0,Z.sparseSegmentReductionImpl)(o,r.shape,r.dtype,s,u,!0),c=(0,ke.default)(l,2),d=c[0],f=c[1];return n.makeTensorInfo(f,r.dtype,d)}};var aa={kernelName:a.SparseSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n         ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n         ${i.shape}`);if(a.shape[0]!==i.shape[0])throw new Error("segmentIds and indices should have same size.");var o=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=n.data.get(i.dataId).values,l=(0,Z.sparseSegmentReductionImpl)(o,r.shape,r.dtype,s,u),c=(0,ke.default)(l,2),d=c[0],f=c[1];return n.makeTensorInfo(f,r.dtype,d)}};var ia={kernelName:a.SparseToDense,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,i=e.attrs,o=n.sparseIndices,s=n.sparseValues,u=n.defaultValue,l=i.outputShape,c=a.backend_util.calculateShapes(s,o,l),d=c.sliceRank,f=c.numUpdates,p=c.sliceSize,h=c.strides,m=c.outputSize,v=!1,g=r.bufferSync(o);switch(s.dtype){case"bool":var y=r.bufferSync(s),b=Boolean(r.data.get(u.dataId).values[0]);t=(0,q.scatterImpl)(g,y,l,m,p,f,d,h,b,v);break;case"float32":var k=r.bufferSync(s),w=r.data.get(u.dataId).values[0];t=(0,q.scatterImpl)(g,k,l,m,p,f,d,h,w,v);break;case"int32":var x=r.bufferSync(s),S=r.data.get(u.dataId).values[0];t=(0,q.scatterImpl)(g,x,l,m,p,f,d,h,S,v);break;case"string":var T=r.bufferSync(s),E=a.util.decodeString(r.data.get(u.dataId).values[0]);t=(0,q.scatterImpl)(g,T,l,m,p,f,d,h,E,v);break;default:throw new Error(`Unsupported type ${s.dtype}`)}return r.makeTensorInfo(l,t.dtype,t.values)}};var oa={kernelName:a.SplitV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.numOrSizeSplits,s=r.axis,u=a.util.parseAxisParam(s,i.shape)[0],l=a.backend_util.prepareSplitSize(i,o,u),c=new Array(i.shape.length).fill(0),d=i.shape.slice();return l.map((function(e){var t=(0,Vt.default)(d);t[u]=e;var r=(0,K.slice)({inputs:{x:i},backend:n,attrs:{begin:c,size:t}});return c[u]+=e,r}))}},sa={kernelName:a.Square,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;(0,p.assertNotComplex)(r,"square");for(var i=a.data.get(r.dataId).values,o=new Float32Array(i.length),s=0;s<i.length;++s){var u=i[s];o[s]=u*u}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},ua=(0,he.unaryKernelFunc)(a.Step,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),la={kernelName:a.Step,backendName:"cpu",kernelFunc:ua};var ca={kernelName:a.StridedSlice,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=r.begin,s=r.end,u=r.strides,l=r.beginMask,c=r.endMask,d=r.ellipsisMask,f=r.newAxisMask,h=r.shrinkAxisMask;(0,p.assertNotComplex)(i,"stridedSlice");var m,v=a.slice_util.sliceInfo(i.shape,o,s,u,l,c,d,f,h),g=v.finalShapeSparse,y=v.finalShape,b=v.isIdentity,k=v.sliceDim0,w=v.isSimpleSlice,x=v.begin,S=v.end,T=v.strides;if(b)m=_e({inputs:{x:i},backend:n,attrs:{shape:y}});else if(k||w){a.util.assert(i.shape.length>=1,(function(){return`Input must have rank at least 1, got: ${i.shape.length}`}));var E=a.slice_util.computeOutShape(x,S,T),C=(0,K.slice)({inputs:{x:i},backend:n,attrs:{begin:x,size:E}});m=_e({inputs:{x:C},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(C)}else{var N=n.bufferSync(i),I=(0,ae.stridedSliceImpl)(g,N,T,x);m=n.makeTensorInfo(y,I.dtype,I.values)}return m}};var da={kernelName:a.StringNGrams,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,l=r.preserveShortSequences,c=t.data,d=t.dataSplits,f=n.data.get(c.dataId).values,p=n.data.get(d.dataId).values,h=(0,ie.stringNGramsImpl)(f,p,a,i,o,s,u,l),m=(0,ke.default)(h,2),v=m[0],g=m[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(d.shape,"int32",g)]}};var fa={kernelName:a.StringSplit,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);var o=n.data.get(a.dataId).values,s=n.data.get(i.dataId).values[0],u=(0,oe.stringSplitImpl)(o,s,r),l=(0,ke.default)(u,3),c=l[0],d=l[1],f=l[2],p=d.length;return[n.makeTensorInfo([p,2],"int32",c),n.makeTensorInfo([p],"string",d),n.makeTensorInfo([2],"int32",new Int32Array(f))]}};var pa={kernelName:a.StringToHashBucketFast,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=n.data.get(a.dataId).values,o=(0,se.stringToHashBucketFastImpl)(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},ha=(0,he.unaryKernelFunc)(a.Tan,(function(e){return Math.tan(e)})),ma={kernelName:a.Tan,backendName:"cpu",kernelFunc:ha},va=(0,he.unaryKernelFunc)(a.Tanh,(function(e){return Math.tanh(e)})),ga={kernelName:a.Tanh,backendName:"cpu",kernelFunc:va};var ya={kernelName:a.Tile,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;(0,p.assertNotComplex)(a,"tile");var o=(0,le.tileImpl)(n.bufferSync(a),i);return n.makeTensorInfo(o.shape,o.dtype,o.values)}};var ba={kernelName:a.TopK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,o=r.sorted;(0,p.assertNotComplex)(a,"topk");var s=n.data.get(a.dataId).values,u=(0,ce.topKImpl)(s,a.shape,a.dtype,i,o),l=(0,ke.default)(u,2),c=l[0],d=l[1];return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}};var ka={kernelName:a.Transform,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,i=t.image,o=t.transforms,s=n.interpolation,u=n.fillMode,l=n.fillValue,c=n.outputShape,d=(0,ke.default)(i.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=null!=c?c:[p,h],g=(0,ke.default)(v,2),y=g[0],b=g[1],k=[f,y,b,m],w=a.util.computeStrides(i.shape),x=w[0],S=w[1],T=w[2],E=a.util.computeStrides(k),C=E[0],N=E[1],I=E[2],_=a.util.getTypedArrayFromDType(i.dtype,a.util.sizeFromShape(k));_.fill(l);for(var R=r.data.get(i.dataId).values,A=r.data.get(o.dataId).values,O=0;O<f;++O){for(var D=1===o.shape[0]?A:A.subarray(8*O,8*O+8),F=0;F<y;++F)for(var $=0;$<b;++$)for(var P=0;P<m;++P){var M=void 0,L=D[6]*$+D[7]*F+1;if(0!==L){var z=(D[0]*$+D[1]*F+D[2])/L,B=(D[3]*$+D[4]*F+D[5])/L,V=wa(z,h,u),U=wa(B,p,u);switch(s){case"nearest":M=Sa(R,p,h,x,S,T,O,U,V,P,l);break;case"bilinear":M=Ta(R,p,h,x,S,T,O,U,V,P,l);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${s}`)}_[O*C+F*N+$*I+P]=M}}return r.makeTensorInfo(k,i.dtype,_)}return{dataId:r.write(_,k,i.dtype),shape:i.shape,dtype:i.dtype}}};function wa(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var i=2*t;(n-=i*Math.trunc(n/i))>=t&&(n=i-n-1)}return a.util.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var i=t-1;n-=t*Math.trunc(n/i)}return a.util.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return a.util.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function xa(e,t,n,r,a,i,o,s,u,l,c){return 0<=s&&s<t&&0<=u&&u<n?e[o*r+s*a+u*i+l]:c}function Sa(e,t,n,r,a,i,o,s,u,l,c){return xa(e,t,n,r,a,i,o,Math.round(s),Math.round(u),l,c)}function Ta(e,t,n,r,a,i,o,s,u,l,c){var d=Math.floor(s),f=Math.floor(u),p=d+1,h=f+1;return(p-s)*((h-u)*xa(e,t,n,r,a,i,o,d,f,l,c)+(u-f)*xa(e,t,n,r,a,i,o,d,h,l,c))+(s-d)*((h-u)*xa(e,t,n,r,a,i,o,p,f,l,c)+(u-f)*xa(e,t,n,r,a,i,o,p,h,l,c))}var Ea={kernelName:a.Unique,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;(0,p.assertNotComplex)(i,"unique");var o=r.data.get(i.dataId).values,s=(0,fe.uniqueImpl)(o,a,i.shape,i.dtype),u=s.outputValues,l=s.outputShape,c=s.indices;return[r.makeTensorInfo(l,i.dtype,u),r.makeTensorInfo([c.length],"int32",c)]}};var Ca={kernelName:a.Unpack,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a.shape.length,s=a.shape[i],u=new Array(o-1),l=0,c=0;c<o;c++)c!==i&&(u[l++]=a.shape[c]);var d=new Array(o).fill(0),f=a.shape.slice();f[i]=1;for(var p=new Array(s),h=0;h<p.length;h++){d[i]=h;var m=(0,K.slice)({inputs:{x:a},backend:n,attrs:{begin:d,size:f}});p[h]=_e({inputs:{x:m},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(m)}return p}};var Na={kernelName:a.UnsortedSegmentSum,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,i=t.x,o=t.segmentIds,s=r.numSegments;(0,p.assertNotComplex)(i,"unsortedSegmentSum");for(var u=[],l=[],c=i.shape.length-o.shape.length,d=o,f=0;f<c;++f){var h=on({inputs:{input:d},backend:n,attrs:{dim:f+1}});d=h,l.push(h)}for(var m=0;m<s;++m){var v=a.util.createScalarValue(m,"int32"),g=n.makeTensorInfo([],"int32",v),y=(0,T.equal)({inputs:{a:g,b:d},backend:n}),b=(0,w.cast)({inputs:{x:y},backend:n,attrs:{dtype:"float32"}}),k=(0,z.multiply)({inputs:{a:b,b:i},backend:n}),x=Ht({inputs:{x:k},backend:n,attrs:{axis:0,keepDims:!1}});u.push(x),l.push(g),l.push(y),l.push(b),l.push(k),l.push(x)}var S=yr({inputs:u,backend:n,attrs:{axis:0}});return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),S}},Ia=[De,y.absConfig,$e,Me,b.addConfig,Le,Be,Ve,Ue,Ge,je,He,Xe,Qe,et,at,it,ot,st,Oe,ut,lt,ct,dt,w.castConfig,x.ceilConfig,pt,ht.complexConfig,mt,kt,xt,St,Tt,Et,Ct,Nt,_t,At,Ot,Dt,Ft,$t,Pt,Lt,zt,Bt,Ut,Gt,Wt,jt,Xt,ve,Yt,T.equalConfig,an,E.expConfig,sn,C.expm1Config,hn,vn,gn,N.floorConfig,kn,wn,xn,Sn,Tn,R.greaterConfig,A.greaterEqualConfig,ge.identityConfig,En,gt,Nn,_n,An,be,O.lessConfig,D.lessEqualConfig,On,$.logConfig,Fn,Mn,zn,Un,Gn,Wn,qn,M.maximumConfig,Hn,Kn,Xn,Yn,Zn,Qn,Jn,L.minimumConfig,er,rr,sr,z.multiplyConfig,B.negConfig,lr,dr,pr,V.notEqualConfig,hr,gr,br,kr,Sr,Se,U.prodConfig,Tr,Er,yt.realConfig,cn,Nr,Ee,Ne,Re,Ir,_r,Rr,Ar,Or,Dr,$r,j.rsqrtConfig,Pr,zr,Br,Wr,H.sigmoidConfig,qr,Kr,Yr,K.sliceConfig,or,Jr,ea,ta,na,ra,aa,ia,oa,Q.sqrtConfig,sa,re,la,ca,da,fa,pa,ue.subConfig,Kt,ma,ga,ya,ba,ka,ze.transposeConfig,Ea,Ca,Na,vr];for(var _a of Ia)(0,a.registerKernel)(_a)},3797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{abs:()=>o,absConfig:()=>s,simpleAbsImpl:()=>i});var r=n(6984),a=n(4485);function i(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var o=function(e){var t=e.inputs.x,n=e.backend;(0,a.assertNotComplex)(t,"abs");var o=new Float32Array(r.util.sizeFromShape(t.shape));return o=i(n.data.get(t.dataId).values),n.makeOutput(o,t.shape,t.dtype)},s={kernelName:r.Abs,backendName:"cpu",kernelFunc:o}},1115:(e,t,n)=>{"use strict";n.r(t),n.d(t,{add:()=>u,addComplexImpl:()=>s,addConfig:()=>l,addImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e+t})),s=(0,i.createComplexBinaryKernelImpl)((function(e,t,n,r){return{real:e+n,imag:t+r}})),u=(0,i.binaryKernelFunc)(r.Add,o,s),l={kernelName:r.Add,backendName:"cpu",kernelFunc:u}},8256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{bincountImpl:()=>a,bincountReduceImpl:()=>i});var r=n(6984);function a(e,t,n,a,i){for(var o=r.util.sizeFromShape(a),s=r.util.makeZerosTypedArray(i,n),u=0;u<e.length;u++){var l=e[u];if(l<0)throw new Error("Input x must be non-negative!");l>=i||(s[l]+=o>0?t[u]:1)}return s}function i(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.shape[0],o=e.shape[1],s=(0,r.buffer)([i,n],t.dtype),u=0;u<i;u++)for(var l=0;l<o;l++){var c=e.get(u,l);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(a?s.set(1,u,c):t.size>0?s.set(s.get(u,c)+t.get(u,l),u,c):s.set(s.get(u,c)+1,u,c))}return s}},4738:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cast:()=>d,castConfig:()=>f,castImpl:()=>c});var r=n(885),a=n(6984),i=n(222),o=n(6803),s=n(8671),u=n(4588),l=n(1716);function c(e,t,n,o){if("int32"===o)return[t,"int32",Int32Array.from(e)];if("bool"===o){var s=a.util.toTypedArray([0],n),u=(0,i.createSimpleBinaryKernelImpl)((function(e,t){return e!==t?1:0}))(t,[],e,s,"bool"),l=(0,r.default)(u,2),c=l[0];return[l[1],"bool",c]}throw new Error(`Error in Cast: failed to cast ${n} to ${o}`)}function d(e){var t=e.inputs,n=e.backend,i=e.attrs,f=t.x,p=i.dtype;if("complex64"===p){if("complex64"===f.dtype)return(0,u.identity)({inputs:{x:f},backend:n});var h=(0,o.zeros)(n,f.shape,f.dtype),m=d({inputs:{x:f},backend:n,attrs:{dtype:"float32"}}),v=(0,s.complex)({inputs:{real:m,imag:h},backend:n});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),v}if("complex64"===f.dtype){var g=(0,l.real)({inputs:{input:f},backend:n}),y=d({inputs:{x:g},backend:n,attrs:{dtype:p}});return n.disposeIntermediateTensorInfo(g),y}if(!a.util.hasEncodingLoss(f.dtype,p)){var b=(0,u.identity)({inputs:{x:f},backend:n});return{dataId:b.dataId,shape:b.shape,dtype:p}}var k=c(n.data.get(f.dataId).values,f.shape,f.dtype,p),w=(0,r.default)(k,3),x=w[0],S=w[1],T=w[2];return n.makeTensorInfo(x,S,T)}var f={kernelName:a.Cast,backendName:"cpu",kernelFunc:d}},2622:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ceil:()=>s,ceilConfig:()=>u,ceilImpl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return Math.ceil(e)})),s=(0,i.unaryKernelFuncFromImpl)(r.Ceil,o),u={kernelName:r.Ceil,backendName:"cpu",kernelFunc:s}},8671:(e,t,n)=>{"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",i),imag:n.makeTensorInfo(a.shape,"float32",o)},s}n.r(t),n.d(t,{complex:()=>r,complexConfig:()=>a});var a={kernelName:n(6984).Complex,backendName:"cpu",kernelFunc:r}},8353:(e,t,n)=>{"use strict";n.r(t),n.d(t,{concatImpl:()=>a});var r=n(6984);function a(e,t,n,a){var i=r.util.getArrayFromDType(n,r.util.sizeFromShape(t));if(a&&"string"!==n){var o=0;e.forEach((function(e){var t=r.util.sizeFromShape(e.shape);i.set(e.vals,o),o+=t}))}else{var s=0;e.forEach((function(e){for(var a="string"===n?r.backend_util.fromUint8ToStringArray(e.vals):e.vals,o=0,u=0;u<e.shape[0];++u)for(var l=u*t[1]+s,c=0;c<e.shape[1];++c)i[l+c]=a[o++];s+=e.shape[1]}))}return i}},3814:(e,t,n)=>{"use strict";n.r(t),n.d(t,{equal:()=>s,equalConfig:()=>u,equalImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e===t?1:0})),s=(0,i.binaryKernelFunc)(r.Equal,o,null,"bool"),u={kernelName:r.Equal,backendName:"cpu",kernelFunc:s}},9486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{exp:()=>s,expConfig:()=>u,expImpl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return Math.exp(e)})),s=(0,i.unaryKernelFuncFromImpl)(r.Exp,o,"float32"),u={kernelName:r.Exp,backendName:"cpu",kernelFunc:s}},6712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{expm1:()=>s,expm1Config:()=>u,expm1Impl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return Math.expm1(e)})),s=(0,i.unaryKernelFuncFromImpl)(r.Expm1,o),u={kernelName:r.Expm1,backendName:"cpu",kernelFunc:s}},9399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{floor:()=>s,floorConfig:()=>u,floorImpl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return Math.floor(e)})),s=(0,i.unaryKernelFuncFromImpl)(r.Floor,o),u={kernelName:r.Floor,backendName:"cpu",kernelFunc:s}},9721:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gatherNdImpl:()=>i});var r=n(2982),a=n(6984);function i(e,t,n,i,o,s,u,l,c){for(var d=(0,a.buffer)([i,s],n),f=0;f<i;f++){for(var p=[],h=0,m=0;m<o;m++){var v=e[f*o+m];h+=v*u[m],p.push(v)}if(h<0||h>=c/s)throw new Error(`Invalid indices: ${p} does not index into ${l}`);for(var g=0;g<s;g++)d.values[f*s+g]=t.get.apply(t,(0,r.default)(t.indexToLoc(h*s+g)))}return d}},5580:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gatherV2Impl:()=>a});var r=n(6984);function a(e,t,n){for(var a=(0,r.buffer)(n,e.dtype),i=0;i<a.size;++i){var o=a.indexToLoc(i).slice(),s=o[0],u=o[2],l=t.locToIndex([s,u]);o[2]=t.values[l];var c=e.locToIndex(o);0<=c&&c<e.values.length&&(a.values[i]=e.values[c])}return a}},2981:(e,t,n)=>{"use strict";n.r(t),n.d(t,{greater:()=>s,greaterConfig:()=>u,greaterImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e>t?1:0})),s=(0,i.binaryKernelFunc)(r.Greater,o,null,"bool"),u={kernelName:r.Greater,backendName:"cpu",kernelFunc:s}},4736:(e,t,n)=>{"use strict";n.r(t),n.d(t,{greaterEqual:()=>s,greaterEqualConfig:()=>u,greaterEqualImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e>=t?1:0})),s=(0,i.binaryKernelFunc)(r.GreaterEqual,o,null,"bool"),u={kernelName:r.GreaterEqual,backendName:"cpu",kernelFunc:s}},4588:(e,t,n)=>{"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}n.r(t),n.d(t,{identity:()=>r,identityConfig:()=>a});var a={kernelName:n(6984).Identity,backendName:"cpu",kernelFunc:r}},7086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{less:()=>s,lessConfig:()=>u,lessImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e<t?1:0})),s=(0,i.binaryKernelFunc)(r.Less,o,null,"bool"),u={kernelName:r.Less,backendName:"cpu",kernelFunc:s}},5813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{lessEqual:()=>s,lessEqualConfig:()=>u,lessEqualImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e<=t?1:0})),s=(0,i.binaryKernelFunc)(r.LessEqual,o,null,"bool"),u={kernelName:r.LessEqual,backendName:"cpu",kernelFunc:s}},4763:(e,t,n)=>{"use strict";n.r(t),n.d(t,{linSpaceImpl:()=>a});var r=n(6984);function a(e,t,n){var a=(t-e)/(n-1),i=r.util.makeZerosTypedArray(n,"float32");i[0]=e;for(var o=1;o<i.length;o++)i[o]=i[o-1]+a;return i}},6421:(e,t,n)=>{"use strict";n.r(t),n.d(t,{log:()=>s,logConfig:()=>u,logImpl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return Math.log(e)})),s=(0,i.unaryKernelFuncFromImpl)(r.Log,o),u={kernelName:r.Log,backendName:"cpu",kernelFunc:s}},826:(e,t,n)=>{"use strict";n.r(t),n.d(t,{maxImpl:()=>a});var r=n(6984);function a(e,t,n,a){for(var i=r.util.getTypedArrayFromDType(a,r.util.sizeFromShape(n)),o=0;o<i.length;++o){for(var s=o*t,u=e[s],l=0;l<t;++l){var c=e[s+l];(Number.isNaN(c)||c>u)&&(u=c)}i[o]=u}return i}},7062:(e,t,n)=>{"use strict";n.r(t),n.d(t,{maximum:()=>s,maximumConfig:()=>u,maximumImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return Math.max(e,t)})),s=(0,i.binaryKernelFunc)(r.Maximum,o),u={kernelName:r.Maximum,backendName:"cpu",kernelFunc:s}},2266:(e,t,n)=>{"use strict";n.r(t),n.d(t,{minimum:()=>s,minimumConfig:()=>u,minimumImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return Math.min(e,t)})),s=(0,i.binaryKernelFunc)(r.Minimum,o),u={kernelName:r.Minimum,backendName:"cpu",kernelFunc:s}},2367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{multiply:()=>u,multiplyComplexImpl:()=>s,multiplyConfig:()=>l,multiplyImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e*t})),s=(0,i.createComplexBinaryKernelImpl)((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),u=(0,i.binaryKernelFunc)(r.Multiply,o,s),l={kernelName:r.Multiply,backendName:"cpu",kernelFunc:u}},498:(e,t,n)=>{"use strict";n.r(t),n.d(t,{neg:()=>u,negConfig:()=>l,negImpl:()=>s});var r=n(885),a=n(6984),i=n(4485),o=n(2367);function s(e,t,n){var r=a.util.createScalarValue(-1,n);return(0,o.multiplyImpl)([],t,r,e,n)}function u(e){var t=e.inputs,n=e.backend,a=t.x;(0,i.assertNotComplex)(a,"neg");var o=s(n.data.get(a.dataId).values,a.shape,a.dtype),u=(0,r.default)(o,2),l=u[0],c=u[1];return n.makeTensorInfo(c,a.dtype,l)}var l={kernelName:a.Neg,backendName:"cpu",kernelFunc:u}},9844:(e,t,n)=>{"use strict";n.r(t),n.d(t,{notEqual:()=>s,notEqualConfig:()=>u,notEqualImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e!==t?1:0})),s=(0,i.binaryKernelFunc)(r.NotEqual,o,null,"bool"),u={kernelName:r.NotEqual,backendName:"cpu",kernelFunc:s}},4166:(e,t,n)=>{"use strict";n.r(t),n.d(t,{prod:()=>u,prodConfig:()=>l,prodImpl:()=>s});var r=n(885),a=n(6984),i=n(4485),o=n(6147);function s(e,t,n,i){for(var o=a.backend_util.computeOutAndReduceShapes(e,i),s=(0,r.default)(o,2),u=s[0],l=s[1],c=(0,a.upcastType)(t,"int32"),d=a.util.makeZerosTypedArray(a.util.sizeFromShape(u),c),f=a.util.sizeFromShape(l),p=0;p<d.length;++p){for(var h=p*f,m=1,v=0;v<f;++v)m*=n[h+v];d[p]=m}return{outVals:d,outShape:u,outDtype:c}}function u(e){var t=e.inputs,n=e.backend,r=e.attrs,u=t.x,l=r.axis,c=r.keepDims;(0,i.assertNotComplex)(u,"prod");var d=u.shape.length,f=a.util.parseAxisParam(l,u.shape),p=a.backend_util.getAxesPermutation(f,d),h=f,m=u,v=[];null!=p&&(m=(0,o.transpose)({inputs:{x:u},backend:n,attrs:{perm:p}}),v.push(m),h=a.backend_util.getInnerMostAxes(h.length,d));var g=n.data.get(m.dataId).values,y=s(m.shape,m.dtype,g,h),b=y.outVals,k=y.outShape,w=y.outDtype,x=k;return c&&(x=a.backend_util.expandShapeToKeepDim(k,f)),v.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(x,w,b)}var l={kernelName:a.Prod,backendName:"cpu",kernelFunc:u}},2860:(e,t,n)=>{"use strict";n.r(t),n.d(t,{raggedTensorToTensorImpl:()=>c});var r=n(5671),a=n(3144),i=n(6984),o=i.backend_util.RowPartitionType,s=function(){function e(t,n,a,o,s,u,l,c,d,f){(0,r.default)(this,e),this.shape=t,this.shapeShape=n,this.values=a,this.valuesShape=o,this.valuesDType=s,this.defaultValue=u,this.defaultValueShape=l,this.rowPartitionValues=c,this.rowPartitionValuesShapes=d,this.rowPartitionTypes=i.backend_util.getRowPartitionTypesHelper(f),this.raggedRank=i.backend_util.getRaggedRank(this.rowPartitionTypes)}return(0,a.default)(e,[{key:"getRowPartitionTypeByDimension",value:function(e){return this.rowPartitionTypes[0]===o.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}},{key:"getRowPartitionTensor",value:function(e){return this.rowPartitionTypes[0]===o.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}},{key:"getMaxWidth",value:function(t){var n=this.getRowPartitionTensor(t-1);switch(this.getRowPartitionTypeByDimension(t-1)){case o.VALUE_ROWIDS:return e.getMaxWidthValueRowID(n);case o.ROW_SPLITS:return e.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${o[this.getRowPartitionTypeByDimension(t-1)]}`)}}},{key:"tensorShapeFromTensor",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length){if(-1===e[0])return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return l(e,n)}},{key:"calculateOutputSize",value:function(e){var t=this.valuesShape,n=this.defaultValueShape;i.backend_util.validateDefaultValueShape(n,t);var r=this.tensorShapeFromTensor(this.shape,this.shapeShape),a=i.backend_util.combineRaggedTensorToTensorShapes(this.raggedRank,r,t);a[0]<0&&(a[0]=e);for(var o=1;o<=this.raggedRank;++o)a[o]<0&&(a[o]=this.getMaxWidth(o));return a}},{key:"calculateFirstParentOutputIndex",value:function(e,t,n){for(var r=Math.min(e,n),a=[],o=0,s=0;s<r;++s,o+=t)a.push(o);for(var u=r;u<e;++u)a.push(-1);return i.util.assert(a.length===e,(function(){return"Final length of result must be equal to firstDimension."})),a}},{key:"calculateOutputIndexRowSplit",value:function(e,t,n,r){for(var a=e.length,i=[],o=0;o<a-1;++o){var s=e[o+1]-e[o],u=Math.min(r,s),l=t[o];-1===l&&(u=0);for(var c=0;c<u;++c)i.push(l),l+=n;for(var d=0;d<s-u;++d)i.push(-1)}if(a>0&&i.length!==e[a-1])throw new Error("Invalid row split size.");return i}},{key:"calculateOutputIndexValueRowID",value:function(e,t,n,r){var a=e.length,i=[];if(0===a)return[];var o=0,s=e[0];if(s>=t.length)throw new Error(`Got currentValueRowId=${s}, which is not less than ${t.length}`);var u=t[s];i.push(u);for(var l=1;l<a;++l){var c=e[l];if(c===s)u>=0&&(++o<r?u+=n:u=-1);else{if(o=0,s=c,c>=t.length)throw new Error(`Got nextValueRowId=${c} which is not less than ${t.length}`);u=t[c]}i.push(u)}if(i.length!==e.length)throw new Error("Invalid row ids.");return i}},{key:"calculateOutputIndex",value:function(e,t,n,r){var a=this.getRowPartitionTensor(e),i=this.getRowPartitionTypeByDimension(e);switch(i){case o.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(a,t,n,r);case o.ROW_SPLITS:if(a.length-1>t.length)throw new Error(`Row partition size is greater than output size: ${a.length-1} > ${t.length}`);return this.calculateOutputIndexRowSplit(a,t,n,r);default:throw new Error(`Unsupported partition type: ${o[i]}`)}}},{key:"getFirstDimensionSize",value:function(){var e=this.rowPartitionValues[0];if(0===this.rowPartitionTypes.length)throw new Error("No row_partition_types given.");var t=this.rowPartitionTypes[0];switch(t){case o.FIRST_DIM_SIZE:return e[0];case o.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case o.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${o[t]}`)}}},{key:"compute",value:function(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");var e=this.getFirstDimensionSize(),t=this.calculateOutputSize(e),n=new Array(this.raggedRank+1);n[n.length-1]=1;for(var r=n.length-2;r>=0;--r)n[r]=n[r+1]*t[r+1];var a=l(t,!1),o=i.util.getArrayFromDType(this.valuesDType,i.util.sizeFromShape(a));if(n[0]*t[0]>0){for(var s=this.calculateFirstParentOutputIndex(e,n[0],t[0]),u=1;u<=this.raggedRank;++u){s=this.calculateOutputIndex(u-1,s,n[u],t[u])}this.setOutput(this.raggedRank,s,o,a)}return[a,o]}},{key:"setOutput",value:function(e,t,n,r){if(0!==n.length){var a=this.values,o=n,s=r.slice();s=s.slice(e+1);var l=i.util.sizeFromShape(s),c=t.length,d=this.defaultValue;if(d.length!==l&&1!==d.length){var f=this.defaultValueShape;(0,i.tidy)((function(){var e=(0,i.reshape)(d,f),t=(0,i.broadcastTo)(e,s);d=t.dataSync()}))}for(var p=0,h=0,m=0,v=0;v<=c;++v){var g=v<c?t[v]:-1;if(g!==m){if(h<m){var y=a.subarray(p*l);u(o.subarray(h*l),y,(m-h)*l)}if(v>=c){var b=n.length;g=Math.floor(b/l)}if(g>m)if(1===this.defaultValue.length)o.subarray(m*l,g*l).fill(this.defaultValue[0]),m=g;else for(;g>m;){u(o.slice(m*l),d,l),++m}g<0?(p=v+1,h=m):(p=v,m=(h=m)+1)}else++m}}}}],[{key:"getMaxWidthRowSplit",value:function(e){var t=e.length;if(0===t||1===t)return 0;for(var n=0,r=0;r<t-1;++r){var a=e[r+1]-e[r];a>n&&(n=a)}return n}},{key:"getMaxWidthValueRowID",value:function(e){var t=e.length;if(0===t)return 0;for(var n=0,r=e[0],a=0,i=1;i<t;++i){var o=e[i];o!==r&&(r=o,a=Math.max(i-n,a),n=i)}return Math.max(t-n,a)}}]),e}();function u(e,t,n){for(var r=0;r<n;r++)e[r]=t[r]}function l(e,t){var n=[];for(var r of e){if(r<0){if(!t)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function c(e,t,n,r,a,i,o,u,l,c){return new s(e,t,n,r,a,i,o,u,l,c).compute()}},9932:(e,t,n)=>{"use strict";n.r(t),n.d(t,{rangeImpl:()=>a});var r=n(6984);function a(e,t,n,a){if(e===t||e<t&&n<0||t<e&&n>1)return r.util.makeZerosTypedArray(0,a);var i=Math.abs(Math.ceil((t-e)/n)),o=r.util.makeZerosTypedArray(i,a);t<e&&1===n&&(n=-1),o[0]=e;for(var s=1;s<o.length;s++)o[s]=o[s-1]+n;return o}},1716:(e,t,n)=>{"use strict";function r(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,i=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,i)}n.r(t),n.d(t,{real:()=>r,realConfig:()=>a});var a={kernelName:n(6984).Real,backendName:"cpu",kernelFunc:r}},4245:(e,t,n)=>{"use strict";n.r(t),n.d(t,{rsqrt:()=>s,rsqrtConfig:()=>u,rsqrtImpl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return 1/Math.sqrt(e)})),s=(0,i.unaryKernelFuncFromImpl)(r.Rsqrt,o),u={kernelName:r.Rsqrt,backendName:"cpu",kernelFunc:s}},9921:(e,t,n)=>{"use strict";n.r(t),n.d(t,{scatterImpl:()=>a});var r=n(6984);function a(e,t,n,a,i,o,s,u,l,c){var d=[a/i,i],f=e.values,p=t.values;if(0===a)return(0,r.buffer)(n,t.dtype);var h=(0,r.buffer)(d,t.dtype);"string"===typeof l||"number"===typeof l?h.values.fill(l):"boolean"===typeof l&&h.values.fill(+l);for(var m=0;m<o;m++){for(var v=[],g=0,y=0;y<s;y++){var b=f[m*s+y];v.push(b),g+=b*u[y]}if(g<0||g>=a/i)throw new Error(`Invalid indices: ${v} does not index into ${n}`);for(var k=0;k<i;k++)c?h.values[g*i+k]+=p[m*i+k]:h.values[g*i+k]=0===t.rank?p[0]:p[m*i+k]}return h}},7730:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sigmoid:()=>s,sigmoidConfig:()=>u,sigmoidImpl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return 1/(1+Math.exp(-e))})),s=(0,i.unaryKernelFunc)(r.Sigmoid,(function(e){return 1/(1+Math.exp(-e))})),u={kernelName:r.Sigmoid,backendName:"cpu",kernelFunc:s}},8151:(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>u,sliceConfig:()=>l,sliceImpl:()=>s});var r=n(885),a=n(2982),i=n(6984),o=n(4485);function s(e,t,n,r,o){var s=i.slice_util.isSliceContinous(r,t,n),u=i.util.sizeFromShape(n),l=i.util.computeStrides(r);if(s){var c=i.slice_util.computeFlatOffset(t,l);return"string"===o?e.slice(c,c+u):e.subarray(c,c+u)}for(var d="string"===o?i.backend_util.fromUint8ToStringArray(e):e,f=(0,i.buffer)(r,o,d),p=(0,i.buffer)(n,o),h=0;h<p.size;++h){var m=p.indexToLoc(h),v=m.map((function(e,n){return e+t[n]}));p.set.apply(p,[f.get.apply(f,(0,a.default)(v))].concat((0,a.default)(m)))}return"string"===o?i.backend_util.fromStringArrayToUint8(p.values):p.values}function u(e){var t=e.inputs,n=e.backend,a=e.attrs,u=t.x,l=a.begin,c=a.size;(0,o.assertNotComplex)(u,"slice");var d=i.slice_util.parseSliceParams(u,l,c),f=(0,r.default)(d,2),p=f[0],h=f[1];i.slice_util.assertParamsValid(u,p,h);var m=s(n.data.get(u.dataId).values,p,h,u.shape,u.dtype);return n.makeTensorInfo(h,u.dtype,m)}var l={kernelName:i.Slice,backendName:"cpu",kernelFunc:u}},912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sparseFillEmptyRowsImpl:()=>a});var r=n(6984);function a(e,t,n,a,i,o,s){var u=t[0],l=o[0],c=new Array(l),d=new Array(u),f=t[1];if(0===l){if(0!==u)throw new Error(r.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(u));return[r.util.getArrayFromDType(n,0),[0,f],r.util.getArrayFromDType(i,0),c,d]}for(var p=!0,h=0,m=new Array(l).fill(0),v=0;v<u;++v){var g=e[v*f];if(g<0)throw new Error(r.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(v,g));if(g>=l)throw new Error(r.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(v,g,l));++m[g],p=p&&g>=h,h=g}for(var y=!0,b=0;b<l;++b){var k=0===m[b];c[b]=k,y=y&&!k,m[b]=Math.max(m[b],1),b>0&&(m[b]+=m[b-1])}if(y&&p){for(var w=e,x=a,S=0;S<u;++S)d[S]=S;return[w,[u,f],x,c,d]}for(var T=m[l-1],E=r.util.getArrayFromDType(n,T*f),C=r.util.getArrayFromDType(i,T),N=new Array(l).fill(0),I=0;I<u;++I){var _=e[I*f],R=N[_],A=(0===_?0:m[_-1])+R;N[_]++;for(var O=0;O<f;++O)E[A*f+O]=e[I*f+O];C[A]=a[I],d[I]=A}for(var D=0;D<l;++D){if(0===N[D]){var F=0===D?0:m[D-1];E[F*f+0]=D;for(var $=1;$<f;++$)E[F*f+$]=0;C[F]=s}}return[E,[T,f],C,c,d]}},8383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sparseReshapeImpl:()=>a});var r=n(6984);function a(e,t,n,a,i){for(var o=r.util.sizeFromShape(a),s=t[0],u=i.length,l=[],c=1,d=-1,f=0;f<u;++f){var p=i[f];if(-1===p){if(-1!==d)throw new Error(r.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,f));d=f,l.push(1)}else{if(p<0)throw new Error(r.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(f,p));c*=p,l.push(p)}}if(-1!==d){if(c<=0)throw new Error(r.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(o/c);if(c*h!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(a,l));l[d]=h}if(r.util.sizeFromShape(l)!==o)throw new Error(r.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(a,l));var m=a.length,v=[];if(m>0){v[m-1]=1;for(var g=m-2;g>=0;--g)v[g]=v[g+1]*a[g+1]}var y=[];if(u>0){y[u-1]=1;for(var b=u-2;b>=0;--b)y[b]=y[b+1]*l[b+1]}for(var k=r.util.getArrayFromDType(n,s*u),w=0;w<s;++w){for(var x=0,S=0;S<m;++S)x+=e[w*m+S]*v[S];for(var T=0;T<u;++T)k[w*u+T]=Math.trunc(x/y[T]),x%=y[T]}return[k,[s,u],l]}},1273:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sparseSegmentReductionImpl:()=>a});var r=n(6984);function a(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,u=a.length,l=[t[0],e.length/t[0]],c=l[1],d=u>0?i[u-1]+1:0;if(d<0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var f=t.slice();f[0]=d;var p=f.reduce((function(e,t){return e*t}),1),h=r.util.getArrayFromDType(n,p);if(0===u)return d>0&&h.fill(s),[h,f];if(d<=0)throw new Error(r.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,v=1,g=0,y=i[m];;){var b=0;if(v<u){if(y===(b=i[v])){++v;continue}if(y>=b)throw new Error(r.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(y<0||y>=d)throw new Error(r.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(y,d));y>g&&h.fill(s,g*c,y*c);for(var k=m;k<v;++k){var w=a[k];if(w<0||w>=l[0])throw new Error(r.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(k,a[k],l[0]));for(var x=0;x<c;x++)h[y*c+x]+=e[w*c+x]}if(o)for(var S=0;S<c;S++)h[y*c+S]/=v-m;if(m=v,g=y+1,y=b,++v>u)break}return g<d&&h.fill(s,g*c,d*c),[h,f]}},7607:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sqrt:()=>s,sqrtConfig:()=>u,sqrtImpl:()=>o});var r=n(6984),a=n(6674),i=n(1531),o=(0,a.createSimpleUnaryImpl)((function(e){return Math.sqrt(e)})),s=(0,i.unaryKernelFunc)(r.Sqrt,(function(e){return Math.sqrt(e)})),u={kernelName:r.Sqrt,backendName:"cpu",kernelFunc:s}},8022:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stridedSliceImpl:()=>i});var r=n(2982),a=n(6984);function i(e,t,n,i){for(var o=(0,a.buffer)(e,t.dtype),s=0;s<o.size;s++){for(var u=o.indexToLoc(s),l=new Array(u.length),c=0;c<l.length;c++)l[c]=u[c]*n[c]+i[c];o.set.apply(o,[t.get.apply(t,l)].concat((0,r.default)(u)))}return o}},6357:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stringNGramsImpl:()=>s});var r=n(5671),a=n(3144),i=n(6984),o=function(){function e(t,n,a,o,s,u){(0,r.default)(this,e),this.separator=i.util.encodeString(t),this.nGramWidths=n,this.leftPad=i.util.encodeString(a),this.rightPad=i.util.encodeString(o),this.padWidth=s,this.preserveShort=u}return(0,a.default)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,i){for(var o=this,s=function(s){var u=o.getPadWidth(i),l=Math.max(0,u-s),c=Math.max(0,u-(a-(s+1))),d=i-(l+c),f=t+(l>0?0:s-u),p=0;p+=l*o.leftPad.length;for(var h=0;h<d;++h)p+=e[f+h].length;p+=c*o.rightPad.length,p+=(l+c+d-1)*o.separator.length,n[r+s]=new Uint8Array(p);for(var m=n[r+s],v=0,g=function(e){return e.forEach((function(e){return m[v++]=e}))},y=0;y<l;++y)g(o.leftPad),g(o.separator);for(var b=0;b<d-1;++b)g(e[f+b]),g(o.separator);if(d>0){g(e[f+d-1]);for(var k=0;k<c;++k)g(o.separator),g(o.rightPad)}else{for(var w=0;w<c-1;++w)g(o.rightPad),g(o.separator);g(o.rightPad)}},u=0;u<a;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var o=t[0];if(0!==o)throw new Error(`First split value must be 0, got ${o}`);for(var s=1;s<a;++s){var u=t[s]>=o;if(!(u=u&&t[s]<=r))throw new Error(`Invalid split value ${t[s]}, must be in [${o}, ${r}]`);o=t[s]}if(o!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${o}`)}var l=a-1,c=i.util.getArrayFromDType("int32",a);if(0===r||0===a){for(var d=new Array(r),f=0;f<=l;++f)c[f]=0;return[d,c]}c[0]=0;for(var p=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach((function(e){a+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===a&&(a=1),c[e]=c[e-1]+a},h=1;h<=l;++h)p(h);for(var m=new Array(c[l]),v=function(r){var a=t[r],i=c[r];if(n.nGramWidths.forEach((function(o){var s=t[r+1]-t[r],u=n.getNumNGrams(s,o);n.createNGrams(e,a,m,i,u,o),i+=u})),n.preserveShort&&i===c[r]){var o=t[r+1]-t[r];if(0===o)return"continue";var s=o+2*n.padWidth;n.createNGrams(e,a,m,i,1,s)}},g=0;g<l;++g)v(g);return[m,c]}}]),e}();function s(e,t,n,r,a,i,s,u){return new o(n,r,a,i,s,u).compute(e,t)}},3595:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stringSplitImpl:()=>i});var r=n(6984);function a(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,i=0;i<e.length+1;i++)if(i===e.length||-1!==t.indexOf(e[i])){var o=e.subarray(a,i);n&&0===o.length||r.push(o),a=i+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var l=e.subarray(0,u);n&&0===l.length||r.push(l),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var c=0;c<e.length;++c)r.push(e.subarray(c,c+1))}function i(e,t,n){for(var i=e.length,o=[],s=0,u=0,l=new Array(i),c=0;c<i;++c){var d=o.length;a(e[c],t,n,o);var f=o.length-d;l[c]=f,s+=f,u=Math.max(u,f)}for(var p=r.util.getArrayFromDType("int32",2*s),h=new Array(s),m=[i,u],v=0,g=0;g<i;++g)for(var y=0;y<l[g];++y)p[2*v]=g,p[2*v+1]=y,h[v]=o[v],++v;return[p,h,m]}},6434:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stringToHashBucketFastImpl:()=>a});var r=n(6984);function a(e,t){for(var n=r.util.getArrayFromDType("int32",e.length),a=0;a<e.length;++a)n[a]=r.util.fingerPrint64(e[a]).modulo(t).getLowBitsUnsigned();return n}},6078:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sub:()=>u,subComplexImpl:()=>s,subConfig:()=>l,subImpl:()=>o});var r=n(6984),a=n(222),i=n(3032),o=(0,a.createSimpleBinaryKernelImpl)((function(e,t){return e-t})),s=(0,i.createComplexBinaryKernelImpl)((function(e,t,n,r){return{real:e-n,imag:t-r}})),u=(0,i.binaryKernelFunc)(r.Sub,o,s),l={kernelName:r.Sub,backendName:"cpu",kernelFunc:u}},7183:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tileImpl:()=>a});var r=n(6984);function a(e,t){for(var n=new Array(e.rank),a=0;a<n.length;a++)n[a]=e.shape[a]*t[a];for(var i=(0,r.buffer)(n,e.dtype),o=0;o<i.values.length;++o){for(var s=i.indexToLoc(o),u=new Array(e.rank),l=0;l<u.length;l++)u[l]=s[l]%e.shape[l];var c=e.locToIndex(u);i.values[o]=e.values[c]}return i}},3325:(e,t,n)=>{"use strict";n.r(t),n.d(t,{topKImpl:()=>o});var r=n(6984),a=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function i(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;o>n;){if(o-n>600){var s=o-n+1,u=t-n+1,l=Math.log(s),c=.5*Math.exp(2*l/3),d=.5*Math.sqrt(l*c*(s-c)/s)*Math.sign(u-s/2);i(e,t,Math.max(n,Math.floor(t-u*c/s+d)),Math.min(o,Math.floor(t+(s-u)*c/s+d)))}var f=e[t],p=n,h=o;for(r.util.swap(e,n,t),a(e[o],f)>0&&r.util.swap(e,n,o);p<h;){for(r.util.swap(e,p,h),p++,h--;a(e[p],f)<0;)p+=1;for(;a(e[h],f)>0;)h-=1}0===a(e[n],f)?r.util.swap(e,n,h):(h+=1,r.util.swap(e,h,o)),h<=t&&(n=h+1),t<=h&&(o=h-1)}}function o(e,t,n,o,s){for(var u=t[t.length-1],l=e.length/u,c=u,d=r.util.getTypedArrayFromDType(n,l*o),f=r.util.getTypedArrayFromDType("int32",l*o),p=function(t){var n=t*c,r=e.subarray(n,n+c),u=new Array(r.length);r.forEach((function(e,t){return u[t]={value:e,index:t}})),o<u.length&&(i(u,o),u=u.slice(0,o)),s&&u.sort(a);for(var l=t*o,p=d.subarray(l,l+o),h=f.subarray(l,l+o),m=0;m<o;m++)p[m]=u[m].value,h[m]=u[m].index},h=0;h<l;h++)p(h);var m=t.slice();return m[m.length-1]=o,[(0,r.buffer)(m,n,d),(0,r.buffer)(m,"int32",f)]}},6147:(e,t,n)=>{"use strict";n.r(t),n.d(t,{transpose:()=>o,transposeConfig:()=>s});var r=n(6984),a=n(4485),i=n(8016);function o(e){var t=e.inputs,n=e.attrs,r=e.backend,o=t.x,s=n.perm;(0,a.assertNotComplex)(o,"transpose");for(var u=o.shape.length,l=new Array(u),c=0;c<l.length;c++)l[c]=o.shape[s[c]];var d=r.data.get(o.dataId).values,f=(0,i.transposeImpl)(d,o.shape,o.dtype,s,l);return{dataId:r.write(f,l,o.dtype),shape:l,dtype:o.dtype}}var s={kernelName:r.Transpose,backendName:"cpu",kernelFunc:o}},8016:(e,t,n)=>{"use strict";n.r(t),n.d(t,{transposeImpl:()=>a});var r=n(6984);function a(e,t,n,a,i){for(var o=t.length,s=r.util.sizeFromShape(t),u=r.util.computeStrides(t),l=r.util.computeStrides(i),c=r.util.getTypedArrayFromDType(n,r.util.sizeFromShape(i)),d=0;d<s;++d){for(var f=r.util.indexToLoc(d,o,u),p=new Array(f.length),h=0;h<p.length;h++)p[h]=f[a[h]];c[r.util.locToIndex(p,o,l)]=e[d]}return c}},4262:(e,t,n)=>{"use strict";n.r(t),n.d(t,{uniqueImpl:()=>a});var r=n(6984);function a(e,t,n,a){for(var i=r.util.parseAxisParam(t,n)[0],o=[1,n[0],1],s=0;s<i;s++)o[0]*=n[s];o[1]=n[i];for(var u=i+1;u<n.length;u++)o[2]*=n[u];for(var l={},c=new Int32Array(n[i]),d=new r.TensorBuffer(o,a,e),f=[],p=1===o[0]&&1===o[2],h=0;h<n[i];h++){var m=void 0;if(p)m=e[h].toString();else{for(var v=[],g=0;g<o[0];g++)for(var y=0;y<o[2];y++)v.push(d.get(g,h,y));m=v.join(",")}if(void 0!==l[m])c[h]=l[m];else{var b=Object.keys(l).length;l[m]=b,c[h]=b,f.push(h)}}var k=o.slice();k[1]=Object.keys(l).length;var w=new r.TensorBuffer(k,a);f.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)w.set(d.get(n,e,r),n,t,r)}));var x=n.slice();return x[i]=k[1],{outputValues:w.values,outputShape:x,indices:c}}},222:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSimpleBinaryKernelImpl:()=>a});var r=n(6984);function a(e){return function(t,n,a,i,o){var s=r.backend_util.assertAndGetBroadcastShape(t,n),u=s.length,l=r.util.computeStrides(s),c=r.util.sizeFromShape(s),d=r.util.getTypedArrayFromDType(o,c),f=t.length,p=n.length,h=r.util.computeStrides(t),m=r.util.computeStrides(n),v=r.backend_util.getBroadcastDims(t,s),g=r.backend_util.getBroadcastDims(n,s);if(v.length+g.length===0)for(var y=0;y<d.length;++y)d[y]=e(a[y%a.length],i[y%i.length]);else for(var b=function(t){var n=r.util.indexToLoc(t,u,l),o=n.slice(-f);v.forEach((function(e){return o[e]=0}));var s=r.util.locToIndex(o,f,h),c=n.slice(-p);g.forEach((function(e){return c[e]=0}));var y=r.util.locToIndex(c,p,m);d[t]=e(a[s],i[y])},k=0;k<d.length;++k)b(k);return[d,s]}}},3032:(e,t,n)=>{"use strict";n.r(t),n.d(t,{binaryKernelFunc:()=>u,createComplexBinaryKernelImpl:()=>l});var r=n(885),a=n(6984),i=n(4485),o=n(4738),s=n(8671);function u(e,t,n,u){return null==n?function(n){var o=n.inputs,s=n.backend,l=o.a,c=o.b,d=s;(0,i.assertNotComplex)([l,c],e);var f=d.data.get(l.dataId).values,p=d.data.get(c.dataId).values,h="string"===l.dtype?a.backend_util.fromUint8ToStringArray(f):f,m="string"===l.dtype?a.backend_util.fromUint8ToStringArray(p):p,v=u||l.dtype,g=t(l.shape,c.shape,h,m,v),y=(0,r.default)(g,2),b=y[0],k=y[1];return d.makeTensorInfo(k,v,b)}:function(e){var a=e.inputs,i=e.backend,l=a.a,c=a.b,d=i;if("complex64"===l.dtype||"complex64"===c.dtype){var f=(0,o.cast)({inputs:{x:l},backend:d,attrs:{dtype:"complex64"}}),p=d.data.get(f.dataId),h=p.complexTensorInfos.real,m=p.complexTensorInfos.imag,v=d.data.get(h.dataId).values,g=d.data.get(m.dataId).values,y=(0,o.cast)({inputs:{x:c},backend:d,attrs:{dtype:"complex64"}}),b=d.data.get(y.dataId),k=b.complexTensorInfos.real,w=b.complexTensorInfos.imag,x=d.data.get(k.dataId).values,S=d.data.get(w.dataId).values,T=n(l.shape,c.shape,v,g,x,S),E=(0,r.default)(T,3),C=E[0],N=E[1],I=E[2],_=d.makeTensorInfo(I,"float32",C),R=d.makeTensorInfo(I,"float32",N),A=(0,s.complex)({inputs:{real:_,imag:R},backend:d});return d.disposeIntermediateTensorInfo(f),d.disposeIntermediateTensorInfo(y),d.disposeIntermediateTensorInfo(_),d.disposeIntermediateTensorInfo(R),A}var O=d.data.get(l.dataId).values,D=d.data.get(c.dataId).values,F=u||l.dtype,$=t(l.shape,c.shape,O,D,F),P=(0,r.default)($,2),M=P[0],L=P[1];return d.makeTensorInfo(L,F,M)}}function l(e){return function(t,n,r,i,o,s){var u=a.backend_util.assertAndGetBroadcastShape(t,n),l=a.util.sizeFromShape(u),c=u.length,d=a.util.computeStrides(u),f=a.util.getTypedArrayFromDType("float32",l),p=a.util.getTypedArrayFromDType("float32",l),h=a.backend_util.getBroadcastDims(t,u),m=a.backend_util.getBroadcastDims(n,u),v=a.backend_util.mergeRealAndImagArrays(r,i),g=a.backend_util.mergeRealAndImagArrays(o,s),y=t.length,b=a.util.computeStrides(t),k=n.length,w=a.util.computeStrides(n);if(h.length+m.length===0)for(var x=0;x<f.length;x++){var S=x%v.length,T=x%g.length,E=e(v[2*S],v[2*S+1],g[2*T],g[2*T+1]);f[x]=E.real,p[x]=E.imag}else for(var C=function(t){var n=a.util.indexToLoc(t,c,d),r=n.slice(-y);h.forEach((function(e){return r[e]=0}));var i=a.util.locToIndex(r,y,b),o=n.slice(-k);m.forEach((function(e){return o[e]=0}));var s=a.util.locToIndex(o,k,w),u=e(v[2*i],v[2*i+1],g[2*s],g[2*s+1]);f[t]=u.real,p[t]=u.imag},N=0;N<f.length;N++)C(N);return[f,p,u]}}},6674:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSimpleUnaryImpl:()=>a});var r=n(6984);function a(e){return function(t,n,a){for(var i=r.util.getTypedArrayFromDType(n,t.length),o=0;o<t.length;++o)i[o]=e(t[o],a);return i}}},1531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{unaryKernelFunc:()=>i,unaryKernelFuncFromImpl:()=>o});var r=n(6984),a=n(4485);function i(e,t,n){return function(i){var o=i.inputs,s=i.attrs,u=i.backend,l=o.x;if((0,a.assertNotComplex)(l,e),"string"===l.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var c=u,d=c.data.get(l.dataId).values,f=r.util.sizeFromShape(l.shape),p=n||l.dtype,h=r.util.getArrayFromDType(p,f),m=0;m<f;++m)h[m]=t(d[m],s);return c.makeTensorInfo(l.shape,p,h)}}function o(e,t,n){return function(r){var i=r.inputs,o=r.attrs,s=r.backend,u=i.x;if((0,a.assertNotComplex)(u,e),"string"===u.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var l=s,c=l.data.get(u.dataId).values,d=n||u.dtype,f=t(c,d,o);return l.makeTensorInfo(u.shape,d,f)}}},6803:(e,t,n)=>{"use strict";n.r(t),n.d(t,{zeros:()=>i});var r=n(6984),a=n(8671);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var o=i(e,t,"float32"),s=i(e,t,"float32");return(0,a.complex)({inputs:{real:o,imag:s},backend:e})}var u=r.util.makeZerosTypedArray(r.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,u)}},2236:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GPGPUContext:()=>St,MathBackendWebGL:()=>$r,forceHalfFloat:()=>Mr,gpgpu_util:()=>a,setWebGLContext:()=>k,version_webgl:()=>Pr,webgl:()=>Lr,webgl_util:()=>r});var r={};n.r(r),n.d(r,{assertNotComplex:()=>Se,bindCanvasToFramebuffer:()=>J,bindColorTextureToFramebuffer:()=>ee,bindTextureToProgramUniformSampler:()=>Q,bindTextureUnit:()=>K,bindVertexBufferToProgramAttribute:()=>H,callAndCheck:()=>C,canBeRepresented:()=>_,createFragmentShader:()=>D,createFramebuffer:()=>q,createProgram:()=>L,createStaticIndexBuffer:()=>U,createStaticVertexBuffer:()=>V,createTexture:()=>W,createVertexShader:()=>O,getBatchDim:()=>oe,getExtensionOrThrow:()=>A,getFramebufferErrorMessage:()=>re,getMaxTexturesInShader:()=>me,getNumChannels:()=>G,getProgramUniformLocation:()=>Z,getProgramUniformLocationOrThrow:()=>Y,getRowsCols:()=>se,getShapeAs3D:()=>ue,getTextureShapeFromLogicalShape:()=>le,getWebGLDisjointQueryTimerVersion:()=>ve,getWebGLErrorMessage:()=>R,getWebGLMaxTextureSize:()=>fe,hasExtension:()=>ge,isCapableOfRenderingToFloatTexture:()=>be,isDownloadFloatTextureEnabled:()=>ke,isReshapeFree:()=>de,isWebGLFenceEnabled:()=>xe,isWebGLVersionEnabled:()=>ye,linkProgram:()=>z,logShaderSourceAndInfoLog:()=>M,resetMaxTextureSize:()=>pe,resetMaxTexturesInShader:()=>he,unbindColorTextureFromFramebuffer:()=>te,unbindTextureUnit:()=>X,validateFramebuffer:()=>ne,validateProgram:()=>B,validateTextureSize:()=>j});var a={};n.r(a),n.d(a,{bindVertexProgramAttributeStreams:()=>mt,createBufferFromOutputTexture:()=>yt,createFloat16MatrixTexture:()=>ut,createFloat16PackedMatrixTexture:()=>ht,createFloat32MatrixTexture:()=>ot,createIndexBuffer:()=>rt,createPackedMatrixTexture:()=>ft,createUnsignedBytesMatrixTexture:()=>ct,createVertexBuffer:()=>nt,createVertexShader:()=>tt,downloadByteEncodedFloatMatrixFromOutputTexture:()=>kt,downloadFloat32MatrixFromBuffer:()=>bt,downloadMatrixFromPackedOutputTexture:()=>xt,downloadPackedMatrixFromBuffer:()=>wt,getInternalFormatForFloat16MatrixTexture:()=>st,getInternalFormatForFloat16PackedMatrixTexture:()=>pt,getInternalFormatForFloat32MatrixTexture:()=>it,getInternalFormatForPackedMatrixTexture:()=>dt,getInternalFormatForUnsignedBytesMatrixTexture:()=>lt,uploadDenseMatrixToTexture:()=>vt,uploadPixelDataToTexture:()=>gt});var i,o,s,u=n(6984),l=n(885),c=n(2982),d=n(5861),f=n(5671),p=n(3144),h=n(7326),m=n(136),v=n(6215),g=n(1120),y={},b={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function k(e,t){y[e]=t}function w(e,t){if(!(e in y)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete y[e]}),!1),(0,u.env)().getBool("SOFTWARE_WEBGL_ENABLED")&&(b.failIfMajorPerformanceCaveat=!1);if(1===e)return n.getContext("webgl",b)||n.getContext("experimental-webgl",b);return n.getContext("webgl2",b)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;y[e]=n}var r=y[e];return null==r||r.isContextLost()?(delete y[e],w(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),y[e])}function x(e,t){return[t,e]}function S(e){var t=u.util.sizeFromShape(e),n=Math.ceil(t/4);return u.util.sizeToSquarishShape(n)}function T(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function E(e,t){var n,r,a,i,o,s,l,c,d,f,p=e;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(n=p.R32F,r=p.R16F,a=p.RGBA16F,i=p.RGBA32F,o=p.RED,l=4,c=1,d=p.HALF_FLOAT,f=p.FLOAT,s=p.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,i=p.RGBA,o=e.RGBA,l=4,c=4,d=null!=t?t.HALF_FLOAT_OES:null,f=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:i,textureFormatFloat:o,downloadTextureFormat:s,downloadUnpackNumChannels:l,defaultNumChannels:c,textureTypeHalfFloat:d,textureTypeFloat:f}}function C(e,t){var n=t();return(0,u.env)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+R(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(i||(i={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(o||(o={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(s||(s={}));var N=5.96e-8,I=65504;function _(e){return!!((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||N<Math.abs(e)&&Math.abs(e)<I)}function R(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}function A(e,t){return ae(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}function O(e,t){var n=ae(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(C(e,(function(){return e.shaderSource(n,t)})),C(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}function D(e,t){var n=ae(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(C(e,(function(){return e.shaderSource(n,t)})),C(e,(function(){return e.compileShader(n)})),(0,u.env)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw M(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}var F,$,P=/ERROR: [0-9]+:([0-9]+):/g;function M(e,t){var n=P.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);for(var r=+n[1],a=e.split("\n"),i=a.length.toString().length+2,o=a.map((function(e,t){return u.util.rightPad((t+1).toString(),i)+e})),s=0,l=0;l<o.length;l++)s=Math.max(o[l].length,s);var c=o.slice(0,r-1),d=o.slice(r-1,r),f=o.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${u.util.rightPad(d[0],s)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(f.join("\n"))}function L(e){return ae(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}function z(e,t){if(C(e,(function(){return e.linkProgram(t)})),!(0,u.env)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}function B(e,t){if(C(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function V(e,t){var n=ae(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),C(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function U(e,t){var n=ae(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return C(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),C(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}function G(){return 2===(0,u.env)().getNumber("WEBGL_VERSION")?1:4}function W(e){return ae(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}function j(e,t){var n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error("Requested texture size "+`[${e}x${t}]`+" is invalid.");if(e>n||t>n)throw new Error("Requested texture size "+`[${e}x${t}]`+" greater than WebGL maximum on this browser / GPU "+`[${n}x${n}]`+".")}function q(e){return ae(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}function H(e,t,n,r,a,i,o){var s=e.getAttribLocation(t,n);return-1!==s&&(C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),C(e,(function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,i,o)})),C(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function K(e,t,n){ie(e,n),C(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}function X(e,t){ie(e,t),C(e,(function(){return e.activeTexture(e.TEXTURE0+t)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function Y(e,t,n){return ae(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function Z(e,t,n){return e.getUniformLocation(t,n)}function Q(e,t,n,r){C(e,(function(){return K(e,t,r)})),C(e,(function(){return e.uniform1i(n,r)}))}function J(e){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)})),C(e,(function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)})),C(e,(function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)}))}function ee(e,t,n){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),C(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function te(e,t){C(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),C(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function ne(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+re(e,t))}function re(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}function ae(e,t,n){var r=C(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function ie(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return u.util.sizeFromShape(e.slice(0,e.length-t))}function se(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function ue(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[oe(e)].concat((0,c.default)(se(e)))),t}function le(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,u.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?u.util.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=u.util.squeezeShape(e);e=r.newShape}var a=u.util.sizeFromShape(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var i=oe(e),o=2,s=2;if(e.length){var c=se(e),d=(0,l.default)(c,2);o=d[0],s=d[1]}return a=i*(o/2)*(s/2),u.util.sizeToSquarishShape(a).map((function(e){return 2*e}))}return u.util.sizeToSquarishShape(a)}function ce(e){return e%2===0}function de(e,t){if(e=e.slice(-2),t=t.slice(-2),u.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(ce(n)&&ce(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&ce(e[0])&&ce(t[0])}function fe(e){if(null==F){var t=w(e);F=t.getParameter(t.MAX_TEXTURE_SIZE)}return F}function pe(){F=null}function he(){$=null}function me(e){if(null==$){var t=w(e);$=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,$)}function ve(e){if(0===e)return 0;var t=w(e);return ge(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:ge(t,"EXT_disjoint_timer_query")?1:0}function ge(e,t){return null!=e.getExtension(t)}function ye(e){try{if(null!=w(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function be(e){if(0===e)return!1;var t=w(e);if(1===e){if(!ge(t,"OES_texture_float"))return!1}else if(!ge(t,"EXT_color_buffer_float"))return!1;return we(t)}function ke(e){if(0===e)return!1;var t=w(e);if(1!==e){if(ge(t,"EXT_color_buffer_float"))return we(t);var n="EXT_color_buffer_half_float";if(ge(t,n)){var r=t.getExtension(n);return function(e,t){var n=E(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,i=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,i,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),s}(t,r)}return!1}return!!ge(t,"OES_texture_float")&&(!!ge(t,"WEBGL_color_buffer_float")&&we(t))}function we(e){var t=E(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function xe(e){return 2===e&&null!=w(e).fenceSync}function Se(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&u.util.assert("complex64"!==e.dtype,(function(){return`${t} does not support complex64 tensors in the WebGL backend.`}))}))}var Te=(0,u.env)();function Ee(){var e,t,n,r,a,i,o,s,l,c;return 2===(0,u.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",i="outputColor",o="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",i="gl_FragColor",o="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:i,defineOutput:o,defineSpecialNaN:s,defineSpecialInf:l,defineRound:c}}function Ce(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,a){return`${`int ${e[a]} = ${n} / ${t}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${t}`:`index -= ${e[a]} * ${t}`};`})).join("")}function Ne(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=u.util.computeStrides(t);return r.map((function(t,a){return`${`int ${e[a]} = ${n} / outShapeStrides[${a}]`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * outShapeStrides[${a}]`:`index -= ${e[a]} * outShapeStrides[${a}]`};`})).join("")}function Ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=function(e,t){var n=e.length,r=e.map((function(e){return`${t}[${e}]`})),a=new Array(n-1);a[n-2]=r[n-1];for(var i=n-3;i>=0;--i)a[i]=`(${a[i+1]} * ${r[i+1]})`;return a}(e.map((function(e,t){return t})),t);return r.map((function(t,a){return`${`int ${e[a]} = ${n} / ${r[a]}`}; ${a===r.length-1?`int ${e[a+1]} = ${n} - ${e[a]} * ${r[a]}`:`index -= ${e[a]} * ${r[a]}`};`})).join("")}function _e(e){var t=u.util.computeStrides(e).map((function(e){return e.toString()}));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}Te.registerFlag("HAS_WEBGL",(function(){return Te.getNumber("WEBGL_VERSION")>0})),Te.registerFlag("WEBGL_VERSION",(function(){return ye(2)?2:ye(1)?1:0})),Te.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),Te.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===Te.get("WEBGL_VERSION")})),Te.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),Te.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),Te.registerFlag("WEBGL_PACK",(function(){return Te.getBool("HAS_WEBGL")})),Te.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_PACK_CLIP",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_PACK_REDUCE",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_CONV_IM2COL",(function(){return Te.getBool("WEBGL_PACK")})),Te.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return fe(Te.getNumber("WEBGL_VERSION"))})),Te.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return me(Te.getNumber("WEBGL_VERSION"))})),Te.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=Te.getNumber("WEBGL_VERSION");return 0===e?0:ve(e)})),Te.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return Te.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!u.device_util.isMobile()})),Te.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return be(Te.getNumber("WEBGL_VERSION"))})),Te.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!Te.getBool("WEBGL_FORCE_F16_TEXTURES")&&Te.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),Te.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return ke(Te.getNumber("WEBGL_VERSION"))})),Te.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return xe(Te.getNumber("WEBGL_VERSION"))})),Te.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return Te.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),Te.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),Te.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return u.device_util.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),Te.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),Te.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),Te.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),Te.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128})),Te.registerFlag("WEBGL_EXP_CONV",(function(){return!1})),Te.registerFlag("SOFTWARE_WEBGL_ENABLED",(function(){return Te.getBool("IS_TEST")}));var Re="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",Ae=u.backend_util.getBroadcastDims;function Oe(e,t,n){var r=[];if(e.forEach((function(e){var t=u.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){switch(Ge(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));var a,i,o=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?Fe(e,r):De(e,r);var i=e.shapeInfo.logicalShape,o=t.logicalShape;i.length<=o.length&&(a+=n?function(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),i="get"+a+"AtOutCoords",o=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=Ae(e.shapeInfo.logicalShape,t.logicalShape),c=Ue(s),d=s-o,f=["x","y","z","w","u","v"];n=0===o?"":s<2&&l.length>=1?"coords = 0;":l.map((function(e){return`coords.${f[e+d]} = 0;`})).join("\n");var p="";p=s<2&&o>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return`coords.${f[t+d]}`})).join(", ");var h="return outputValue;",m=1===u.util.sizeFromShape(e.shapeInfo.logicalShape),v=u.util.sizeFromShape(t.logicalShape),g=1===v;if(1!==o||m||g){if(m&&!g)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){var y=o-2,b=o-1;l.indexOf(y)>-1&&l.indexOf(b)>-1?h="return vec4(outputValue.x);":l.indexOf(y)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(b)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${i}() {\n      ${c} coords = getOutputCoords();\n      ${n}\n      vec4 outputValue = get${a}(${p});\n      ${h}\n    }\n  `}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",i=t.texShape,o=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&u.util.arraysEqual(o,i))return`\n      float ${a}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;var c,d=Ue(l),f=Ae(e.shapeInfo.logicalShape,t.logicalShape),p=l-s,h=["x","y","z","w","u","v"];c=0===s?"":l<2&&f.length>=1?"coords = 0;":f.map((function(e){return`coords.${h[e+p]} = 0;`})).join("\n");var m="";m=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return`coords.${h[t+p]}`})).join(", ");return`\n    float ${a}() {\n      ${d} coords = getOutputCoords();\n      ${c}\n      return get${r}(${m});\n    }\n  `}(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),l=t.texShape,c=Ee(),d=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(c),f=function(e){var t=`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${$e}\n    ${Pe}\n    ${Me}\n  `;return t}(c);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return ze();case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;var a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),i=a*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),i=a*Math.ceil(e[e.length-2]/2),o=i,s="",u="b, r, c",l=2;l<e.length-1;l++)s=`\n      int b${l} = index / ${o*=e[e.length-l-1]};\n      index -= b${l} * ${o};\n    `+s,u=`b${l}, `+u;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${i};\n      index -= b * ${i};\n\n      int r = 2 * (index / ${a});\n      int c = imod(index, ${a}) * 2;\n\n      return ivec${e.length}(${u});\n    }\n  `}(e,t,n)}}(t.logicalShape,l,n.enableShapeUniforms),i=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(c)):(a=function(e,t,n){switch(e.length){case 0:return ze();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(u.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${Ne(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}var r=Ce(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${Ne(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}var r=Ce(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){var n=Ce(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){var n=Ce(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,l,n.enableShapeUniforms),i=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(c)),n.packedInputs&&(f+=Le),[f,d,i,o,a,s,n.userCode].join("\n")}function De(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;var a=(0,l.default)(e.shapeInfo.texShape,2),i=a[0],o=a[1];if(1===i&&1===o)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;var s=Be(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;var u=(0,l.default)(e.shapeInfo.texShape,2),c=u[0],d=u[1];return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${c}, ${d}, ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${Ve(e)}\n      }\n    `;var a=e.shapeInfo.texShape,i=a[0],o=a[1];if(1===o&&1===i)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;var s=Be(n);if(1===o)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${i}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===i)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${o}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${i}, ${o}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape;if(null!=i&&u.util.arraysEqual(n,i)){if(t)return`\n      float ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;var o=i[0];return`\n    float ${a}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${i[1]}.0, ${o}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}var s=u.util.squeezeShape(n),l=s.newShape,c=s.keptDims,d=l;if(d.length<n.length){var f=["row","col"];return`\n      ${De(We(e,d),t)}\n      float ${a}(int row, int col) {\n        return ${a}(${je(f,c)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${Ve(e)}\n      }\n    `;var p=i[0],h=i[1],m=Be(r);if(1===h)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${m}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${m}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${p}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===p)return t?`\n      float ${a}(int row, int col) {\n        float index = dot(vec3(row, col, ${m}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col) {\n      float index = dot(vec3(row, col, ${m}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${h}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${a}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${m};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${a}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${m};\n    vec2 uv = uvFromFlat(${p}, ${h}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[1]*n[2],o=n[2],s=u.util.squeezeShape(n),l=s.newShape,c=s.keptDims,d=l;if(d.length<n.length){var f=["row","col","depth"];return`\n        ${De(We(e,d),t)}\n        float ${a}(int row, int col, int depth) {\n          return ${a}(${je(f,c)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${i}, ${o}, 1)));\n        ${Ve(e)}\n      }\n    `;var p=e.shapeInfo.texShape,h=p[0],m=p[1],v=e.shapeInfo.flatOffset;if(m===i&&null==v)return t?`\n      float ${a}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${a}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${o}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${m}.0, ${h}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(m===o&&null==v)return t?`\n      float ${a}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${a}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${m}.0, ${h}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;var g=Be(r);if(t)return`\n    float ${a}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * ${i} + col * ${o} + depth + ${g};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${a}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${i} + col * ${o} + depth + ${g};\n        vec2 uv = uvFromFlat(${h}, ${m}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=n[3],o=n[2]*i,s=n[1]*o,l=u.util.squeezeShape(n),c=l.newShape,d=l.keptDims;if(c.length<n.length){var f=["row","col","depth","depth2"];return`\n      ${De(We(e,c),t)}\n      float ${a}(int row, int col, int depth, int depth2) {\n        return ${a}(${je(f,d)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${a}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${s}, ${o}, ${i}, 1)));\n        ${Ve(e)}\n      }\n    `;var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1],g=`int stride2 = ${r}Shape[3];`,y=`int stride1 = ${r}Shape[2] * stride2;`,b=`int stride0 = ${r}Shape[1] * stride1;`;if(v===s&&null==p)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        ${g}\n        ${y}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${o}, ${i}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${v}.0, ${m}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(v===i&&null==p)return t?`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${a}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${v}.0, ${m}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;var k=Be(r);if(t)return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${g}\n      ${y}\n      ${b}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${k});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${a}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${o} +\n          depth * ${i} + depth2;\n      vec2 uv = uvFromFlat(${m}, ${v}, index + ${k});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],i=t[3]*a,o=t[2]*i,s=t[1]*o,l=u.util.squeezeShape(t),c=l.newShape,d=l.keptDims;if(c.length<t.length){var f=["row","col","depth","depth2","depth3"];return`\n      ${De(We(e,c))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${je(f,d)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${s}, ${o}, ${i}, ${a})) +\n          depth3;\n        ${Ve(e)}\n      }\n    `;var p=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,m=h[0],v=h[1];if(v===s&&null==p)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${o}, ${i}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${v}.0, ${m}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(v===a&&null==p)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${v}.0, ${m}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;var g=Be(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${s} + col * ${o} + depth * ${i} +\n          depth2 * ${a} + depth3 + ${g};\n      vec2 uv = uvFromFlat(${m}, ${v}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=u.util.squeezeShape(t),i=a.newShape,o=a.keptDims;if(i.length<t.length){var s=["row","col","depth","depth2","depth3","depth4"];return`\n      ${De(We(e,i))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${je(s,o)});\n      }\n    `}var l=t[5],c=t[4]*l,d=t[3]*c,f=t[2]*d,p=t[1]*f;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${p}, ${f}, ${d}, ${c})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${l}, 1)));\n        ${Ve(e)}\n      }\n    `;var h=e.shapeInfo.flatOffset,m=e.shapeInfo.texShape,v=m[0],g=m[1];if(g===p&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${f}, ${d}, ${c}, ${l})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${g}.0, ${v}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(g===l&&null==h)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${g}.0, ${v}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;var y=Be(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${p} + col * ${f} + depth * ${d} +\n          depth2 * ${c} + depth3 * ${l} + depth4 + ${y};\n      vec2 uv = uvFromFlat(${v}, ${g}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function Fe(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=Ee();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,i=Ee();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `;var o=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${o[0]}, ${o[1]}, index);\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=i[0],s=i[1],l=Ee();if(null!=i&&u.util.arraysEqual(n,i))return t?`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${a}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${s}.0, ${o}.0);\n\n        return ${l.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${a}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;var c=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)],d=Math.ceil(n[1]/2);return`\n    vec4 ${a}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${d}, ${c[0]}, ${c[1]}, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),i=e.shapeInfo.texShape,o=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];if(1===n[0]){var s=[1,2],u=["b","row","col"];return`\n        ${Fe(We(e,n.slice(1)),t)}\n        vec4 ${a}(int b, int row, int col) {\n          return ${a}(${je(u,s)});\n        }\n      `}var l=Ee();if(t)return`\n    vec4 ${a}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `;var c=o[0],d=o[1],f=Math.ceil(n[2]/2),p=f*Math.ceil(n[1]/2);return`\n    vec4 ${a}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${c}, ${d}, ${p}, ${f}, b, row, col);\n      return ${l.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=Ee();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${a.texture2D}(${n}, uv);\n    }\n  `;for(var i=e.shapeInfo.logicalShape,o=i.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],l=u[0],c=u[1],d=Math.ceil(i[o-1]/2),f=d*Math.ceil(i[o-2]/2),p="int b, int row, int col",h=`b * ${f} + (row / 2) * ${d} + (col / 2)`,m=2;m<o-1;m++)p=`int b${m}, `+p,h=`b${m} * ${f*=i[o-m-1]} + `+h;return`\n    vec4 ${r}(${p}) {\n      int index = ${h};\n      int texR = index / ${c};\n      int texC = index - texR * ${c};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${c}, ${l});\n      return ${a.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}var $e="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Pe="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Me="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Le="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function ze(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function Be(e){return`offset${e}`}function Ve(e){var t=e.name,n=u.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function Ue(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function Ge(e,t,n){var r=u.util.squeezeShape(t),a=r.newShape,i=r.keptDims,o=t.length,s=e&&3===o&&1===t[0],l=s?t.slice(1):a,c=!e&&o>1&&!u.util.arraysEqual(t,n)&&a.length<o||s;return{useSqueezeShape:c,uniformShape:c?l:t,keptDims:i}}function We(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function je(e,t){return t.map((function(t){return e[t]})).join(", ")}function qe(e,t,n){var r,a,i,o,s={},l={},c={},d=[],f=null;o=e.getUniformLocation(n,"NAN",!1),1===(0,u.env)().getNumber("WEBGL_VERSION")&&(f=e.getUniformLocation(n,"INFINITY",!1));for(var p=!1,h=0;h<t.variableNames.length;h++){var m=t.variableNames[h];s[m]=e.getUniformLocation(n,m,p),s[`offset${m}`]=e.getUniformLocation(n,`offset${m}`,p),t.enableShapeUniforms&&(l[`${m}Shape`]=e.getUniformLocation(n,`${m}Shape`,p),c[`${m}TexShape`]=e.getUniformLocation(n,`${m}TexShape`,p))}return t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",p),i=e.getUniformLocation(n,"outShapeStrides",p),a=e.getUniformLocation(n,"outTexShape",p)),t.customUniforms&&t.customUniforms.forEach((function(t,r){d[r]=e.getUniformLocation(n,t.name,p)})),{uniformLocations:s,customUniformLocations:d,infLoc:f,nanLoc:o,inShapesLocations:l,inTexShapesLocations:c,outShapeLocation:r,outShapeStridesLocation:i,outTexShapeLocation:a}}function He(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach((function(e,n){var r=e.logicalShape,a=t[n],i=a.shape;if(!u.util.arraysEqual(r,i))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${i} must match`);if(!e.isUniform||!a.isUniform){var o=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!u.util.arraysEqual(o,s))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${o} and ${s} must match`)}}))}function Ke(e){return(0,u.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var Xe=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=i.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Ee();this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Ne(["r","c","d"],t):Ce(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${n.output} = result;\n      }\n    `})),Ye=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=i.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=Ee();this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?Ne(["r","c","d"],t):Ce(["r","c","d"],t)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${n.output} = result;\n      }\n    `})),Ze=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.outTexUsage=o.DOWNLOAD;var n=Ee();this.outputShape=t,this.userCode=`\n      ${Re}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${n.output} = encode_float(x);\n      }\n    `})),Qe=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=o.DOWNLOAD;var n=Ee();this.outputShape=t,this.userCode=`\n      ${Re}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${n.output} = encode_float(x);\n      }\n    `})),Je=(0,p.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,f.default)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Ee();this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length);var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":_e(t)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${r.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${r.output} = vec4(${a}, 0., 0., 0.);\n      }\n    `})),et=(0,p.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=Ee();this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length);var a="",i="result";n&&(i="floor(result * 255. + 0.5)");for(var o=0;o<=1;o++)for(var s=0;s<=1;s++){var u=2*o+s;a+=`\n          localCoords = coords;\n          if(localCoords[2] + ${s} < ${this.enableShapeUniforms?"outShape[2]":`${t[2]}`}) {\n          localCoords[2] += ${s};\n          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${t[1]}`}) {\n            localCoords[1] += ${o};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${r.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${u}] = values[0];\n            } else if (offset == 1) {\n              result[${u}] = values[1];\n            } else if (offset == 2) {\n              result[${u}] = values[2];\n            } else {\n              result[${u}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":_e(t)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${a}\n\n          ${r.output} = ${i};\n        }\n    `}));function tt(e){var t=Ee();return O(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function nt(e){return V(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function rt(e){return U(e,new Uint16Array([0,1,2,2,1,3]))}function at(e,t,n,r,a,i){j(t,n);var o=W(e),s=e.TEXTURE_2D;return C(e,(function(){return e.bindTexture(s,o)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),C(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texImage2D(s,0,r,t,n,0,a,i,null)})):C(e,(function(){return e.texStorage2D(s,1,r,t,n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:o,texShape:[n,t]}}function it(e){return e.internalFormatFloat}function ot(e,t,n,r){var a=x(t,n),i=(0,l.default)(a,2);return at(e,i[0],i[1],it(r),r.textureFormatFloat,e.FLOAT)}function st(e){return e.internalFormatHalfFloat}function ut(e,t,n,r){var a=x(t,n),i=(0,l.default)(a,2);return at(e,i[0],i[1],st(r),r.textureFormatFloat,r.textureTypeHalfFloat)}function lt(e){return e.downloadTextureFormat}function ct(e,t,n,r){var a=x(t,n),i=(0,l.default)(a,2);return at(e,i[0],i[1],lt(r),e.RGBA,e.UNSIGNED_BYTE)}function dt(e){return e.internalFormatPackedFloat}function ft(e,t,n,r){var a=T(t,n),i=(0,l.default)(a,2);return at(e,i[0],i[1],dt(r),e.RGBA,e.FLOAT)}function pt(e){return e.internalFormatPackedHalfFloat}function ht(e,t,n,r){var a=T(t,n),i=(0,l.default)(a,2);return at(e,i[0],i[1],pt(r),e.RGBA,r.textureTypeHalfFloat)}function mt(e,t,n){return C(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),H(e,t,"clipSpacePos",n,3,20,0)&&H(e,t,"uv",n,2,20,12)}function vt(e,t,n,r,a,i){var o,s,l;C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(o=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,l=e.RGBA):(o=new Float32Array(n*r*4),s=e.FLOAT,l=i.internalFormatPackedFloat),o.set(a),2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,o)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,l,n,r,0,e.RGBA,s,o)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function gt(e,t,n){C(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===(0,u.env)().getNumber("WEBGL_VERSION")?C(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):C(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),C(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}function yt(e,t,n,r){var a=e.createBuffer();C(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var i=16*t*n;return C(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)})),C(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),C(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}function bt(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}function kt(e,t,n,r){var a=x(t,n),i=(0,l.default)(a,2),o=i[0],s=i[1],u=new Uint8Array(t*n*4);return C(e,(function(){return e.readPixels(0,0,o,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}function wt(e,t,n,r,a,i,o,s){var u=e,c=new Float32Array(function(e,t){var n=T(e,t),r=(0,l.default)(n,2);return r[0]*r[1]*4}(i,o));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}function xt(e,t,n){var r=new Float32Array(t*n*4);return C(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}var St=function(){function e(t){(0,f.default)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=(0,u.env)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,k(n,t)):this.gl=w(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,u.env)().getNumber("WEBGL_VERSION")){var i="OES_texture_half_float";if(this.textureFloatExtension=A(this.gl,"OES_texture_float"),ge(this.gl,i))this.textureHalfFloatExtension=A(this.gl,i);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),ge(this.gl,a))this.colorBufferHalfFloatExtension=A(this.gl,a);else if((0,u.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",ge(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!ge(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=nt(this.gl),this.indexBuffer=rt(this.gl),this.framebuffer=q(this.gl),this.textureConfig=E(this.gl,this.textureHalfFloatExtension)}return(0,p.default)(e,[{key:"debug",get:function(){return(0,u.env)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;C(t,(function(){return t.finish()})),C(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),C(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),C(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),C(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),C(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),ot(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),ut(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),ct(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),gt(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),vt(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),ht(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),ft(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(te(this.gl,this.framebuffer),this.outputTexture=null),C(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return kt(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,i){return wt(this.gl,e,0,0,0,a,i,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return bt(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=yt(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if((0,u.env)().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,i=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(i,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=i}else(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return xt(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=tt(n));var r=L(n);return C(n,(function(){return n.attachShader(r,t.vertexShader)})),C(n,(function(){return n.attachShader(r,e)})),z(n,r),this.debug&&B(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=mt(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&C(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&B(this.gl,this.program),C(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?Y(this.gl,e,t):Z(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),C(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),Q(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=T(t,n),a=(0,l.default)(r,2),i=a[0],o=a[1];this.setOutputMatrixTextureDriver(e,i,o)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&B(this.gl,this.program),ne(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),C(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),C(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=A(this.gl,2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=(0,d.default)((function*(e){var t=this;return yield u.util.repeatedTry((function(){return t.disposed||t.isQueryAvailable(e,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})),this.getQueryTime(e,(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var i=this.getQueryTimerExtensionWebGL1(),o=i.getQueryObjectEXT(e,i.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(i.GPU_DISJOINT_EXT)),o&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||u.util.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),ee(this.gl,e,this.framebuffer),this.debug&&ne(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(ee(this.gl,this.outputTexture,this.framebuffer),this.debug&&ne(this.gl)):te(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;ee(r,e,this.framebuffer),this.debug&&ne(r),this.outputTexture=e,C(r,(function(){return r.viewport(0,0,t,n)})),C(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),C(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var Tt=n(1115),Et=n(8256),Ct=n(4738),Nt=n(2622),It=n(8353),_t=n(3814),Rt=n(9486),At=n(6712),Ot=n(9399),Dt=n(9721),Ft=n(5580),$t=n(2981),Pt=n(4736),Mt=n(7086),Lt=n(5813),zt=n(4763),Bt=n(6421),Vt=n(826),Ut=n(7062),Gt=n(2266),Wt=n(2367),jt=n(498),qt=n(9844),Ht=n(4166),Kt=n(2860),Xt=n(9932),Yt=n(4245),Zt=n(9921),Qt=n(7730),Jt=n(3797),en=n(8151),tn=n(912),nn=n(8383),rn=n(1273),an=n(7607),on=n(8022),sn=n(6357),un=n(3595),ln=n(6434),cn=n(6078),dn=n(7183),fn=n(3325),pn=n(8016),hn=n(4262),mn=Tt.addImpl,vn=Et.bincountImpl,gn=Et.bincountReduceImpl,yn=Ct.castImpl,bn=Nt.ceilImpl,kn=It.concatImpl,wn=_t.equalImpl,xn=Rt.expImpl,Sn=At.expm1Impl,Tn=Ot.floorImpl,En=Dt.gatherNdImpl,Cn=Ft.gatherV2Impl,Nn=$t.greaterImpl,In=Pt.greaterEqualImpl,_n=Mt.lessImpl,Rn=Lt.lessEqualImpl,An=zt.linSpaceImpl,On=Bt.logImpl,Dn=Vt.maxImpl,Fn=Ut.maximumImpl,$n=Gt.minimumImpl,Pn=Wt.multiplyImpl,Mn=jt.negImpl,Ln=qt.notEqualImpl,zn=Ht.prodImpl,Bn=Kt.raggedTensorToTensorImpl,Vn=Xt.rangeImpl,Un=Yt.rsqrtImpl,Gn=Zt.scatterImpl,Wn=Qt.sigmoidImpl,jn=Jt.simpleAbsImpl,qn=en.sliceImpl,Hn=tn.sparseFillEmptyRowsImpl,Kn=nn.sparseReshapeImpl,Xn=rn.sparseSegmentReductionImpl,Yn=an.sqrtImpl,Zn=on.stridedSliceImpl,Qn=sn.stringNGramsImpl,Jn=un.stringSplitImpl,er=ln.stringToHashBucketFastImpl,tr=cn.subImpl,nr=dn.tileImpl,rr=fn.topKImpl,ar=pn.transposeImpl,ir=hn.uniqueImpl;function or(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return`${e}.${t}`}))}function sr(e,t){return 1===t?[e]:or(e,t)}var ur=function(){function e(t){if((0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Ke(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=sr("rc",this.rank),r=Ue(this.rank),a=this.getOutOfBoundsCondition(n),i=this.getSetup(n),o=this.getOutput(n);this.userCode=`\n        void main() {\n          ${r} rc = getOutputCoords();\n\n          if(${a}) {\n            setOutput(vec4(0));\n          } else {\n            ${i}\n\n            setOutput(vec4(${o}));\n          }\n        }\n      `}}return(0,p.default)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`,i=2;i<this.rank;i++)a=`${e[e.length-1-i]},`+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;for(var t="",n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);return 1===this.rank?`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`:`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}]),e}(),lr=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length);for(var r,a,i="",o=0;o<4;o++){var s="thisRC = rc;";o%2===1&&(s+="thisRC.z += 1;"),o>1&&(s+="thisRC.y += 1;"),i+=`\n        ${s}\n        ${o>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${o}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${o>0?"}":""}\n      `}this.userCode=`\n      ${r=n,a=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${a?Ie(["r","c","d"],"inputShape"):Ce(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":_e(t)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":t[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":t[2]};\n\n        ${i}\n\n        setOutput(result);\n      }\n    `}));var cr=function(){function e(t){(0,f.default)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,p.default)(e,[{key:"acquireTexture",value:function(e,t,n){var r=fr(t,n),a=pr(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var i,o=dr(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();var u=this.freeTextures[a].shift();return this.usedTextures[a].push(u),u}return r===s.PACKED_2X2_FLOAT32?i=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===s.PACKED_2X2_FLOAT16?i=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT32?i=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===s.UNPACKED_FLOAT16?i=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===s.PACKED_4X1_UNSIGNED_BYTE&&(i=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(i),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),i}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=fr(n,r),i=pr(t,a,r);i in this.freeTextures||(this.freeTextures[i]=[]);var o=dr(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=(0,u.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=o):(this.freeTextures[i].push(e),this.numFreeTextures++,this._numBytesFree+=o),this.numUsedTextures--;var l=this.usedTextures[i],c=l.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");l.splice(c,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);var t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function dr(e,t,n,r,a){var i,o=function(e,t){switch(e){case s.PACKED_2X2_FLOAT32:return dt(t);case s.PACKED_2X2_FLOAT16:return pt(t);case s.UNPACKED_FLOAT32:return it(t);case s.UNPACKED_FLOAT16:return st(t);case s.PACKED_4X1_UNSIGNED_BYTE:return lt(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);if(a){var u=T(e[0],e[1]),c=(0,l.default)(u,2);i=c[0]*c[1]}else{var d=x(e[0],e[1]),f=(0,l.default)(d,2);i=f[0]*f[1]}var p=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,o);return i*p}function fr(e,t){if(e===o.UPLOAD)return s.PACKED_2X2_FLOAT32;if(e===o.RENDER||null==e)return function(e){return(0,u.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?s.PACKED_2X2_FLOAT32:s.UNPACKED_FLOAT32:e?s.PACKED_2X2_FLOAT16:s.UNPACKED_FLOAT16}(t);if(e===o.DOWNLOAD||e===o.PIXELS)return s.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function pr(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}var hr=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${n}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `})),mr="if (isnan(x)) return x;",vr="return x;",gr="return abs(x);";var yr="return (x >= 0.0) ? x : (exp(x) - 1.0);",br=mr+"\n  return (x < 0.0) ? 0.0 : x;\n",kr=mr+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",wr="return x;",xr="return 1.0 / (1.0 + exp(-1.0 * x));",Sr="return x;",Tr="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",Er="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Cr="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",Nr="return 1.0 / (1.0 + exp(-1.0 * x));",Ir=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${n}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `})),_r=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length);var n=t.length,r=sr("rc",n),a=Ue(n),i=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),o=r.slice(-2),s=n<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`\n      void main() {\n        ${a} rc = getOutputCoords();\n        vec4 packedInput = getA(${i});\n\n        setOutput(getChannel(packedInput, ${s}));\n      }\n    `}));function Rr(e){var t=Ar();return function(){var n,r=(0,g.default)(e);if(t){var a=(0,g.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,v.default)(this,n)}}function Ar(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ar=function(){return!!e})()}var Or=u.kernel_impls.whereImpl,Dr={};var Fr=(0,u.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var $r=function(e){(0,m.default)(n,e);var t=Rr(n);function n(e){var r,a,i;if((0,f.default)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,u.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof St)a=e;else{var o=w((0,u.env)().getNumber("WEBGL_VERSION"),e);a=new St(o)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=w((0,u.env)().getNumber("WEBGL_VERSION"));a=new St(s),r.binaryCache=((i=(0,u.env)().getNumber("WEBGL_VERSION"))in Dr||(Dr[i]={}),Dr[i]),r.gpgpuCreatedLocally=!0}return r.gpgpu=a,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new cr(r.gpgpu),r.numMBBeforeWarning=null==(0,u.env)().global.screen?1024:(0,u.env)().global.screen.height*(0,u.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new u.DataStorage((0,h.default)(r),(0,u.engine)()),r}return(0,p.default)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if(((0,u.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,u.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:o.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if((0,u.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:o.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,i=t.slice,o=t.shape,s=t.isPacked;if(null!=i){var l;l=s?new Ir(o,wr):new hr(o,wr);var c=this.runWebGLProgram(l,[{dataId:e,shape:o,dtype:r}],r),d=this.readSync(c.dataId);return this.disposeIntermediateTensorInfo(c),d}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var f,p,h=null!=this.activeTimers;if(h&&(f=u.util.now()),"complex64"===r){var m=this.readSync(a.real.dataId),v=this.readSync(a.imag.dataId);p=u.backend_util.mergeRealAndImagArrays(m,v)}else p=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=u.util.now()-f),this.convertAndCacheOnCPU(e,p)}},{key:"read",value:function(){var e=(0,d.default)((function*(e){if(this.pendingRead.has(e)){var t=this.pendingRead.get(e);return new Promise((function(e){return t.push(e)}))}var n=this.texData.get(e),r=n.values,a=n.shape,i=n.slice,o=n.dtype,s=n.complexTensorInfos,l=n.isPacked;if(null!=i){var d;d=l?new Ir(a,wr):new hr(a,wr);var f=this.runWebGLProgram(d,[{dataId:e,shape:a,dtype:o}],o),p=this.read(f.dataId);return this.disposeIntermediateTensorInfo(f),p}if(null!=r)return this.convertAndCacheOnCPU(e);if((0,u.env)().getBool("DEBUG")&&!(0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,u.env)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");var h,m,v=null;if("complex64"!==o&&(0,u.env)().get("WEBGL_BUFFER_SUPPORTED")){var g;h=this.decode(e);var y=this.texData.get(h.dataId);v=(g=this.gpgpu).createBufferFromTexture.apply(g,[y.texture.texture].concat((0,c.default)(S(a))))}if(this.pendingRead.set(e,[]),"complex64"!==o&&(yield this.gpgpu.createAndWaitForFence()),"complex64"===o){var b=yield Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]),k=b[0],w=b[1];m=u.backend_util.mergeRealAndImagArrays(k,w)}else if(null==v)m=this.getValuesFromTexture(e);else{var x=u.util.sizeFromShape(a);m=this.gpgpu.downloadFloat32MatrixFromBuffer(v,x)}if(null!=h&&this.disposeIntermediateTensorInfo(h),null!=v){var T=this.gpgpu.gl;C(T,(function(){return T.deleteBuffer(v)}))}var E=this.convertAndCacheOnCPU(e,m),N=this.pendingRead.get(e);return this.pendingRead.delete(e),N.forEach((function(e){return e(E)})),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&(0,u.engine)().removeDataId(e,this),this.pendingDeletes--),E}));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,a=n.shape,i=n.slice,o=n.dtype,s=n.isPacked,l=n.texture;if("complex64"===o)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=i){var c;c=s?new Ir(a,wr):new hr(a,wr);var d=this.runWebGLProgram(c,[{dataId:e,shape:a,dtype:o}],o),f=this.readToGPU(d,t);return this.disposeIntermediateTensorInfo(d),f}if(null==l)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var p=this.decode(e,t.customTexShape),h=(0,u.engine)().makeTensorFromTensorInfo(p),m=this.texData.get(p.dataId);return Object.assign({tensorRef:h},m.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return u.util.decodeString(e)}));return(0,u.buffer)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,u.buffer)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!_(n)){if((0,u.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,i=u.util.sizeFromShape(n);if((0,u.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var o,s=this.decode(e),l=this.texData.get(s.dataId),d=(o=this.gpgpu).downloadMatrixFromPackedTexture.apply(o,[l.texture.texture].concat((0,c.default)(S(n)))).subarray(0,i);return this.disposeIntermediateTensorInfo(s),d}var f=(0,u.env)().getBool("WEBGL_PACK")&&!0===a,p=f?ue(n):n,h=f?new Qe(p):new Ze(p),m=this.runWebGLProgram(h,[{shape:p,dtype:r,dataId:e}],"float32"),v=this.texData.get(m.dataId),g=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture.texture,v.texShape[0],v.texShape[1]).subarray(0,i);return this.disposeIntermediateTensorInfo(m),g}},{key:"timerAvailable",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();var i=u.util.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),o=u.util.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,a&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,d.default)((function*(){if((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){var e=yield Promise.all(i);s.kernelMs=u.util.sum(e),s.getExtraProfileInfo=function(){return e.map((function(e,t){return{name:o[t],ms:e}})).map((function(e){return`${e.name}: ${e.ms}`})).join(", ")}}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return t.uploadWaitMs=0,t.downloadWaitMs=0,s}))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:u.util.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=u.util.now(),e)}},{key:"getQueryTime",value:function(){var e=(0,d.default)((function*(e){if((0,u.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);var t=e;return t.endMs-t.startMs}));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e).complexTensorInfos;return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,i=t.usage,o=t.isPacked,s=t.slice,u=s&&s.origDataId||e,l=this.dataRefCount.get(u);l>1?this.dataRefCount.set(u,l-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,i,o)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fr;return(0,u.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&u.util.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){u.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return Or(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new Ir(e.shape,t),a=this.compileAndRun(r,[e],n);return(0,u.engine)().makeTensorFromTensorInfo(a)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=jn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,gr,e.dtype);var n=new hr(e.shape,gr),r=this.compileAndRun(n,[e]);return(0,u.engine)().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&u.util.isString(n[0])){var a=n.map((function(e){return u.util.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return(0,u.engine)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new _r(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new ur(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[oe(e.shape)].concat((0,c.default)(se(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[oe(t)].concat((0,c.default)(se(t))),i=new lr(a,n),o=[n],s=this.runWebGLProgram(i,[r],e.dtype,o,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,a=n.shape,i=n.dtype;if(null!=t){var o=u.util.sizeFromShape(a),s=t[0]*t[1]*4;u.util.assert(o<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var l,c=ue(a);l=r?new Ye(c):new Xe(c);var d=[null!=t?t:S(c)];return{dtype:i,shape:a,dataId:this.runWebGLProgram(l,[{shape:c,dtype:i,dataId:e}],i,d,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5?arguments[5]:void 0,l=this.makeTensorInfo(e.outputShape,n),c=this.texData.get(l.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===i.DENSE){var d=null!=s?s:S(e.outputShape);c.texShape=d.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(c.usage=e.outTexUsage),0===u.util.sizeFromShape(l.shape))return c.values=u.util.getTypedArrayFromDType(l.dtype,0),l;var f=[],p=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&u.util.sizeFromShape(t.shape)<=(0,u.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),f.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!de(n.shape,t.shape)){var r=t,i=t.shape;t.shape=n.shape,t=a.packedReshape(t,i),f.push(t),n=a.texData.get(t.dataId),r.shape=i}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(l.dataId);var h,m={shape:l.shape,texData:c,isUniform:!1},v=function(e,t,n){var r="";t.concat(n).forEach((function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var i=t.texData.texShape,o=Ge(e.packedInputs,t.shape,i),s=o.useSqueezeShape,l=o.uniformShape,c=o.keptDims,d="",f="",p="";if(1===l.length&&e.packedInputs){var h=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];d=`${h[0]>1}_${h[1]>1}`}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){var m=u.util.computeStrides(l);p=`${m[0]===i[1]}_${m[m.length-1]===i[1]}`}}else f=`${l[0]>1}_${l[1]>1}`;var v=t.shape.length,g=2===l.length&&u.util.arraysEqual(t.shape,i),y=1===u.util.sizeFromShape(t.shape),b=u.backend_util.getBroadcastDims(t.shape,n.shape),k=!e.packedInputs&&v===n.shape.length&&u.util.arraysEqual(i,n.texData.texShape),w=e.packedInputs||l.length>2?"":`${i[0]>1}_${i[1]>1}`;r+=`${v}_${k}_${s?c:""}_${l.length}_${y}_${b}_${g}_${d}_${f}_${p}_${w}_${a}`}else{var x=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${x}_${a}`}}));var a=e.userCode,i=e.constructor.name;return i+"_"+r+"_"+a+`${(0,u.env)().getNumber("WEBGL_VERSION")}`}(e,p,m),g=this.getAndSaveBinary(v,(function(){return function(e,t,n,r){var a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),i=a.map((function(e){return e.shapeInfo})),o={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=Oe(a,o,t),l=D(e.gl,s),c=e.createProgram(l);return(0,u.env)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:i,outShapeInfo:o,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:l,source:s,webGLProgram:c,inShapeInfos:i,outShapeInfo:o},qe(e,t,c))}(a.gpgpu,e,p,m)})),y=null!=this.activeTimers;y&&(h=this.startTimer()),(0,u.env)().get("ENGINE_COMPILE_ONLY")||function(e,t,n,r,a){t.program.enableShapeUniforms||(He(t.inShapeInfos,n),He([t.outShapeInfo],[r]));var i=r.texData.texture,o=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(i.texture,o[0],o[1]):e.setOutputMatrixTexture(i.texture,o[0],o[1]),e.setProgram(t.webGLProgram),1===(0,u.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],i=t.uniformLocations[a],o=t.uniformLocations[`offset${a}`],s=t.inShapesLocations[`${a}Shape`],l=t.inTexShapesLocations[`${a}TexShape`];if(s){var c=Ge(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(c.length){case 1:e.gl.uniform1iv(s,new Int32Array(c));break;case 2:e.gl.uniform2iv(s,new Int32Array(c));break;case 3:e.gl.uniform3iv(s,new Int32Array(c));break;case 4:e.gl.uniform4iv(s,new Int32Array(c))}}if(l&&e.gl.uniform2i(l,n.texData.texShape[0],n.texData.texShape[1]),null!=i)if(n.isUniform)if(u.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(i,n.uniformValues[0]);else{var d=n.uniformValues;d instanceof Float32Array||(d=new Float32Array(d)),e.gl.uniform1fv(i,d)}else null!=n.texData.slice&&null!=o&&e.gl.uniform1i(o,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,i,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var l=u.util.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(l));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(l));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(l))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach((function(n,r){var i=t.customUniformLocations[r],o=a[r];if("float"===n.type)e.gl.uniform1fv(i,o);else if("vec2"===n.type)e.gl.uniform2fv(i,o);else if("vec3"===n.type)e.gl.uniform3fv(i,o);else if("vec4"===n.type)e.gl.uniform4fv(i,o);else if("int"===n.type)e.gl.uniform1iv(i,o);else if("ivec2"===n.type)e.gl.uniform2iv(i,o);else if("ivec3"===n.type)e.gl.uniform3iv(i,o);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(i,o)}})),e.executeProgram()}(this.gpgpu,g,p,m,r),f.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),y&&(h=this.endTimer(h),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(h)}));var b=(0,u.env)().get("WEBGL_FLUSH_THRESHOLD");if(b>0){var k=u.util.now();k-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=k)}if(!(0,u.env)().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&!1===o){var w=this.unpackTensor(l);return this.disposeIntermediateTensorInfo(l),w}return l}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return n=n||t[0].dtype,this.runWebGLProgram(e,t,n,r,a)}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!(0,u.env)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,u.tidy)((function(){if(!(0,u.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,u.env)().getBool("DEBUG");(0,u.env)().set("DEBUG",!1);var n=e.abs((0,u.scalar)(1e-8)).dataSync()[0];if((0,u.env)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,i=t.texture,s=t.usage,c=t.isPacked;if(null==i){var d,f=null!=this.activeTimers;f&&(d=u.util.now());var p=t.texShape;if(null==p&&(p=le(n,c),t.texShape=p),null!=a){var h,m=ue(n),v=p[1],g=p[0],y=a instanceof Uint8Array||a instanceof Uint8ClampedArray;if(c||!y){var b=T(p[0],p[1]),k=(0,l.default)(b,2);v=k[0],g=k[1]}h=c?new et(m,y):new Je(m,y);var w=y?[g,v]:p,x=this.makeTensorInfo(w,r),S=this.texData.get(x.dataId);S.usage=y?o.PIXELS:o.UPLOAD,S.texShape=w,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(x.dataId),v,g,a);var E=[[g,v]],C=this.runWebGLProgram(h,[x],r,E,!0),N=this.texData.get(C.dataId);t.texShape=N.texShape,t.isPacked=N.isPacked,t.usage=N.usage,(0,u.env)().get("ENGINE_COMPILE_ONLY")?this.disposeData(C.dataId):(t.texture=N.texture,t.values=null,this.texData.delete(C.dataId)),this.disposeIntermediateTensorInfo(x),f&&(this.uploadWaitMs+=u.util.now()-d)}else{var I=this.acquireTexture(p,s,r,c);t.texture=I}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${a} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*u.util.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e of Object.entries(this.binaryCache)){var t=(0,l.default)(e,2)[1];this.checkCompletion_(t)}}},{key:"checkCompileCompletionAsync",value:function(){var e=(0,d.default)((function*(){var e=this,t=[];if(this.gpgpu.parallelCompilationExtension){for(var n of Object.entries(this.binaryCache)){var r=(0,l.default)(n,2)[1];t.push(this.checkCompletionAsync_(r))}return Promise.all(t)}var a=function(n){var r=new Promise((function(t){try{e.checkCompletion_(n),t(!0)}catch(r){throw r}}));t.push(r)};for(var i of Object.entries(this.binaryCache)){a((0,l.default)(i,2)[1])}return Promise.all(t)}));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=(0,d.default)((function*(e){return this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)?this.checkCompletion_(e):(yield(0,u.nextFrame)(),this.checkCompletionAsync_(e))}));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw M(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e of Object.entries(this.binaryCache)){var t=(0,l.default)(e,2)[1],n=qe(this.gpgpu,t.program,t.webGLProgram),r=n.uniformLocations,a=n.customUniformLocations,i=n.infLoc,o=n.nanLoc,s=n.inShapesLocations,u=n.inTexShapesLocations,c=n.outShapeLocation,d=n.outShapeStridesLocation,f=n.outTexShapeLocation;t.uniformLocations=r,t.customUniformLocations=a,t.infLoc=i,t.nanLoc=o,t.inShapesLocations=s,t.inTexShapesLocations=u,t.outShapeLocation=c,t.outShapeStridesLocation=d,t.outTexShapeLocation=f}}}]),n}(u.KernelBackend);$r.nextDataId=0;var Pr="3.20.0";function Mr(){(0,u.env)().set("WEBGL_FORCE_F16_TEXTURES",!0)}u.device_util.isBrowser()&&(0,u.registerBackend)("webgl",(function(){return new $r}),2);var Lr={forceHalfFloat:Mr},zr="\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n",Br=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["A","B"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=Ke(this.outputShape.length),this.userCode=`\n      float binaryOperation(float a, float b) {\n        ${t}\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    `})),Vr="\n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n",Ur=(0,p.default)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,f.default)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r);var i=this.outputShape.length;this.enableShapeUniforms=Ke(i);var o="";if(a)if(0===i||1===u.util.sizeFromShape(this.outputShape))o="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(o=`\n          ${Ue(i)} coords = getOutputCoords();\n        `,1===i)this.enableShapeUniforms?o+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":o+=`\n            result.y = (coords + 1) >= ${this.outputShape[0]} ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          `;else{var s=sr("coords",i);this.enableShapeUniforms?o+=`\n            bool nextRowOutOfBounds =\n              (${s[i-2]} + 1) >= outShape[${i} - 2];\n            bool nextColOutOfBounds =\n              (${s[i-1]} + 1) >= outShape[${i} - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `:o+=`\n            bool nextRowOutOfBounds =\n              (${s[i-2]} + 1) >= ${this.outputShape[i-2]};\n            bool nextColOutOfBounds =\n              (${s[i-1]} + 1) >= ${this.outputShape[i-1]};\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          `}this.userCode=`\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ${t}\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ${o}\n\n        setOutput(result);\n      }\n    `}));function Gr(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var Wr={kernelName:u.Identity,backendName:"webgl",kernelFunc:Gr};function jr(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,i=n.makeTensorInfo(r.shape,"complex64"),o=n.texData.get(i.dataId),s=Gr({inputs:{x:r},backend:n}),u=Gr({inputs:{x:a},backend:n});return o.complexTensorInfos={real:s,imag:u},i}var qr={kernelName:u.Complex,backendName:"webgl",kernelFunc:jr},Hr="return (a < 0.) ? b * a : a;",Kr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Xr={kernelName:u.LeakyRelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.alpha,o=n.makeTensorInfo([],"float32",u.util.createScalarValue(i,"float32")),s=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(Kr,a.shape,o.shape):new Br(Hr,a.shape,o.shape),l=n.runWebGLProgram(s,[a,o],"float32");return n.disposeIntermediateTensorInfo(o),l}},Yr="return (a < 0.) ? b * a : a;",Zr="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var Qr={kernelName:u.Prelu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,i=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(Zr,r.shape,a.shape):new Br(Yr,r.shape,a.shape);return n.runWebGLProgram(i,[r,a],"float32")}},Jr="if (isnan(x)) return x;";function ea(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var i,o=e.inputs,s=e.backend,l=o.x,c=s,d=a||l.dtype;if(c.shouldExecuteOnCPU([l])&&null!=r){var f=c.texData.get(l.dataId),p=r(f.values,d);return c.makeTensorInfo(l.shape,d,p)}return i=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new Ir(l.shape,n):new hr(l.shape,t),c.runWebGLProgram(i,[l],d)}}function ta(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,i=e.supportsComplex,o=void 0!==i&&i,s=e.cpuKernelImpl,c=e.dtype;return function(e){var r=e.inputs,i=e.backend,d=r.a,f=r.b,p=i;if(o&&"complex64"===d.dtype){var h=p.texData.get(d.dataId),m=p.texData.get(f.dataId),v=[[h.complexTensorInfos.real,m.complexTensorInfos.real],[h.complexTensorInfos.imag,m.complexTensorInfos.imag]].map((function(e){var n=(0,l.default)(e,2),r=n[0],a=n[1],i={dataId:r.dataId,dtype:r.dtype,shape:d.shape},o={dataId:a.dataId,dtype:a.dtype,shape:f.shape},s=new Br(t,d.shape,f.shape);return p.runWebGLProgram(s,[i,o],(0,u.upcastType)(r.dtype,a.dtype))})),g=(0,l.default)(v,2),y=g[0],b=g[1],k=jr({inputs:{real:y,imag:b},backend:p});return p.disposeIntermediateTensorInfo(y),p.disposeIntermediateTensorInfo(b),k}var w,x=c||(0,u.upcastType)(d.dtype,f.dtype);if(("string"===d.dtype||"string"===f.dtype||p.shouldExecuteOnCPU([d,f]))&&null!=s){var S=p.texData.get(d.dataId).values,T=p.texData.get(f.dataId).values,E="string"===d.dtype?u.backend_util.fromUint8ToStringArray(S):S,C="string"===d.dtype?u.backend_util.fromUint8ToStringArray(T):T,N=s(d.shape,f.shape,E,C,x),I=(0,l.default)(N,2),_=I[0],R=I[1],A=p.makeTensorInfo(R,x);return p.texData.get(A.dataId).values=_,A}return w=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new Ur(n,d.shape,f.shape,a):new Br(t,d.shape,f.shape),p.runWebGLProgram(w,[d,f],x)}}function na(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?Sr:vr;if("relu"===e)return t?Er:br;if("elu"===e)return t?Tr:yr;if("relu6"===e)return t?Cr:kr;if("prelu"===e)return t?Zr:Yr;if("leakyrelu"===e)return t?Kr:Hr;if("sigmoid"===e)return t?Nr:xr;throw new Error(`Activation ${e} has not been implemented for the WebGL backend.`)}var ra=(0,p.default)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,f.default)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Ke(this.outputShape.length);var c=a?t[1]:t[2],d=Math.ceil(c/2),p=a?"i * 2, rc.y":"rc.y, i * 2",h=i?"rc.z, i * 2":"i * 2, rc.z",m=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=i?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],g="",y="";s&&(g=u?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${s}\n        }`:l?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${s}\n        }`:`vec4 activation(vec4 x) {\n          ${s}\n        }`,y="result = activation(result);");var b=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),l&&this.variableNames.push("leakyreluAlpha");var k="rc.x",w="rc.x";t[0]<n[0]?k=`int(min(float(rc.x), ${t[0]-1}.))`:n[0]<t[0]&&(w=`int(min(float(rc.x), ${n[0]-1}.))`),this.userCode=`\n      ${g}\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ${d}.0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ${d}; i++) {\n          int batchA = ${k};\n          int batchB = ${w};\n          vec4 a = getMatrixA(batchA, ${p});\n          vec4 b = getMatrixB(batchB, ${h});\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (${m[0]} * ${v[0]});\n          result += (${m[1]} * ${v[1]});\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ${b}\n\n        ${y}\n\n        setOutput(result);\n      }\n    `})),aa={REAL:"return areal * breal - aimag * bimag;",IMAG:"return areal * bimag + aimag * breal;"},ia=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=u.backend_util.assertAndGetBroadcastShape(n,r),this.userCode=`\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${t}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `})),oa="return a * b;";function sa(e){var t,n=e.inputs,r=e.backend,a=n.a,i=n.b,o=u.backend_util.upcastType(a.dtype,i.dtype);if("complex64"===a.dtype){var s=r.texData.get(a.dataId),c=r.texData.get(i.dataId),d=new ia(aa.REAL,a.shape,i.shape),f=new ia(aa.IMAG,a.shape,i.shape),p=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:a.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:c.complexTensorInfos.real.dataId,dtype:c.complexTensorInfos.real.dtype,shape:i.shape},{dataId:c.complexTensorInfos.imag.dataId,dtype:c.complexTensorInfos.imag.dtype,shape:i.shape}],h=r.runWebGLProgram(d,p,"float32"),m=r.runWebGLProgram(f,p,"float32"),v=jr({inputs:{real:h,imag:m},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(m),v}if(r.shouldExecuteOnCPU([a,i])){var g=r.texData.get(a.dataId),y=r.texData.get(i.dataId),b=Pn(a.shape,i.shape,g.values,y.values,o),k=(0,l.default)(b,2),w=k[0],x=k[1],S=r.makeTensorInfo(x,o);return r.texData.get(S.dataId).values=w,S}return t=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur(oa,a.shape,i.shape):new Br(oa,a.shape,i.shape),r.runWebGLProgram(t,[a,i],o)}var ua={kernelName:u.Multiply,backendName:"webgl",kernelFunc:sa};function la(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.shape,o=n,s=u.util.sizeFromShape(a.shape),l=u.util.inferFromImplicitShape(i,s),d=u.util.sizeFromShape(l);u.util.assert(s===d,(function(){return`The new shape (${l}) has ${d} elements and the old shape (${a.shape}) has ${s} elements. The new shape and old shape must have the same number of elements.`}));var f=o.texData.get(a.dataId);return!f.isPacked||de(a.shape,l)||null!==f.texture&&de(f.shape,l)?(o.incRef(a.dataId),{dataId:a.dataId,shape:l,dtype:a.dtype}):function(e,t,n){var r=[oe(e.shape)].concat((0,c.default)(se(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},i=[oe(t)].concat((0,c.default)(se(t))),o=new lr(i,r),s=[r],u=n.runWebGLProgram(o,[a],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(a,l,o)}var ca={kernelName:u.Reshape,backendName:"webgl",kernelFunc:la},da=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s=4*Math.floor(r/4),l=r%4,c="sumValue += dot(values, ones);";if(null!=n){var d=1/n;c=`sumValue += dot(values * ${u.util.isInt(d)?d.toPrecision(2):d}, ones);`}var p="";i%r>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return 0.0;\n        }\n      `),this.userCode=`\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${p}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${s}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${s};\n        if (${1===l}) {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `})),fa=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.outSize;this.outputShape=[a,o];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var l=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"sum"===n?l="sumValue":"prod"===n?l="prodValue":"all"===n?l="allValue":"any"===n&&(l="anyValue");var c=4*Math.floor(r/4),d=r%4,p=`\n      if (${"sum"===n}) {\n        sumValue += dot(values, ones);\n      } else if (${"prod"===n}) {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ${u}(values, minMaxValue);\n        if (${"min"===n} || ${"max"===n}) {\n          minMaxValue = ${u}(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    `,h="vec4";"all"===n?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",h="bvec4"):"any"===n&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",h="bvec4");var m="";i%r>0&&(m=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `),this.userCode=`\n      const float initializationValue = ${s};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ${m}\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${r};\n\n        vec4 minMaxValue = vec4(${s});\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ${c}; i += 4) {\n          int inIdx = inOffset + i;\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ${p}\n        }\n\n        int inIdx = inOffset + ${c};\n        if (${1===d}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ${p}\n        } else if (${2===d}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ${p}\n        } else if (${3===d}) {\n          ${h} values = ${h}(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ${p}\n        }\n        setOutput(${l});\n      }\n    `}));function pa(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=u.backend_util.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),i=e,o=0;o<a.length;o++){var s,l=a[o],c=l.inSize,d=l.windowSize,f=l.outSize,p=void 0;p="mean"===n?0===o?new da({windowSize:d,inSize:c,batchSize:e.shape[0],outSize:f},c):new da({windowSize:d,inSize:c,batchSize:e.shape[0],outSize:f}):new fa({windowSize:d,inSize:c,batchSize:e.shape[0],outSize:f},n),s=i,i=r.runWebGLProgram(p,[i],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return i}var ha=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var i=Ue(this.rank),o=function(e){var t=e.length;if(t>6)throw Error(`Transpose for rank ${t} is not yet supported`);for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode=`\n    void main() {\n      ${i} resRC = getOutputCoords();\n      setOutput(getA(${o}));\n    }\n    `}));var ma=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);for(var i=Ue(this.rank),o=or("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=o[u];var l=`vec2(${s.slice(-2).join()})`,c=`++${o[this.rank-1]} < ${r[this.rank-1]}`,d=`getChannel(getA(${s.join()}), ${l})`;this.userCode=`\n    void main() {\n      ${i} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${d};\n      if(${c}) {\n        result[1] = ${d};\n      }\n      --${o[this.rank-1]};\n      if(++${o[this.rank-2]} < ${r[this.rank-2]}) {\n        result[2] = ${d};\n        if(${c}) {\n          result[3] = ${d};\n        }\n      }\n      setOutput(result);\n    }\n    `}));function va(e,t,n){var r=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new ma(e.shape,t):new ha(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function ga(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,i=e.shape.length,o=u.util.parseAxisParam(a,e.shape),s=o,c=u.backend_util.getAxesPermutation(s,i),d=null!=c,f=e;d&&(f=va(e,c,r),s=u.backend_util.getInnerMostAxes(s.length,i)),u.backend_util.assertAxesAreInnerMostDims("sum",s,i);var p=u.backend_util.computeOutAndReduceShapes(f.shape,s),h=(0,l.default)(p,2),m=h[0],v=h[1],g=m;n&&(g=u.backend_util.expandShapeToKeepDim(m,o));var y=u.util.sizeFromShape(v),b=la({inputs:{x:f},attrs:{shape:[u.util.sizeFromShape(e.shape)/y,y]},backend:r}),k=pa(b,(0,u.sumOutType)(e.dtype),"sum",r),w=la({inputs:{x:k},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(k),d&&r.disposeIntermediateTensorInfo(f),w}(t.x,r.axis,r.keepDims,n)}var ya={kernelName:u.Sum,backendName:"webgl",kernelFunc:ga};function ba(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.perm,s=r,u=i.shape.length,l=new Array(u),c=0;c<l.length;c++)l[c]=i.shape[o[c]];if(s.shouldExecuteOnCPU([i])){var d=s.texData.get(i.dataId).values,f=ar(d,i.shape,i.dtype,o,l);t=s.makeTensorInfo(l,i.dtype),s.texData.get(t.dataId).values=f}else t=va(i,o,s);return t}var ka={kernelName:u.Transpose,backendName:"webgl",kernelFunc:ba},wa=1e3;function xa(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,i=e.backend,o=e.bias,s=void 0===o?null:o,l=e.preluActivationWeights,c=void 0===l?null:l,d=e.leakyreluAlpha,f=void 0===d?0:d,p=e.activation,h=void 0===p?null:p,m=t.shape.length,v=n.shape.length,g=r?t.shape[m-2]:t.shape[m-1],y=a?n.shape[v-1]:n.shape[v-2],b=r?t.shape[m-1]:t.shape[m-2],k=a?n.shape[v-2]:n.shape[v-1],w=t.shape.slice(0,-2),x=n.shape.slice(0,-2),S=u.util.sizeFromShape(w),T=u.util.sizeFromShape(x),E=u.broadcast_util.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([b,k]);u.util.assert(g===y,(function(){return`Error in matMul: inner shapes (${g}) and (${y}) of Tensors with shapes ${t.shape} and ${n.shape} and transposeA=${r} and transposeB=${a} must match.`}));var C,N=r?[S,g,b]:[S,b,g],I=a?[T,k,y]:[T,y,k],_=la({inputs:{x:t},backend:i,attrs:{shape:N}}),R=la({inputs:{x:n},backend:i,attrs:{shape:I}}),A=[_,R],O=Math.max(S,T),D=r?_.shape[1]:_.shape[2],F=null!=s,$=null!=c,P="leakyrelu"===h,M=null!=h?na(h,!0):null;if((1===b||1===k)&&D>wa&&!1===(F||$||P||null!=M)){var L=_,z=R;r&&(L=ba({inputs:{x:_},backend:i,attrs:{perm:[0,2,1]}}),A.push(L)),a&&(z=ba({inputs:{x:R},backend:i,attrs:{perm:[0,2,1]}}),A.push(z));var B=1===k,V=L;1!==k&&(V=la({inputs:{x:L},backend:i,attrs:{shape:[O,D,1]}}),A.push(V));var U=1===k?2:1,G=z;B&&(G=la({inputs:{x:z},backend:i,attrs:{shape:[O,1,D]}}),A.push(G));var W=sa({inputs:{a:V,b:G},backend:i});C=ga({inputs:{x:W},backend:i,attrs:{axis:U,keepDims:!0}}),A.push(W)}else{var j=(0,u.upcastType)(t.dtype,n.dtype),q=new ra(N,I,[O,b,k],r,a,F,M,$,P),H=[_,R];if(null!=s&&H.push(s),$&&H.push(c),P){var K=i.makeTensorInfo([],"float32",u.util.createScalarValue(f,"float32"));H.push(K),A.push(K)}C=i.runWebGLProgram(q,H,j)}var X=la({inputs:{x:C},backend:i,attrs:{shape:E}});for(var Y of(A.push(C),A))i.disposeIntermediateTensorInfo(Y);return X}var Sa={kernelName:u._FusedMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,i=t.b,o=t.bias,s=t.preluActivationWeights,u=r.transposeA,l=r.transposeB,c=r.activation;return xa({a:a,b:i,transposeA:u,transposeB:l,backend:n,bias:o,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:c})}},Ta="return abs(x);";var Ea={kernelName:u.Abs,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var i=r.texData.get(a.dataId),o=jn(i.values);return r.makeTensorInfo(a.shape,a.dtype,o)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Ir(a.shape,Ta):new hr(a.shape,Ta),r.runWebGLProgram(t,[a],a.dtype)}},Ca=ea({opSnippet:mr+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),Na={kernelName:u.Acos,backendName:"webgl",kernelFunc:Ca},Ia=ea({opSnippet:mr+"\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),_a={kernelName:u.Acosh,backendName:"webgl",kernelFunc:Ia},Ra="return a + b;",Aa=ta({opSnippet:Ra,packedOpSnippet:Ra,supportsComplex:!0,cpuKernelImpl:mn}),Oa={kernelName:u.Add,backendName:"webgl",kernelFunc:Aa},Da=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return`T${t}`}));var r=[];this.variableNames.forEach((function(e){r.push(`float v${e} = get${e}AtOutCoords();`)}));var a=this.variableNames.map((function(e){return`v${e}`})).join(" + ");this.userCode=`\n      void main() {\n        ${r.join("\n        ")}\n\n        float result = ${a};\n        setOutput(result);\n      }\n    `})),Fa=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return`T${t}`}));var r=[];this.variableNames.forEach((function(e){r.push(`vec4 v${e} = get${e}AtOutCoords();`)}));var a=this.variableNames.map((function(e){return`v${e}`})).join(" + ");this.userCode=`\n      void main() {\n        ${r.join("\n        ")}\n\n        vec4 result = ${a};\n        setOutput(result);\n      }\n    `}));var $a={kernelName:u.AddN,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return Gr({inputs:{x:a[0]},backend:r});if(a.length>(0,u.env)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var i=Math.floor(a.length/2),o=e({inputs:a.slice(0,i),backend:r}),s=e({inputs:a.slice(i),backend:r});return e({inputs:[o,s],backend:r})}var l=a.map((function(e){return e.dtype})).reduce((function(e,t){return(0,u.upcastType)(e,t)})),c=a.map((function(e){return e.shape})),d=(0,u.env)().getBool("WEBGL_PACK")?new Fa(a[0].shape,c):new Da(a[0].shape,c);return r.runWebGLProgram(d,a,l)}};var Pa={kernelName:u.All,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=a.shape.length,c=u.util.parseAxisParam(i,a.shape),d=c,f=u.backend_util.getAxesPermutation(d,s),p=a;null!=f&&(p=ba({inputs:{x:a},backend:n,attrs:{perm:f}}),d=u.backend_util.getInnerMostAxes(d.length,s)),u.backend_util.assertAxesAreInnerMostDims("all",d,s);var h,m=u.backend_util.computeOutAndReduceShapes(p.shape,d),v=(0,l.default)(m,2),g=v[0],y=v[1],b=la({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),k=pa(b,b.dtype,"all",n);return h=la(o?{inputs:{x:k},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,c)}}:{inputs:{x:k},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(k),null!=f&&n.disposeIntermediateTensorInfo(p),h}};var Ma={kernelName:u.Any,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=a.shape.length,c=u.util.parseAxisParam(i,a.shape),d=c,f=u.backend_util.getAxesPermutation(d,s),p=a;null!=f&&(p=ba({inputs:{x:a},backend:n,attrs:{perm:f}}),d=u.backend_util.getInnerMostAxes(d.length,s)),u.backend_util.assertAxesAreInnerMostDims("any",d,s);var h,m=u.backend_util.computeOutAndReduceShapes(p.shape,d),v=(0,l.default)(m,2),g=v[0],y=v[1],b=la({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),k=pa(b,b.dtype,"any",n);return h=la(o?{inputs:{x:k},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,c)}}:{inputs:{x:k},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(k),null!=f&&n.disposeIntermediateTensorInfo(p),h}},La=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["A"];var a=t.windowSize,i=t.batchSize,o=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[i,o];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ${a};\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ${a}; i++) {\n          int inIdx = ${u};\n          float candidate = getA(batch, inIdx);\n          if (candidate ${s} bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    `})),za=(0,p.default)((function e(t,n,r,a){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,u.util.assert(t.length>2,(function(){return`Packed arg${r.charAt(0).toUpperCase()+r.slice(1)} supports only inputs with rank above 2.`}));var i=t[t.length-1],o=Math.ceil(i/n);this.outputShape=t.slice(0,-1),o>1&&this.outputShape.push(o),a||this.variableNames.push("bestIndicesA");var s,l,c=this.outputShape,d=c.length,p=Ue(d),h=sr("coords",d);if(1===o){var m=Ue(l=d+1);s=`\n        ${m} sourceLocR = ${m}(${h.join()}, 0);\n        ++${h[d-1]};\n        ${m} sourceLocG = ${m}(${h.join()}, 0);\n        ++${h[d-2]};\n        ${m} sourceLocA = ${m}(${h.join()}, 0);\n        --${h[d-1]};\n        ${m} sourceLocB = ${m}(${h.join()}, 0);\n        --${h[d-2]};`}else l=d,s=`\n        ${p} sourceLocR = coords;\n        ++${h[d-1]};\n        ${p} sourceLocG = coords;\n        ++${h[d-2]};\n        ${p} sourceLocA = coords;\n        --${h[d-1]};\n        ${p} sourceLocB = coords;\n        --${h[d-2]};`;var v=["x","y","z","w","u","v"].slice(0,l),g="."+v[l-1],y=v.map((function(e){return"int "+e})),b=sr("sourceLocR",l-1).concat("inIdx.r"),k=sr("sourceLocG",l-1).concat("inIdx.g"),w=sr("sourceLocB",l-1).concat("inIdx.b"),x=sr("sourceLocA",l-1).concat("inIdx.a"),S="max"===r?"greaterThan":"lessThan",T=a?"":`\n          inIdx = round(vec4(getBestIndicesAChannel(${b.join()}),\n                             getBestIndicesAChannel(${k.join()}),\n                             getBestIndicesAChannel(${w.join()}),\n                             getBestIndicesAChannel(${x.join()})));`,E=`vec4(\n            getAChannel(${b.join()}),\n            hasNextCol ? getAChannel(${k.join()}) : 0.,\n            hasNextRow ? getAChannel(${w.join()}) : 0.,\n            hasNextRow && hasNextCol ? getAChannel(${x.join()}) : 0.)`,C=a?"":`\n      float getBestIndicesAChannel(${y.join()}) {\n        return getChannel(getBestIndicesA(${v.join()}),\n                                          vec2(${v.slice(-2).join()}));\n      }`;this.userCode=`\n      float getAChannel(${y.join()}) {\n        return getChannel(getA(${v.join()}),\n                               vec2(${v.slice(-2).join()}));\n      }\n      ${C}\n      void main() {\n        ${p} coords = getOutputCoords();\n        bool hasNextCol = ${h[d-1]} < ${c[d-1]-1};\n        bool hasNextRow = ${h[d-2]} < ${c[d-2]-1};\n        ${s}\n        ivec4 srcIdx = ivec4(sourceLocR${g}, sourceLocG${g},\n          sourceLocB${g}, sourceLocA${g}) * ${n};\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ${E};\n\n        for (int i = 0; i < ${n}; i++) {\n          inIdx = srcIdx;\n          ${T}\n          vec4 candidate = ${E};\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(${S}(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    `}));function Ba(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],i=t.shape[1];null!=r&&(a=r.shape[0],i=r.shape[1]);var o=u.backend_util.computeOptimalWindowSize(i),s={windowSize:o,inSize:i,batchSize:a,outSize:Math.ceil(i/o)},l=new La(s,n,null==r),c=[t];null!=r&&c.push(r);var d=e.runWebGLProgram(l,c,"int32");if(1===d.shape[1])return d;var f=Ba(e,t,n,d);return e.disposeIntermediateTensorInfo(d),f}function Va(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,i=a[a.length-1],o=u.backend_util.computeOptimalWindowSize(i),s=new za(a,o,n,null==r),l=null==r?[t]:[t,r],c=e.runWebGLProgram(s,l,"int32");if(c.shape.length===t.shape.length){var d=Va(e,t,n,c);return e.disposeIntermediateTensorInfo(c),d}return c}function Ua(e,t,n,r){var a=[n];if(u.backend_util.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!(0,u.env)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var i=[],o=e.texData.get(t.dataId),s=t;null!==o&&o.isPacked&&(s=e.unpackTensor(t),i.push(s));var c=u.backend_util.computeOutAndReduceShapes(s.shape,a),d=(0,l.default)(c,2),f=d[0],p=d[1],h=u.util.sizeFromShape(p),m=la({inputs:{x:s},backend:e,attrs:{shape:[-1,h]}});i.push(m);var v=Ba(e,m,r);i.push(v);var g=la({inputs:{x:v},backend:e,attrs:{shape:f}});return i.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),g}return Va(e,t,r)}var Ga={kernelName:u.ArgMax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=u.util.parseAxisParam(i,a.shape),s=u.backend_util.getAxesPermutation(o,a.shape.length),l=a,c=[];null!=s&&(l=ba({inputs:{x:a},backend:n,attrs:{perm:s}}),c.push(l),o=u.backend_util.getInnerMostAxes(o.length,l.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMax",[o[0]],l.shape.length);var d=Ua(n,l,o[0],"max");return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}};var Wa={kernelName:u.ArgMin,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=u.util.parseAxisParam(i,a.shape),s=u.backend_util.getAxesPermutation(o,a.shape.length),l=a,c=[];null!=s&&(l=ba({inputs:{x:a},backend:n,attrs:{perm:s}}),c.push(l),o=u.backend_util.getInnerMostAxes(o.length,l.shape.length)),u.backend_util.assertAxesAreInnerMostDims("argMin",[o[0]],l.shape.length);var d=Ua(n,l,o[0],"min");return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),d}},ja=ea({opSnippet:mr+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),qa={kernelName:u.Asin,backendName:"webgl",kernelFunc:ja},Ha=ea({opSnippet:mr+"return log(x + sqrt(x * x + 1.0));"}),Ka={kernelName:u.Asinh,backendName:"webgl",kernelFunc:Ha},Xa=ea({opSnippet:mr+"\n  return atan(x);\n"}),Ya={kernelName:u.Atan,backendName:"webgl",kernelFunc:Xa},Za=ta({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),Qa={kernelName:u.Atan2,backendName:"webgl",kernelFunc:Za},Ja=ea({opSnippet:mr+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),ei={kernelName:u.Atanh,backendName:"webgl",kernelFunc:Ja},ti=(0,p.default)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,f.default)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideHeight,u=t.strideWidth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterHeight,p=t.effectiveFilterWidth,h=t.padInfo.top,m=t.padInfo.left;this.outputShape=t.outShape;var v="avg"===n,g=`((batch  * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + d`,y=`(xR * ${t.inWidth} + xC) * ${t.inChannels} + d`,b="0.0";if(v||(b="-1.0 / 1e-20"),r){this.userCode=`\n        const ivec2 strides = ivec2(${s}, ${u});\n        const ivec2 pads = ivec2(${h}, ${m});\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ${d};\n              wR += ${l}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${p};\n                wC += ${c}) {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ${a?i?g:y:`wR * ${p} + wC`};\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `}else{var k=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===n&&(k="avgValue / count");var w=4*Math.floor(o/4),x=o%4,S=`\n      if (${v}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec2 strides = ivec2(${s}, ${u});\n      const ivec2 pads = ivec2(${h}, ${m});\n      const float initializationValue = ${b};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${b});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ${d};\n            wR += ${l}) {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${w}; wC += 4) {\n            int xC = xCCorner + wC * ${c};\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              getValue(batch, xR, xC + 3 * ${c}, d)\n            );\n\n            ${S}\n          }\n\n          int xC = xCCorner + ${w};\n          if (${1===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ${S}\n          } else if (${2===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              initializationValue,\n              initializationValue\n            );\n\n            ${S}\n          } else if (${3===x}) {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ${c}, d),\n              getValue(batch, xR, xC + 2 * ${c}, d),\n              initializationValue\n            );\n\n            ${S}\n          }\n        }\n        setOutput(${k});\n      }\n    `}})),ni=(0,p.default)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,f.default)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var o=t.filterWidth,s=t.strideDepth,u=t.strideHeight,l=t.strideWidth,c=t.dilationDepth,d=t.dilationHeight,p=t.dilationWidth,h=t.effectiveFilterDepth,m=t.effectiveFilterHeight,v=t.effectiveFilterWidth,g=t.padInfo.front,y=t.padInfo.top,b=t.padInfo.left;this.outputShape=t.outShape;var k="avg"===n,w="0.0";if(k||(w="-1.0 / 1e-20"),r){this.userCode=`\n        const ivec3 strides =\n            ivec3(${s}, ${u}, ${l});\n        const ivec3 pads = ivec3(${g}, ${y}, ${b});\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ${h};\n              wD += ${c}) {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int wR = 0; wR < ${m};\n                wR += ${d}) {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int wC = 0; wC < ${v};\n                  wC += ${p}) {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ${a?i?`(((batch * ${t.inDepth} + xD) * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`((xD * ${t.inHeight} + xR) * ${t.inWidth} + xC) * ${t.inChannels} + ch`:`wD * ${m} * ${v} +\n                      wR * ${v} + wC`};\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      `}else{var x=`${n}(${n}(${n}(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])`;"avg"===n&&(x="avgValue / count");var S=4*Math.floor(o/4),T=o%4,E=`\n      if (${k}) {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    `;this.userCode=`\n      const ivec3 strides =\n        ivec3(${s}, ${u}, ${l});\n      const ivec3 pads = ivec3(${g}, ${y}, ${b});\n      const float initializationValue = ${w};\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ${t.inWidth}) {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(${w});\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ${h};\n            wD += ${c}) {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${m};\n            wR += ${d}) {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${S}; wC += 4) {\n              int xC = xCCorner + wC * ${p};\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${p}, ch),\n                getValue(batch, xD, xR, xC + 3 * ${p}, ch)\n              );\n\n              ${E}\n            }\n\n            int xC = xCCorner + ${S};\n            if (${1===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ${E}\n            } else if (${2===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ${E}\n            } else if (${3===T}) {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ${p}, ch),\n                getValue(batch, xD, xR, xC + 2 * ${p}, ch),\n                initializationValue\n              );\n\n              ${E}\n            }\n          }\n          setOutput(${x});\n        }\n      }\n    `}}));var ri={kernelName:u.AvgPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Se(a,"avgPool");var i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`}));var c=u.backend_util.computePool2DInfo(a.shape,i,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&u.util.arraysEqual(c.inShape,c.outShape))return Gr({inputs:{x:a},backend:n});var d=new ti(c,"avg",!1);return n.runWebGLProgram(d,[a],"float32")}};var ai={kernelName:u.AvgPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode,c=r.dataFormat,d=u.backend_util.computePool3DInfo(a.shape,i,o,[1,1,1],s,l,c),f=new ni(d,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}},ii=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,l=t.effectiveFilterWidth,c=u-1-t.padInfo.top,d=l-1-t.padInfo.left,p=1/(n*r);this.userCode=`\n      const ivec2 pads = ivec2(${c}, ${d});\n      const float avgMultiplier = float(${p});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${u};\n            wR += ${o}) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${l};\n            wC+= ${s}) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `})),oi=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.effectiveFilterDepth,p=t.effectiveFilterHeight,h=t.effectiveFilterWidth,m=d-1-t.padInfo.front,v=p-1-t.padInfo.top,g=h-1-t.padInfo.left,y=1/(n*r*a);this.userCode=`\n      const ivec3 pads = ivec3(${m}, ${v}, ${g});\n      const float avgMultiplier = float(${y});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${d};\n            wD += ${u}) {\n          float dyD = float(dyDCorner + wD) / ${i}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${p};\n              wR += ${l}) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${h};\n                wC += ${c}) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}));var si={kernelName:u.AvgPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,l=r.pad,c=r.dimRoundingMode,d=u.backend_util.computePool3DInfo(i.shape,o,s,[1,1,1],l,c),f=new oi(d);return n.runWebGLProgram(f,[a],i.dtype)}};var ui={kernelName:u.AvgPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;Se([a,i],"avgPoolGrad");var s=r.filterSize,l=r.strides,c=r.pad,d=u.backend_util.computePool2DInfo(o.shape,s,l,1,c),f=new ii(d);return n.runWebGLProgram(f,[a],o.dtype)}};var li={kernelName:u.BatchMatMul,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return xa({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},ci=(0,p.default)((function e(t,n,r,a,i,o){(0,f.default)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="0.0";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="1.0";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ${s};\n        float scale = ${l};\n        float inv = scale * inversesqrt(variance + float(${o}));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    `})),di=(0,p.default)((function e(t,n,r,a,i,o){(0,f.default)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],u.backend_util.assertAndGetBroadcastShape(t,n),u.backend_util.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=a&&(u.backend_util.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var l="vec4(1.0)";null!=i&&(u.backend_util.assertAndGetBroadcastShape(t,i),this.variableNames.push("scale"),l="getScaleAtOutCoords()"),this.outputShape=t,this.userCode=`\n      void main() {\n        vec4 offset = ${s};\n        vec4 scale = ${l};\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(${o}));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    `})),fi={kernelName:u.FusedBatchNorm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.mean,o=t.variance,s=t.offset,l=t.scale;u.util.assert(i.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),u.util.assert(null==s||i.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),u.util.assert(null==l||i.shape.length===l.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var c=r.varianceEpsilon;null==c&&(c=.001);var d=[a,i,o],f=null;null!=s&&(f=s.shape,d.push(s));var p=null;null!=l&&(p=l.shape,d.push(l));var h=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new di(a.shape,i.shape,o.shape,f,p,c):new ci(a.shape,i.shape,o.shape,f,p,c);return n.runWebGLProgram(h,d,d[0].dtype)}},pi=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Ue(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return hi.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error(`Slicing for rank ${e} is not yet supported`)}(this.rank);r=`\n        ${n} sourceLoc;\n        ${n} coords = getOutputCoords();\n        ${t.map((function(e,t){return`sourceLoc.${hi[t]} = start[${t}] + coords.${hi[t]};`})).join("\n")}\n      `,this.userCode=`\n      void main() {\n        ${r}\n        setOutput(getSource(${a}));\n      }\n    `})),hi=["x","y","z","w","u","v"];var mi=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Ue(this.rank),r=sr("coords",this.rank),a=sr("sourceLoc",this.rank),i=1===this.rank?"sourceLoc":`vec2(${a.slice(-2).join()})`,o=`getChannel(getSource(${a.join()}), ${i})`,s=`\n      result.x = ${o};\n      if (++${r[this.rank-1]} < ${t[this.rank-1]}) {\n        ++${a[this.rank-1]};\n        result.y = ${o};\n        --${a[this.rank-1]};\n      }\n    `,u=1===this.rank?"":`\n      --${r[this.rank-1]};\n      if (++${r[this.rank-2]} < ${t[this.rank-2]}) {\n        ++${a[this.rank-2]};\n        result.z = ${o};\n        if (++${r[this.rank-1]} < ${t[this.rank-1]}) {\n          ++${a[this.rank-1]};\n          result.w = ${o};\n        }\n      }\n    `,l=this.rank<=4?`sourceLoc = coords +\n            ${n}(${t.map((function(e,t){return`start[${t}]`})).join()});`:t.map((function(e,t){return`${a[t]} = ${r[t]} + start[${t}];`})).join("\n");this.userCode=`\n      void main() {\n        ${n} coords = getOutputCoords();\n        ${n} sourceLoc;\n        ${l}\n        vec4 result = vec4(0.);\n        ${s}\n        ${u}\n        setOutput(result);\n      }\n    `}));function vi(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.begin,o=r.size,s=u.slice_util.parseSliceParams(a,i,o),c=(0,l.default)(s,2),d=c[0],f=c[1];if(u.slice_util.assertParamsValid(a,d,f),0===u.util.sizeFromShape(f))return n.makeTensorInfo(f,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var p=n.texData.get(a.dataId),h=qn(p.values,d,f,a.shape,a.dtype);return n.makeTensorInfo(f,a.dtype,h)}var m=n.texData.get(a.dataId).isPacked,v=u.slice_util.isSliceContinous(a.shape,d,f);if(m||!v){var g=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new mi(f):new pi(f),y=[d];return n.runWebGLProgram(g,[a],a.dtype,y)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),i=r.makeTensorInfo(n,e.dtype),o=r.texData.get(i.dataId);Object.assign(o,a),o.refCount=1,o.shape=n,o.dtype=e.dtype;var s=u.slice_util.computeFlatOffset(t,u.util.computeStrides(e.shape));a.slice&&(s+=a.slice.flatOffset),o.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};var l=r.dataRefCount.get(o.slice.origDataId)||1;return r.dataRefCount.set(o.slice.origDataId,l+1),i}(a,d,f,n)}var gi={kernelName:u.Slice,backendName:"webgl",kernelFunc:vi},yi={kernelName:u.BatchToSpaceND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.crops;u.util.assert(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),l=u.backend_util.getReshaped(a.shape,i,s),c=u.backend_util.getPermuted(l.length,i.length),d=u.backend_util.getReshapedPermuted(a.shape,i,s),f=u.backend_util.getSliceBeginCoords(o,i.length),p=u.backend_util.getSliceSize(d,o,i.length),h=[],m=la({inputs:{x:a},backend:n,attrs:{shape:l}}),v=ba({inputs:{x:m},backend:n,attrs:{perm:c}}),g=la({inputs:{x:v},backend:n,attrs:{shape:d}}),y=vi({inputs:{x:g},backend:n,attrs:{begin:f,size:p}});return h.push(m),h.push(v),h.push(g),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}};var bi={kernelName:u.Bincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=n.readSync(a.dataId),u=n.readSync(i.dataId),l=vn(s,u,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,l)}};var ki={kernelName:u.BroadcastArgs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,i=n.readSync(r.dataId),o=n.readSync(a.dataId),s=u.backend_util.assertAndGetBroadcastShape(Array.from(i),Array.from(o));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},wi=ta({opSnippet:"return float(a != b);",cpuKernelImpl:Ln,dtype:"bool"}),xi={kernelName:u.NotEqual,backendName:"webgl",kernelFunc:wi};function Si(e){var t=e.inputs,n=e.backend,r=t.input;return Gr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var Ti={kernelName:u.Real,backendName:"webgl",kernelFunc:Si},Ei="return float(int(x));";var Ci={kernelName:u.Cast,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,i=n.x,o=a.dtype;if("complex64"===o){if("complex64"===i.dtype)return Gr({inputs:{x:i},backend:r});var s=u.zeros(i.shape),c=e({inputs:{x:i},backend:r,attrs:{dtype:"float32"}}),d=jr({inputs:{real:c,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(c),d}if("complex64"===i.dtype){var f=Si({inputs:{input:i},backend:r}),p=e({inputs:{x:f},backend:r,attrs:{dtype:o}});return r.disposeIntermediateTensorInfo(f),p}if(!u.util.hasEncodingLoss(i.dtype,o)){var h=Gr({inputs:{x:i},backend:r});return{dataId:h.dataId,shape:h.shape,dtype:o}}if(r.shouldExecuteOnCPU([i])){var m=r.texData.get(i.dataId).values,v=yn(m,i.shape,i.dtype,o),g=(0,l.default)(v,3),y=g[0],b=g[1],k=g[2];return r.makeTensorInfo(y,b,k)}if("int32"===o)return function(e,t){var n=new hr(e.shape,Ei),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(i,r);if("bool"===o){var w=r.makeTensorInfo([],"bool",u.util.getTypedArrayFromDType("bool",1)),x=wi({inputs:{a:i,b:w},backend:r});return r.disposeIntermediateTensorInfo(w),x}throw new Error(`Error in Cast: failed to cast ${i.dtype} to ${o}`)}},Ni="return ceil(x);",Ii=ea({opSnippet:Ni,packedOpSnippet:Ni,cpuKernelImpl:bn}),_i={kernelName:u.Ceil,backendName:"webgl",kernelFunc:Ii},Ri=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),Ai=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var Oi={kernelName:u.ClipByValue,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.clipValueMin,s=a.clipValueMax;t=(0,u.env)().getBool("WEBGL_PACK_CLIP")?new Ai(i.shape):new Ri(i.shape);var l=[[o],[s]];return r.runWebGLProgram(t,[i],i.dtype,l)}},Di=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function Fi(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var $i={kernelName:u.ComplexAbs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),i=new Di(r.shape),o=[Fi(r,a.complexTensorInfos.real),Fi(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(i,o,o[0].dtype)}},Pi=(0,p.default)((function e(t){(0,f.default)(this,e),this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return`T${t}`}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=[`if (yC < ${n[0]}) setOutput(getT0(yR, yC));`],i=1;i<n.length;i++){var o=n[i-1];a.push(`else if (yC < ${n[i]}) setOutput(getT${i}(yR, yC-${o}));`)}var s=n.length,l=n[n.length-1];a.push(`else setOutput(getT${s}(yR, yC-${l}));`),this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ${a.join("\n        ")}\n      }\n    `})),Mi=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=u.backend_util.computeOutShape(t,n);var r=this.outputShape,a=r.length,i=Ue(a),o=sr("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return`T${t}`}));var l=new Array(t.length-1);l[0]=t[0][n];for(var c=1;c<l.length;c++)l[c]=l[c-1]+t[c][n];for(var d=s[n],p=s.slice(-2),h=s.join(),m=`if (${d} < ${l[0]}) {\n        return getChannel(\n            getT0(${h}), vec2(${p.join()}));\n        }`,v=1;v<l.length;v++){var g=l[v-1];m+=`\n        if (${d} < ${l[v]}  && ${d} >= ${l[v-1]}) {\n          return getChannel(\n            getT${v}(${Li(s,d,g)}),\n            vec2(${Li(p,d,g)}));\n        }`}var y=l.length,b=l[l.length-1];m+=`\n        return getChannel(\n          getT${y}(${Li(s,d,b)}),\n          vec2(${Li(p,d,b)}));`,this.userCode=`\n      float getValue(${s.map((function(e){return"int "+e}))}) {\n        ${m}\n      }\n\n      void main() {\n        ${i} coords = getOutputCoords();\n        vec4 result = vec4(getValue(${o}), 0., 0., 0.);\n\n        ${o[a-1]} = ${o[a-1]} + 1;\n        if (${o[a-1]} < ${r[a-1]}) {\n          result.g = getValue(${o});\n        }\n\n        ${o[a-2]} = ${o[a-2]} + 1;\n        if (${o[a-2]} < ${r[a-2]}) {\n          result.a = getValue(${o});\n        }\n\n        ${o[a-1]} = ${o[a-1]} - 1;\n        if (${o[a-2]} < ${r[a-2]} &&\n            ${o[a-1]} < ${r[a-1]}) {\n          result.b = getValue(${o});\n        }\n        setOutput(result);\n      }\n    `}));function Li(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?`${e} - ${n}`:e})).join()}function zi(e){var t=e.inputs,n=e.backend,r=t.input;return Gr({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var Bi={kernelName:u.Imag,backendName:"webgl",kernelFunc:zi};function Vi(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return Si({inputs:{input:e},backend:n})})),i=e.map((function(e){return zi({inputs:{input:e},backend:n})})),o=Vi(a,t,n),s=Vi(i,t,n),l=jr({inputs:{real:o,imag:s},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),l}var c=n.shouldExecuteOnCPU(e);if("string"===r&&(c=!0),c){var d=e.map((function(e){var r=u.util.sizeFromShape(e.shape.slice(t));return la({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),f=d.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),p=u.backend_util.computeOutShape(d.map((function(e){return e.shape})),1),h=1===d[0].shape[0],m=kn(f,p,r,h),v=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(v,r,m);return d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}var y=(0,u.env)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER");if(e.length>y){for(var b=[],k=0;k<e.length;k+=y){var w=e.slice(k,k+y);b.push(Vi(w,t,n))}var x=Vi(b,t,n);for(var S of b)n.disposeIntermediateTensorInfo(S);return x}if((0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var T=new Mi(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(T,e,r)}var E=function(e,t,n){var r=u.backend_util.computeOutShape(e.map((function(e){return e.shape})),t),a=e.map((function(e){return la({inputs:{x:e},attrs:{shape:[-1,u.util.sizeFromShape(e.shape.slice(t))]},backend:n})}));return{tensors2D:a,outShape:r}}(e,t,n),C=E.tensors2D,N=E.outShape,I=new Pi(C.map((function(e){return e.shape}))),_=n.runWebGLProgram(I,C,r);C.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var R=la({inputs:{x:_},attrs:{shape:N},backend:n});return n.disposeIntermediateTensorInfo(_),R}function Ui(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=u.util.parseAxisParam(r,t[0].shape)[0],i=u.backend_util.computeOutShape(t.map((function(e){return e.shape})),a);if(0===u.util.sizeFromShape(i))return n.makeTensorInfo(i,t[0].dtype,[]);var o=t.filter((function(e){return u.util.sizeFromShape(e.shape)>0}));if(1===o.length)return Gr({inputs:{x:o[0]},backend:n});var s=o.map((function(e){return e.shape}));return u.backend_util.assertParamsConsistent(s,a),Vi(o,a,n)}var Gi={kernelName:u.Concat,backendName:"webgl",kernelFunc:Ui},Wi=(0,p.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.default)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var o=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,l=t.strideWidth,c=t.dilationHeight,d=t.dilationWidth,p=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),v=t.inChannels%4,g="channelsLast"===t.dataFormat,y=g?1:2,b=g?2:3,k=g?3:1,w="",x="";r&&(w=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${r}\n        }`:i?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${r}\n        }`:`\n          float activation(float x) {\n            ${r}\n          }\n        `,x="result = activation(result);");var S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${w}\n\n      const ivec2 strides = ivec2(${u}, ${l});\n      const ivec2 pads = ivec2(${o}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[${k}];\n\n        ivec2 xRCCorner =\n            ivec2(coords[${y}], coords[${b}]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${p}; wR++) {\n          int xR = xRCorner + wR * ${c};\n\n          if (xR < 0 || xR >= ${t.inHeight}) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${h}; wC++) {\n            int xC = xCCorner + wC * ${d};\n\n            if (xC < 0 || xC >= ${t.inWidth}) {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ${m}; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (${g}) {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (${1===v}) {\n\n              if (${g}) {\n                dotProd +=\n                    getX(batch, xR, xC, ${m}) *\n                    getW(wR, wC, ${m}, d2);\n              } else {\n                dotProd +=\n                    getX(batch, ${m}, xR, xC) *\n                    getW(wR, wC, ${m}, d2);\n              }\n\n            } else if (${2===v}) {\n              vec2 wValues = vec2(\n                getW(wR, wC, ${m}, d2),\n                getW(wR, wC, ${m} + 1, d2)\n              );\n\n              if (${g}) {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ${m}),\n                  getX(batch, xR, xC, ${m} + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ${m}, xR, xC),\n                  getX(batch, ${m} + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (${3===v}) {\n              vec3 wValues = vec3(\n                getW(wR, wC, ${m}, d2),\n                getW(wR, wC, ${m} + 1, d2),\n                getW(wR, wC, ${m} + 2, d2)\n              );\n\n              if (${g}) {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ${m}),\n                  getX(batch, xR, xC, ${m} + 1),\n                  getX(batch, xR, xC, ${m} + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ${m}, xR, xC),\n                  getX(batch, ${m} + 1, xR, xC),\n                  getX(batch, ${m} + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ${S}\n        ${x}\n        setOutput(result);\n      }\n    `})),ji=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,l=t.dilationHeight,c=t.dilationWidth,d=t.filterDepth,p=t.filterHeight,h=t.filterWidth,m=4*Math.floor(t.inChannels/4),v=t.inChannels%4;this.userCode=`\n      const ivec3 strides = ivec3(${i}, ${o}, ${s});\n      const ivec3 pads = ivec3(${n}, ${r}, ${a});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${d}; wF++) {\n          int xF = xFCorner + wF * ${u};\n\n          if (xF < 0 || xF >= ${t.inDepth}) {\n            continue;\n          }\n\n          for (int wR = 0; wR < ${p}; wR++) {\n            int xR = xRCorner + wR * ${l};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int wC = 0; wC < ${h}; wC++) {\n              int xC = xCCorner + wC * ${c};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ${m}; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (${1===v}) {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ${m}) *\n                  getW(wF, wR, wC, ${m}, d2);\n              } else if (${2===v}) {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ${m}),\n                  getX(batch, xF, xR, xC, ${m} + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ${m}, d2),\n                  getW(wF, wR, wC, ${m} + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (${3===v}) {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ${m}),\n                  getX(batch, xF, xR, xC, ${m} + 1),\n                  getX(batch, xF, xR, xC, ${m} + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ${m}, d2),\n                  getW(wF, wR, wC, ${m} + 1, d2),\n                  getW(wF, wR, wC, ${m} + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `})),qi=(0,p.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.default)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Ke(this.outputShape.length);for(var o=t.padInfo.left,s=t.strideWidth,l=t.dilationWidth,c=t.filterHeight,d=t.filterWidth,p=d,h="\n       int xR; int xC; int xCOffset;\n       vec4 wTexel; vec4 previous; vec4 final;",m=0;m<d;m++)h+=`\n           vec4 xTexelC${2*m};\n           int xTexelC${2*m}Ready;\n           vec4 xTexelC${2*m+1};\n           int xTexelC${2*m+1}Ready;\n           vec4 xC${m};`;h+=`\n     for (int r = 0; r < ${c}; r++) {\n      for (int d1 = 0; d1 < ${t.inChannels}; d1 += 2) {\n       `;for(var v=0;v<d;v++)h+=`\n           xTexelC${2*v} = vec4(0.0);\n           xTexelC${2*v}Ready = 0;\n           xTexelC${2*v+1} = vec4(0.0);\n           xTexelC${2*v+1}Ready = 0;\n           xC${v} = vec4(0.0);`;h+="\n         xR = xRCorner + r * dilations[0];\n         if (xR >=0 && xR < inDims[0]) {\n       ";for(var g=0;g<(p+1)/2;g++){var y=2*g;if(h+=`\n           xC = xCCorner + ${y*l};\n           `,1===s){if(y<d&&(o%2===1?(h+=`\n                 xCOffset = xC + 1;\n                 if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {\n                   xTexelC${y} = getX(batch, xR, xCOffset, d1);\n\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${y}.zw = vec2(0.0);\n                   }\n                   xTexelC${y}Ready = 1;\n                 }\n               `,h+=1===l&&y>0?`\n                 xC${y} = vec4(xTexelC${y-2}.zw, xTexelC${y}.xy);\n                 `:`\n                   xCOffset = xC + 1 - 2;\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       previous.zw = vec2(0.0);\n                     }\n\n                     xC${y} = vec4(previous.zw, xTexelC${y}.xy);\n                   } else {\n                     xC${y} = vec4(0.0, 0.0, xTexelC${y}.xy);\n                   }\n                   `):h+=`\n                 if (xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {\n                   xTexelC${y} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${y}.zw = vec2(0.0);\n                   }\n                   xTexelC${y}Ready = 1;\n                 }\n\n                 xC${y} = xTexelC${y};\n                 `,y+1<d)){var b=o%2===0?u.util.nearestLargerEven(l):l;l%2===0&&o%2===1||l%2!==0&&o%2!==1?(h+=`\n                   xCOffset = xC + imod(pads[1], 2) + ${b};\n\n                   if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {\n                     xTexelC${y+1} = getX(batch, xR, xCOffset, d1);\n\n                     // Need to manually clear unused channels in case\n                     // we're reading from recycled texture.\n                     if (xCOffset + 1 >= inDims[1]) {\n                       xTexelC${y+1}.zw = vec2(0.0);\n                     }\n                     xTexelC${y+1}Ready = 1;\n                   }\n                   `,h+=l>1?`\n                     xCOffset -= 2;\n                     if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                      previous = getX(batch, xR, xCOffset, d1);\n                      xC${y+1} = vec4(previous.zw, xTexelC${y+1}.xy);\n                     } else {\n                      xC${y+1} = vec4(0.0, 0.0, xTexelC${y+1}.xy);\n                     }\n                     `:`\n                     xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.xy);\n                     `):h+=1===b?`\n                     xC${y+1} = xTexelC${y};\n                     `:`\n                     xCOffset = xC + ${b};\n\n                     if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {\n                       xTexelC${y+1} = getX(batch, xR, xCOffset, d1);\n                       if (xCOffset + 1 >= inDims[1]) {\n                         xTexelC${y+1}.zw = vec2(0.0);\n                       }\n                       xTexelC${y+1}Ready = 1;\n                     }\n\n                     xC${y+1} = xTexelC${y+1};\n                     `}}else y<d&&(o%2===1?(h+=`\n                 xCOffset = xC + 1 - strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y}Ready == 0) {\n                   xTexelC${y} = getX(batch, xR, xCOffset, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${y}.zw = vec2(0.0);\n                   }\n                   xTexelC${y}Ready = 1;\n                 }\n\n                 if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${y+1}Ready == 0) {\n                   xTexelC${y+1} = getX(batch, xR, xC + 1, d1);\n                   // Need to manually clear unused channels in case\n                   // we're reading from recycled texture.\n                   if (xC + 2 >= inDims[1]) {\n                     xTexelC${y+1}.zw = vec2(0.0);\n                   }\n                   xTexelC${y+1}Ready = 1;\n                 }\n\n                 xC${y} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);\n               `,y+1<d&&(h+=`\n                   final = vec4(0.0);\n                   xCOffset = xC + 1 + strides[1];\n                   if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                     final = getX(batch, xR, xCOffset, d1);\n                   }\n                   xC${y+1} = vec4(xTexelC${y+1}.xy, final.xy);\n                 `)):(h+=`\n                 if(xC >= 0 && xC < inDims[1] && xTexelC${y}Ready == 0) {\n                   xTexelC${y} = getX(batch, xR, xC, d1);\n                   if (xC + 1 >= inDims[1]) {\n                     xTexelC${y}.zw = vec2(0.0);\n                   }\n                   xTexelC${y}Ready = 1;\n                 }\n\n                 xCOffset = xC + strides[1];\n                 if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${y+1}Ready == 0) {\n                   xTexelC${y+1} = getX(batch, xR, xCOffset, d1);\n                   if (xCOffset + 1 >= inDims[1]) {\n                     xTexelC${y+1}.zw = vec2(0.);\n                   }\n                   xTexelC${y+1}Ready = 1;\n                 }\n\n                 xC${y} = vec4(\n                   xTexelC${y}.xy, xTexelC${y+1}.xy);\n               `,y+1<d&&(h+=`\n                   xC${y+1} = vec4(xTexelC${y}.zw, xTexelC${y+1}.zw);\n                 `)));y<d&&(h+=`\n             wTexel = getW(r, ${y}, d1, d2);\n             dotProd += xC${y}.xxzz * vec4(wTexel.xy, wTexel.xy);\n             if(d1 + 1 < ${t.inChannels}) {\n               dotProd += xC${y}.yyww * vec4(wTexel.zw, wTexel.zw);\n             }\n           `,y+1<d&&(h+=`\n               wTexel = getW(r, ${y+1}, d1, d2);\n               dotProd += xC${y+1}.xxzz * vec4(wTexel.xy, wTexel.xy);\n               if(d1 + 1 < ${t.inChannels}) {\n                 dotProd += xC${y+1}.yyww * vec4(wTexel.zw, wTexel.zw);\n               }\n             `))}h+="\n     }\n   ",h+="\n     }\n   ",h+="\n     }\n   ";var k="",w="";r&&(k=a?`vec4 activation(vec4 a) {\n           vec4 b = getPreluActivationWeightsAtOutCoords();\n           ${r}\n         }`:i?`vec4 activation(vec4 a) {\n           vec4 b = getLeakyreluAlphaAtOutCoords();\n           ${r}\n         }`:`vec4 activation(vec4 x) {\n           ${r}\n         }`,w="result = activation(result);");var x=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n       ${k}\n\n       void main() {\n         ivec4 coords = getOutputCoords();\n         int batch = coords.x;\n         ivec2 xRCCorner = coords.yz * strides - pads;\n         int d2 = coords.w;\n         int xRCorner = xRCCorner.x;\n         int xCCorner = xRCCorner.y;\n\n         //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n         vec4 dotProd = vec4(0.000000000000001);\n\n         ${h}\n\n         vec4 result = dotProd - vec4(0.000000000000001);\n         ${x}\n         ${w}\n         setOutput(result);\n       }\n     `})),Hi=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec4"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Ke(this.outputShape.length);for(var r=n.dataFormat,a=Ee(),i="channelsLast"===r,o=i?1:2,s=i?2:3,u=this.enableShapeUniforms?"if(blockIndex < outShape[2] && pos < outShape[1]) {":`if(blockIndex < ${t[2]} && pos < ${t[1]}) {`,l="",c=0;c<=1;c++)for(var d=0;d<=1;d++)l+=`\n          blockIndex = rc.z + ${d};\n          pos = rc.y + ${c};\n\n          ${u}\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[${o}] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[${s}] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (${i}) {\n                  innerDims = vec2(d1, ch);\n                  result[${2*c+d}] = getChannel(\n                    getA(rc.x, d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[${2*c+d}] = getChannel(\n                    getA(rc.x, ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        `;this.userCode=`\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ${l}\n\n        ${a.output} = result;\n      }\n    `}));function Ki(e,t){var n=e.length;return n>=3?[].concat((0,c.default)(e.slice(0,-3)),t?[e[n-3]*e[n-2],e[n-1]]:[e[n-3],e[n-2]*e[n-1]]):!t&&1===n&&e[0]>1?[e[0],1]:null}function Xi(e){var t,n=e.x,r=e.filter,a=e.convInfo,i=e.backend,o=e.bias,s=void 0===o?null:o,l=e.preluActivationWeights,c=void 0===l?null:l,d=e.leakyreluAlpha,f=void 0===d?0:d,p=e.activation,h=void 0===p?null:p,m=n.shape,v=i.texData.get(n.dataId),g=a.inChannels,y=m[0]*m[1]*m[2],b=a.outChannels,k="channelsLast"===a.dataFormat,w=[];if(null!=c){var x=Ki(c.shape,k);null!=x&&(c=la({inputs:{x:c},backend:i,attrs:{shape:x}}),w.push(c))}if(null!=s){var S=Ki(s.shape,k);null!=S&&(s=la({inputs:{x:s},backend:i,attrs:{shape:S}}),w.push(s))}if(!((1===y||1===b)&&g>wa)&&v.isPacked&&k&&null!=v.texture&&m[2]%2!==0&&u.util.arraysEqual(v.shape.slice(-3),m.slice(-3))){var T=m[0]*m[1]*(m[2]+1),E={dataId:n.dataId,shape:[1,T,a.inChannels],dtype:n.dtype},C=v.shape;v.shape=v.shape.slice(),v.shape[v.shape.length-2]++,u.util.assert(de(v.shape,E.shape),(function(){return`packed reshape ${v.shape} to ${E.shape} isn't free`}));var N=la({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}});w.push(N);var I=xa({a:E,b:N,backend:i,transposeA:!1,transposeB:false,bias:s,activation:h,preluActivationWeights:c,leakyreluAlpha:f}),_=i.texData.get(I.dataId);u.util.assert(_.isPacked,(function(){return"batchMatMul result is expected to be packed"})),v.shape=C,_.shape=a.outShape,(t=Gr({inputs:{x:I},backend:i})).shape=a.outShape,w.push(I)}else{var R=a.outHeight*a.outWidth,A=la({inputs:{x:n},backend:i,attrs:{shape:k?[a.batchSize,R,a.inChannels]:[a.batchSize,a.inChannels,R]}}),O=la({inputs:{x:r},backend:i,attrs:{shape:[1,a.inChannels,a.outChannels]}}),D=xa({a:k?A:O,b:k?O:A,transposeA:!k,transposeB:false,backend:i,bias:s,activation:h,preluActivationWeights:c,leakyreluAlpha:f});t=la({inputs:{x:D},backend:i,attrs:{shape:a.outShape}}),w.push(A),w.push(O),w.push(D)}for(var F of w)i.disposeIntermediateTensorInfo(F);return t}function Yi(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,i=e.bias,o=void 0===i?null:i,s=e.preluActivationWeights,l=void 0===s?null:s,c=e.leakyreluAlpha,d=void 0===c?0:c,f=e.activation,p=void 0===f?null:f,h=r.filterWidth,m=r.filterHeight,v=r.inChannels,g=r.outWidth,y=r.outHeight,b="channelsLast"===r.dataFormat,k=h*m*v,w=y*g,x=[r.batchSize,k,w],S=[];if(null!=l){var T=Ki(l.shape,b);null!=T&&(l=la({inputs:{x:l},backend:a,attrs:{shape:T}}),S.push(l))}if(null!=o){var E=Ki(o.shape,b);null!=E&&(o=la({inputs:{x:o},backend:a,attrs:{shape:E}}),S.push(o))}var C=la({inputs:{x:n},backend:a,attrs:{shape:[1,k,u.util.sizeFromShape(n.shape)/k]}});S.push(C);var N=new Hi(x,r),I=[t.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],_=a.runWebGLProgram(N,[t],"float32",I),R=la({inputs:{x:_},backend:a,attrs:{shape:x}});S.push(_),S.push(R);var A=null!=o,O=null!=l,D="leakyrelu"===p,F=p?na(p,!0):null,$=new ra(b?R.shape:C.shape,b?C.shape:R.shape,b?[r.batchSize,w,r.outChannels]:[r.batchSize,r.outChannels,w],!0,!1,A,F,O,D),P=b?[R,C]:[C,R];if(o&&P.push(o),O&&P.push(l),D){var M=a.makeTensorInfo([],"float32",u.util.createScalarValue(d,"float32"));P.push(M),S.push(M)}var L=a.runWebGLProgram($,P,"float32"),z=la({inputs:{x:L},backend:a,attrs:{shape:r.outShape}});for(var B of(S.push(L),S))a.disposeIntermediateTensorInfo(B);return z}var Zi={kernelName:u.Conv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=a.strides,l=a.pad,c=a.dataFormat,d=a.dilations,f=a.dimRoundingMode,p=u.backend_util.convertConv2DDataFormat(c),h=u.backend_util.computeConv2DInfo(i.shape,o.shape,s,d,l,f,!1,p);if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if(h.strideWidth<=2&&"channelsLast"===p&&(0,u.env)().getBool("WEBGL_EXP_CONV")){var m=new qi(h),v=[[h.padInfo.top,h.padInfo.left],[h.strideHeight,h.strideWidth],[h.dilationHeight,h.dilationWidth],[h.inHeight,h.inWidth]];t=r.runWebGLProgram(m,[i,o],"float32",v)}else if((0,u.env)().getBool("WEBGL_CONV_IM2COL"))t=Yi({x:i,filter:o,convInfo:h,backend:r});else{var g=new Wi(h);t=r.runWebGLProgram(g,[i,o],"float32")}else t=Xi({x:i,filter:o,convInfo:h,backend:r});var y=la({inputs:{x:t},backend:r,attrs:{shape:h.outShape}});return r.disposeIntermediateTensorInfo(t),y}},Qi=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o="channelsLast"===t.dataFormat;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${n} - ${a};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${r} - ${i};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              if (${o}) {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `})),Ji=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,l=o?1:2,c=o?2:3,d=o?3:1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${u});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[${d}];\n\n        ivec2 dyCorner = ivec2(coords[${l}], coords[${c}]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${n}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${n} - 1 - wR;\n\n          for (int wC = 0; wC < ${r}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${r} - 1 - wC;\n\n            for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n\n              if (${o}) {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `})),eo=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.padInfo.front,o=t.padInfo.top,s=t.padInfo.left;this.userCode=`\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yF = 0; yF < ${t.outDepth}; yF++) {\n            int xF = wF + yF * ${n} - ${i};\n\n            if (xF < 0 || xF >= ${t.inDepth}) {\n              continue;\n            }\n\n            for (int yR = 0; yR < ${t.outHeight}; yR++) {\n              int xR = wR + yR * ${r} - ${o};\n\n              if (xR < 0 || xR >= ${t.inHeight}) {\n                continue;\n              }\n\n              for (int yC = 0; yC < ${t.outWidth}; yC++) {\n                int xC = wC + yC * ${a} - ${s};\n\n                if (xC < 0 || xC >= ${t.inWidth}) {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `})),to=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,i=t.strideDepth,o=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,l=r-1-t.padInfo.top,c=a-1-t.padInfo.left;this.userCode=`\n      const ivec3 pads = ivec3(${u}, ${l}, ${c});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ${n}; wF++) {\n          float dyF = float(dyFCorner + wF) / ${i}.0;\n\n          if (dyF < 0.0 || dyF >= ${t.outDepth}.0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ${n} - 1 - wF;\n\n          for (int wR = 0; wR < ${r}; wR++) {\n            float dyR = float(dyRCorner + wR) / ${o}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ${r} - 1 - wR;\n\n            for (int wC = 0; wC < ${a}; wC++) {\n              float dyC = float(dyCCorner + wC) / ${s}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ${a} - 1 - wC;\n\n              for (int d2 = 0; d2 < ${t.outChannels}; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}));var no={kernelName:u.Conv2DBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=r.filterShape,f=u.backend_util.convertConv2DDataFormat(l),p=u.backend_util.computeConv2DInfo(a.shape,d,o,1,s,c,!1,f),h=new Qi(p);return n.runWebGLProgram(h,[a,i],"float32")}};var ro={kernelName:u.Conv2DBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.inputShape,s=r.strides,l=r.pad,c=r.dataFormat,d=r.dimRoundingMode,f=u.backend_util.convertConv2DDataFormat(c),p=u.backend_util.computeConv2DInfo(o,i.shape,s,1,l,d,!1,f),h=new Ji(p);return n.runWebGLProgram(h,[a,i],"float32")}};var ao={kernelName:u.Conv3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dilations,c=u.backend_util.computeConv3DInfo(a.shape,i.shape,o,l,s),d=new ji(c);return n.runWebGLProgram(d,[a,i],"float32")}};var io={kernelName:u.Conv3DBackpropFilterV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.pad,l=r.filterShape,c=u.backend_util.computeConv3DInfo(a.shape,l,o,1,s),d=new eo(c);return n.runWebGLProgram(d,[a,i],"float32")}};var oo,so={kernelName:u.Conv3DBackpropInputV2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.pad,s=r.strides,l=r.inputShape,c=u.backend_util.computeConv3DInfo(l,i.shape,s,1,o),d=new to(c);return n.runWebGLProgram(d,[a,i],"float32")}},uo=ea({opSnippet:Jr+"\n  return cos(x);\n"}),lo={kernelName:u.Cos,backendName:"webgl",kernelFunc:uo},co=ea({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),fo={kernelName:u.Cosh,backendName:"webgl",kernelFunc:co},po=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var o=(0,l.default)(t,4),s=o[0],u=o[1],c=o[2],d=o[3],p=(0,l.default)(n,1)[0],h=(0,l.default)(r,2),m=h[0],v=h[1];this.outputShape=[p,m,v,d];var g="bilinear"===a?1:0,y=u-1+".0",b=c-1+".0",k=m>1?[""+(u-1)/(m-1),"(y2-y1) * height_ratio",`y1*${y} + float(y)*(height_scale)`]:["0.0","0.0",`0.5 * (y1+y2) * ${y}`],w=(0,l.default)(k,3),x=w[0],S=w[1],T=w[2],E=v>1?[""+(c-1)/(v-1),"(x2-x1) * width_ratio",`x1*${b} + float(x)*(width_scale)`]:["0.0","0.0",`0.5 * (x1+x2) * ${b}`],C=(0,l.default)(E,3),N=C[0],I=C[1],_=C[2];this.userCode=`\n      const float height_ratio = float(${x});\n      const float width_ratio = float(${N});\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ${s}) {\n          return;\n        }\n\n        float height_scale = ${S};\n        float width_scale = ${I};\n\n        float in_y = ${T};\n        if( in_y < 0.0 || in_y > ${y} ) {\n          setOutput(float(${i}));\n          return;\n        }\n        float in_x = ${_};\n        if( in_x < 0.0 || in_x > ${b} ) {\n          setOutput(float(${i}));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(${g} == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    `})),ho={kernelName:u.CropAndResize,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.boxes,o=t.boxInd,s=r.cropSize,u=r.method,l=r.extrapolationValue,c=new po(a.shape,i.shape,s,u,l);return n.runWebGLProgram(c,[a,i,o],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(oo||(oo={}));var mo=(0,p.default)((function e(t,n,r,a){(0,f.default)(this,e),this.op=t,this.outputShape=n,this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}];var i=this.outputShape.length,o=this.op===oo.Prod?"1.0":"0.0",s=r?o:`getX(${vo(i,"coords",this.op)})`,u=this.outputShape[this.outputShape.length-1],l="",c="";r?(l=a?"end != "+(u-1):"end != 0",c=a?"end + 1":"end - 1"):(l=a?`end + pow2 < ${u}`:"end >= pow2",c=a?"end + pow2":"end - pow2"),this.userCode=`\n      void main() {\n        ${Ue(i)} coords = getOutputCoords();\n        int end = ${go(i,"coords",this.op)};\n        float val = ${s};\n        int pow2 = int(pow(2.0, index));\n        if (${l}) {\n          int idx = ${c};\n          ${go(i,"coords",this.op)} = idx;\n          val ${this.op}= getX(${vo(i,"coords",this.op)});\n        }\n        setOutput(val);\n      }\n    `}));function vo(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.x, ${t}.y`;if(3===e)return`${t}.x, ${t}.y, ${t}.z`;if(4===e)return`${t}.x, ${t}.y, ${t}.z, ${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function go(e,t,n){if(1===e)return`${t}`;if(2===e)return`${t}.y`;if(3===e)return`${t}.z`;if(4===e)return`${t}.w`;throw new Error(`Cumulative ${n} for rank ${e} is not yet supported`)}function yo(e,t,n,r,a,i){var o=t.shape.length,s=u.backend_util.getAxesPermutation([r],o),l=t;null!=s&&(l=ba({inputs:{x:t},backend:n,attrs:{perm:s}}));var c=u.backend_util.getInnerMostAxes(1,o)[0];if(c!==o-1)throw new Error(`WebGL cumprod shader expects an inner-most axis=${t.shape.length-1} but got axis=${r}`);for(var d=l.shape[c],f=Gr({inputs:{x:l},backend:n}),p=0;p<=Math.ceil(Math.log2(d))-1;p++){var h=new mo(e,l.shape,!1,i),m=[[p]],v=f;f=n.runWebGLProgram(h,[f],f.dtype,m),n.disposeIntermediateTensorInfo(v)}if(a){var g=new mo(e,l.shape,a,i),y=f;f=n.runWebGLProgram(g,[f],f.dtype),n.disposeIntermediateTensorInfo(y)}if(null!=s){var b=ba({inputs:{x:f},backend:n,attrs:{perm:u.backend_util.getUndoAxesPermutation(s)}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(l),b}return f}var bo={kernelName:u.Cumprod,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;return yo(oo.Prod,a,n,i,o,s)}};var ko={kernelName:u.Cumsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.exclusive,s=r.reverse;return yo(oo.Sum,a,n,i,o,s)}};var wo={kernelName:u.DenseBincount,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.weights,o=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=n.readSync(a.dataId),l=n.readSync(i.dataId),c=vn(u,l,i.dtype,i.shape,o);return n.makeTensorInfo([o],i.dtype,c)}if(2===a.shape.length){var d=n.bufferSync(a),f=n.bufferSync(i),p=gn(d,f,o,s);return n.makeTensorInfo(p.shape,i.dtype,p.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}},xo=function(){function e(t,n,r){(0,f.default)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode=`\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ${this.getHeightCoordString()};\n      int w = ${this.getWidthCoordString()};\n      int d = ${this.getDepthCoordString()};\n\n      int in_h = h / ${n};\n      int offset_h = imod(h, ${n});\n      int in_w = w / ${n};\n      int offset_w = imod(w, ${n});\n      int offset_d = (offset_h * ${n} + offset_w) *\n        ${this.getOutputDepthSize()};\n      int in_d = d + offset_d;\n\n      float result = ${this.getInputSamplingString()};\n      setOutput(result);\n    }\n  `}return(0,p.default)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var So={kernelName:u.DepthToSpace,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockSize,o=r.dataFormat,s=a.shape[0],u=("NHWC"===o?a.shape[1]:a.shape[2])*i,l=("NHWC"===o?a.shape[2]:a.shape[3])*i,c=("NHWC"===o?a.shape[3]:a.shape[1])/(i*i),d=new xo("NHWC"===o?[s,u,l,c]:[s,c,u,l],i,o);return n.runWebGLProgram(d,[a],a.dtype)}},To=(0,p.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.default)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Ke(this.outputShape.length);var o=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,l="",c="";r&&(l=a?`float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ${r}\n        }`:i?`float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ${r}\n        }`:`\n          float activation(float x) {\n            ${r}\n          }\n        `,c="result = activation(result);");var d=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${l}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${u};\n        int q = d2 - d1 * ${u};\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ${o}; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ${s}; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ${d}\n        ${c}\n        setOutput(result);\n      }\n    `})),Eo=(0,p.default)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,f.default)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Ke(this.outputShape.length);for(var o=t.outChannels/t.inChannels,s=t.padInfo.left,l=t.strideWidth,c=t.dilationWidth,d=t.filterHeight,p=t.filterWidth,h=p,m="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",v=0;v<p;v++)m+=`\n          vec4 xTexelC${2*v};\n          int xTexelC${2*v}Ready;\n          vec4 xTexelC${2*v+1};\n          int xTexelC${2*v+1}Ready;\n          vec4 xC${v};`;m+=`\n    for (int r = 0; r < ${d}; r++) {\n      `;for(var g=0;g<p;g++)m+=`\n          xTexelC${2*g} = vec4(0.0);\n          xTexelC${2*g}Ready = 0;\n          xTexelC${2*g+1} = vec4(0.0);\n          xTexelC${2*g+1}Ready = 0;\n          xC${g} = vec4(0.0);`;m+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var y=0;y<(h+1)/2;y++){var b=2*y;if(m+=`\n          xC = xCCorner + ${b*c};\n          `,1===l){if(b<p&&(s%2===1?(m+=`\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {\n                  xTexelC${b} = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${b}.zw = vec2(0.0);\n                  }\n                  xTexelC${b}Ready = 1;\n                }\n              `,m+=1===c&&b>0?`\n                xC${b} = vec4(xTexelC${b-2}.zw, xTexelC${b}.xy);\n                `:`\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC${b} = vec4(previous.zw, xTexelC${b}.xy);\n                  } else {\n                    xC${b} = vec4(0.0, 0.0, xTexelC${b}.xy);\n                  }\n                  `):m+=`\n                if (xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {\n                  xTexelC${b} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${b}.zw = vec2(0.0);\n                  }\n                  xTexelC${b}Ready = 1;\n                }\n\n                xC${b} = xTexelC${b};\n                `,b+1<p)){var k=s%2===0?u.util.nearestLargerEven(c):c;c%2===0&&s%2===1||c%2!==0&&s%2!==1?(m+=`\n                  xCOffset = xC + imod(pads[1], 2) + ${k};\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {\n                    xTexelC${b+1} = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC${b+1}.zw = vec2(0.0);\n                    }\n                    xTexelC${b+1}Ready = 1;\n                  }\n                  `,m+=c>1?`\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                     previous = getX(batch, xR, xCOffset, d1);\n                     xC${b+1} = vec4(previous.zw, xTexelC${b+1}.xy);\n                    } else {\n                     xC${b+1} = vec4(0.0, 0.0, xTexelC${b+1}.xy);\n                    }\n                    `:`\n                    xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.xy);\n                    `):m+=1===k?`\n                    xC${b+1} = xTexelC${b};\n                    `:`\n                    xCOffset = xC + ${k};\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {\n                      xTexelC${b+1} = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC${b+1}.zw = vec2(0.0);\n                      }\n                      xTexelC${b+1}Ready = 1;\n                    }\n\n                    xC${b+1} = xTexelC${b+1};\n                    `}}else b<p&&(s%2===1?(m+=`\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b}Ready == 0) {\n                  xTexelC${b} = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${b}.zw = vec2(0.0);\n                  }\n                  xTexelC${b}Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC${b+1}Ready == 0) {\n                  xTexelC${b+1} = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC${b+1}.zw = vec2(0.0);\n                  }\n                  xTexelC${b+1}Ready = 1;\n                }\n\n                xC${b} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);\n              `,b+1<p&&(m+=`\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC${b+1} = vec4(xTexelC${b+1}.xy, final.xy);\n                `)):(m+=`\n                if(xC >= 0 && xC < inDims[1] && xTexelC${b}Ready == 0) {\n                  xTexelC${b} = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC${b}.zw = vec2(0.0);\n                  }\n                  xTexelC${b}Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC${b+1}Ready == 0) {\n                  xTexelC${b+1} = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC${b+1}.zw = vec2(0.);\n                  }\n                  xTexelC${b+1}Ready = 1;\n                }\n\n                xC${b} = vec4(\n                  xTexelC${b}.xy, xTexelC${b+1}.xy);\n              `,b+1<p&&(m+=`\n                  xC${b+1} = vec4(xTexelC${b}.zw, xTexelC${b+1}.zw);\n                `)));b<p&&(m+=`\n            wTexel = getW(r, ${b}, d1, q);\n            dotProd += xC${b} * vec4(wTexel.xz, wTexel.xz);\n          `,b+1<p&&(m+=`\n              wTexel = getW(r, ${b+1}, d1, q);\n              dotProd += xC${b+1} * vec4(wTexel.xz, wTexel.xz);\n            `))}m+="\n    }\n  ",m+="\n      }\n    ";var w="",x="";r&&(w=a?`vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ${r}\n        }`:i?`vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ${r}\n        }`:`vec4 activation(vec4 x) {\n          ${r}\n        }`,x="result = activation(result);");var S=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),i&&this.variableNames.push("leakyreluAlpha"),this.userCode=`\n      ${w}\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ${o};\n        int q = d2 - d1 * ${o};\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ${m}\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ${S}\n        ${x}\n        setOutput(result);\n      }\n    `}));var Co={kernelName:u.DepthwiseConv2dNative,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=r.strides,s=r.pad,l=r.dilations,c=r.dimRoundingMode,d=l;null==d&&(d=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,d),(function(){return`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`}));var f,p=u.backend_util.computeConv2DInfo(a.shape,i.shape,o,d,s,c,!0);f=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&p.strideWidth<=2&&p.outChannels/p.inChannels===1?new Eo(p):new To(p);var h=[[p.padInfo.top,p.padInfo.left],[p.strideHeight,p.strideWidth],[p.dilationHeight,p.dilationWidth],[p.inHeight,p.inWidth]];return n.runWebGLProgram(f,[a,i],"float32",h)}},No=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,i=t.padInfo.left,o=t.outChannels/t.inChannels;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ${o} + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ${t.batchSize}; b++) {\n          for (int yR = 0; yR < ${t.outHeight}; yR++) {\n            int xR = wR + yR * ${n} - ${a};\n\n            if (xR < 0 || xR >= ${t.inHeight}) {\n              continue;\n            }\n\n            for (int yC = 0; yC < ${t.outWidth}; yC++) {\n              int xC = wC + yC * ${r} - ${i};\n\n              if (xC < 0 || xC >= ${t.inWidth}) {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `})),Io=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,i=t.strideWidth,o=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode=`\n      const ivec2 pads = ivec2(${o}, ${s});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ${n}; wR++) {\n          float dyR = float(dyRCorner + wR) / ${a}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ${n} - 1 - wR;\n\n          for (int wC = 0; wC < ${r}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${i}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ${r} - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ${u}; dm++) {\n              int d2 = d1 * ${u} + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}));var _o={kernelName:u.DepthwiseConv2dNativeBackpropFilter,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.dy,o=r.strides,s=r.dilations,l=r.pad,c=r.dimRoundingMode,d=r.filterShape,f=u.backend_util.computeConv2DInfo(a.shape,d,o,s,l,c,!0),p=new No(f);return n.runWebGLProgram(p,[a,i],"float32")}};var Ro={kernelName:u.DepthwiseConv2dNativeBackpropInput,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.filter,o=r.strides,s=r.dilations,l=r.pad,c=r.dimRoundingMode,d=r.inputShape,f=u.backend_util.computeConv2DInfo(d,i.shape,o,s,l,c,!0),p=new Io(f);return n.runWebGLProgram(p,[a,i],"float32")}},Ao=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var Oo={kernelName:u.Diag,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat((0,c.default)(r.shape),(0,c.default)(r.shape)),i=u.util.sizeFromShape(r.shape),o=la({inputs:{x:r},backend:n,attrs:{shape:[i]}}),s=new Ao(i),l=n.runWebGLProgram(s,[o],o.dtype),d=la({inputs:{x:l},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(l),d}},Do=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,i=t.strideHeight,o=t.strideWidth,s=t.filterHeight,u=t.filterWidth,l=t.dilationHeight,c=t.dilationWidth,d=a.top,p=a.left;this.userCode=`\n      const ivec2 strides = ivec2(${i}, ${o});\n      const ivec2 pads = ivec2(${d}, ${p});\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ${s}; h++) {\n          int hIn = hBeg + h * ${l};\n\n          if (hIn >= 0 && hIn < ${n}) {\n            for (int w = 0; w < ${u}; w++) {\n              int wIn = wBeg + w * ${c};\n\n              if (wIn >= 0 && wIn < ${r}) {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    `}));var Fo={kernelName:u.Dilation2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=a.strides,l=a.pad,c=a.dilations,d=u.backend_util.computeDilation2DInfo(i.shape,o.shape,s,l,"NHWC",c),f=new Do(d),p=la({inputs:{x:t=r.runWebGLProgram(f,[i,o],"float32")},backend:r,attrs:{shape:d.outShape}});return r.disposeIntermediateTensorInfo(t),p}};var $o={kernelName:u.Einsum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,i=u.backend_util.decodeEinsumEquation(r,a.length),o=i.allDims,s=i.summedDims,l=i.idDims;u.backend_util.checkEinsumDimSizes(o.length,l,a);for(var c=u.backend_util.getEinsumComputePath(s,l),d=c.path,f=c.steps,p=f.length,h=null,m=o.length,v=[],g=0;g<p;++g){for(var y of f[g]){var b=u.backend_util.getEinsumPermutation(m,l[y]),k=b.permutationIndices,w=b.expandDims,x=void 0;u.backend_util.isIdentityPermutation(k)?x=a[y]:(x=ba({inputs:{x:a[y]},backend:n,attrs:{perm:k}}),v.push(x));for(var S=x.shape.slice(),T=0;T<w.length;++T)S.splice(w[T],0,1);u.util.arraysEqual(x.shape,S)||(x=la({inputs:{x:x},backend:n,attrs:{shape:S}}),v.push(x)),null===h?h=x:(h=sa({inputs:{a:x,b:h},backend:n}),v.push(h))}g<p-1&&(d[g]>=0&&(h=ga({inputs:{x:h},backend:n,attrs:{axis:d[g]-(o.length-m),keepDims:!1}}),v.push(h)),m--)}for(var E of v)E!==h&&n.disposeIntermediateTensorInfo(E);return h}},Po=ea({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),Mo={kernelName:u.Elu,backendName:"webgl",kernelFunc:Po},Lo={kernelName:u.EluGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,i=(0,u.env)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new Ur("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new Br("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(i,[r,a],r.dtype)}},zo=ta({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:wn}),Bo={kernelName:u.Equal,backendName:"webgl",kernelFunc:zo},Vo=ea({opSnippet:`\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = ${u.backend_util.ERF_P};\n  float a1 = ${u.backend_util.ERF_A1};\n  float a2 = ${u.backend_util.ERF_A2};\n  float a3 = ${u.backend_util.ERF_A3};\n  float a4 = ${u.backend_util.ERF_A4};\n  float a5 = ${u.backend_util.ERF_A5};\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n`}),Uo={kernelName:u.Erf,backendName:"webgl",kernelFunc:Vo},Go=ea({opSnippet:Jr+"\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:xn,dtype:"float32"}),Wo={kernelName:u.Exp,backendName:"webgl",kernelFunc:Go};function jo(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,i=t.input,o=i.shape.length,s=i.shape.slice(),l=a;return a<0&&(u.util.assert(-(o+1)<=a,(function(){return`Axis must be in the interval [${-(o+1)}, ${o}]`})),l=o+a+1),s.splice(l,0,1),la({inputs:{x:i},backend:r,attrs:{shape:s}})}var qo={kernelName:u.ExpandDims,backendName:"webgl",kernelFunc:jo},Ho="return exp(x) - 1.0;",Ko=ea({opSnippet:Ho,packedOpSnippet:Ho,cpuKernelImpl:Sn}),Xo={kernelName:u.Expm1,backendName:"webgl",kernelFunc:Ko},Yo=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var i,o=r?`2.0 * ${Math.PI}`:`-2.0 * ${Math.PI}`,s=r?`${a}.0`:"1.0";if("real"===t)i="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error(`FFT component must be either "real" or "imag", got ${t}.`);i="return real * expI + imag * expR;"}this.userCode=`\n      const float exponentMultiplier = ${o};\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ${i}\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(${a});\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ${a}; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ${s};\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    `}));function Zo(e,t,n){var r=n.texData.get(e.dataId),a=u.util.sizeFromShape(e.shape),i=e.shape[e.shape.length-1],o=la({inputs:{x:e},backend:n,attrs:{shape:[a/i,i]}}),s=o.shape,l=new Yo("real",s,t),c=new Yo("imag",s,t),d=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],f=n.runWebGLProgram(l,d,"float32"),p=n.runWebGLProgram(c,d,"float32"),h=jr({inputs:{real:f,imag:p},backend:n});n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p);var m=la({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(h),m}var Qo={kernelName:u.FFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Zo(t.input,!1,n)}},Jo=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function es(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,i=n.dtype;if("string"===(i=i||u.util.inferDtype(a))){var o=u.util.getArrayFromDType(i,u.util.sizeFromShape(r));return o.fill(a),t.makeTensorInfo(r,i,o)}var s=new Jo(r,a),l=[[a]];return t.runWebGLProgram(s,[],i,l)}var ts,ns={kernelName:u.Fill,backendName:"webgl",kernelFunc:es},rs=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ${n} - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ${n}) {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `})),as={kernelName:u.FlipLeftRight,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,i=new rs(r.shape);return a.runWebGLProgram(i,[r],r.dtype)}},is="return floor(x);",os=ea({opSnippet:is,packedOpSnippet:is,cpuKernelImpl:Tn}),ss={kernelName:u.Floor,backendName:"webgl",kernelFunc:os},us=ta({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),ls={kernelName:u.FloorDiv,backendName:"webgl",kernelFunc:us},cs=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"];var n=Ee(),r=(0,l.default)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${i}.0, ${a}.0);\n\n        vec4 values = ${n.texture2D}(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    `})),ds=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=Ee(),r=(0,l.default)(t,2),a=r[0],i=r[1];this.outputShape=t,this.userCode=`\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(${i}.0, ${a}.0);\n            vec4 values = ${n.texture2D}(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ${n.output} = result;\n      }\n    `})),fs={kernelName:u.FromPixels,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,i=r.numChannels,s="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,c="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,d=s?[a.videoWidth,a.videoHeight]:[a.width,a.height],f=(0,l.default)(d,2),p=f[0],h=f[1],m=[h,p],v=[h,p,i];if(c||s){var g=(0,u.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");null!=ts&&g===ps||(ps=g,ts=document.createElement("canvas").getContext("2d",{willReadFrequently:ps})),ts.canvas.width=p,ts.canvas.height=h,ts.drawImage(a,0,0,p,h),a=ts.canvas}var y=n.makeTensorInfo(m,"int32");n.texData.get(y.dataId).usage=o.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(y.dataId),a);var b=(0,u.env)().getBool("WEBGL_PACK")?new ds(v):new cs(v),k=n.runWebGLProgram(b,[y],"int32");return n.disposeData(y.dataId),k}},ps=(0,u.env)().getBool("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU");var hs={kernelName:u.FusedConv2D,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=n.filter,s=n.bias,l=n.preluActivationWeights,c=a.strides,d=a.pad,f=a.dataFormat,p=a.dilations,h=a.dimRoundingMode,m=a.activation,v=a.leakyreluAlpha,g=u.backend_util.convertConv2DDataFormat(f),y=u.backend_util.computeConv2DInfo(i.shape,o.shape,c,p,d,h,!1,g),b=[],k=null!=s,w=null!=l,x="leakyrelu"===m,S=function(){var e=[i,o],t=function(e,t){if("NCHW"===t&&1===e.shape.length&&1!==e.shape[0]){var n=la({inputs:{x:e},backend:r,attrs:{shape:[e.shape[0],1,1]}});return b.push(n),n}return e};if(k&&e.push(t(s,f)),w&&e.push(t(l,f)),x){var n=r.makeTensorInfo([],"float32",u.util.createScalarValue(v,"float32"));e.push(n),b.push(n)}return e};if(1!==y.filterHeight||1!==y.filterWidth||1!==y.dilationHeight||1!==y.dilationWidth||1!==y.strideHeight||1!==y.strideWidth||"SAME"!==y.padInfo.type&&"VALID"!==y.padInfo.type)if(y.strideWidth<=2&&"channelsLast"===g&&(0,u.env)().getBool("WEBGL_EXP_CONV")){var T=m?na(m,!0):null,E=new qi(y,k,T,w,x),C=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],N=S();t=r.runWebGLProgram(E,N,"float32",C)}else if((0,u.env)().getBool("WEBGL_CONV_IM2COL"))t=Yi({x:i,filter:o,convInfo:y,backend:r,bias:s,activation:m,preluActivationWeights:l,leakyreluAlpha:v});else{var I=m?na(m,!1):null,_=new Wi(y,k,I,w,x),R=S();t=r.runWebGLProgram(_,R,"float32")}else t=Xi({x:i,filter:o,convInfo:y,backend:r,bias:s,activation:m,preluActivationWeights:l,leakyreluAlpha:v});var A=la({inputs:{x:t},backend:r,attrs:{shape:y.outShape}});return b.push(t),b.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),A}};var ms={kernelName:u.FusedDepthwiseConv2D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.filter,o=t.bias,s=t.preluActivationWeights,l=r.strides,c=r.pad,d=r.dilations,f=r.dimRoundingMode,p=r.activation,h=r.leakyreluAlpha,m=[],v=d;null==v&&(v=[1,1]),u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(l,v),(function(){return`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${l} and dilations '${v}'`}));var g,y=u.backend_util.computeConv2DInfo(a.shape,i.shape,l,v,c,f,!0),b=(0,u.env)().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,k=p?na(p,b):null,w=[a,i],x=null!=o,S=null!=s,T="leakyrelu"===p;if(x&&w.push(o),S&&w.push(s),T){var E=n.makeTensorInfo([],"float32",u.util.createScalarValue(h,"float32"));w.push(E),m.push(E)}g=b?new Eo(y,x,k,S,T):new To(y,x,k,S,T);var C=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],N=n.runWebGLProgram(g,w,"float32",C);return m.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),N}},vs=(0,p.default)((function e(t,n,r,a){(0,f.default)(this,e),this.sliceDim=t,this.strides=n,this.paramsShape=a,this.variableNames=["x","indices"],this.outputShape=r;var i=Ue(n.length),o=Ue(r.length),s=this.sliceDim>1?"strides[j]":"strides",u=Ue(a.length),l=a.length>1?"paramsShape[j]":"paramsShape";this.userCode=`\n        ${i} strides = ${i}(${this.strides});\n        ${u} paramsShape = ${u}(${this.paramsShape});\n         void main() {\n          ${o} coords = getOutputCoords();\n          int flattenIndex = 0;\n          bool out_of_bounds = false;\n          for (int j = 0; j < ${this.sliceDim}; j++) {\n            int index = round(getIndices(coords[0], j));\n            out_of_bounds = out_of_bounds || index < 0;\n            out_of_bounds = out_of_bounds || index >= ${l};\n            flattenIndex += index * ${s};\n          }\n          setOutput(out_of_bounds ? 0.0 : getX(flattenIndex, coords[1]));\n        }\n      `}));var gs={kernelName:u.GatherNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,i=a.shape,o=i[i.length-1],s=u.util.sizeFromShape(r.shape),c=u.backend_util.prepareAndValidate(r,a),d=(0,l.default)(c,4),f=d[0],p=d[1],h=d[2],m=d[3],v=la({inputs:{x:a},backend:n,attrs:{shape:[p,o]}}),g=la({inputs:{x:r},backend:n,attrs:{shape:[u.util.sizeFromShape(r.shape)/h,h]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var y=n.readSync(a.dataId),b=n.bufferSync(r),k=En(y,b,r.dtype,p,o,h,m,r.shape,s);return n.makeTensorInfo(f,r.dtype,k.values)}var w=new vs(o,m,[p,h],r.shape),x=n.runWebGLProgram(w,[g,v],g.dtype),S=la({inputs:{x:x},backend:n,attrs:{shape:f}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(x),S}},ys=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Ue(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push(`${n[a]}`);return r.join()}(t);this.userCode=`\n      void main() {\n        ${r} resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ${t[2]}) ? 1.0 : 0.0;\n        setOutput(inBounds * getA(${a}));\n      }\n    `}));function bs(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.indices,o=r.axis,s=r.batchDims,l=u.util.parseAxisParam(o,a.shape)[0];(0,u.env)().get("DEBUG")&&function(){for(var e=n.readSync(i.dataId),t=a.shape[l],r=function(n){var r=e[n];u.util.assert(r<=t-1&&r>=0,(function(){return`GatherV2: the index value ${r} is not in [0, ${t-1}]`}))},o=0;o<e.length;++o)r(o)}();var c=u.backend_util.segment_util.collectGatherOpShapeInfo(a,i,l,s),d=u.util.sizeFromShape(i.shape),f=[],p=la({inputs:{x:a},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),h=la({inputs:{x:i},backend:n,attrs:{shape:[c.batchSize,d/c.batchSize]}});f.push(p),f.push(h);var m=[c.batchSize,c.outerSize,d/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([a,i])||"string"===a.dtype){var v=n.bufferSync(h),g=n.bufferSync(p),y=Cn(g,v,m);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(c.outputShape,y.dtype,y.values)}var b=new ys(p.shape,m),k=n.runWebGLProgram(b,[p,h],p.dtype);f.push(k);var w=la({inputs:{x:k},backend:n,attrs:{shape:c.outputShape}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),w}var ks={kernelName:u.GatherV2,backendName:"webgl",kernelFunc:bs},ws=ta({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:Nn,dtype:"bool"}),xs={kernelName:u.Greater,backendName:"webgl",kernelFunc:ws},Ss=ta({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:In}),Ts={kernelName:u.GreaterEqual,backendName:"webgl",kernelFunc:Ss};var Es={kernelName:u.IFFT,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return Zo(t.input,!0,n)}},Cs=ea({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),Ns={kernelName:u.IsFinite,backendName:"webgl",kernelFunc:Cs},Is=ea({opSnippet:"return float(isinf(x));",dtype:"bool"}),_s={kernelName:u.IsInf,backendName:"webgl",kernelFunc:Is},Rs=ea({opSnippet:"return float(isnan(x));",dtype:"bool"}),As={kernelName:u.IsNan,backendName:"webgl",kernelFunc:Rs},Os=ta({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:_n,dtype:"bool"}),Ds={kernelName:u.Less,backendName:"webgl",kernelFunc:Os},Fs=ta({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:Rn,dtype:"bool"}),$s={kernelName:u.LessEqual,backendName:"webgl",kernelFunc:Fs};var Ps={kernelName:u.LinSpace,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.num,o=An(r,a,i);return t.makeTensorInfo([o.length],"float32",o)}},Ms=ea({opSnippet:Jr+"\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:On}),Ls={kernelName:u.Log,backendName:"webgl",kernelFunc:Ms},zs=ea({opSnippet:Jr+"\n  return log(1.0 + x);\n"}),Bs={kernelName:u.Log1p,backendName:"webgl",kernelFunc:zs},Vs=ta({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),Us={kernelName:u.LogicalAnd,backendName:"webgl",kernelFunc:Vs},Gs=ea({opSnippet:"return float(!(x >= 1.0));"}),Ws={kernelName:u.LogicalNot,backendName:"webgl",kernelFunc:Gs},js=ta({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),qs={kernelName:u.LogicalOr,backendName:"webgl",kernelFunc:js},Hs=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["x"],this.outputShape=[];var o,s=n,u=t[3]-1;this.outputShape=t;var l=`float(${r}) + float(${a}) * sum`;o=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -${s}; j <= ${s}; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ${u}) {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ${o};\n        setOutput(val);\n      }\n    `})),Ks=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var o,s=n,u=t[3]-1;this.outputShape=t;var l=`float(${r}) + float(${a}) * sum`;o=.5===i?`inversesqrt(${l})`:1===i?`1.0/(${l})`:`exp(log(${l}) * float(-${i}));`,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ${this.outputShape[3]};\n        bool hasNextRow = c < ${this.outputShape[2]};\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ${s};\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ${s}; j <= ${s}; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(${u}));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ${o};\n        setOutput(result);\n      }\n    `})),Xs={kernelName:u.LRN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.depthRadius,o=r.bias,s=r.alpha,l=r.beta,c=(0,u.env)().getBool("WEBGL_PACK_NORMALIZATION")?new Ks(a.shape,i,o,s,l):new Hs(a.shape,i,o,s,l);return n.runWebGLProgram(c,[a],a.dtype)}},Ys=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=i,this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ${this.depth}; ++d) {\n          int depthBegin = int(max(0.0, float(d - ${n})));\n          int depthEnd = int(min(float(${this.depth}),\n              float(d + ${n} + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ${this.depth};\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(${a}) * norm + float(${r});\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(${a})\n                * float(${i})\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ${i});\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    `})),Zs={kernelName:u.LRNGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.y,o=t.dy,s=r.depthRadius,u=r.bias,l=r.alpha,c=r.beta,d=new Ys(a.shape,s,u,l,c);return n.runWebGLProgram(d,[a,i,o],a.dtype)}};function Qs(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reductionIndices,o=r.keepDims,s=a.shape.length,c=u.util.parseAxisParam(i,a.shape),d=c,f=u.backend_util.getAxesPermutation(d,s),p=null!=f,h=n.shouldExecuteOnCPU([a]),m=a;if(p){if(h){for(var v=n.texData.get(m.dataId).values,g=new Array(s),y=0;y<g.length;y++)g[y]=a.shape[f[y]];var b=ar(v,a.shape,a.dtype,f,g);m=n.makeTensorInfo(g,a.dtype),n.texData.get(m.dataId).values=b}else m=va(a,f,n);d=u.backend_util.getInnerMostAxes(d.length,s)}u.backend_util.assertAxesAreInnerMostDims("max",d,s);var k,w=u.backend_util.computeOutAndReduceShapes(m.shape,d),x=(0,l.default)(w,2),S=x[0],T=x[1],E=S;if(o&&(E=u.backend_util.expandShapeToKeepDim(S,c)),h){v=n.texData.get(m.dataId).values;var C=Dn(v,u.util.sizeFromShape(T),E,a.dtype);k=n.makeTensorInfo(E,a.dtype),n.texData.get(k.dataId).values=C}else k=function(e,t,n,r){var a=u.util.sizeFromShape(t),i=la({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/a,a]},backend:r}),o=pa(i,e.dtype,"max",r),s=la({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),s}(m,T,E,n);return p&&n.disposeIntermediateTensorInfo(m),k}var Js={kernelName:u.Max,backendName:"webgl",kernelFunc:Qs},eu=ta({opSnippet:zr+"\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+Vr+"\n  return result;\n",cpuKernelImpl:Fn}),tu={kernelName:u.Maximum,backendName:"webgl",kernelFunc:eu};var nu={kernelName:u.MaxPool,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Se(a,"maxPool");var i=r.filterSize,o=r.strides,s=r.pad,l=r.dimRoundingMode;u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,1),(function(){return`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '1'`}));var c=u.backend_util.computePool2DInfo(a.shape,i,o,1,s,l);if(1===c.filterWidth&&1===c.filterHeight&&u.util.arraysEqual(c.inShape,c.outShape))return Gr({inputs:{x:a},backend:n});var d=new ti(c,"max",!1);return n.runWebGLProgram(d,[a],a.dtype)}};var ru={kernelName:u.MaxPool3D,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.filterSize,o=r.strides,s=r.pad,l=r.dataFormat,c=r.dimRoundingMode,d=u.backend_util.computePool3DInfo(a.shape,i,o,[1,1,1],s,c,l),f=new ni(d,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}},au=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,i=t.effectiveFilterHeight,o=t.effectiveFilterWidth,s=i-1-t.padInfo.top,u=o-1-t.padInfo.left,l=i*o-1;this.userCode=`\n      const ivec2 pads = ivec2(${s}, ${u});\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ${i};\n          wR += ${a}) {\n          float dyR = float(dyRCorner + wR) / ${n}.0;\n\n          if (dyR < 0.0 || dyR >= ${t.outHeight}.0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ${o}; wC++) {\n            float dyC = float(dyCCorner + wC) / ${r}.0;\n\n            if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ${l} - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ${o} + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    `})),iu=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,o=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,l=t.effectiveFilterHeight,c=t.effectiveFilterWidth,d=u-1-t.padInfo.front,p=l-1-t.padInfo.top,h=c-1-t.padInfo.left,m=u*l*c-1;this.userCode=`\n      const ivec3 pads = ivec3(${d}, ${p}, ${h});\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ${u};\n           wD += ${i}) {\n          float dyD = float(dyDCorner + wD) / ${n}.0;\n\n          if (dyD < 0.0 || dyD >= ${t.outDepth}.0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ${l};\n              wR += ${o}) {\n            float dyR = float(dyRCorner + wR) / ${r}.0;\n\n            if (dyR < 0.0 || dyR >= ${t.outHeight}.0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ${c};\n                wC += ${s}) {\n              float dyC = float(dyCCorner + wC) / ${a}.0;\n\n              if (dyC < 0.0 || dyC >= ${t.outWidth}.0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ${m} -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ${l} * ${c} +\n                  wR * ${c} + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    `}));var ou={kernelName:u.MaxPool3DGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=r.filterSize,s=r.strides,l=r.pad,c=r.dimRoundingMode,d=u.backend_util.computePool3DInfo(i.shape,o,s,[1,1,1],l,c),f=new ni(d,"max",!0),p=n.runWebGLProgram(f,[i],i.dtype),h=new iu(d),m=n.runWebGLProgram(h,[a,p],i.dtype);return n.disposeIntermediateTensorInfo(p),m}};var su={kernelName:u.MaxPoolGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,i=t.input,o=i;Se([i,t.output],"maxPoolGrad");var s=r.filterSize,l=r.strides,c=r.pad,d=r.dimRoundingMode,f=u.backend_util.computePool2DInfo(o.shape,s,l,1,c,d),p=new ti(f,"max",!0),h=n.runWebGLProgram(p,[o],o.dtype),m=new au(f),v=n.runWebGLProgram(m,[a,h],o.dtype);return n.disposeIntermediateTensorInfo(h),v}};var uu={kernelName:u.MaxPoolWithArgmax,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.filterSize,o=n.strides,s=n.pad,c=n.includeBatchInIndex,d=r;u.util.assert(4===a.shape.length,(function(){return`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`}));var f=[1,1];u.util.assert(u.backend_util.eitherStridesOrDilationsAreOne(o,f),(function(){return`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${f}'`}));var p=u.backend_util.computePool2DInfo(a.shape,i,o,f,s),h=function(e,t,n,r){var a=new ti(n,"max",!1),i=r.runWebGLProgram(a,[e],"float32");return a=new ti(n,"max",!0,!0,t),[i,r.runWebGLProgram(a,[e],"float32")]}(a,c,p,d),m=(0,l.default)(h,2);return[m[0],m[1]]}};var lu={kernelName:u.Mean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=n.keepDims,o=n.axis,s=r,c=a.shape.length,d=u.util.parseAxisParam(o,a.shape),f=d,p=u.backend_util.getAxesPermutation(f,c),h=null!=p,m=s.shouldExecuteOnCPU([a]),v=[],g=a;if(h){if(m){for(var y=s.texData.get(g.dataId).values,b=new Array(c),k=0;k<b.length;k++)b[k]=a.shape[p[k]];var w=ar(y,a.shape,a.dtype,p,b);g=s.makeTensorInfo(b,a.dtype),s.texData.get(g.dataId).values=w}else g=va(a,p,s);v.push(g),f=u.backend_util.getInnerMostAxes(f.length,c)}u.backend_util.assertAxesAreInnerMostDims("sum",f,c);var x=u.backend_util.computeOutAndReduceShapes(g.shape,f),S=(0,l.default)(x,2),T=S[0],E=S[1],C=T;i&&(C=u.backend_util.expandShapeToKeepDim(T,d));var N=function(e,t,n,r){var a=u.util.sizeFromShape(t),i=la({inputs:{x:e},attrs:{shape:[u.util.sizeFromShape(e.shape)/a,a]},backend:r}),o=pa(i,"float32","mean",r),s=la({inputs:{x:o},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),s}(g,E,C,s);for(var k of v)s.disposeIntermediateTensorInfo(k);return N}};var cu={kernelName:u.Min,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.axis,o=r.keepDims,s=a.shape.length,c=u.util.parseAxisParam(i,a.shape),d=c,f=u.backend_util.getAxesPermutation(d,s),p=a;null!=f&&(p=ba({inputs:{x:a},backend:n,attrs:{perm:f}}),d=u.backend_util.getInnerMostAxes(d.length,a.shape.length)),u.backend_util.assertAxesAreInnerMostDims("min",d,s);var h,m=u.backend_util.computeOutAndReduceShapes(p.shape,d),v=(0,l.default)(m,2),g=v[0],y=v[1],b=la({inputs:{x:p},backend:n,attrs:{shape:[-1,u.util.sizeFromShape(y)]}}),k=pa(b,b.dtype,"min",n);return h=la(o?{inputs:{x:k},backend:n,attrs:{shape:u.backend_util.expandShapeToKeepDim(g,c)}}:{inputs:{x:k},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(k),null!=f&&n.disposeIntermediateTensorInfo(p),h}},du=ta({opSnippet:zr+"\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  "+Vr+"\n  return result;\n",cpuKernelImpl:$n}),fu={kernelName:u.Minimum,backendName:"webgl",kernelFunc:du},pu=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Ue(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),l="reflect"===r?0:1;this.userCode=1!==a?`\n      ${i} start = ${i}(${o});\n      ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outC = getOutputCoords();\n        for (int i = 0; i < ${a}; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ${l};\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ${l};\n          }\n        }\n        ${i} coords = outC - start;\n        setOutput(getX(${u}));\n      }\n    `:`\n        int start = ${o};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ${l};\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ${l};\n          }\n          setOutput(getX(outC - start));\n        }\n      `})),hu=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Ue(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=sr("rc",a),l=sr("source",a),c=`${u[a-1]} < ${this.outputShape[a-1]}`,d=1===a?"source":`vec2(${l.slice(-2).join()})`,p="reflect"===r?0:1,h="";if(1===a){var m=`\n        ${i} source = rc;\n        if (source < start) {\n          source = start * 2 - source - ${p};\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ${p};\n        }\n        source -= start;\n      `;h=`\n        ${i} rc = outputLoc;\n        ${m}\n        result[0] = getChannel(getX(${l.join()}), ${d});\n        ${u[a-1]} += 1;\n        if(${c}) {\n          ${m}\n          result[1] = getChannel(getX(${l.join()}), ${d});\n        }\n      `}else{var v=`\n        ${i} source = rc;\n        ${i} lt = ${i}(lessThan(source, start));\n        ${i} gte = ${i}(greaterThanEqual(source, end));\n        ${i} orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ${p}) +\n                gte * ((end - 1) * 2 - source + ${p});\n        source -= start;\n      `;h=`\n        ${i} rc = outputLoc;\n        ${v}\n        result[0] = getChannel(getX(${l.join()}), ${d});\n        ${u[a-1]} += 1;\n        if(${c}) {\n          ${v}\n          result[1] = getChannel(getX(${l.join()}), ${d});\n        }\n        rc = outputLoc;\n        ${u[a-2]} += 1;\n        if(${u[a-2]} < ${this.outputShape[a-2]}) {\n          ${v}\n          result[2] = getChannel(getX(${l.join()}), ${d});\n          ${u[a-1]} += 1;\n          if(${c}) {\n            ${v}\n            result[3] = getChannel(getX(${l.join()}), ${d});\n          }\n        }\n      `}this.userCode=`\n      const ${i} start = ${i}(${o});\n      const ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${h}\n        setOutput(result);\n      }\n    `})),mu={kernelName:u.MirrorPad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.mode,s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new hu(a.shape,i,o):new pu(a.shape,i,o);return n.runWebGLProgram(s,[a],a.dtype)}},vu=ta({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  "+Vr+"\n  return result;\n"}),gu={kernelName:u.Mod,backendName:"webgl",kernelFunc:vu},yu=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ${n-1}; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(${n-1}));\n      }\n    `})),bu=ta({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),ku={kernelName:u.RealDiv,backendName:"webgl",kernelFunc:bu},wu="return a - b;",xu=ta({opSnippet:wu,packedOpSnippet:wu,supportsComplex:!0,cpuKernelImpl:tr}),Su={kernelName:u.Sub,backendName:"webgl",kernelFunc:xu};function Tu(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.dim,o=u.util.parseAxisParam([i],a.shape),s=Qs({inputs:{x:a},backend:n,attrs:{reductionIndices:o,keepDims:!1}}),l=u.backend_util.expandShapeToKeepDim(s.shape,o),c=la({inputs:{x:s},backend:n,attrs:{shape:l}}),d=xu({inputs:{a:a,b:c},backend:n}),f=Go({inputs:{x:d},backend:n}),p=ga({inputs:{x:f},backend:n,attrs:{axis:o,keepDims:!1}}),h=la({inputs:{x:p},backend:n,attrs:{shape:l}}),m=bu({inputs:{a:f,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),m}var Eu={kernelName:u.Softmax,backendName:"webgl",kernelFunc:Tu};var Cu={kernelName:u.Multinomial,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,i=r.numSamples,o=r.seed,s=r.normalized,u=s?a:Tu({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),l=u.shape[0],c=u.shape[1],d=new yu(l,c,i),f=[[o]],p=n.runWebGLProgram(d,[u],"int32",f);return s||n.disposeIntermediateTensorInfo(u),p}},Nu=mr+"\n  return -x;\n";var Iu={kernelName:u.Neg,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var i=r.texData.get(a.dataId),o=Mn(i.values,a.shape,a.dtype),s=(0,l.default)(o,2),c=s[0],d=s[1];return r.makeTensorInfo(d,a.dtype,c)}return t=(0,u.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new Ir(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new hr(a.shape,Nu),r.runWebGLProgram(t,[a],a.dtype)}},_u=u.kernel_impls.nonMaxSuppressionV3Impl;var Ru={kernelName:u.NonMaxSuppressionV3,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,c=n.readSync(a.dataId),d=n.readSync(i.dataId),f=_u(c,d,o,s,l).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},Au=u.kernel_impls.nonMaxSuppressionV4Impl;var Ou={kernelName:u.NonMaxSuppressionV4,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,c=r.padToMaxOutputSize,d=n.readSync(a.dataId),f=n.readSync(i.dataId),p=Au(d,f,o,s,l,c),h=p.selectedIndices,m=p.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}},Du=u.kernel_impls.nonMaxSuppressionV5Impl;var Fu={kernelName:u.NonMaxSuppressionV5,backendName:"webgl",kernelFunc:function(e){u.backend_util.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,i=t.scores,o=r.maxOutputSize,s=r.iouThreshold,l=r.scoreThreshold,c=r.softNmsSigma,d=n.readSync(a.dataId),f=n.readSync(i.dataId),p=Du(d,f,o,s,l,c),h=p.selectedIndices,m=p.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([m.length],"float32",new Float32Array(m))]}},$u=(0,p.default)((function e(t,n,r,a){(0,f.default)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode=`\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(${a}), float(${r}),\n                      float(index == coords.y)));\n      }\n    `})),Pu={kernelName:u.OneHot,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=r.dtype,o=r.depth,s=r.onValue,l=r.offValue,d=u.util.sizeFromShape(a.shape),f=new $u(d,o,s,l),p=la({inputs:{x:a},backend:n,attrs:{shape:[d]}}),h=n.runWebGLProgram(f,[p],i);n.disposeIntermediateTensorInfo(p);var m=la({inputs:{x:h},backend:n,attrs:{shape:[].concat((0,c.default)(a.shape),[o])}});return n.disposeIntermediateTensorInfo(h),m}};function Mu(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=Si({inputs:{input:r},backend:n}),i=Mu({inputs:{x:a},backend:n}),o=zi({inputs:{input:r},backend:n}),s=Mu({inputs:{x:o},backend:n}),u=jr({inputs:{real:i,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(s),u}return es({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var Lu={kernelName:u.ZerosLike,backendName:"webgl",kernelFunc:Mu};var zu={kernelName:u.OnesLike,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var i=Si({inputs:{input:a},backend:r}),o=e({inputs:{x:i},backend:r}),s=zi({inputs:{input:a},backend:r}),u=Mu({inputs:{x:s},backend:r}),l=jr({inputs:{real:o,imag:u},backend:r});return r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),l}return es({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var Bu={kernelName:u.Pack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return jo({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,i=t[0].dtype;t.forEach((function(e){u.util.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),u.util.assert(i===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var o=[],s=Ui({inputs:t.map((function(e){var t=jo({inputs:{input:e},backend:n,attrs:{dim:r}});return o.push(t),t})),backend:n,attrs:{axis:r}});return o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},Vu=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,i=Ue(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?`\n      ${i} start = ${i}(${o});\n      ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ${i} coords = outC - start;\n          setOutput(getX(${u}));\n        }\n      }\n    `:`\n        int start = ${o};\n        int end = ${s};\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      `})),Uu=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,i=Ue(a),o=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=sr("rc",a),l=sr("source",a),c=`${u[a-1]} < ${this.outputShape[a-1]}`,d=1===a?"source":`vec2(${l.slice(-2).join()})`,p=[`${i} rc = outputLoc;`,`${u[a-1]} += 1;\n       if(${c}) {\n      `,1===a?"":`}\n       rc = outputLoc;\n       ${u[a-2]} += 1;\n       if(${u[a-2]} < ${this.outputShape[a-2]}) {`,1===a?"":`  ${u[a-1]} += 1;\n         if(${c}) {`],h=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",m="",v=0,g=1===a?2:4;v<g;v++)m+=`\n        ${p[v]}\n        if (${h}) {\n          result[${v}] = float(value);\n        } else {\n          ${i} source = rc - start;\n          result[${v}] = getChannel(getX(${l.join()}), ${d});\n        }\n      `;m+=1===a?"} ":"}}",this.userCode=`\n      const ${i} start = ${i}(${o});\n      const ${i} end = ${i}(${s});\n\n      void main() {\n        ${i} outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ${m}\n        setOutput(result);\n      }\n    `})),Gu=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.paddings,o=r.constantValue;if(0===u.util.sizeFromShape(a.shape))return es({backend:n,attrs:{shape:i.map((function(e,t){return e[0]+a.shape[t]+e[1]})),value:o,dtype:a.dtype}});var s=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new Uu(a.shape,i,o):new Vu(a.shape,i,o),l=[[o]];return n.runWebGLProgram(s,[a],a.dtype,l)},Wu={kernelName:u.PadV2,backendName:"webgl",kernelFunc:Gu},ju=ta({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  "+Vr+"\n  return result;\n"}),qu={kernelName:u.Pow,backendName:"webgl",kernelFunc:ju};var Hu={kernelName:u.Prod,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.axis,s=a.keepDims,c=i.shape.length,d=[],f=u.util.parseAxisParam(o,i.shape),p=f,h=u.backend_util.getAxesPermutation(p,c),m=i;if(null!=h&&(m=ba({inputs:{x:i},backend:r,attrs:{perm:h}}),p=u.backend_util.getInnerMostAxes(p.length,c),d.push(m)),u.backend_util.assertAxesAreInnerMostDims("prod",p,c),r.shouldExecuteOnCPU([m])){var v=r.texData.get(m.dataId).values,g=zn(m.shape,m.dtype,v,p),y=g.outVals,b=g.outShape,k=g.outDtype;t=r.makeTensorInfo(b,k,y)}else{var w=u.backend_util.computeOutAndReduceShapes(m.shape,p),x=(0,l.default)(w,2),S=x[0],T=x[1],E=u.util.sizeFromShape(T),C=la({inputs:{x:m},backend:r,attrs:{shape:[-1,E]}}),N=pa(C,(0,u.sumOutType)(i.dtype),"prod",r);t=la({inputs:{x:N},backend:r,attrs:{shape:S}}),d.push(C),d.push(N)}if(s){d.push(t);var I=u.backend_util.expandShapeToKeepDim(t.shape,f);t=la({inputs:{x:t},backend:r,attrs:{shape:I}})}return d.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}};var Ku={kernelName:u.RaggedTensorToTensor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.shape,i=t.values,o=t.defaultValue,s=t.rowPartitionTensors,u=r.rowPartitionTypes,c=n.readSync(a.dataId),d=n.readSync(i.dataId),f=n.readSync(o.dataId),p=s.map((function(e){return n.readSync(e.dataId)})),h=s.map((function(e){return e.shape})),m=Bn(c,a.shape,d,i.shape,i.dtype,f,o.shape,p,h,u),v=(0,l.default)(m,2),g=v[0],y=v[1];return n.makeTensorInfo(g,i.dtype,y)}},Xu=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,i=n.step,o=n.dtype,s=Vn(r,a,i,o);return t.makeTensorInfo([s.length],o,s)},Yu={kernelName:u.Range,backendName:"webgl",kernelFunc:Xu},Zu=ea({opSnippet:"return 1.0 / x;"}),Qu={kernelName:u.Reciprocal,backendName:"webgl",kernelFunc:Zu},Ju=ea({opSnippet:mr+"\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),el={kernelName:u.Relu,backendName:"webgl",kernelFunc:Ju},tl=ea({opSnippet:mr+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),nl={kernelName:u.Relu6,backendName:"webgl",kernelFunc:tl},rl=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,l.default)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var p,h=[a&&n>1?u-1:u,a&&r>1?c-1:c],m=[a&&n>1?n-1:n,a&&r>1?r-1:r];p=i?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${h[0]/m[0]},\n          ${h[1]/m[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${c}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    `})),al=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,l.default)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var p,h=[a&&n>1?u-1:u,a&&r>1?c-1:c],m=[a&&n>1?n-1:n,a&&r>1?r-1:r];p=i?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${h[0]/m[0]},\n          ${h[1]/m[1]},\n          ${h[1]/m[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${c}.0,\n                                     ${c}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${d-1};\n        bool hasNextRow = coords.z < ${r-1};\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    `}));var il={kernelName:u.ResizeBilinear,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,o=r.halfPixelCenters,s=r.size,c=(0,l.default)(s,2),d=c[0],f=c[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new al(a.shape,d,f,i,o):new rl(a.shape,d,f,i,o);return n.runWebGLProgram(p,[a],"float32")}},ol=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,l.default)(n,3),i=a[1],o=a[2],s=(0,l.default)(t,3),u=s[1],c=s[2],d=[r&&u>1?i-1:i,r&&c>1?o-1:o],p=[r&&u>1?u-1:u,r&&c>1?c-1:c],h=d[0]/p[0],m=d[1]/p[1],v=1/h,g=1/m,y=2*Math.ceil(v)+2,b=2*Math.ceil(g)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${h});\n        const float widthScale = float(${m});\n\n        const float invHeightScale = float(${v});\n        const float invWidthScale = float(${g});\n\n        const int winHeight = int(${y});\n        const int winWidth = int(${b});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${u}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${c}) {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ${i-1}.0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ${o-1}.0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}));var sl={kernelName:u.ResizeBilinearGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new ol(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},ul=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["A"],this.outputShape=[];var o=(0,l.default)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var p,h=[a&&n>1?u-1:u,a&&r>1?c-1:c],m=[a&&n>1?n-1:n,a&&r>1?r-1:r],v=a?"0.5":"0.0";p=i?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ${h[0]/m[0]},\n          ${h[1]/m[1]});\n      const vec2 inputShapeRC = vec2(${u}.0, ${c}.0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${v})));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    `})),ll=(0,p.default)((function e(t,n,r,a,i){(0,f.default)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=(0,l.default)(t,4),s=o[0],u=o[1],c=o[2],d=o[3];this.outputShape=[s,n,r,d];var p,h=[a&&n>1?u-1:u,a&&r>1?c-1:c],m=[a&&n>1?n-1:n,a&&r>1?r-1:r],v=a?"0.5":"0.0";p=i?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode=`\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ${h[0]/m[0]},\n          ${h[1]/m[1]},\n          ${h[1]/m[1]});\n      const vec3 inputShapeRC = vec3(${u}.0, ${c}.0,\n                                     ${c}.0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ${p};\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ${v})));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ${d-1};\n        bool hasNextRow = coords.z < ${r-1};\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    `}));var cl={kernelName:u.ResizeNearestNeighbor,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=r.alignCorners,o=r.halfPixelCenters,s=r.size,c=(0,l.default)(s,2),d=c[0],f=c[1],p=(0,u.env)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new ll(a.shape,d,f,i,o):new ul(a.shape,d,f,i,o);return n.runWebGLProgram(p,[a],a.dtype)}},dl=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,l.default)(n,3),i=a[1],o=a[2],s=(0,l.default)(t,3),u=s[1],c=s[2],d=[r&&u>1?i-1:i,r&&c>1?o-1:o],p=[r&&u>1?u-1:u,r&&c>1?c-1:c],h=d[0]/p[0],m=d[1]/p[1],v=1/h,g=1/m,y=2*Math.ceil(v)+2,b=2*Math.ceil(g)+2;this.userCode=`\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(${h});\n        const float widthScale = float(${m});\n\n        const float invHeightScale = float(${v});\n        const float invWidthScale = float(${g});\n\n        const int winHeight = int(${y});\n        const int winWidth = int(${b});\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ${u}) {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ${c}) {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(${d[0]}) *\n                (float(dyR) / float(${p[0]}));\n\n            float sourceFracCol =\n                float(${d[1]}) *\n                  (float(dyC) / float(${p[1]}));\n\n            int sourceNearestRow = int(min(\n                float(int(${i}) - 1),\n                ${r} ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(${o}) - 1),\n                ${r} ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    `}));var fl={kernelName:u.ResizeNearestNeighborGrad,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,i=t.dy,o=r.alignCorners,s=new dl(i.shape,a.shape,o);return n.runWebGLProgram(s,[i],i.dtype)}},pl=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?`${t[e]} - coords[${e}] - 1`:`coords[${e}]`}(r)})).join(","),i=Ue(r);this.userCode=`\n      void main() {\n        ${i} coords = getOutputCoords();\n        setOutput(getX(${a}));\n      }\n    `}else this.userCode=`\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(${t[0]} - coord - 1));\n        }\n      `})),hl=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error(`WebGL backend: Reverse of rank-${r} tensor is not yet supported`);this.outputShape=t;var a=sr("rc",r),i=`${a[r-1]} + 1 < ${this.outputShape[r-1]}`,o=`${a[r-2]} + 1 < ${this.outputShape[r-2]}`,s=Ue(r);function u(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?`${t[e]} - ${r[e]} - 1`:`${r[e]}`}(a,e)}));return`getChannel(getX(${r.join(",")}), vec2(${r.slice(-2).join(",")}))`}this.userCode=1===r?`\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(${t[0]} - rc - 1),\n            ${t[0]} - rc - 1);\n          if(${i}){\n              result.g = getChannel(getX(${t[0]} - (rc  + 1) - 1),\n                ${t[0]} - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      `:`\n        void main() {\n          ${s} rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ${function(e){return u(e)}(a.slice())};\n          if(${i}){\n            result.g = ${function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(a.slice())};\n          }\n          if(${o}) {\n            result.b = ${function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice())};\n            if(${i}) {\n              result.a = ${function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice())};\n            }\n          }\n          setOutput(result);\n        }\n    `}));var ml={kernelName:u.Reverse,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.dims,o=a.shape.length,s=u.util.parseAxisParam(i,a.shape);if(0===o)return Gr({inputs:{x:a},backend:n});var l=(0,u.env)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new hl(a.shape,s):new pl(a.shape,s);return n.runWebGLProgram(l,[a],a.dtype)}},vl=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var i="";i="number"===typeof n?`float outputValue = ${n.toFixed(2)};`:`\n        vec3 fill = vec3(${n.join(",")});\n        float outputValue = fill[coords[3]];`,this.userCode=`\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ${i}\n          if(coordX >= 0 && coordX < ${a} && coordY >= 0 && coordY < ${r}) {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    `})),gl={kernelName:u.RotateWithOffset,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,i=n.radians,o=n.fillValue,s=n.center,c=r,d=new vl(a.shape,o),f=u.backend_util.getImageCenter(s,a.shape[1],a.shape[2]),p=(0,l.default)(f,2),h=[[p[0],p[1],Math.sin(i),Math.cos(i)]];return c.runWebGLProgram(d,[a],a.dtype,h)}},yl=ea({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),bl={kernelName:u.Round,backendName:"webgl",kernelFunc:yl},kl=ea({opSnippet:"return inversesqrt(x);",cpuKernelImpl:Un}),wl={kernelName:u.Rsqrt,backendName:"webgl",kernelFunc:kl},xl=(0,p.default)((function e(t,n,r,a,i,o){(0,f.default)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=o;var s=Ue(i.length),u=Ue(o.length),l="";1===r?l="i":2===r&&(l="i, j");var c=`getIndices(${l})`,d="";1===a?d="i":2===a&&(d="i, coords[1]");var p=`getUpdates(${d})`,h=n>1?"strides[j]":"strides";this.userCode=`\n        ${s} strides = ${s}(${i});\n\n        void main() {\n          ${u} coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ${t}; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ${n}; j++) {\n              int index = round(${c});\n              flattenedIndex += index * ${h};\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ${p};\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      `}));var Sl={kernelName:u.ScatterNd,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,i=t.updates,o=r.shape,s=u.backend_util.calculateShapes(i,a,o),l=s.sliceRank,c=s.numUpdates,d=s.sliceSize,f=s.strides,p=s.outputSize,h=[p/d,d];if(0===p)return n.makeTensorInfo(o,a.dtype);var m=la({inputs:{x:a},backend:n,attrs:{shape:[c,l]}}),v=la({inputs:{x:i},backend:n,attrs:{shape:[c,d]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),y=new xl(c,l,m.shape.length,v.shape.length,f,h),b=n.runWebGLProgram(y,[v,m,g],v.dtype),k=la({inputs:{x:b},backend:n,attrs:{shape:o}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(g),k}},Tl=(0,p.default)((function e(t,n,r,a){(0,f.default)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var i=`for (int i = 0; i < ${Math.ceil(Math.log2(n+1))}; ++i) { if (left >= right) break;`,o=2===(0,u.env)().getNumber("WEBGL_VERSION")?"while (left < right) {":i,s="left"===a?"<":"<=";this.userCode=`\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ${o}\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ${s} value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     `}));var El={kernelName:u.SearchSorted,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,i=t.values,o=r.side,s=new Tl(a.shape[0],a.shape[1],i.shape[1],o),u=[[a.shape[1]]];return n.runWebGLProgram(s,[a,i],"int32",u)}},Cl=(0,p.default)((function e(t,n,r){var a,i;if((0,f.default)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error(`Where for rank ${r} is not yet supported`);if(1===r)i="resRC",a="resRC";else{for(var o=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],l=0;l<n.length;l++)u.push(`${o[l]}`),l<t&&s.push(`${o[l]}`);a=s.join(),i=u.join()}var c=Ue(r);this.userCode=`\n      void main() {\n        ${c} resRC = getOutputCoords();\n        float cVal = getC(${a});\n        if (cVal >= 1.0) {\n          setOutput(getA(${i}));\n        } else {\n          setOutput(getB(${i}));\n        }\n      }\n    `}));var Nl={kernelName:u.Select,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,i=t.e,o=new Cl(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(o,[r,a,i],(0,u.upcastType)(a.dtype,i.dtype))}},Il=ea({opSnippet:`\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ${u.backend_util.SELU_SCALEALPHA};\n  float scale = ${u.backend_util.SELU_SCALE};\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n`}),_l={kernelName:u.Selu,backendName:"webgl",kernelFunc:Il},Rl=ea({opSnippet:Jr+"\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Wn}),Al={kernelName:u.Sigmoid,backendName:"webgl",kernelFunc:Rl},Ol=ea({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),Dl={kernelName:u.Sign,backendName:"webgl",kernelFunc:Ol},Fl=ea({opSnippet:Jr+"\n  return sin(x);\n"}),$l={kernelName:u.Sin,backendName:"webgl",kernelFunc:Fl},Pl=ea({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),Ml={kernelName:u.Sinh,backendName:"webgl",kernelFunc:Pl},Ll=ea({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),zl={kernelName:u.Softplus,backendName:"webgl",kernelFunc:Ll},Bl={kernelName:u.SpaceToBatchND,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.blockShape,o=r.paddings;u.util.assert(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=i.reduce((function(e,t){return e*t})),l=[[0,0]];l.push.apply(l,(0,c.default)(o));for(var d=1+i.length;d<a.shape.length;++d)l.push([0,0]);var f=[],p=Gu({inputs:{x:a},backend:n,attrs:{paddings:l,constantValue:0}}),h=u.backend_util.getReshaped(p.shape,i,s,!1),m=u.backend_util.getPermuted(h.length,i.length,!1),v=u.backend_util.getReshapedPermuted(p.shape,i,s,!1),g=la({inputs:{x:p},backend:n,attrs:{shape:h}}),y=ba({inputs:{x:g},backend:n,attrs:{perm:m}}),b=la({inputs:{x:y},backend:n,attrs:{shape:v}});return f.push(p),f.push(g),f.push(y),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}};var Vl={kernelName:u.SparseFillEmptyRows,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,i=t.denseShape,o=t.defaultValue;if(1!==i.shape.length)throw new Error(`Dense shape must be a vector, saw:\n         ${i.shape}`);if(2!==r.shape.length)throw new Error(`Indices must be a matrix, saw:\n         ${r.shape}`);if(1!==a.shape.length)throw new Error(`Values must be a vector, saw:\n         ${a.shape}`);if(0!==o.shape.length)throw new Error(`Default value must be a scalar, saw:\n        ${o.shape}`);var s=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(i.dataId),d=n.readSync(o.dataId)[0],f=Hn(s,r.shape,r.dtype,u,a.dtype,c,d),p=(0,l.default)(f,5),h=p[0],m=p[1],v=p[2],g=p[3],y=p[4];return[n.makeTensorInfo(m,r.dtype,h),n.makeTensorInfo([m[0]],a.dtype,v),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var Ul={kernelName:u.SparseReshape,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,i=t.newShape;if(2!==r.shape.length)throw new Error(`Input indices should be a matrix but received shape ${r.shape}`);if(1!==a.shape.length)throw new Error(`Input shape should be a vector but received shape ${a.shape}`);if(1!==i.shape.length)throw new Error(`Target shape should be a vector but received shape ${i.shape}`);var o=Array.from(n.readSync(a.dataId)),s=n.readSync(r.dataId),u=Array.from(n.readSync(i.dataId)),c=Kn(s,r.shape,r.dtype,o,u),d=(0,l.default)(c,3),f=d[0],p=d[1],h=d[2];return[n.makeTensorInfo(p,r.dtype,f),n.makeTensorInfo([h.length],i.dtype,new Int32Array(h))]}};var Gl={kernelName:u.SparseSegmentMean,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n              ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n              ${i.shape}`);var o=n.readSync(r.dataId),s=n.readSync(a.dataId),u=n.readSync(i.dataId),c=Xn(o,r.shape,r.dtype,s,u,!0),d=(0,l.default)(c,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var Wl={kernelName:u.SparseSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,i=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error(`Indices should be a vector but received shape\n             ${a.shape}`);if(1!==i.shape.length)throw new Error(`Segment ids should be a vector but received shape\n             ${i.shape}`);var o=n.readSync(r.dataId),s=n.readSync(a.dataId),u=n.readSync(i.dataId),c=Xn(o,r.shape,r.dtype,s,u),d=(0,l.default)(c,2),f=d[0],p=d[1];return n.makeTensorInfo(p,r.dtype,f)}};var jl={kernelName:u.SparseToDense,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,i=t.sparseValues,o=t.defaultValue,s=r.outputShape,l=u.backend_util.calculateShapes(i,a,s),c=l.sliceRank,d=l.numUpdates,f=l.sliceSize,p=l.strides,h=l.outputSize;if("string"===i.dtype){var m=n.bufferSync(a),v=n.bufferSync(i),g=u.util.decodeString(n.readSync(o.dataId)[0]),y=Gn(m,v,s,h,f,d,c,p,g,false);return n.makeTensorInfo(s,y.dtype,y.values)}var b=new xl(d,c,a.shape.length,i.shape.length,p,[h,1],false),k=n.runWebGLProgram(b,[i,a,o],i.dtype),w=la({inputs:{x:k},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(k),w}};var ql={kernelName:u.SplitV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.numOrSizeSplits,o=r.axis,s=u.util.parseAxisParam(o,a.shape)[0],l=u.backend_util.prepareSplitSize(a,i,s),d=a.shape.length,f=new Array(d).fill(0),p=a.shape.slice();return l.map((function(e){var t=(0,c.default)(p);t[s]=e;var r=vi({inputs:{x:a},backend:n,attrs:{begin:f,size:t}});return f[s]+=e,r}))}},Hl="return sqrt(x);",Kl=ea({opSnippet:Hl,packedOpSnippet:Hl,cpuKernelImpl:Yn}),Xl={kernelName:u.Sqrt,backendName:"webgl",kernelFunc:Kl},Yl=ea({opSnippet:"return x * x;"}),Zl={kernelName:u.Square,backendName:"webgl",kernelFunc:Yl},Ql="return (a - b) * (a - b);",Jl=ta({opSnippet:Ql,packedOpSnippet:Ql}),ec={kernelName:u.SquaredDifference,backendName:"webgl",kernelFunc:Jl};var tc={kernelName:u.Step,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,i=mr+`\n    return x > 0.0 ? 1.0 : float(${n.alpha});\n  `,o=new hr(a.shape,i);return r.runWebGLProgram(o,[a],a.dtype)}},nc=(0,p.default)((function e(t,n,r){(0,f.default)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,i=Ue(r.length),o=Ue(r.length),s="";if(1===a)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?`coords * strides[${t}] + begin[${t}]`:`coords[${u-1}] * strides[${t}] + begin[${t}]`})).join(",")}this.userCode=`\n      ${i} begin = ${i}(${t});\n      ${i} strides = ${i}(${n});\n\n      void main() {\n        ${o} coords = getOutputCoords();\n        setOutput(getX(${s}));\n      }\n    `}));var rc={kernelName:u.StridedSlice,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,i=n.x,o=a.begin,s=a.end,l=a.strides,c=a.beginMask,d=a.endMask,f=a.ellipsisMask,p=a.newAxisMask,h=a.shrinkAxisMask,m=u.slice_util.sliceInfo(i.shape,o,s,l,c,d,f,p,h),v=m.finalShapeSparse,g=m.finalShape,y=m.isIdentity,b=m.sliceDim0,k=m.isSimpleSlice,w=m.begin,x=m.end,S=m.strides;if(y)t=la({inputs:{x:i},backend:r,attrs:{shape:g}});else if(b||k){u.util.assert(i.shape.length>=1,(function(){return`Input must have rank at least 1, got: ${i.shape.length}`}));var T=u.slice_util.computeOutShape(w,x,S),E=vi({inputs:{x:i},backend:r,attrs:{begin:w,size:T}});t=la({inputs:{x:E},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(E)}else{if(r.shouldExecuteOnCPU([i])){var C=r.readSync(i.dataId),N=(0,u.buffer)(i.shape,i.dtype,C),I=Zn(v,N,S,w);t=r.makeTensorInfo(g,i.dtype,I.values)}else{var _=new nc(w,S,v);t=r.runWebGLProgram(_,[i],i.dtype)}}var R=la({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),R}};var ac={kernelName:u.StringNGrams,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,i=r.nGramWidths,o=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,d=t.data,f=t.dataSplits,p=n.readSync(d.dataId),h=n.readSync(f.dataId),m=Qn(p,h,a,i,o,s,u,c),v=(0,l.default)(m,2),g=v[0],y=v[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(f.shape,"int32",y)]}};var ic={kernelName:u.StringSplit,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,i=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error(`Input must be a vector, got shape: ${a.shape}`);if(0!==i.shape.length)throw new Error(`Delimiter must be a scalar, got shape: ${i.shape}`);var o=n.readSync(a.dataId),s=n.readSync(i.dataId)[0],u=Jn(o,s,r),c=(0,l.default)(u,3),d=c[0],f=c[1],p=c[2],h=f.length;return[n.makeTensorInfo([h,2],"int32",d),n.makeTensorInfo([h],"string",f),n.makeTensorInfo([2],"int32",new Int32Array(p))]}};var oc={kernelName:u.StringToHashBucketFast,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var i=n.readSync(a.dataId),o=er(i,r);return n.makeTensorInfo(a.shape,"int32",o)}},sc=ea({opSnippet:"return tan(x);"}),uc={kernelName:u.Tan,backendName:"webgl",kernelFunc:sc},lc=ea({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),cc={kernelName:u.Tanh,backendName:"webgl",kernelFunc:lc},dc=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var i=Ue(this.rank),o=function(e){var t=e.length;if(t>5)throw Error(`Tile for rank ${t} is not yet supported`);if(1===t)return`imod(resRC, ${e[0]})`;for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push(`imod(${n[a]}, ${e[a]})`);return r.join()}(t);this.userCode=`\n      void main() {\n        ${i} resRC = getOutputCoords();\n        setOutput(getA(${o}));\n      }\n    `}));function fc(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.reps;if("string"===a.dtype||a.shape.length>5){var o=n.readSync(a.dataId),s="string"===a.dtype?o.map((function(e){return u.util.decodeString(e)})):o,l=(0,u.buffer)(a.shape,a.dtype,s),c=nr(l,i);return n.makeTensorInfo(c.shape,c.dtype,c.values)}var d=new dc(a.shape,i);return n.runWebGLProgram(d,[a],a.dtype)}var pc={kernelName:u.Tile,backendName:"webgl",kernelFunc:fc},hc=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),mc=(0,p.default)((function e(t){(0,f.default)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function vc(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function gc(e){for(var t=1;t<e;)t*=2;return t}var yc={kernelName:u.TopK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=r.k,o=r.sorted,s=(0,u.env)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),c=(0,u.env)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),d=a.shape,f=d[d.length-1];if(n.shouldExecuteOnCPU([a])||f<s||i>c){var p=n.readSync(a.dataId),h=rr(p,d,a.dtype,i,o),m=(0,l.default)(h,2),v=m[0],g=m[1];return[n.makeTensorInfo(v.shape,v.dtype,v.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===i)return d[d.length-1]=0,[n.makeTensorInfo(d,a.dtype,[]),n.makeTensorInfo(d,"int32",[])];if(1===f)return[a,es({attrs:{shape:d,dtype:"int32",value:0},backend:n})];var y=n.texData.get(a.dataId),b=null!==y&&y.isPacked,k=b?n.unpackTensor(a):a,w=u.util.sizeFromShape(d)/f,x=la({inputs:{x:k},attrs:{shape:[w,f]},backend:n});b&&vc(n,k);for(var S=gc(i),T=gc(f),E=null,C=function(){return null===E?[x,x]:[x,E]},N=function(e,t,r){var a=C(),i=new hc(r),o=[[f],[null===E?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=E;E=n.runWebGLProgram(i,a,"int32",o),vc(n,s)},I=1;I<S;I*=2)for(var _=2*I,R=I;R>=1;R/=2)N(_,R,[w,T]);for(var A=T;A>S;A/=2){var O=C(),D=new mc([w,A/2]),F=[[f],[null===E?1:0],[S]],$=E;E=n.runWebGLProgram(D,O,"int32",F),vc(n,$);for(var P=S/2,M=2*P,L=P;L>=1;L/=2)N(M,L,E.shape)}var z=E;E=vi({inputs:{x:E},backend:n,attrs:{begin:0,size:[w,i]}}),vc(n,z);var B=bs({inputs:{x:x,indices:E},backend:n,attrs:{axis:1,batchDims:1}});vc(n,x);var V=d.slice(0,-1);V.push(i),z=E,E=la({inputs:{x:E},attrs:{shape:V},backend:n}),vc(n,z);var U=B;return B=la({inputs:{x:B},attrs:{shape:V},backend:n}),vc(n,U),[B,E]}},bc=(0,p.default)((function e(t,n,r,a,i,o){(0,f.default)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=o;var s,u="nearest"===r?1:2;switch(a){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode=`\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(${s} == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (${s} == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ${t} && 0 <= coordX && coordX < ${n}) {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(${i});\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(${i});\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(${n}));\n                float mapY = mapCoord(inY, float(${t}));\n\n                if (${u} == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        `}));var kc={kernelName:u.Transform,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,i=t.transforms,o=r.interpolation,s=r.fillMode,u=r.fillValue,c=r.outputShape,d=(0,l.default)(a.shape,4),f=d[0],p=d[1],h=d[2],m=d[3],v=null!=c?c:[p,h],g=(0,l.default)(v,2),y=g[0],b=g[1],k=new bc(p,h,o,s,u,[f,y,b,m]);return n.runWebGLProgram(k,[a,i],"float32")}};var wc={kernelName:u.Unique,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,i=t.x;Se(i,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var o=r.readSync(i.dataId),s=ir(o,a,i.shape,i.dtype),u=s.outputValues,l=s.outputShape,c=s.indices;return[r.makeTensorInfo(l,i.dtype,u),r.makeTensorInfo([c.length],"int32",c)]}};var xc={kernelName:u.Unpack,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,i=r.axis;i<0&&(i+=a.shape.length);for(var o=a,s=o.shape.length,u=a.shape[i],l=new Array(s-1),c=0,d=0;d<s;d++)d!==i&&(l[c++]=o.shape[d]);var f=[],p=new Array(s).fill(0),h=o.shape.slice();h[i]=1;for(var m=new Array(u),v=0;v<m.length;v++){p[i]=v;var g=vi({inputs:{x:o},backend:n,attrs:{begin:p,size:h}}),y=la({inputs:{x:g},backend:n,attrs:{shape:l}});m[v]=y,f.push(g)}return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),m}},Sc=(0,p.default)((function e(t,n){(0,f.default)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,i=t.inSize,o=t.numSegments,s=o*Math.ceil(i/r);this.outputShape=[a,s];var u=4*Math.floor(r/4),l=r%4,c="\n        sumValue += dot(values, segFilter);\n    ",d="";i%r>0&&(d=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return initializationValue;\n        }\n      `);var p="";i%r>0&&(p=`\n        if (inIdx < 0 || inIdx >= ${i}) {\n          return -1.0;\n        }\n      `),this.userCode=`\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        ${d}\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ${p}\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ${o})) * float(${r}));\n        int currentSeg = int(mod(float(outIdx), float(${o})));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ${u}; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ${c}\n        }\n\n        int inIdx = inOffset + ${u};\n        if (${1===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ${c}\n        } else if (${2===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ${c}\n        } else if (${3===l}) {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ${c}\n        }\n        setOutput(sumValue);\n      }\n    `}));var Tc=[Sa,Ea,Na,_a,Oa,$a,Pa,Ma,Ga,Wa,qa,Ka,Ya,Qa,ei,ri,ai,si,ui,li,fi,yi,bi,ki,Ci,_i,Oi,qr,$i,Gi,Zi,no,ro,ao,io,so,lo,fo,ho,bo,ko,wo,So,Co,_o,Ro,Oo,Fo,$o,Mo,Lo,Bo,Uo,Wo,qo,Xo,Qo,ns,as,ss,ls,fs,hs,ms,gs,ks,xs,Ts,Wr,Es,Bi,Ns,_s,As,Xr,Ds,$s,Ps,Ls,Bs,Us,Ws,qs,Xs,Zs,Js,tu,nu,ru,ou,su,uu,lu,cu,fu,mu,gu,Cu,ua,Iu,Ru,Ou,Fu,xi,Pu,zu,Bu,Wu,qu,Qr,Hu,Ku,Yu,Ti,ku,Qu,el,nl,ca,il,sl,cl,fl,ml,gl,bl,wl,Sl,El,Nl,_l,Al,Dl,$l,Ml,gi,Eu,zl,Bl,Vl,Ul,Gl,Wl,jl,ql,Xl,Zl,ec,tc,rc,ac,ic,oc,Su,ya,uc,cc,pc,yc,kc,ka,wc,xc,{kernelName:u.UnsortedSegmentSum,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,i=t.segmentIds,o=r.numSegments,s=a.shape.length,l=[],c=0,d=u.backend_util.getAxesPermutation([c],s),f=a;null!=d&&(f=ba({inputs:{x:a},backend:n,attrs:{perm:d}}),l.push(f),c=u.backend_util.getInnerMostAxes(1,s)[0]);var p=u.backend_util.segment_util.computeOutShape(f.shape,c,o),h=u.util.sizeFromShape([f.shape[c]]),m=la({inputs:{x:f},backend:n,attrs:{shape:[-1,h]}});l.push(m);var v=la({inputs:{x:function e(t,r,a,i,o){var s=t.shape[0],c=t.shape[1],d=u.backend_util.segment_util.segOpComputeOptimalWindowSize(c,o),f=new Sc({windowSize:d,inSize:c,batchSize:s,numSegments:o},r),p=n.compileAndRun(f,[t,a],i);if(l.push(p),p.shape[1]===o)return p;var h=Xu({backend:n,attrs:{start:0,stop:o,step:1,dtype:"float32"}}),m=fc({inputs:{x:h},backend:n,attrs:{reps:[c/d]}});return l.push(h),l.push(m),e(p,r,m,i,o)}(m,"unsortedSegmentSum",i,(0,u.sumOutType)(a.dtype),o)},backend:n,attrs:{shape:p}}),g=v;if(null!=d){l.push(v);var y=u.backend_util.getUndoAxesPermutation(d);g=ba({inputs:{x:g},backend:n,attrs:{perm:y}})}return l.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}},Lu];for(var Ec of Tc)(0,u.registerKernel)(Ec)},1140:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DataStorage:()=>s,EPSILON_FLOAT16:()=>o,EPSILON_FLOAT32:()=>i,KernelBackend:()=>u});var r=n(5671),a=n(3144),i=1e-7,o=1e-4,s=function(){function e(t,n){(0,r.default)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,a.default)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),u=function(){function e(){(0,r.default)(this,e)}return(0,a.default)(e,[{key:"refCount",value:function(e){return l("refCount")}},{key:"incRef",value:function(e){return l("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return l("time")}},{key:"read",value:function(e){return l("read")}},{key:"readSync",value:function(e){return l("readSync")}},{key:"readToGPU",value:function(e,t){return l("readToGPU")}},{key:"numDataIds",value:function(){return l("numDataIds")}},{key:"disposeData",value:function(e,t){return l("disposeData")}},{key:"write",value:function(e,t,n){return l("write")}},{key:"move",value:function(e,t,n,r,a){return l("move")}},{key:"memory",value:function(){return l("memory")}},{key:"floatPrecision",value:function(){return l("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?i:o}},{key:"dispose",value:function(){return l("dispose")}}]),e}();function l(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},4192:(e,t,n)=>{"use strict";n.r(t),n.d(t,{nonMaxSuppressionV3Impl:()=>o,nonMaxSuppressionV4Impl:()=>s,nonMaxSuppressionV5Impl:()=>u});var r=n(2982);function a(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,i=0,o=!1;for(;r<a;){var s=n(t,e[i=r+(a-r>>>1)]);s>0?r=i+1:(a=i,o=!s)}return o?r:-r-1}(e,t,n||i)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,a){return l(e,t,n,r,a,0)}function s(e,t,n,r,a,i){return l(e,t,n,r,a,0,!1,i,!0)}function u(e,t,n,r,a,i){return l(e,t,n,r,a,i,!0)}function l(e,t,n,i,o,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],p=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=[],m=0;m<t.length;m++)t[m]>o&&h.push({score:t[m],boxIndex:m,suppressBeginIndex:0});h.sort(f);for(var v=s>0?-.5/s:0,g=[],y=[];g.length<n&&h.length>0;){var b=h.pop(),k=b.score,w=b.boxIndex,x=b.suppressBeginIndex;if(k<o)break;for(var S=!1,T=g.length-1;T>=x;--T){var E=c(e,w,g[T]);if(E>=i){S=!0;break}if(b.score=b.score*d(i,v,E),b.score<=o)break}b.suppressBeginIndex=g.length,S||(b.score===k?(g.push(w),y.push(b.score)):b.score>o&&a(h,b,f))}var C=g.length,N=n-C;l&&N>0&&(g.push.apply(g,(0,r.default)(new Array(N).fill(0))),y.push.apply(y,(0,r.default)(new Array(N).fill(0))));var I={selectedIndices:g};return u&&(I.selectedScores=y),p&&(I.validOutputs=C),I}function c(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),i=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),l=Math.min(a[0],a[2]),c=Math.min(a[1],a[3]),d=Math.max(a[0],a[2]),f=Math.max(a[1],a[3]),p=(s-i)*(u-o),h=(d-l)*(f-c);if(p<=0||h<=0)return 0;var m=Math.max(i,l),v=Math.max(o,c),g=Math.min(s,d),y=Math.min(u,f),b=Math.max(g-m,0)*Math.max(y-v,0);return b/(p+h-b)}function d(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function f(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},1889:(e,t,n)=>{"use strict";n.r(t),n.d(t,{whereImpl:()=>a});var r=n(8263);function a(e,t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(a);for(var i=(0,r.buffer)(e,"int32"),o=(0,r.buffer)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=i.indexToLoc(n[s]),l=s*e.length;o.values.set(u,l)}return o.toTensor()}},1945:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ENGINE:()=>S,Engine:()=>w,add:()=>T,getOrMakeEngine:()=>x});var r=n(2982),a=n(5861),i=n(5671),o=n(3144),s=n(1140),u=n(4227),l=n(5225),c=n(3416),d=n(7643),f=n(7956),p=n(3227),h=n(7806),m=function(){function e(t,n){(0,i.default)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new v)}return(0,o.default)(e,[{key:"profileKernel",value:function(e,t,n){var r,a,i=function(){r=n()},o=p.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(i);else{for(var s of(i(),r))s.dataSync();a=Promise.resolve({kernelMs:p.now()-o})}if((0,u.env)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var l=function(t){var n=r[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}}(t,n.dtype,e)}))},c=0;c<r.length;c++)l(c);return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((function(e){return e.kernelMs})),extraInfo:a.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,i=e.inputs,o=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,o]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],i,r[2])}))}))}}]),e}();var v=function(){function e(){(0,i.default)(this,e)}return(0,o.default)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,i){var o="number"===typeof r?h.rightPad(`${r}ms`,9):r.error,s=h.rightPad(e,25),u=t.rank,l=t.size,c=h.rightPad(t.shape.toString(),14),d="";for(var f in a){var p=a[f];if(null!=p){var m=p.shape||t.shape,v=m.length;d+=`${f}: ${v}D ${v>0?m:""} `}}console.log(`%c${s}\t%c${o}\t%c${u}D ${c}\t%c${l}\t%c${d}\t%c${i}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();var g=n(3243),y=n(3795);function b(e){return null!=e.kernelName}var k=function(){function e(){(0,i.default)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,o.default)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),w=function(){function e(t){(0,i.default)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new k}return(0,o.default)(e,[{key:"ready",value:function(){var e=(0,a.default)((function*(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((function(){}));if(null==this.backendInstance){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t];if(yield this.initializeBackend(n).success)return void(yield this.setBackend(n))}throw new Error("Could not initialize any backends, all backend initializations failed.")}}));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error(`The highest priority backend '${t}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(f.warn(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=(0,a.default)((function*(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;var t=this.initializeBackend(e),n=t.success;if(!(t.asyncInit?yield n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new m(this.backendInstance),!0}));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;(0,d.getKernelsForBackend)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,d.getKernelsForBackend)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{var r=n.factory();if(!r||r instanceof s.KernelBackend||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,i=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,f.warn(`Initialization of backend ${e} failed`),f.warn(n.stack||n.message)),!1}));return this.pendingBackendInit=i,{success:i,asyncInit:!0}}catch(o){return f.warn(`Initialization of backend ${e} failed`),f.warn(o.stack||o.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,i=r.asyncInit;if(i||a)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),i=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,i),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=S.runKernel(c.Identity,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return S.runKernel(c.Cast,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=(0,d.getKernel)(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var i=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],o=r-t-a-i;if(o>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${o} data ids) after running '${e}'`)}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,i=[],o=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var l=b(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(b(e)){var c=e.kernelName,f=e.inputs,p=e.attrs;null==this.backendName&&this.backend;var m=(0,d.getKernel)(c,this.backendName);h.assert(null!=m,(function(){return`Cannot find registered kernel '${c}' for backend '${a.backendName}'`})),n=function(){var e=a.backend.numDataIds();r=m.kernelFunc({inputs:f,attrs:p,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t);var n=t.map((function(e){return null!=e.rank?e:a.makeTensorFromTensorInfo(e)}));if(o){var s=a.getTensorsForGradient(c,f,n);i=a.saveTensorsForBackwardMode(s)}return n}}else{var v=e.forwardFunc,g=function(e){o&&(i=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return v(a.backend,g)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t),t}}var y,k=e.inputs,w=e.attrs,x=b(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(y=a.profiler.profileKernel(l,k,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(y),t=y.outputs):t=n()})),o&&this.addTapeNode(l,k,t,x,i,w),this.state.profiling&&this.state.activeProfile.kernels.push({name:l,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(k).map((function(e){return null!=k[e]?k[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=(0,d.getGradient)(e);if(null!=r){var a,i=r.inputsToSave||[],o=r.outputsToSave||[];r.saveAllInputs?(h.assert(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=i.map((function(e){return t[e]}));var s=n.filter((function(e,t){return o[t]}));return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&h.isString(e[0])&&(a=e.map((function(e){return p.encodeString(e)})));var i=r.write(a,t,n),o=new g.Tensor(t,n,i,this.nextTensorId());if(this.trackTensor(o,r),"string"===n){var s=this.state.tensorInfo.get(i),u=(0,h.bytesFromStringArray)(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return o}},{key:"makeTensorFromDataId",value:function(e,t,n,r){var a={dataId:e,shape:t,dtype:n=n||"float32"};return this.makeTensorFromTensorInfo(a,r)}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,a=e.dtype,i=new g.Tensor(r,a,n,this.nextTensorId());return this.trackTensor(i,t),i}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new g.Variable(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error(`Variable with name ${a.name} was already registered`);return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*h.bytesPerElement(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof g.Variable||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*h.bytesPerElement(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=(0,a.default)((function*(e){this.state.profiling=!0;var t=this.state.numBytes,n=this.state.numTensors;for(var a of(this.state.activeProfile.kernels=[],this.state.activeProfile.result=yield e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,r.default)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,this.state.activeProfile.kernels))a.kernelTimeMs=yield a.kernelTimeMs,a.extraInfo=yield a.extraInfo;return this.state.activeProfile}));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,i){var o=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=(0,d.getGradient)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=h.makeZerosTypedArray(r.size,r.dtype);return o.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,i)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=(0,y.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var i=this.state.activeScope.track[a];i.kept||r.has(i.id)||i.dispose()}var o=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==o.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(h.assert(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);var i=this.scopedRun((function(){return r.startTape()}),(function(){return r.endTape()}),(function(){return r.tidy("forward",e)}));h.assert(i instanceof g.Tensor,(function(){return"The result y returned by f() must be a tensor."}));var o=function(e,t,n){for(var r={},a={},i=0;i<t.length;i++)r[t[i].id]=!0;for(var o=0;o<e.length;o++){var s=e[o],u=s.inputs;for(var l in u){for(var c=u[l],d=!1,f=0;f<t.length;f++)if(r[c.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),d=!0,a[s.id]=!0;break}if(d)break}}var p={};p[n.id]=!0;for(var h={},m=e.length-1;m>=0;m--)for(var v=e[m],g=v.inputs,y=0;y<v.outputs.length;y++)if(p[v.outputs[y].id]){for(var b in g)p[g[b].id]=!0,h[v.id]=!0;break}for(var k=[],w=0;w<e.length;w++){var x=e[w];if(a[x.id]&&h[x.id]){var S={};for(var T in x.inputs){var E=x.inputs[T];r[E.id]&&(S[T]=E)}var C=Object.assign({},x);C.inputs=S,C.outputs=x.outputs,k.push(C)}}return k}(this.state.activeTape,t,i);if(!a&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[i.id]=null==n?function(e){var t=(0,h.makeOnesTypedArray)((0,h.sizeFromShape)(e),"float32");return S.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,r){for(var a=function(a){var i=t[a],o=[];if(i.outputs.forEach((function(t){var n=e[t.id];null!=n?o.push(n):o.push(null)})),null==i.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${i.kernelName}.`);var s=i.gradient(o),u=function(t){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);var a=n((function(){return s[t]()}));if("float32"!==a.dtype)throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${a.dtype}'`);var o=i.inputs[t];if(!h.arraysEqual(a.shape,o.shape))throw new Error(`Error in gradient for op ${i.kernelName}. The gradient of input '${t}' has shape '${a.shape}', which does not match the shape of the input '${o.shape}'`);if(null==e[o.id])e[o.id]=a;else{var u=e[o.id];e[o.id]=r(u,a),u.dispose()}};for(var l in i.inputs)u(l)},i=t.length-1;i>=0;i--)a(i)}(e,o,(function(e){return r.tidy(e)}),T);var a=t.map((function(t){return e[t.id]}));return 0===r.state.gradientDepth&&(r.state.activeTape.forEach((function(e){for(var t of e.saved)t.dispose()})),r.state.activeTape=null),{value:i,grads:a}}))}},{key:"customGrad",value:function(e){var t=this;return h.assert(h.isFunction(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i;h.assert(r.every((function(e){return e instanceof g.Tensor})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var o={};r.forEach((function(e,t){o[t]=e}));return t.runKernelFunc({forwardFunc:function(t,n){return i=e.apply(void 0,[].concat(r,[n])),h.assert(i.value instanceof g.Tensor,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),h.assert(h.isFunction(i.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),i.value},backwardsFunc:function(e,t){var n=i.gradFunc(e,t),a=Array.isArray(n)?n:[n];h.assert(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),h.assert(a.every((function(e){return e instanceof g.Tensor})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var o={};return a.forEach((function(e,t){o[t]=function(){return e}})),o},inputs:o})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=(0,a.default)((function*(e){var t=(0,p.now)(),n=yield this.backend.time(e);return n.wallMs=(0,p.now)()-t,n}));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new k,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function x(){var e=(0,l.getGlobalNamespace)();if(null==e._tfengine){var t=new u.Environment(e);e._tfengine=new w(t)}return(0,u.setEnvironmentGlobal)(e._tfengine.ENV),(0,g.setTensorTracker)((function(){return e._tfengine})),e._tfengine}w.nextTensorId=0,w.nextVariableId=0;var S=x();function T(e,t){var n={a:e,b:t};return S.runKernel(c.Add,n)}},4227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ENV:()=>f,Environment:()=>l,env:()=>d,getQueryParams:()=>c,setEnvironmentGlobal:()=>p});var r=n(885),a=n(5861),i=n(5671),o=n(3144),s=n(7806),u="tfjsflags",l=function(){function e(t){(0,i.default)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=c,this.populateURLFlags()}return(0,o.default)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(d().getBool("IS_TEST")||d().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];d().getBool("IS_TEST")||d().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${r}.`),this.set(e,r)}}},{key:"getAsync",value:function(){var e=(0,a.default)((function*(e){return e in this.flags||(this.flags[e]=yield this.evaluateFlag(e)),this.flags[e]}));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,s.isPromise)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(u in t)t[u].split(",").forEach((function(t){var n=t.split(":"),a=(0,r.default)(n,2),i=a[0],o=a[1];e.urlFlags[i]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(i,o)}))}}}]),e}();function c(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,r[0],r[1]),r.join("=")})),t}function d(){return f}var f=null;function p(e){f=e}},5225:(e,t,n)=>{"use strict";var r;function a(){if(null==r){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function i(e,t){var n=function(){var e=a();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.r(t),n.d(t,{getGlobal:()=>i,getGlobalNamespace:()=>a})},4691:(e,t,n)=>{"use strict";n.r(t),n.d(t,{backend:()=>C,deprecationWarn:()=>c,disableDeprecationWarnings:()=>l,dispose:()=>v,disposeVariables:()=>d,enableDebugMode:()=>u,enableProdMode:()=>s,engine:()=>f,findBackend:()=>S,findBackendFactory:()=>T,getBackend:()=>w,keep:()=>g,memory:()=>p,profile:()=>h,ready:()=>k,registerBackend:()=>E,removeBackend:()=>x,setBackend:()=>b,setPlatform:()=>N,tidy:()=>m,time:()=>y});var r=n(1945),a=n(4227),i=n(3243),o=n(3795);function s(){(0,a.env)().set("PROD",!0)}function u(){(0,a.env)().set("DEBUG",!0)}function l(){(0,a.env)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function c(e){(0,a.env)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){r.ENGINE.disposeVariables()}function f(){return r.ENGINE}function p(){return r.ENGINE.memory()}function h(e){return r.ENGINE.profile(e)}function m(e,t){return r.ENGINE.tidy(e,t)}function v(e){(0,o.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function g(e){return r.ENGINE.keep(e)}function y(e){return r.ENGINE.time(e)}function b(e){return r.ENGINE.setBackend(e)}function k(){return r.ENGINE.ready()}function w(){return r.ENGINE.backendName}function x(e){r.ENGINE.removeBackend(e)}function S(e){return r.ENGINE.findBackend(e)}function T(e){return r.ENGINE.findBackendFactory(e)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.ENGINE.registerBackend(e,t,n)}function C(){return r.ENGINE.backend}function N(e,t){(0,a.env)().setPlatform(e,t)}(0,i.setDeprecationWarningFn)(c)},6846:(e,t,n)=>{"use strict";n.r(t),n.d(t,{customGrad:()=>p,grad:()=>u,grads:()=>l,valueAndGrad:()=>c,valueAndGrads:()=>d,variableGrads:()=>f});var r=n(2982),a=n(1945),i=n(3243),o=n(959),s=n(7806);function u(e){return s.assert(s.isFunction(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=(0,o.convertToTensor)(t,"x","tf.grad","string_or_numeric"),i=null!=n?(0,o.convertToTensor)(n,"dy","tf.grad"):null;return a.ENGINE.tidy((function(){var t=a.ENGINE.gradients((function(){return e(r)}),[r],i),n=t.value,o=t.grads;return null!=i&&s.assertShapesMatch(n.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),h(o),o[0]}))}}function l(e){return s.assert(s.isFunction(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){s.assert(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var i=(0,o.convertToTensorArray)(t,"args","tf.grads","string_or_numeric"),u=null!=n?(0,o.convertToTensor)(n,"dy","tf.grads"):null;return a.ENGINE.tidy((function(){var t=a.ENGINE.gradients((function(){return e.apply(void 0,(0,r.default)(i))}),i,u),n=t.value,o=t.grads;return null!=u&&s.assertShapesMatch(n.shape,u.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o),o}))}}function c(e){return s.assert(s.isFunction(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){s.assert(t instanceof i.Tensor,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),s.assert(null==n||n instanceof i.Tensor,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=a.ENGINE.gradients((function(){return e(t)}),[t],n),o=r.grads,u=r.value;return h(o),{grad:o[0],value:u}}}function d(e){return s.assert(s.isFunction(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){s.assert(Array.isArray(t)&&t.every((function(e){return e instanceof i.Tensor})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),s.assert(null==n||n instanceof i.Tensor,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var o=a.ENGINE.gradients((function(){return e.apply(void 0,(0,r.default)(t))}),t,n);return null!=n&&s.assertShapesMatch(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(o.grads),o}}function f(e,t){s.assert(s.isFunction(e),(function(){return"The f passed in variableGrads(f) must be a function"})),s.assert(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof i.Variable})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],a.ENGINE.registeredVariables)t.push(a.ENGINE.registeredVariables[r]);var o=n?t.filter((function(e){return!e.trainable})):null,u=t.length;t=t.filter((function(e){return e.trainable})),s.assert(t.length>0,(function(){return`variableGrads() expects at least one of the input variables to be trainable, but none of the ${u} variables is trainable.`}));var l=a.ENGINE.gradients(e,t,null,!0),c=l.value,d=l.grads;s.assert(d.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),s.assert(0===c.rank,(function(){return`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`}));var f={};return t.forEach((function(e,t){null!=d[t]&&(f[e.name]=d[t])})),null!=o&&o.forEach((function(e){return f[e.name]=null})),{value:c,grads:f}}function p(e){return a.ENGINE.customGrad(e)}function h(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},6984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Abs:()=>pt.Abs,Acos:()=>pt.Acos,Acosh:()=>pt.Acosh,AdadeltaOptimizer:()=>Yt,AdagradOptimizer:()=>en,AdamOptimizer:()=>on,AdamaxOptimizer:()=>dn,Add:()=>pt.Add,AddN:()=>pt.AddN,All:()=>pt.All,Any:()=>pt.Any,ArgMax:()=>pt.ArgMax,ArgMin:()=>pt.ArgMin,Asin:()=>pt.Asin,Asinh:()=>pt.Asinh,Atan:()=>pt.Atan,Atan2:()=>pt.Atan2,Atanh:()=>pt.Atanh,AvgPool:()=>pt.AvgPool,AvgPool3D:()=>pt.AvgPool3D,AvgPool3DGrad:()=>pt.AvgPool3DGrad,AvgPoolGrad:()=>pt.AvgPoolGrad,BatchMatMul:()=>pt.BatchMatMul,BatchToSpaceND:()=>pt.BatchToSpaceND,Bincount:()=>pt.Bincount,BroadcastArgs:()=>pt.BroadcastArgs,BroadcastTo:()=>pt.BroadcastTo,Cast:()=>pt.Cast,Ceil:()=>pt.Ceil,ClipByValue:()=>pt.ClipByValue,Complex:()=>pt.Complex,ComplexAbs:()=>pt.ComplexAbs,Concat:()=>pt.Concat,Conv2D:()=>pt.Conv2D,Conv2DBackpropFilter:()=>pt.Conv2DBackpropFilter,Conv2DBackpropInput:()=>pt.Conv2DBackpropInput,Conv3D:()=>pt.Conv3D,Conv3DBackpropFilterV2:()=>pt.Conv3DBackpropFilterV2,Conv3DBackpropInputV2:()=>pt.Conv3DBackpropInputV2,Cos:()=>pt.Cos,Cosh:()=>pt.Cosh,CropAndResize:()=>pt.CropAndResize,Cumprod:()=>pt.Cumprod,Cumsum:()=>pt.Cumsum,DataStorage:()=>Lr.DataStorage,DenseBincount:()=>pt.DenseBincount,DepthToSpace:()=>pt.DepthToSpace,DepthwiseConv2dNative:()=>pt.DepthwiseConv2dNative,DepthwiseConv2dNativeBackpropFilter:()=>pt.DepthwiseConv2dNativeBackpropFilter,DepthwiseConv2dNativeBackpropInput:()=>pt.DepthwiseConv2dNativeBackpropInput,Diag:()=>pt.Diag,Dilation2D:()=>pt.Dilation2D,Dilation2DBackpropFilter:()=>pt.Dilation2DBackpropFilter,Dilation2DBackpropInput:()=>pt.Dilation2DBackpropInput,ENV:()=>g.ENV,Einsum:()=>pt.Einsum,Elu:()=>pt.Elu,EluGrad:()=>pt.EluGrad,Environment:()=>g.Environment,Equal:()=>pt.Equal,Erf:()=>pt.Erf,Exp:()=>pt.Exp,ExpandDims:()=>pt.ExpandDims,Expm1:()=>pt.Expm1,FFT:()=>pt.FFT,Fill:()=>pt.Fill,FlipLeftRight:()=>pt.FlipLeftRight,Floor:()=>pt.Floor,FloorDiv:()=>pt.FloorDiv,FromPixels:()=>pt.FromPixels,FusedBatchNorm:()=>pt.FusedBatchNorm,FusedConv2D:()=>pt.FusedConv2D,FusedDepthwiseConv2D:()=>pt.FusedDepthwiseConv2D,GatherNd:()=>pt.GatherNd,GatherV2:()=>pt.GatherV2,Greater:()=>pt.Greater,GreaterEqual:()=>pt.GreaterEqual,IFFT:()=>pt.IFFT,Identity:()=>pt.Identity,Imag:()=>pt.Imag,IsFinite:()=>pt.IsFinite,IsInf:()=>pt.IsInf,IsNan:()=>pt.IsNan,KernelBackend:()=>Lr.KernelBackend,LRN:()=>pt.LRN,LRNGrad:()=>pt.LRNGrad,LeakyRelu:()=>pt.LeakyRelu,Less:()=>pt.Less,LessEqual:()=>pt.LessEqual,LinSpace:()=>pt.LinSpace,Log:()=>pt.Log,Log1p:()=>pt.Log1p,LogSoftmax:()=>pt.LogSoftmax,LogicalAnd:()=>pt.LogicalAnd,LogicalNot:()=>pt.LogicalNot,LogicalOr:()=>pt.LogicalOr,LogicalXor:()=>pt.LogicalXor,LowerBound:()=>pt.LowerBound,Max:()=>pt.Max,MaxPool:()=>pt.MaxPool,MaxPool3D:()=>pt.MaxPool3D,MaxPool3DGrad:()=>pt.MaxPool3DGrad,MaxPoolGrad:()=>pt.MaxPoolGrad,MaxPoolWithArgmax:()=>pt.MaxPoolWithArgmax,Maximum:()=>pt.Maximum,Mean:()=>pt.Mean,Min:()=>pt.Min,Minimum:()=>pt.Minimum,MirrorPad:()=>pt.MirrorPad,Mod:()=>pt.Mod,MomentumOptimizer:()=>gn,Multinomial:()=>pt.Multinomial,Multiply:()=>pt.Multiply,Neg:()=>pt.Neg,NonMaxSuppressionV3:()=>pt.NonMaxSuppressionV3,NonMaxSuppressionV4:()=>pt.NonMaxSuppressionV4,NonMaxSuppressionV5:()=>pt.NonMaxSuppressionV5,NotEqual:()=>pt.NotEqual,OP_SCOPE_SUFFIX:()=>Sn.OP_SCOPE_SUFFIX,OneHot:()=>pt.OneHot,OnesLike:()=>pt.OnesLike,Optimizer:()=>Ht,OptimizerConstructors:()=>wn,Pack:()=>pt.Pack,PadV2:()=>pt.PadV2,Pool:()=>pt.Pool,Pow:()=>pt.Pow,Prelu:()=>pt.Prelu,Prod:()=>pt.Prod,RMSPropOptimizer:()=>kn,RaggedTensorToTensor:()=>pt.RaggedTensorToTensor,Range:()=>pt.Range,Rank:()=>xn.Rank,Real:()=>pt.Real,RealDiv:()=>pt.RealDiv,Reciprocal:()=>pt.Reciprocal,Reduction:()=>Tn.Reduction,Relu:()=>pt.Relu,Relu6:()=>pt.Relu6,Reshape:()=>pt.Reshape,ResizeBilinear:()=>pt.ResizeBilinear,ResizeBilinearGrad:()=>pt.ResizeBilinearGrad,ResizeNearestNeighbor:()=>pt.ResizeNearestNeighbor,ResizeNearestNeighborGrad:()=>pt.ResizeNearestNeighborGrad,Reverse:()=>pt.Reverse,RotateWithOffset:()=>pt.RotateWithOffset,Round:()=>pt.Round,Rsqrt:()=>pt.Rsqrt,SGDOptimizer:()=>hn,ScatterNd:()=>pt.ScatterNd,SearchSorted:()=>pt.SearchSorted,Select:()=>pt.Select,Selu:()=>pt.Selu,Sigmoid:()=>pt.Sigmoid,Sign:()=>pt.Sign,Sin:()=>pt.Sin,Sinh:()=>pt.Sinh,Slice:()=>pt.Slice,Softmax:()=>pt.Softmax,Softplus:()=>pt.Softplus,SpaceToBatchND:()=>pt.SpaceToBatchND,SparseFillEmptyRows:()=>pt.SparseFillEmptyRows,SparseReshape:()=>pt.SparseReshape,SparseSegmentMean:()=>pt.SparseSegmentMean,SparseSegmentSum:()=>pt.SparseSegmentSum,SparseToDense:()=>pt.SparseToDense,SplitV:()=>pt.SplitV,Sqrt:()=>pt.Sqrt,Square:()=>pt.Square,SquaredDifference:()=>pt.SquaredDifference,Step:()=>pt.Step,StridedSlice:()=>pt.StridedSlice,StringNGrams:()=>pt.StringNGrams,StringSplit:()=>pt.StringSplit,StringToHashBucketFast:()=>pt.StringToHashBucketFast,Sub:()=>pt.Sub,Sum:()=>pt.Sum,Tan:()=>pt.Tan,Tanh:()=>pt.Tanh,Tensor:()=>Fe.Tensor,TensorBuffer:()=>Fe.TensorBuffer,Tile:()=>pt.Tile,TopK:()=>pt.TopK,Transform:()=>pt.Transform,Transpose:()=>pt.Transpose,Unique:()=>pt.Unique,Unpack:()=>pt.Unpack,UnsortedSegmentSum:()=>pt.UnsortedSegmentSum,UpperBound:()=>pt.UpperBound,Variable:()=>Fe.Variable,ZerosLike:()=>pt.ZerosLike,_FusedMatMul:()=>pt._FusedMatMul,abs:()=>Sn.abs,acos:()=>Sn.acos,acosh:()=>Sn.acosh,add:()=>Sn.add,addN:()=>Sn.addN,all:()=>Sn.all,any:()=>Sn.any,argMax:()=>Sn.argMax,argMin:()=>Sn.argMin,asin:()=>Sn.asin,asinh:()=>Sn.asinh,atan:()=>Sn.atan,atan2:()=>Sn.atan2,atanh:()=>Sn.atanh,avgPool:()=>Sn.avgPool,avgPool3d:()=>Sn.avgPool3d,backend:()=>Pt.backend,backend_util:()=>c,basicLSTMCell:()=>Sn.basicLSTMCell,batchNorm:()=>Sn.batchNorm,batchNorm2d:()=>Sn.batchNorm2d,batchNorm3d:()=>Sn.batchNorm3d,batchNorm4d:()=>Sn.batchNorm4d,batchToSpaceND:()=>Sn.batchToSpaceND,bincount:()=>Sn.bincount,booleanMaskAsync:()=>Sn.booleanMaskAsync,broadcastArgs:()=>Sn.broadcastArgs,broadcastTo:()=>Sn.broadcastTo,broadcast_util:()=>ft,browser:()=>o,buffer:()=>Sn.buffer,cast:()=>Sn.cast,ceil:()=>Sn.ceil,clipByValue:()=>Sn.clipByValue,clone:()=>Sn.clone,complex:()=>Sn.complex,concat:()=>Sn.concat,concat1d:()=>Sn.concat1d,concat2d:()=>Sn.concat2d,concat3d:()=>Sn.concat3d,concat4d:()=>Sn.concat4d,conv1d:()=>Sn.conv1d,conv2d:()=>Sn.conv2d,conv2dTranspose:()=>Sn.conv2dTranspose,conv3d:()=>Sn.conv3d,conv3dTranspose:()=>Sn.conv3dTranspose,copyRegisteredKernels:()=>ht.copyRegisteredKernels,cos:()=>Sn.cos,cosh:()=>Sn.cosh,cosineWindow:()=>Sn.cosineWindow,cumprod:()=>Sn.cumprod,cumsum:()=>Sn.cumsum,customGrad:()=>Gt.customGrad,denseBincount:()=>Sn.denseBincount,deprecationWarn:()=>Pt.deprecationWarn,depthToSpace:()=>Sn.depthToSpace,depthwiseConv2d:()=>Sn.depthwiseConv2d,device_util:()=>r,diag:()=>Sn.diag,dilation2d:()=>Sn.dilation2d,disableDeprecationWarnings:()=>Pt.disableDeprecationWarnings,dispose:()=>Pt.dispose,disposeVariables:()=>Pt.disposeVariables,div:()=>Sn.div,divNoNan:()=>Sn.divNoNan,dot:()=>Sn.dot,dropout:()=>Sn.dropout,einsum:()=>Sn.einsum,elu:()=>Sn.elu,enableDebugMode:()=>Pt.enableDebugMode,enableProdMode:()=>Pt.enableProdMode,enclosingPowerOfTwo:()=>Sn.enclosingPowerOfTwo,engine:()=>Pt.engine,env:()=>g.env,equal:()=>Sn.equal,erf:()=>Sn.erf,euclideanNorm:()=>Sn.euclideanNorm,exp:()=>Sn.exp,expandDims:()=>Sn.expandDims,expm1:()=>Sn.expm1,eye:()=>Sn.eye,fft:()=>Sn.fft,fill:()=>Sn.fill,findBackend:()=>Pt.findBackend,findBackendFactory:()=>Pt.findBackendFactory,floor:()=>Sn.floor,floorDiv:()=>Sn.floorDiv,fused:()=>Sn.fused,gather:()=>Sn.gather,gatherND:()=>Sn.gatherND,gather_util:()=>s,getBackend:()=>Pt.getBackend,getGradient:()=>ht.getGradient,getKernel:()=>ht.getKernel,getKernelsForBackend:()=>ht.getKernelsForBackend,grad:()=>Gt.grad,grads:()=>Gt.grads,greater:()=>Sn.greater,greaterEqual:()=>Sn.greaterEqual,ifft:()=>Sn.ifft,imag:()=>Sn.imag,image:()=>Sn.image,inTopKAsync:()=>Sn.inTopKAsync,io:()=>a,irfft:()=>Sn.irfft,isFinite:()=>Sn.isFinite,isInf:()=>Sn.isInf,isNaN:()=>Sn.isNaN,keep:()=>Pt.keep,kernel_impls:()=>d,leakyRelu:()=>Sn.leakyRelu,less:()=>Sn.less,lessEqual:()=>Sn.lessEqual,linalg:()=>Sn.linalg,linspace:()=>Sn.linspace,localResponseNormalization:()=>Sn.localResponseNormalization,log:()=>Sn.log,log1p:()=>Sn.log1p,logSigmoid:()=>Sn.logSigmoid,logSoftmax:()=>Sn.logSoftmax,logSumExp:()=>Sn.logSumExp,logicalAnd:()=>Sn.logicalAnd,logicalNot:()=>Sn.logicalNot,logicalOr:()=>Sn.logicalOr,logicalXor:()=>Sn.logicalXor,losses:()=>Sn.losses,lowerBound:()=>Sn.lowerBound,matMul:()=>Sn.matMul,math:()=>i,max:()=>Sn.max,maxPool:()=>Sn.maxPool,maxPool3d:()=>Sn.maxPool3d,maxPoolWithArgmax:()=>Sn.maxPoolWithArgmax,maximum:()=>Sn.maximum,mean:()=>Sn.mean,memory:()=>Pt.memory,meshgrid:()=>Sn.meshgrid,min:()=>Sn.min,minimum:()=>Sn.minimum,mirrorPad:()=>Sn.mirrorPad,mod:()=>Sn.mod,moments:()=>Sn.moments,movingAverage:()=>Sn.movingAverage,mul:()=>Sn.mul,multiRNNCell:()=>Sn.multiRNNCell,multinomial:()=>Sn.multinomial,neg:()=>Sn.neg,nextFrame:()=>Nn,norm:()=>Sn.norm,notEqual:()=>Sn.notEqual,oneHot:()=>Sn.oneHot,ones:()=>Sn.ones,onesLike:()=>Sn.onesLike,op:()=>Sn.op,outerProduct:()=>Sn.outerProduct,pad:()=>Sn.pad,pad1d:()=>Sn.pad1d,pad2d:()=>Sn.pad2d,pad3d:()=>Sn.pad3d,pad4d:()=>Sn.pad4d,pool:()=>Sn.pool,pow:()=>Sn.pow,prelu:()=>Sn.prelu,print:()=>Sn.print,prod:()=>Sn.prod,profile:()=>Pt.profile,raggedTensorToTensor:()=>Sn.raggedTensorToTensor,rand:()=>Sn.rand,randomGamma:()=>Sn.randomGamma,randomNormal:()=>Sn.randomNormal,randomStandardNormal:()=>Sn.randomStandardNormal,randomUniform:()=>Sn.randomUniform,range:()=>Sn.range,ready:()=>Pt.ready,real:()=>Sn.real,reciprocal:()=>Sn.reciprocal,registerBackend:()=>Pt.registerBackend,registerGradient:()=>ht.registerGradient,registerKernel:()=>ht.registerKernel,relu:()=>Sn.relu,relu6:()=>Sn.relu6,removeBackend:()=>Pt.removeBackend,reshape:()=>Sn.reshape,reverse:()=>Sn.reverse,reverse1d:()=>Sn.reverse1d,reverse2d:()=>Sn.reverse2d,reverse3d:()=>Sn.reverse3d,reverse4d:()=>Sn.reverse4d,rfft:()=>Sn.rfft,round:()=>Sn.round,rsqrt:()=>Sn.rsqrt,scalar:()=>Sn.scalar,scatterND:()=>Sn.scatterND,scatter_util:()=>Tt,searchSorted:()=>Sn.searchSorted,selu:()=>Sn.selu,separableConv2d:()=>Sn.separableConv2d,serialization:()=>u,setBackend:()=>Pt.setBackend,setPlatform:()=>Pt.setPlatform,setdiff1dAsync:()=>Sn.setdiff1dAsync,sigmoid:()=>Sn.sigmoid,sign:()=>Sn.sign,signal:()=>Sn.signal,sin:()=>Sn.sin,sinh:()=>Sn.sinh,slice:()=>Sn.slice,slice1d:()=>Sn.slice1d,slice2d:()=>Sn.slice2d,slice3d:()=>Sn.slice3d,slice4d:()=>Sn.slice4d,slice_util:()=>Et,softmax:()=>Sn.softmax,softplus:()=>Sn.softplus,spaceToBatchND:()=>Sn.spaceToBatchND,sparse:()=>Sn.sparse,sparseToDense:()=>Sn.sparseToDense,spectral:()=>Sn.spectral,split:()=>Sn.split,sqrt:()=>Sn.sqrt,square:()=>Sn.square,squaredDifference:()=>Sn.squaredDifference,squeeze:()=>Sn.squeeze,stack:()=>Sn.stack,step:()=>Sn.step,stridedSlice:()=>Sn.stridedSlice,string:()=>Sn.string,sub:()=>Sn.sub,sum:()=>Sn.sum,sumOutType:()=>xn.sumOutType,tan:()=>Sn.tan,tanh:()=>Sn.tanh,tensor:()=>Sn.tensor,tensor1d:()=>Sn.tensor1d,tensor2d:()=>Sn.tensor2d,tensor3d:()=>Sn.tensor3d,tensor4d:()=>Sn.tensor4d,tensor5d:()=>Sn.tensor5d,tensor6d:()=>Sn.tensor6d,tensor_util:()=>_t,test_util:()=>Rt,tidy:()=>Pt.tidy,tile:()=>Sn.tile,time:()=>Pt.time,topk:()=>Sn.topk,train:()=>En,transpose:()=>Sn.transpose,truncatedNormal:()=>Sn.truncatedNormal,unique:()=>Sn.unique,unregisterGradient:()=>ht.unregisterGradient,unregisterKernel:()=>ht.unregisterKernel,unsortedSegmentSum:()=>Sn.unsortedSegmentSum,unstack:()=>Sn.unstack,upcastType:()=>xn.upcastType,upperBound:()=>Sn.upperBound,util:()=>At,valueAndGrad:()=>Gt.valueAndGrad,valueAndGrads:()=>Gt.valueAndGrads,variable:()=>Sn.variable,variableGrads:()=>Gt.variableGrads,version_core:()=>Ot,where:()=>Sn.where,whereAsync:()=>Sn.whereAsync,zeros:()=>Sn.zeros,zerosLike:()=>Sn.zerosLike});var r={};n.r(r),n.d(r,{isBrowser:()=>v,isMobile:()=>m,mockIsMobile:()=>h});var a={};n.r(a),n.d(a,{browserFiles:()=>Be,browserHTTPRequest:()=>Ze,concatenateArrayBuffers:()=>F,copyModel:()=>xe,decodeWeights:()=>R,encodeWeights:()=>I,fromMemory:()=>tt,fromMemorySync:()=>nt,getLoadHandlers:()=>j,getModelArtifactsForJSON:()=>M,getModelArtifactsInfoForJSON:()=>z,getSaveHandlers:()=>W,http:()=>Ye,isHTTPScheme:()=>Ke,listModels:()=>ye,loadWeights:()=>We,moveModel:()=>Te,registerLoadRouter:()=>G,registerSaveRouter:()=>U,removeModel:()=>ke,weightsLoaderFactory:()=>qe,withSaveHandler:()=>rt,withSaveHandlerSync:()=>at});var i={};n.r(i),n.d(i,{confusionMatrix:()=>dt});var o={};n.r(o),n.d(o,{fromPixels:()=>xt,fromPixelsAsync:()=>yt,toPixels:()=>kt});var s={};n.r(s),n.d(s,{prepareAndValidate:()=>St});var u={};n.r(u),n.d(u,{Serializable:()=>Ct,SerializationMap:()=>Nt,registerClass:()=>It});var l={};n.r(l),n.d(l,{collectGatherOpShapeInfo:()=>Dr,computeOutShape:()=>Or,segOpComputeOptimalWindowSize:()=>Ar});var c={};n.r(c),n.d(c,{ERF_A1:()=>Kn,ERF_A2:()=>Xn,ERF_A3:()=>Yn,ERF_A4:()=>Zn,ERF_A5:()=>Qn,ERF_P:()=>Hn,PARALLELIZE_THRESHOLD:()=>Ln,RowPartitionType:()=>An,SELU_SCALE:()=>qn.SELU_SCALE,SELU_SCALEALPHA:()=>qn.SELU_SCALEALPHA,applyActivation:()=>Dn.applyActivation,assertAndGetBroadcastShape:()=>ft.assertAndGetBroadcastShape,assertAxesAreInnerMostDims:()=>In.assertAxesAreInnerMostDims,assertParamsConsistent:()=>_n,assignToTypedArray:()=>ir,axesAreInnerMostDims:()=>In.axesAreInnerMostDims,calculateShapes:()=>Tt.calculateShapes,checkEinsumDimSizes:()=>hr,checkPadOnDimRoundingMode:()=>On.checkPadOnDimRoundingMode,combineLocations:()=>In.combineLocations,combineRaggedTensorToTensorShapes:()=>Fn,complexWithEvenIndex:()=>nr,complexWithOddIndex:()=>rr,computeConv2DInfo:()=>On.computeConv2DInfo,computeConv3DInfo:()=>On.computeConv3DInfo,computeDefaultPad:()=>On.computeDefaultPad,computeDilation2DInfo:()=>On.computeDilation2DInfo,computeOptimalWindowSize:()=>zn,computeOutAndReduceShapes:()=>In.computeOutAndReduceShapes,computeOutShape:()=>Rn,computePool2DInfo:()=>On.computePool2DInfo,computePool3DInfo:()=>On.computePool3DInfo,convertConv2DDataFormat:()=>On.convertConv2DDataFormat,decodeEinsumEquation:()=>fr,eitherStridesOrDilationsAreOne:()=>On.eitherStridesOrDilationsAreOne,expandShapeToKeepDim:()=>In.expandShapeToKeepDim,exponent:()=>sr,exponents:()=>or,fromStringArrayToUint8:()=>$r,fromUint8ToStringArray:()=>Fr,getAxesPermutation:()=>In.getAxesPermutation,getBroadcastDims:()=>ft.getBroadcastDims,getComplexWithIndex:()=>ar,getEinsumComputePath:()=>mr,getEinsumPermutation:()=>pr,getFusedBiasGradient:()=>Dn.getFusedBiasGradient,getFusedDyActivation:()=>Dn.getFusedDyActivation,getImageCenter:()=>Bn,getInnerMostAxes:()=>In.getInnerMostAxes,getPermuted:()=>Un,getRaggedRank:()=>Pn,getReductionAxes:()=>ft.getReductionAxes,getReshaped:()=>Vn,getReshapedPermuted:()=>Gn,getRowPartitionTypesHelper:()=>$n,getSliceBeginCoords:()=>Wn,getSliceSize:()=>jn,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>br,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>kr,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>wr,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>Tr,getSparseReshapeInputOutputMismatchErrorMessage:()=>Cr,getSparseReshapeInputOutputMultipleErrorMessage:()=>Er,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>xr,getSparseReshapeNegativeOutputDimErrorMessage:()=>Sr,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>Rr,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>Nr,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>Ir,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>_r,getUndoAxesPermutation:()=>In.getUndoAxesPermutation,isIdentityPermutation:()=>vr,log:()=>Jn.log,mergeRealAndImagArrays:()=>er,prepareAndValidate:()=>St,prepareSplitSize:()=>yr,segment_util:()=>l,shouldFuse:()=>Dn.shouldFuse,slice_util:()=>Et,splitRealAndImagArrays:()=>tr,tupleValuesAreOne:()=>On.tupleValuesAreOne,upcastType:()=>xn.upcastType,validateDefaultValueShape:()=>Mn,validateInput:()=>Tt.validateInput,validateUpdateShape:()=>Tt.validateUpdateShape,warn:()=>Jn.warn});var d={};n.r(d),n.d(d,{nonMaxSuppressionV3Impl:()=>Pr.nonMaxSuppressionV3Impl,nonMaxSuppressionV4Impl:()=>Pr.nonMaxSuppressionV4Impl,nonMaxSuppressionV5Impl:()=>Pr.nonMaxSuppressionV5Impl,whereImpl:()=>Mr.whereImpl});var f,p=n(1945);function h(e){f=e}function m(e){if(void 0!==f)return f;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function v(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var g=n(4227),y=(0,g.env)();y.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),y.registerFlag("IS_BROWSER",(function(){return v()})),y.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),y.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),y.registerFlag("PROD",(function(){return!1})),y.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return y.getBool("DEBUG")})),y.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),y.registerFlag("IS_TEST",(function(){return!1})),y.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),y.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),y.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1})),y.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",(function(){return!1}));var b=n(5671),k=n(3144),w=n(5861),x=n(885),S=n(7855),T=n(7047),E=n(7806),C={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8},N=4;function I(e,t){return _.apply(this,arguments)}function _(){return _=(0,w.default)((function*(e,t){for(var n=[],r=[],a=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e),i=function(i){var o=a[i],s=Array.isArray(e)?e[i].tensor:e[o];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${o}': ${s.dtype}`);var u={name:o,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){var l=new Promise(function(){var e=(0,w.default)((function*(e){for(var t=yield s.bytes(),n=t.reduce((function(e,t){return e+t.length}),0)+N*t.length,r=new Uint8Array(n),a=0,i=0;i<t.length;i++){var o=t[i],u=new Uint8Array(new Uint32Array([o.length]).buffer);r.set(u,a),a+=N,r.set(o,a),a+=o.length}e(r)}));return function(t){return e.apply(this,arguments)}}());r.push(l)}else r.push(s.data());null!=t&&(u.group=t),n.push(u)},o=0;o<a.length;++o)i(o);return{data:A(yield Promise.all(r)),specs:n}})),_.apply(this,arguments)}function R(e,t){var n,r={},a=0;for(var i of t){var o=i.name,s=i.dtype,u=i.shape,l=(0,E.sizeFromShape)(u),c=void 0;if("quantization"in i){var d=i.quantization;if("uint8"===d.dtype||"uint16"===d.dtype){if(!("min"in d)||!("scale"in d))throw new Error(`Weight ${i.name} with quantization ${d.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==d.dtype)throw new Error(`Weight ${i.name} has unknown quantization dtype ${d.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==s)throw new Error(`Weight ${i.name} is quantized with ${d.dtype} which only supports weights of type float32 not ${s}.`)}var f=C[d.dtype],p=e.slice(a,a+l*f),h="uint8"===d.dtype?new Uint8Array(p):new Uint16Array(p);if("float32"===s)if("uint8"===d.dtype||"uint16"===d.dtype){c=new Float32Array(h.length);for(var m=0;m<h.length;m++){var v=h[m];c[m]=v*d.scale+d.min}}else{if("float16"!==d.dtype)throw new Error(`Unsupported quantization type ${d.dtype} for weight type float32.`);void 0===n&&(n=B()),c=n(h)}else{if("int32"!==s)throw new Error(`Unsupported dtype in weight '${o}': ${s}`);if("uint8"!==d.dtype&&"uint16"!==d.dtype)throw new Error(`Unsupported quantization type ${d.dtype} for weight type int32.`);c=new Int32Array(h.length);for(var g=0;g<h.length;g++){var y=h[g];c[g]=Math.round(y*d.scale+d.min)}}a+=l*f}else if("string"===s){var b=(0,E.sizeFromShape)(i.shape);c=[];for(var k=0;k<b;k++){var w=new Uint32Array(e.slice(a,a+N))[0];a+=N;var x=new Uint8Array(e.slice(a,a+w));c.push(x),a+=w}}else{var I=C[s],_=e.slice(a,a+l*I);if("float32"===s)c=new Float32Array(_);else if("int32"===s)c=new Int32Array(_);else if("bool"===s)c=new Uint8Array(_);else{if("complex64"!==s)throw new Error(`Unsupported dtype in weight '${o}': ${s}`);c=new Float32Array(_);for(var R=new Float32Array(c.length/2),A=new Float32Array(c.length/2),O=0;O<R.length;O++)R[O]=c[2*O],A[O]=c[2*O+1];var D=(0,T.tensor)(R,u,"float32"),F=(0,T.tensor)(A,u,"float32");r[o]=(0,S.complex)(D,F),D.dispose(),F.dispose()}a+=l*I}"complex64"!==s&&(r[o]=(0,T.tensor)(c,u,s))}return r}function A(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var O="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function D(e){return O?Buffer.byteLength(e):new Blob([e]).size}function F(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function $(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function P(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function M(e,t){return L.apply(this,arguments)}function L(){return L=(0,w.default)((function*(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){var r=yield t(e.weightsManifest),a=(0,x.default)(r,2),i=a[0],o=a[1];n.weightSpecs=i,n.weightData=o}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n})),L.apply(this,arguments)}function z(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:D(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:D(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function B(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),i=new Uint32Array(a),o=0;o<r.length;o++){var s=r[o],u=e[n[s>>10]+(1023&s)]+t[s>>10];i[o]=u}return new Float32Array(a)}}var V=function(){function e(){(0,b.default)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,k.default)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),U=function(e){return V.registerSaveRouter(e)},G=function(e){return V.registerLoadRouter(e)},W=function(e){return V.getSaveHandlers(e)},j=function(e,t){return V.getLoadHandlers(e,t)},q="tensorflowjs",H="models_store",K="model_info_store";function X(){if(!(0,g.env)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function Y(e){var t=e.result;t.createObjectStore(H,{keyPath:"modelPath"}),t.createObjectStore(K,{keyPath:"modelPath"})}var Z=function(){function e(t){if((0,b.default)(this,e),this.indexedDB=X(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,k.default)(e,[{key:"save",value:function(){var e=(0,w.default)((function*(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,w.default)((function*(){return this.databaseAction(this.modelPath)}));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(q,1);a.onupgradeneeded=function(){return Y(a)},a.onsuccess=function(){var i=a.result;if(null==t){var o=i.transaction(H,"readonly"),s=o.objectStore(H).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return i.close(),r(new Error(`Cannot find model with path '${n.modelPath}' in IndexedDB.`));e(s.result.modelArtifacts)},s.onerror=function(e){return i.close(),r(s.error)},o.oncomplete=function(){return i.close()}}else{var u,l=z(t),c=i.transaction(K,"readwrite"),d=c.objectStore(K),f=d.put({modelPath:n.modelPath,modelArtifactsInfo:l});f.onsuccess=function(){var a=(u=i.transaction(H,"readwrite")).objectStore(H).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:l});a.onsuccess=function(){return e({modelArtifactsInfo:l})},a.onerror=function(e){var t=(d=c.objectStore(K)).delete(n.modelPath);t.onsuccess=function(){return i.close(),r(a.error)},t.onerror=function(e){return i.close(),r(a.error)}}},f.onerror=function(e){return i.close(),r(f.error)},c.oncomplete=function(){null==u?i.close():u.oncomplete=function(){return i.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();Z.URL_SCHEME="indexeddb://";var Q=function(e){return(0,g.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Z.URL_SCHEME)?(t=e.slice(Z.URL_SCHEME.length),new Z(t)):null;var t};V.registerSaveRouter(Q),V.registerLoadRouter(Q);var J=function(){function e(){(0,b.default)(this,e),this.indexedDB=X()}return(0,k.default)(e,[{key:"listModels",value:function(){var e=(0,w.default)((function*(){var e=this;return new Promise((function(t,n){var r=e.indexedDB.open(q,1);r.onupgradeneeded=function(){return Y(r)},r.onsuccess=function(){var e=r.result,a=e.transaction(K,"readonly"),i=a.objectStore(K).getAll();i.onsuccess=function(){var e={};for(var n of i.result)e[n.modelPath]=n.modelArtifactsInfo;t(e)},i.onerror=function(t){return e.close(),n(i.error)},a.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}}))}));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,w.default)((function*(e){var t,n=this;return e=(t=e).startsWith(Z.URL_SCHEME)?t.slice(Z.URL_SCHEME.length):t,new Promise((function(t,r){var a=n.indexedDB.open(q,1);a.onupgradeneeded=function(){return Y(a)},a.onsuccess=function(){var n,i=a.result,o=i.transaction(K,"readwrite"),s=o.objectStore(K),u=s.get(e);u.onsuccess=function(){if(null==u.result)return i.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));var a=s.delete(e),o=function(){var a=(n=i.transaction(H,"readwrite")).objectStore(H).delete(e);a.onsuccess=function(){return t(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=o,a.onerror=function(e){return o(),i.close(),r(u.error)}},u.onerror=function(e){return i.close(),r(u.error)},o.oncomplete=function(){null==n?i.close():n.oncomplete=function(){return i.close()}}},a.onerror=function(e){return r(a.error)}}))}));return function(t){return e.apply(this,arguments)}}()}]),e}(),ee="/",te="tensorflowjs_models",ne="info",re="model_topology",ae="weight_specs",ie="weight_data",oe="model_metadata";function se(e){return{info:[te,e,ne].join(ee),topology:[te,e,re].join(ee),weightSpecs:[te,e,ae].join(ee),weightData:[te,e,ie].join(ee),modelMetadata:[te,e,oe].join(ee)}}function ue(e){for(var t of Object.values(e))window.localStorage.removeItem(t)}function le(e){var t=e.split(ee);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(ee)}var ce=function(){function e(t){if((0,b.default)(this,e),!(0,g.env)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=se(this.modelPath)}return(0,k.default)(e,[{key:"save",value:function(){var e=(0,w.default)((function*(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");var t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=z(e);try{this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(O)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData));var a={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(a)),{modelArtifactsInfo:r}}catch(i){throw ue(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${r.modelTopologyBytes}, weightSpecsBytes=${r.weightSpecsBytes}, weightDataBytes=${r.weightDataBytes}.`)}}));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,w.default)((function*(){var e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");var t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;var r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;var a=this.LS.getItem(this.keys.modelMetadata);if(null!=a){var i=JSON.parse(a);t.format=i.format,t.generatedBy=i.generatedBy,t.convertedBy=i.convertedBy,null!=i.signature&&(t.signature=i.signature),null!=i.userDefinedMetadata&&(t.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(t.modelInitializer=i.modelInitializer),null!=i.trainingConfig&&(t.trainingConfig=i.trainingConfig)}var o=this.LS.getItem(this.keys.weightData);if(null==o)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=function(e){if(O){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}(o),t}));return function(){return e.apply(this,arguments)}}()}]),e}();ce.URL_SCHEME="localstorage://";var de=function(e){return(0,g.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ce.URL_SCHEME)?(t=e.slice(ce.URL_SCHEME.length),new ce(t)):null;var t};V.registerSaveRouter(de),V.registerLoadRouter(de);var fe=function(){function e(){(0,b.default)(this,e),(0,E.assert)((0,g.env)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),(0,E.assert)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,k.default)(e,[{key:"listModels",value:function(){var e=(0,w.default)((function*(){for(var e={},t=te+ee,n=ee+ne,r=0;r<this.LS.length;++r){var a=this.LS.key(r);if(a.startsWith(t)&&a.endsWith(n))e[le(a)]=JSON.parse(this.LS.getItem(a))}return e}));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,w.default)((function*(e){var t,n=se(e=(t=e).startsWith(ce.URL_SCHEME)?t.slice(ce.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);var r=JSON.parse(this.LS.getItem(n.info));return ue(n),r}));return function(t){return e.apply(this,arguments)}}()}]),e}(),pe="://",he=function(){function e(){(0,b.default)(this,e),this.managers={}}return(0,k.default)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){(0,E.assert)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(pe)&&(t=t.slice(0,t.indexOf(pe))),(0,E.assert)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();(0,E.assert)(null==r.managers[t],(function(){return`A model store manager is already registered for scheme '${t}'.`})),r.managers[t]=n}},{key:"getManager",value:function(t){var n=e.getInstance().managers[t];if(null==n)throw new Error(`Cannot find model manager for scheme '${t}'`);return n}},{key:"getSchemes",value:function(){return Object.keys(e.getInstance().managers)}}]),e}();function me(e){if(-1===e.indexOf(pe))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${he.getSchemes().join(",")}`);return{scheme:e.split(pe)[0],path:e.split(pe)[1]}}function ve(e,t){return ge.apply(this,arguments)}function ge(){return ge=(0,w.default)((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,E.assert)(e!==t,(function(){return`Old path and new path are the same: '${e}'`}));var r=V.getLoadHandlers(e);(0,E.assert)(r.length>0,(function(){return`Copying failed because no load handler is found for source URL ${e}.`})),(0,E.assert)(r.length<2,(function(){return`Copying failed because more than one (${r.length}) load handlers for source URL ${e}.`}));var a=r[0],i=V.getSaveHandlers(t);(0,E.assert)(i.length>0,(function(){return`Copying failed because no save handler is found for destination URL ${t}.`})),(0,E.assert)(i.length<2,(function(){return`Copying failed because more than one (${r.length}) save handlers for destination URL ${t}.`}));var o=i[0],s=me(e).scheme,u=me(e).path,l=s===me(e).scheme,c=yield a.load();n&&l&&(yield he.getManager(s).removeModel(u));var d=yield o.save(c);return n&&!l&&(yield he.getManager(s).removeModel(u)),d.modelArtifactsInfo})),ge.apply(this,arguments)}function ye(){return be.apply(this,arguments)}function be(){return(be=(0,w.default)((function*(){var e=he.getSchemes(),t={};for(var n of e){var r=yield he.getManager(n).listModels();for(var a in r){t[n+pe+a]=r[a]}}return t}))).apply(this,arguments)}function ke(e){return we.apply(this,arguments)}function we(){return(we=(0,w.default)((function*(e){var t=me(e);return he.getManager(t.scheme).removeModel(t.path)}))).apply(this,arguments)}function xe(e,t){return Se.apply(this,arguments)}function Se(){return(Se=(0,w.default)((function*(e,t){return ve(e,t,!1)}))).apply(this,arguments)}function Te(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,w.default)((function*(e,t){return ve(e,t,!0)}))).apply(this,arguments)}var Ce=function(){function e(){(0,b.default)(this,e)}return(0,k.default)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if((0,g.env)().get("IS_BROWSER")){(0,g.env)().setPlatform("browser",new Ce);try{he.registerManager(ce.URL_SCHEME,new fe)}catch(zr){}try{he.registerManager(Z.URL_SCHEME,new J)}catch(zr){}}var Ne,Ie=function(){return n(5410)};var _e=function(){function e(){(0,b.default)(this,e),this.util=n(8628),this.textEncoder=new this.util.TextEncoder}return(0,k.default)(e,[{key:"fetch",value:function(e,t){return null!=(0,g.env)().global.fetch?(0,g.env)().global.fetch(e,t):(null==Ne&&(Ne=Ie()),Ne(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();(0,g.env)().get("IS_NODE")&&!(0,g.env)().get("IS_BROWSER")&&(0,g.env)().setPlatform("node",new _e);var Re=n(8263),Ae=n(4395),Oe=n(9813),De=n(1729),Fe=n(3243);(0,p.getOrMakeEngine)();var $e={buffer:Re.buffer,cast:Ae.cast,clone:Oe.clone,print:De.print};(0,Fe.setOpHandler)($e);var Pe=n(2982);function Me(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var Le=function(){function e(t){if((0,b.default)(this,e),!(0,g.env)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,k.default)(e,[{key:"save",value:function(){var e=(0,w.default)((function*(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");var t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");var n=P(e,[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}]),r=window.URL.createObjectURL(new Blob([JSON.stringify(n)],{type:"application/json"})),a=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(a.download=this.modelJsonFileName,a.href=r,yield Me((function(){return a.dispatchEvent(new MouseEvent("click"))})),null!=e.weightData){var i=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;i.download=this.weightDataFileName,i.href=t,yield Me((function(){return i.dispatchEvent(new MouseEvent("click"))}))}return{modelArtifactsInfo:z(e)}}));return function(t){return e.apply(this,arguments)}}()}]),e}();Le.URL_SCHEME="downloads://";var ze=function(){function e(t){if((0,b.default)(this,e),null==t||t.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${t}`);this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,k.default)(e,[{key:"load",value:function(){var e=(0,w.default)((function*(){var e=this;return new Promise((function(t,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),i=a.modelTopology;if(null!=i)if(null!=a.weightsManifest)if(0!==e.weightsFiles.length){var o=M(a,(function(t){return e.loadWeights(t)}));t(o)}else t({modelTopology:i});else n(new Error(`weightManifest field is missing from file ${e.jsonFile.name}`));else n(new Error(`modelTopology field is missing from file ${e.jsonFile.name}`))},r.onerror=function(t){return n(`Failed to read model topology and weights manifest JSON from file '${e.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`)},r.readAsText(e.jsonFile)}))}));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t=this,n=[],r=[];for(var a of e)n.push.apply(n,(0,Pe.default)(a.weights)),r.push.apply(r,(0,Pe.default)(a.paths));var i=this.checkManifestAndWeightFiles(e),o=r.map((function(e){return t.loadWeightsFile(e,i[e])}));return Promise.all(o).then((function(e){return[n,F(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r(`Failed to weights data from file of path '${e}'.`)},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t=this,n=[],r=this.weightsFiles.map((function(e){return $(e.name)})),a={};for(var i of e)i.paths.forEach((function(e){var i=$(e);if(-1!==n.indexOf(i))throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(n.push(i),-1===r.indexOf(i))throw new Error(`Weight file with basename '${i}' is not provided.`);a[e]=t.weightsFiles[r.indexOf(i)]}));if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return a}}]),e}();function Be(e){return new ze(e)}function Ve(e,t,n,r){!function(e){(0,E.assert)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){(0,E.assert)(e>=0&&e<=1,(function(){return`Progress fraction must be in range [0, 1], but got startFraction ${e}`})),(0,E.assert)(t>=0&&t<=1,(function(){return`Progress fraction must be in range [0, 1], but got endFraction ${t}`})),(0,E.assert)(t>=e,(function(){return`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(i){return i.then((function(i){var o=n+ ++a/e.length*(r-n);return t(o),i})),i})))}function Ue(e,t){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,w.default)((function*(e,t){null==t&&(t={});var n=null==t.fetchFunc?(0,g.env)().platform.fetch:t.fetchFunc,r=e.map((function(e){return n(e,t.requestInit,{isBinary:!0})})),a=(null==t.onProgress?yield Promise.all(r):yield Ve(r,t.onProgress,0,.5)).map((function(e){return e.arrayBuffer()}));return null==t.onProgress?yield Promise.all(a):yield Ve(a,t.onProgress,.5,1)}))).apply(this,arguments)}function We(e){return je.apply(this,arguments)}function je(){return je=(0,w.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return qe((function(e){return Ue(e,{requestInit:r})}))(e,t,n)})),je.apply(this,arguments)}function qe(e){return function(){var t=(0,w.default)((function*(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,a=t.map((function(){return!1})),i={},o=null!=r?r.map((function(){return!1})):[],s=[];if(t.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var u="quantization"in e?e.quantization.dtype:e.dtype,l=C[u]*E.sizeFromShape(e.shape),c=function(){a[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:n,sizeBytes:l})};null!=r?r.forEach((function(t,n){t===e.name&&(c(),o[n]=!0)})):c(),s.push(e.name),n+=l}))})),!o.every((function(e){return e}))){var u=r.filter((function(e,t){return!o[t]}));throw new Error(`Could not find weights in manifest with names: ${u.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}var l=a.reduce((function(e,t,n){return t&&e.push(n),e}),[]),c=[];l.forEach((function(e){t[e].paths.forEach((function(e){var t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));var d=yield e(c),f={},p=0;return l.forEach((function(e){for(var n=t[e].paths.length,r=0,a=0;a<n;a++)r+=d[p+a].byteLength;for(var o=new ArrayBuffer(r),s=new Uint8Array(o),u=0,l=0;l<n;l++){var c=new Uint8Array(d[p+l]);s.set(c,u),u+=c.byteLength}i[e].forEach((function(e){var t=R(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)f[n]=t[n]})),p+=n})),f}));return function(e){return t.apply(this,arguments)}}()}V.registerSaveRouter((function(e){return(0,g.env)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(Le.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new Le(e)}(e.slice(Le.URL_SCHEME.length)):null}));var He=function(){function e(t,n){if((0,b.default)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?((0,E.assert)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=(0,g.env)().platform.fetch,(0,E.assert)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&(0,E.assert)(2===t.length,(function(){return`URL paths for http must have a length of 2, (actual length is ${t.length}).`})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,k.default)(e,[{key:"save",value:function(){var e=(0,w.default)((function*(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");var t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;var n=P(e,[{paths:["./model.weights.bin"],weights:e.weightSpecs}]);t.body.append("model.json",new Blob([JSON.stringify(n)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");var r=yield this.fetch(this.path,t);if(r.ok)return{modelArtifactsInfo:z(e),responses:[r]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${r.status}.`)}));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,w.default)((function*(){var e,t=this,n=yield this.fetch(this.path,this.requestInit);if(!n.ok)throw new Error(`Request to ${this.path} failed with status code ${n.status}. Please verify this URL points to the model JSON of the model to load.`);try{e=yield n.json()}catch(o){var r=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r)}var a=e.modelTopology,i=e.weightsManifest;if(null==a&&null==i)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return M(e,(function(e){return t.loadWeights(e)}))}));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=(0,w.default)((function*(e){var t=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),a=n>t?e.substring(n):"";return[r+"/",a]}(Array.isArray(this.path)?this.path[1]:this.path),n=(0,x.default)(t,2),r=n[0],a=n[1],i=this.weightPathPrefix||r,o=[];for(var s of e)o.push.apply(o,(0,Pe.default)(s.weights));var u=[],l=[];for(var c of e)for(var d of c.paths)null!=this.weightUrlConverter?l.push(this.weightUrlConverter(d)):u.push(i+d+a);return this.weightUrlConverter&&u.push.apply(u,(0,Pe.default)(yield Promise.all(l))),[o,F(yield Ue(u,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress}))]}));return function(t){return e.apply(this,arguments)}}()}]),e}();function Ke(e){return null!=e.match(He.URL_SCHEME_REGEX)}He.URL_SCHEME_REGEX=/^https?:\/\//;var Xe=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return Ke(e)})):Ke(e))?Ye(e,t):null};function Ye(e,t){return new He(e,t)}function Ze(e,t){return Ye(e,t)}V.registerSaveRouter(Xe),V.registerLoadRouter(Xe);var Qe=function(){function e(t){(0,b.default)(this,e),this.modelArtifacts=t}return(0,k.default)(e,[{key:"load",value:function(){return this.modelArtifacts}}]),e}(),Je=function(){function e(t){(0,b.default)(this,e),this.saveHandler=t}return(0,k.default)(e,[{key:"save",value:function(e){return this.saveHandler(e)}}]),e}(),et=(0,k.default)((function e(t){(0,b.default)(this,e),t.load&&(this.load=function(){return Promise.resolve(t.load())}),t.save&&(this.save=function(e){return Promise.resolve(t.save(e))})}));function tt(e,t,n,r){var a=arguments;return new et(nt.apply(void 0,(0,Pe.default)(a)))}function nt(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new Qe(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Qe({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Qe({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))}function rt(e){return new Je(e)}function at(e){return new Je(e)}var it=n(959),ot=n(7379),st=n(6505),ut=n(7915),lt=n(6345);var ct,dt=(0,ut.op)({confusionMatrix_:function(e,t,n){var r=(0,it.convertToTensor)(e,"labels","confusionMatrix"),a=(0,it.convertToTensor)(t,"predictions","confusionMatrix");E.assert(null==n||n>0&&Number.isInteger(n),(function(){return`If provided, numClasses must be a positive integer, but got ${n}`})),E.assert(1===r.rank,(function(){return`Expected the rank of labels to be 1, but got ${r.rank}`})),E.assert(1===a.rank,(function(){return`Expected the rank of predictions to be 1, but got ${a.rank}`})),E.assert(r.shape[0]===a.shape[0],(function(){return`Mismatch in the number of examples: ${r.shape[0]} vs. ${a.shape[0]}. Labels and predictions should have the same number of elements.`})),E.assert(n>0&&Number.isInteger(n),(function(){return`numClasses is required to be a positive integer, but got ${n}`}));var i=(0,st.oneHot)((0,Ae.cast)(r,"int32"),n),o=(0,st.oneHot)((0,Ae.cast)(a,"int32"),n),s=(0,lt.transpose)(i),u=(0,ot.matMul)(s,o);return(0,Ae.cast)(u,"int32")}}),ft=n(2202),pt=n(3416),ht=n(7643),mt=n(8322);function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,i=!1,o=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)i=!0;else if(null!=e.getContext)o=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);s=!0}if(null!=(0,ht.getKernel)(pt.FromPixels,p.ENGINE.backendName)){var u={pixels:e},l={numChannels:t};return p.ENGINE.runKernel(pt.FromPixels,u,l)}var c,d,f=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],h=(0,x.default)(f,2),m=h[0],v=h[1];if(o)c=e.getContext("2d").getImageData(0,0,m,v).data;else if(r||n)c=e.data;else if(i||a||s){if(null==ct)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");ct=new OffscreenCanvas(1,1).getContext("2d")}else ct=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});ct.canvas.width=m,ct.canvas.height=v,ct.drawImage(e,0,0,m,v),c=ct.getImageData(0,0,m,v).data}if(4===t)d=new Int32Array(c);else{var g=m*v;d=new Int32Array(g*t);for(var y=0;y<g;y++)for(var b=0;b<t;++b)d[y*t+b]=c[4*y+b]}var k=[v,m,t];return(0,mt.tensor3d)(d,k,"int32")}function gt(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function yt(e){return bt.apply(this,arguments)}function bt(){return bt=(0,w.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=null;if((0,g.env)().getBool("WRAP_TO_IMAGEBITMAP")&&gt(e)){var r;try{r=yield createImageBitmap(e,{premultiplyAlpha:"none"})}catch(a){r=null}n=null!=r&&r.width===e.width&&r.height===e.height?r:e}else n=e;return vt(n,t)})),bt.apply(this,arguments)}function kt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,w.default)((function*(e,t){var n=(0,it.convertToTensor)(e,"img","toPixels");if(!(e instanceof Fe.Tensor)){var r=n;n=(0,Ae.cast)(r,"int32"),r.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);var a=n.shape.slice(0,2),i=(0,x.default)(a,2),o=i[0],s=i[1],u=2===n.rank?1:n.shape[2];if(u>4||2===u)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${u}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);for(var l=yield n.data(),c="float32"===n.dtype?255:1,d=new Uint8ClampedArray(s*o*4),f=0;f<o*s;++f){for(var p=[0,0,0,255],h=0;h<u;h++){var m=l[f*u+h];if("float32"===n.dtype){if(m<0||m>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${m}.`)}else if("int32"===n.dtype&&(m<0||m>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${m}.`);1===u?(p[0]=m*c,p[1]=m*c,p[2]=m*c):p[h]=m*c}var v=4*f;d[v+0]=Math.round(p[0]),d[v+1]=Math.round(p[1]),d[v+2]=Math.round(p[2]),d[v+3]=Math.round(p[3])}if(null!=t){t.width=s,t.height=o;var g=t.getContext("2d"),y=new ImageData(d,s,o);g.putImageData(y,0,0)}return n!==e&&n.dispose(),d}))).apply(this,arguments)}var xt=(0,ut.op)({fromPixels_:vt});function St(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===(0,E.sizeFromShape)(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);for(var a=t.shape,i=a[a.length-1],o=1,s=0;s<a.length-1;++s)o*=a[s];var u=e.shape,l=a.slice();l.pop();for(var c=1,d=i;d<n;++d)c*=u[d],l.push(u[d]);var f=[].concat((0,Pe.default)((0,E.computeStrides)(e.shape).map((function(e){return e/c}))),[1]).slice(0,i);return[l,o,c,f]}var Tt=n(9467),Et=n(397),Ct=function(){function e(){(0,b.default)(this,e)}return(0,k.default)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),Nt=function(){function e(){(0,b.default)(this,e),this.classNameMap={}}return(0,k.default)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function It(e){(0,E.assert)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),(0,E.assert)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),(0,E.assert)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),Nt.register(e)}var _t=n(3795),Rt=n(9811),At=n(3227),Ot="3.20.0",Dt=n(136),Ft=n(6215),$t=n(1120),Pt=n(4691),Mt=n(4453),Lt=n(8467),zt=n(5286),Bt=n(6486),Vt=n(5755),Ut=n(1241),Gt=n(6846),Wt=n(567);function jt(e){var t=qt();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function qt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qt=function(){return!!e})()}var Ht=function(e){(0,Dt.default)(n,e);var t=jt(n);function n(){return(0,b.default)(this,n),t.apply(this,arguments)}return(0,k.default)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,i=r.grads;if(null!=n){var o=n.map((function(e){return{name:e.name,tensor:i[e.name]}}));this.applyGradients(o)}else this.applyGradients(i);return(0,Pt.dispose)(i),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,Gt.variableGrads)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,Pt.dispose)(this.iterations_)}},{key:"saveIterations",value:function(){var e=(0,w.default)((function*(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:(0,Wt.scalar)(this.iterations_,"int32")}}));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){throw new Error("getWeights() is not implemented for this optimizer yet.")}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=(0,w.default)((function*(e){return this.iterations_=(yield e[0].tensor.data())[0],e.slice(1)}));return function(t){return e.apply(this,arguments)}}()}]),n}(Ct);function Kt(e){var t=Xt();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function Xt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xt=function(){return!!e})()}Object.defineProperty(Ht,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var Yt=function(e){(0,Dt.default)(n,e);var t=Kt(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,b.default)(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=i,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==i&&(a.epsilon=p.ENGINE.backend.epsilon()),a}return(0,k.default)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=p.ENGINE.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:`${n}/accum_grad`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:`${n}/accum_var`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(a).variable(false)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;(0,Pt.tidy)((function(){var e=(0,Mt.add)((0,zt.mul)(o,t.rho),(0,zt.mul)((0,Vt.square)(i),1-t.rho)),n=(0,zt.mul)((0,Lt.div)((0,Bt.sqrt)((0,Mt.add)(s,t.epsilon)),(0,Bt.sqrt)((0,Mt.add)(o,t.epsilon))),i),r=(0,Mt.add)((0,zt.mul)(s,t.rho),(0,zt.mul)((0,Vt.square)(n),1-t.rho));o.assign(e),s.assign(r);var u=(0,Mt.add)((0,zt.mul)(n,-t.learningRate),a);a.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,Pt.dispose)(this.accumulatedGrads.map((function(e){return e.variable}))),(0,Pt.dispose)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){var e=[].concat((0,Pe.default)(this.accumulatedGrads),(0,Pe.default)(this.accumulatedUpdates));return[yield this.saveIterations()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){var t=(e=yield this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}))}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(Ht);Yt.className="Adadelta",It(Yt);var Zt=n(5107);function Qt(e){var t=Jt();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function Jt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jt=function(){return!!e})()}var en=function(e){(0,Dt.default)(n,e);var t=Qt(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,b.default)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return(0,k.default)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=p.ENGINE.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:`${n}/accumulator`,variable:(0,Pt.tidy)((function(){return(0,Zt.fill)(a.shape,t.initialAccumulatorValue).variable(false)}))}}var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var o=t.accumulatedGrads[r].variable;(0,Pt.tidy)((function(){var e=(0,Mt.add)(o,(0,Vt.square)(i));o.assign(e);var n=(0,Mt.add)((0,zt.mul)((0,Lt.div)(i,(0,Bt.sqrt)((0,Mt.add)(e,p.ENGINE.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,Pt.dispose)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){return[yield this.saveIterations()].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}})))}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){e=yield this.extractIterations(e);this.accumulatedGrads=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}))}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(Ht);en.className="Adagrad",It(en);var tn=n(7376),nn=n(7619);function rn(e){var t=an();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function an(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(an=function(){return!!e})()}var on=function(e){(0,Dt.default)(n,e);var t=rn(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,b.default)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.accumulatedFirstMoment=[],i.accumulatedSecondMoment=[],(0,Pt.tidy)((function(){i.accBeta1=(0,Wt.scalar)(r).variable(),i.accBeta2=(0,Wt.scalar)(a).variable()})),null==o&&(i.epsilon=p.ENGINE.backend.epsilon()),i}return(0,k.default)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,Pt.tidy)((function(){var r=(0,nn.sub)(1,t.accBeta1),a=(0,nn.sub)(1,t.accBeta2);n.forEach((function(n,i){var o=p.ENGINE.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:`${n}/m`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(o).variable(false)}))}),null==t.accumulatedSecondMoment[i]&&(t.accumulatedSecondMoment[i]={originalName:`${n}/v`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(o).variable(false)}))});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,l=t.accumulatedSecondMoment[i].variable,c=(0,Mt.add)((0,zt.mul)(u,t.beta1),(0,zt.mul)(s,1-t.beta1)),d=(0,Mt.add)((0,zt.mul)(l,t.beta2),(0,zt.mul)((0,Vt.square)(s),1-t.beta2)),f=(0,Lt.div)(c,r),h=(0,Lt.div)(d,a);u.assign(c),l.assign(d);var m=(0,Mt.add)((0,zt.mul)((0,Lt.div)(f,(0,Mt.add)((0,Bt.sqrt)(h),t.epsilon)),-t.learningRate),o);o.assign(m)}})),t.accBeta1.assign((0,zt.mul)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,zt.mul)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,Pt.dispose)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&(0,Pt.dispose)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){var e=[].concat((0,Pe.default)(this.accumulatedFirstMoment),(0,Pe.default)(this.accumulatedSecondMoment));return[yield this.saveIterations()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){var t=this;e=yield this.extractIterations(e),(0,Pt.tidy)((function(){t.accBeta1.assign((0,tn.pow)(t.beta1,t.iterations_+1)),t.accBeta2.assign((0,tn.pow)(t.beta2,t.iterations_+1))}));var n=e.length/2;this.accumulatedFirstMoment=e.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=e.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}))}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(Ht);on.className="Adam",It(on);var sn=n(4294),un=n(7740);function ln(e){var t=cn();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function cn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(cn=function(){return!!e})()}var dn=function(e){(0,Dt.default)(n,e);var t=ln(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,b.default)(this,n),(i=t.call(this)).learningRate=e,i.beta1=r,i.beta2=a,i.epsilon=o,i.decay=s,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],(0,Pt.tidy)((function(){i.iteration=(0,Wt.scalar)(0).variable(),i.accBeta1=(0,Wt.scalar)(r).variable()})),null==o&&(i.epsilon=p.ENGINE.backend.epsilon()),i}return(0,k.default)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,Pt.tidy)((function(){var r=(0,nn.sub)(1,t.accBeta1),a=(0,Lt.div)(-t.learningRate,(0,Mt.add)((0,zt.mul)(t.iteration,t.decay),1));n.forEach((function(n,i){var o=p.ENGINE.registeredVariables[n];null==t.accumulatedFirstMoment[i]&&(t.accumulatedFirstMoment[i]={originalName:`${n}/m`,variable:(0,Ut.zerosLike)(o).variable(false)}),null==t.accumulatedWeightedInfNorm[i]&&(t.accumulatedWeightedInfNorm[i]={originalName:`${n}/v`,variable:(0,Ut.zerosLike)(o).variable(false)});var s=Array.isArray(e)?e[i].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[i].variable,l=t.accumulatedWeightedInfNorm[i].variable,c=(0,Mt.add)((0,zt.mul)(u,t.beta1),(0,zt.mul)(s,1-t.beta1)),d=(0,zt.mul)(l,t.beta2),f=(0,sn.abs)(s),h=(0,un.maximum)(d,f);u.assign(c),l.assign(h);var m=(0,Mt.add)((0,zt.mul)((0,Lt.div)(a,r),(0,Lt.div)(c,(0,Mt.add)(h,t.epsilon))),o);o.assign(m)}})),t.iteration.assign((0,Mt.add)(t.iteration,1)),t.accBeta1.assign((0,zt.mul)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,Pt.dispose)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&(0,Pt.dispose)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){throw new Error("getWeights() is not implemented for Adamax yet.")}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){throw new Error("setWeights() is not implemented for Adamax yet.")}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(Ht);function fn(e){var t=pn();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function pn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pn=function(){return!!e})()}dn.className="Adamax",It(dn);var hn=function(e){(0,Dt.default)(n,e);var t=fn(n);function n(e){var r;return(0,b.default)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,k.default)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=p.ENGINE.registeredVariables[n];(0,Pt.tidy)((function(){var e=(0,Mt.add)((0,zt.mul)(t.c,a),i);i.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,Pt.keep)((0,Wt.scalar)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){return[yield this.saveIterations()]}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){if(0!==(e=yield this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(Ht);function mn(e){var t=vn();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function vn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vn=function(){return!!e})()}hn.className="SGD",It(hn);var gn=function(e){(0,Dt.default)(n,e);var t=mn(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,b.default)(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=i,a.accumulations=[],a.m=(0,Wt.scalar)(a.momentum),a}return(0,k.default)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=p.ENGINE.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:`${n}/momentum`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(a).variable(false)}))}}var i=t.accumulations[r].variable,o=Array.isArray(e)?e[r].tensor:e[n];null!=o&&(0,Pt.tidy)((function(){var e,n=(0,Mt.add)((0,zt.mul)(t.m,i),o);e=t.useNesterov?(0,Mt.add)((0,zt.mul)(t.c,(0,Mt.add)(o,(0,zt.mul)(n,t.m))),a):(0,Mt.add)((0,zt.mul)(t.c,n),a),i.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,Pt.dispose)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){return[yield this.saveIterations()].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}})))}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){e=yield this.extractIterations(e);this.accumulations=e.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}))}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(hn);function yn(e){var t=bn();return function(){var n,r=(0,$t.default)(e);if(t){var a=(0,$t.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ft.default)(this,n)}}function bn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bn=function(){return!!e})()}gn.className="Momentum",It(gn);var kn=function(e){(0,Dt.default)(n,e);var t=yn(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,b.default)(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=i,r.epsilon=o,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==o&&(r.epsilon=p.ENGINE.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,k.default)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=p.ENGINE.registeredVariables[n],i=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:`${n}/rms`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(a).variable(i)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:`${n}/momentum`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(a).variable(i)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:`${n}/mg`,variable:(0,Pt.tidy)((function(){return(0,Ut.zerosLike)(a).variable(i)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;(0,Pt.tidy)((function(){var e=(0,Mt.add)((0,zt.mul)(s,t.decay),(0,zt.mul)((0,Vt.square)(o),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,i=(0,Mt.add)((0,zt.mul)(n,t.decay),(0,zt.mul)(o,1-t.decay)),l=(0,Lt.div)((0,zt.mul)(o,t.learningRate),(0,Bt.sqrt)((0,nn.sub)(e,(0,Mt.add)((0,Vt.square)(i),t.epsilon)))),c=(0,Mt.add)((0,zt.mul)(u,t.momentum),l);s.assign(e),n.assign(i),u.assign(c);var d=(0,nn.sub)(a,c);a.assign(d)}else{var f=(0,Mt.add)((0,zt.mul)(s,t.decay),(0,zt.mul)((0,Vt.square)(o),1-t.decay)),p=(0,Mt.add)((0,zt.mul)(u,t.momentum),(0,Lt.div)((0,zt.mul)(o,t.learningRate),(0,Bt.sqrt)((0,Mt.add)(f,t.epsilon))));s.assign(f),u.assign(p);var h=(0,nn.sub)(a,p);a.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,Pt.dispose)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&(0,Pt.dispose)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&(0,Pt.dispose)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,w.default)((function*(){var e=[].concat((0,Pe.default)(this.accumulatedMeanSquares),(0,Pe.default)(this.accumulatedMoments));return this.centered&&e.push.apply(e,(0,Pe.default)(this.accumulatedMeanGrads)),[yield this.saveIterations()].concat(e.map((function(e){return{name:e.originalName,tensor:e.variable}})))}));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,w.default)((function*(e){e=yield this.extractIterations(e);var t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(n)}})),this.accumulatedMoments=e.slice(t,2*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(n)}})),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((function(e){return{originalName:e.name,variable:e.tensor.variable(n)}})))}));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(Ht);kn.className="RMSProp",It(kn);var wn=function(){function e(){(0,b.default)(this,e)}return(0,k.default)(e,null,[{key:"sgd",value:function(e){return new hn(e)}},{key:"momentum",value:function(e,t){return new gn(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2])}},{key:"rmsprop",value:function(e){return new kn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]&&arguments[4])}},{key:"adam",value:function(){return new on(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)}},{key:"adadelta",value:function(){return new Yt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"adamax",value:function(){return new dn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0)}},{key:"adagrad",value:function(e){return new en(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1)}}]),e}(),xn=n(7025),Sn=n(2477),Tn=n(7569),En={sgd:wn.sgd,momentum:wn.momentum,adadelta:wn.adadelta,adagrad:wn.adagrad,rmsprop:wn.rmsprop,adamax:wn.adamax,adam:wn.adam},Cn="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function Nn(){return new Promise((function(e){return Cn((function(){return e()}))}))}var In=n(4174);function _n(e,t){var n=e[0].length;e.forEach((function(e,t){E.assert(e.length===n,(function(){return`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`}))})),E.assert(t>=0&&t<n,(function(){return`Error in concat${n}D: axis must be between 0 and ${n-1}.`}));var r=e[0];e.forEach((function(e,a){for(var i=0;i<n;i++)E.assert(i===t||e[i]===r[i],(function(){return`Error in concat${n}D: Shape of tensors[${a}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${a}.`}))}))}function Rn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var An,On=n(6747),Dn=n(477);function Fn(e,t,n){var r=new Array;if(null==n&&null==t)return r;if(null==t)for(;r.length<e+n.length;)r.push(-1);else r=t.slice();if(null==n)return r;if(e+n.length!==r.length)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.rank = ${e+n.length}, but shape.rank = ${r.length}`);for(var a=1;a<n.length;++a){var i=n[a],o=r[r.length-n.length+a],s=r[o];if(i>=0)if(s>=0){if(s!==i)throw new Error(`rt input.shape and shape=${t} are incompatible: rt input.shape[${a+e}] = ${i} but shape[${a+e}] = ${s}`)}else r[o]=i}return r}function $n(e){var t={FIRST_DIM_SIZE:An.FIRST_DIM_SIZE,VALUE_ROWIDS:An.VALUE_ROWIDS,ROW_LENGTHS:An.ROW_LENGTHS,ROW_SPLITS:An.ROW_SPLITS,ROW_LIMITS:An.ROW_LIMITS,ROW_STARTS:An.ROW_STARTS},n=[];for(var r of e){if(!(r in t))break;n.push(t[r])}return n}function Pn(e){return 0===e.length?0:e[0]===An.FIRST_DIM_SIZE?e.length-1:e.length}function Mn(e,t){if(null!=e&&null!=t){var n=e.length,r=t.length;if(n>=r)throw new Error(`defaultValue.shape=${e} and ragged tensor flatValues.shape=${t}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(var a=0;a<Math.min(n,r-1);++a){var i=e[a],o=t[a+1];if(i>=0&&o>=0&&1!==i&&i!==o)throw new Error(`defaultValue.shape=${e}, and ragged tensor input flatValues.shape=${t} are incompatible: defaultValue.shape[${a-e.length}] = ${i} but ragged tensor input.flatValues.shape[${a-e.length}] = ${o}`)}}}!function(e){e[e.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",e[e.VALUE_ROWIDS=1]="VALUE_ROWIDS",e[e.ROW_LENGTHS=2]="ROW_LENGTHS",e[e.ROW_SPLITS=3]="ROW_SPLITS",e[e.ROW_LIMITS=4]="ROW_LIMITS",e[e.ROW_STARTS=5]="ROW_STARTS"}(An||(An={}));var Ln=30;function zn(e){return e<=Ln?e:(0,E.nearestDivisor)(e,Math.floor(Math.sqrt(e)))}function Bn(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function Vn(e,t,n){var r=[];if(!(arguments.length>3&&void 0!==arguments[3])||arguments[3])(r=r.concat(t.slice(0))).push(e[0]/n),r=r.concat(e.slice(1));else{r=r.concat(e[0]);for(var a=t.length,i=0;i<a;++i)r=r.concat([e[i+1]/t[i],t[i]]);r=r.concat(e.slice(a+1))}return r}function Un(e,t){var n=[];if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){n.push(t);for(var r=t+1;r<e;++r)r<=2*t?(n.push(r),n.push(r-(t+1))):n.push(r)}else{for(var a=[],i=[],o=1;o<e;++o)o>=2*t+1||o%2===1?i.push(o):a.push(o);n.push.apply(n,a),n.push(0),n.push.apply(n,i)}return n}function Gn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var i=1;i<e.length;++i)i<=t.length?r?a.push(t[i-1]*e[i]):a.push(e[i]/t[i-1]):a.push(e[i]);return a}function Wn(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function jn(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}var qn=n(917),Hn=.3275911,Kn=.254829592,Xn=-.284496736,Yn=1.421413741,Zn=-1.453152027,Qn=1.061405429,Jn=n(7956);function er(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function tr(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function nr(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function rr(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function ar(e,t){return{real:e[2*t],imag:e[2*t+1]}}function ir(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function or(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var i=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(i),r[a]=Math.sin(i)}return{real:n,imag:r}}function sr(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var ur="->",lr=/->/g,cr=",",dr="...";function fr(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(lr,"").length)/ur.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${ur}").`);var r=e.split(ur),a=(0,x.default)(r,2),i=a[0],o=a[1];(0,E.assert)(-1===i.indexOf(dr),(function(){return`The ellipsis notation ("${dr}") is not supported yet.`}));var s=i.split(cr),u=s.length;if(t!==u)throw new Error(`Expected ${u} input tensors, received ${t}`);if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var l=[],c=function(e){var t=o[e];if(!s.some((function(e){return-1!==e.indexOf(t)})))throw new Error(`Output subscripts contain the label ${t} not present in the input subscripts.`);-1===l.indexOf(t)&&l.push(t)},d=0;d<o.length;++d)c(d);for(var f=0;f<i.length;++f){var p=i[f];-1===l.indexOf(p)&&p!==cr&&l.push(p)}for(var h=new Array(s.length),m=0;m<u;++m){if(new Set(s[m].split("")).size!==s[m].length)throw new Error(`Found duplicate axes in input component ${s[m]}. Support for duplicate axes in input is not implemented yet.`);h[m]=[];for(var v=0;v<s[m].length;++v)h[m].push(l.indexOf(s[m][v]))}for(var g=l.length,y=[],b=o.length;b<g;++b)y.push(b);return{allDims:l,summedDims:y,idDims:h}}function pr(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],i=0;i<e;++i)-1===n[i]&&a.push(i);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:a}}function hr(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,i=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:(0,E.assert)(r[t[e][n]]===a[n],(function(){return`Expected dimension ${r[t[e][n]]} at axis ${n} of input shaped ${JSON.stringify(a)}, but got dimension ${a[n]}`}))},o=0;o<t[e].length;++o)i(o)},i=0;i<n.length;++i)a(i)}function mr(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var i=0;i<n;++i)a.push([]);for(var o=[],s=0;s<r.length;++s){var u=gr(t,r[s]);for(var l of u)-1===o.indexOf(l)&&(a[s].push(l),o.push(l))}return{path:r,steps:a}}function vr(e){return e.every((function(e,t){return e===t}))}function gr(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function yr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)(0,E.assert)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);(0,E.assert)(a<=1,(function(){return"There should be only one negative value in split array."}));var i=t.indexOf(-1);if(-1!==i){var o=t.reduce((function(e,t){return t>0?e+t:e}));t[i]=e.shape[n]-o}(0,E.assert)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function br(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function kr(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function wr(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function xr(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function Sr(e,t){return`size ${e} must be non-negative, not ${t}`}function Tr(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function Er(e,t){return`Input to reshape is a SparseTensor with ${(0,E.sizeFromShape)(e)}\n  dense values, but the requested shape requires a multiple of ${(0,E.sizeFromShape)(t)}. inputShape=${e} outputShape= ${t}`}function Cr(e,t){return`Input to reshape is a tensor with ${(0,E.sizeFromShape)(e)} dense values, but the requested shape has ${(0,E.sizeFromShape)(t)}. inputShape=${e} outputShape=${t}`}function Nr(){return"segment ids must be >= 0"}function Ir(){return"segment ids are not increasing"}function _r(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function Rr(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function Ar(e,t){var n,r=!1;for(e<=Ln?(n=e,r=!0):n=(0,E.nearestDivisor)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,E.nearestDivisor)(e,n+1);return n}function Or(e,t,n){for(var r=[],a=e.length,i=0;i<a;i++)i!==t?r.push(e[i]):r.push(n);return r}function Dr(e,t,n,r){var a=t.shape.length,i=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>i)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${i}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(var o=0;o<r;++o)if(e.shape[o]!==t.shape[o])throw new Error(`x.shape[${o}]: ${e.shape[o]} should be equal to indices.shape[${o}]: ${t.shape[o]}.`);for(var s=e.shape[n],u=[],l=1,c=1,d=1,f=0;f<r;++f)u.push(e.shape[f]),l*=e.shape[f];for(var p=r;p<n;p++)u.push(e.shape[p]),c*=e.shape[p];for(var h=r;h<a;h++)u.push(t.shape[h]);for(var m=n+1;m<i;m++)u.push(e.shape[m]),d*=e.shape[m];return{batchSize:l,sliceSize:d,outerSize:c,dimSize:s,outputShape:u}}function Fr(e){try{return e.map((function(e){return(0,At.decodeString)(e)}))}catch(zr){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${zr}`)}}function $r(e){return e.map((function(e){return(0,At.encodeString)(e)}))}var Pr=n(4192),Mr=n(1889),Lr=n(1140)},3416:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Abs:()=>r,Acos:()=>a,Acosh:()=>i,Add:()=>o,AddN:()=>s,All:()=>u,Any:()=>l,ArgMax:()=>c,ArgMin:()=>d,Asin:()=>f,Asinh:()=>p,Atan:()=>h,Atan2:()=>v,Atanh:()=>m,AvgPool:()=>g,AvgPool3D:()=>b,AvgPool3DGrad:()=>k,AvgPoolGrad:()=>y,BatchMatMul:()=>w,BatchToSpaceND:()=>x,Bincount:()=>S,BroadcastArgs:()=>E,BroadcastTo:()=>T,Cast:()=>C,Ceil:()=>N,ClipByValue:()=>I,Complex:()=>_,ComplexAbs:()=>R,Concat:()=>A,Conv2D:()=>O,Conv2DBackpropFilter:()=>D,Conv2DBackpropInput:()=>F,Conv3D:()=>$,Conv3DBackpropFilterV2:()=>P,Conv3DBackpropInputV2:()=>M,Cos:()=>L,Cosh:()=>z,CropAndResize:()=>U,Cumprod:()=>B,Cumsum:()=>V,DenseBincount:()=>G,DepthToSpace:()=>W,DepthwiseConv2dNative:()=>j,DepthwiseConv2dNativeBackpropFilter:()=>q,DepthwiseConv2dNativeBackpropInput:()=>H,Diag:()=>K,Dilation2D:()=>X,Dilation2DBackpropFilter:()=>Z,Dilation2DBackpropInput:()=>Y,Einsum:()=>J,Elu:()=>ee,EluGrad:()=>te,Equal:()=>re,Erf:()=>ne,Exp:()=>ae,ExpandDims:()=>ie,Expm1:()=>oe,FFT:()=>se,Fill:()=>ue,FlipLeftRight:()=>le,Floor:()=>ce,FloorDiv:()=>de,FromPixels:()=>cn,FusedBatchNorm:()=>fe,FusedConv2D:()=>pn,FusedDepthwiseConv2D:()=>hn,GatherNd:()=>he,GatherV2:()=>pe,Greater:()=>me,GreaterEqual:()=>ve,IFFT:()=>ye,Identity:()=>ge,Imag:()=>be,IsFinite:()=>ke,IsInf:()=>we,IsNan:()=>xe,LRN:()=>$e,LRNGrad:()=>Pe,LeakyRelu:()=>Se,Less:()=>Te,LessEqual:()=>Ee,LinSpace:()=>Ce,Log:()=>Ne,Log1p:()=>Ie,LogSoftmax:()=>De,LogicalAnd:()=>_e,LogicalNot:()=>Re,LogicalOr:()=>Ae,LogicalXor:()=>Oe,LowerBound:()=>Fe,Max:()=>Me,MaxPool:()=>ze,MaxPool3D:()=>Ve,MaxPool3DGrad:()=>Ue,MaxPoolGrad:()=>Be,MaxPoolWithArgmax:()=>Ge,Maximum:()=>Le,Mean:()=>We,Min:()=>je,Minimum:()=>qe,MirrorPad:()=>He,Mod:()=>Ke,Multinomial:()=>Xe,Multiply:()=>Ye,Neg:()=>Ze,NonMaxSuppressionV3:()=>Je,NonMaxSuppressionV4:()=>et,NonMaxSuppressionV5:()=>tt,NotEqual:()=>Qe,OneHot:()=>rt,OnesLike:()=>nt,Pack:()=>at,PadV2:()=>it,Pool:()=>ot,Pow:()=>st,Prelu:()=>ut,Prod:()=>lt,RaggedTensorToTensor:()=>ct,Range:()=>dt,Real:()=>ft,RealDiv:()=>Q,Reciprocal:()=>pt,Relu:()=>ht,Relu6:()=>kt,Reshape:()=>mt,ResizeBilinear:()=>yt,ResizeBilinearGrad:()=>bt,ResizeNearestNeighbor:()=>vt,ResizeNearestNeighborGrad:()=>gt,Reverse:()=>wt,RotateWithOffset:()=>dn,Round:()=>xt,Rsqrt:()=>St,ScatterNd:()=>Tt,SearchSorted:()=>Et,Select:()=>Ct,Selu:()=>Nt,Sigmoid:()=>Ot,Sign:()=>At,Sin:()=>_t,Sinh:()=>Rt,Slice:()=>It,Softmax:()=>Lt,Softplus:()=>Dt,SpaceToBatchND:()=>Pt,SparseFillEmptyRows:()=>zt,SparseReshape:()=>Bt,SparseSegmentMean:()=>Vt,SparseSegmentSum:()=>Ut,SparseToDense:()=>Gt,SplitV:()=>Mt,Sqrt:()=>Ft,Square:()=>jt,SquaredDifference:()=>Wt,Step:()=>ln,StridedSlice:()=>qt,StringNGrams:()=>Ht,StringSplit:()=>Kt,StringToHashBucketFast:()=>Xt,Sub:()=>Yt,Sum:()=>$t,Tan:()=>Zt,Tanh:()=>Qt,Tile:()=>Jt,TopK:()=>en,Transform:()=>tn,Transpose:()=>nn,Unique:()=>rn,Unpack:()=>an,UnsortedSegmentSum:()=>on,UpperBound:()=>sn,ZerosLike:()=>un,_FusedMatMul:()=>fn});var r="Abs",a="Acos",i="Acosh",o="Add",s="AddN",u="All",l="Any",c="ArgMax",d="ArgMin",f="Asin",p="Asinh",h="Atan",m="Atanh",v="Atan2",g="AvgPool",y="AvgPoolGrad",b="AvgPool3D",k="AvgPool3DGrad",w="BatchMatMul",x="BatchToSpaceND",S="Bincount",T="BroadcastTo",E="BroadcastArgs",C="Cast",N="Ceil",I="ClipByValue",_="Complex",R="ComplexAbs",A="Concat",O="Conv2D",D="Conv2DBackpropFilter",F="Conv2DBackpropInput",$="Conv3D",P="Conv3DBackpropFilterV2",M="Conv3DBackpropInputV2",L="Cos",z="Cosh",B="Cumprod",V="Cumsum",U="CropAndResize",G="DenseBincount",W="DepthToSpace",j="DepthwiseConv2dNative",q="DepthwiseConv2dNativeBackpropFilter",H="DepthwiseConv2dNativeBackpropInput",K="Diag",X="Dilation2D",Y="Dilation2DBackpropInput",Z="Dilation2DBackpropFilter",Q="RealDiv",J="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ae="Exp",ie="ExpandDims",oe="Expm1",se="FFT",ue="Fill",le="FlipLeftRight",ce="Floor",de="FloorDiv",fe="FusedBatchNorm",pe="GatherV2",he="GatherNd",me="Greater",ve="GreaterEqual",ge="Identity",ye="IFFT",be="Imag",ke="IsFinite",we="IsInf",xe="IsNan",Se="LeakyRelu",Te="Less",Ee="LessEqual",Ce="LinSpace",Ne="Log",Ie="Log1p",_e="LogicalAnd",Re="LogicalNot",Ae="LogicalOr",Oe="LogicalXor",De="LogSoftmax",Fe="LowerBound",$e="LRN",Pe="LRNGrad",Me="Max",Le="Maximum",ze="MaxPool",Be="MaxPoolGrad",Ve="MaxPool3D",Ue="MaxPool3DGrad",Ge="MaxPoolWithArgmax",We="Mean",je="Min",qe="Minimum",He="MirrorPad",Ke="Mod",Xe="Multinomial",Ye="Multiply",Ze="Neg",Qe="NotEqual",Je="NonMaxSuppressionV3",et="NonMaxSuppressionV4",tt="NonMaxSuppressionV5",nt="OnesLike",rt="OneHot",at="Pack",it="PadV2",ot="Pool",st="Pow",ut="Prelu",lt="Prod",ct="RaggedTensorToTensor",dt="Range",ft="Real",pt="Reciprocal",ht="Relu",mt="Reshape",vt="ResizeNearestNeighbor",gt="ResizeNearestNeighborGrad",yt="ResizeBilinear",bt="ResizeBilinearGrad",kt="Relu6",wt="Reverse",xt="Round",St="Rsqrt",Tt="ScatterNd",Et="SearchSorted",Ct="Select",Nt="Selu",It="Slice",_t="Sin",Rt="Sinh",At="Sign",Ot="Sigmoid",Dt="Softplus",Ft="Sqrt",$t="Sum",Pt="SpaceToBatchND",Mt="SplitV",Lt="Softmax",zt="SparseFillEmptyRows",Bt="SparseReshape",Vt="SparseSegmentMean",Ut="SparseSegmentSum",Gt="SparseToDense",Wt="SquaredDifference",jt="Square",qt="StridedSlice",Ht="StringNGrams",Kt="StringSplit",Xt="StringToHashBucketFast",Yt="Sub",Zt="Tan",Qt="Tanh",Jt="Tile",en="TopK",tn="Transform",nn="Transpose",rn="Unique",an="Unpack",on="UnsortedSegmentSum",sn="UpperBound",un="ZerosLike",ln="Step",cn="FromPixels",dn="RotateWithOffset",fn="_FusedMatMul",pn="FusedConv2D",hn="FusedDepthwiseConv2D"},7643:(e,t,n)=>{"use strict";n.r(t),n.d(t,{copyRegisteredKernels:()=>v,getGradient:()=>c,getKernel:()=>l,getKernelsForBackend:()=>d,registerGradient:()=>p,registerKernel:()=>f,unregisterGradient:()=>m,unregisterKernel:()=>h});var r=n(885),a=n(4227),i=n(5225),o=n(7956),s=(0,i.getGlobal)("kernelRegistry",(function(){return new Map})),u=(0,i.getGlobal)("gradRegistry",(function(){return new Map}));function l(e,t){var n=g(e,t);return s.get(n)}function c(e){return u.get(e)}function d(e){for(var t=s.entries(),n=[];;){var a=t.next(),i=a.done,o=a.value;if(i)break;var u=(0,r.default)(o,2),l=u[0],c=u[1],d=l.split("_");(0,r.default)(d,1)[0]===e&&n.push(c)}return n}function f(e){var t=e.kernelName,n=e.backendName,r=g(t,n);s.has(r)&&o.warn(`The kernel '${t}' for backend '${n}' is already registered`),s.set(r,e)}function p(e){var t=e.kernelName;u.has(t)&&(0,a.env)().getBool("DEBUG")&&o.warn(`Overriding the gradient for '${t}'`),u.set(t,e)}function h(e,t){var n=g(e,t);if(!s.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);s.delete(n)}function m(e){if(!u.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);u.delete(e)}function v(e,t){d(e).forEach((function(e){f(Object.assign({},e,{backendName:t}))}))}function g(e,t){return`${t}_${e}`}},7956:(e,t,n)=>{"use strict";n.r(t),n.d(t,{log:()=>i,warn:()=>a});var r=n(4227);function a(){var e;(0,r.env)().getBool("IS_TEST")||(0,r.env)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function i(){var e;(0,r.env)().getBool("IS_TEST")||(0,r.env)().getBool("PROD")||(e=console).log.apply(e,arguments)}},4294:(e,t,n)=>{"use strict";n.r(t),n.d(t,{abs:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({abs_:function(e){var t=(0,i.convertToTensor)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.ENGINE.runKernel(a.ComplexAbs,n)}var o={x:t};return r.ENGINE.runKernel(a.Abs,o)}})},8710:(e,t,n)=>{"use strict";n.r(t),n.d(t,{acos:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({acos_:function(e){var t={x:(0,i.convertToTensor)(e,"x","acos")};return r.ENGINE.runKernel(a.Acos,t)}})},9899:(e,t,n)=>{"use strict";n.r(t),n.d(t,{acosh:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({acosh_:function(e){var t={x:(0,i.convertToTensor)(e,"x","acosh")};return r.ENGINE.runKernel(a.Acosh,t)}})},4453:(e,t,n)=>{"use strict";n.r(t),n.d(t,{add:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({add_:function(e,t){var n=(0,s.convertToTensor)(e,"a","add"),u=(0,s.convertToTensor)(t,"b","add"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.default)(l,2),d={a:n=c[0],b:u=c[1]};return a.ENGINE.runKernel(i.Add,d)}})},7794:(e,t,n)=>{"use strict";n.r(t),n.d(t,{all:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:(0,i.convertToTensor)(e,"x","all","bool")},s={axis:t,keepDims:n};return r.ENGINE.runKernel(a.All,o,s)}})},2712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{any:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:(0,i.convertToTensor)(e,"x","any","bool")},s={axis:t,keepDims:n};return r.ENGINE.runKernel(a.Any,o,s)}})},1250:(e,t,n)=>{"use strict";n.r(t),n.d(t,{argMax:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:(0,i.convertToTensor)(e,"x","argMax")},o={axis:t};return r.ENGINE.runKernel(a.ArgMax,n,o)}})},4679:(e,t,n)=>{"use strict";n.r(t),n.d(t,{argMin:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:(0,i.convertToTensor)(e,"x","argMin")},o={axis:t};return r.ENGINE.runKernel(a.ArgMin,n,o)}})},7503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{asin:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({asin_:function(e){var t={x:(0,i.convertToTensor)(e,"x","asin")};return r.ENGINE.runKernel(a.Asin,t)}})},8373:(e,t,n)=>{"use strict";n.r(t),n.d(t,{asinh:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({asinh_:function(e){var t={x:(0,i.convertToTensor)(e,"x","asinh")};return r.ENGINE.runKernel(a.Asinh,t)}})},1767:(e,t,n)=>{"use strict";n.r(t),n.d(t,{atan:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({atan_:function(e){var t={x:(0,i.convertToTensor)(e,"x","atan")};return r.ENGINE.runKernel(a.Atan,t)}})},1583:(e,t,n)=>{"use strict";n.r(t),n.d(t,{atan2:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({atan2_:function(e,t){var n=(0,s.convertToTensor)(e,"a","atan2"),u=(0,s.convertToTensor)(t,"b","atan2"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.default)(l,2),d={a:n=c[0],b:u=c[1]};return a.ENGINE.runKernel(i.Atan2,d)}})},3882:(e,t,n)=>{"use strict";n.r(t),n.d(t,{atanh:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({atanh_:function(e){var t={x:(0,i.convertToTensor)(e,"x","atanh")};return r.ENGINE.runKernel(a.Atanh,t)}})},9567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{avgPool:()=>d});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(4395),u=n(6747),l=n(7915),c=n(9966);var d=(0,l.op)({avgPool_:function(e,t,n,l,d){var f=(0,i.convertToTensor)(e,"x","avgPool","float32");o.assert(u.eitherStridesOrDilationsAreOne(n,1),(function(){return`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`}));var p=f,h=!1;3===f.rank&&(h=!0,p=(0,c.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),o.assert(4===p.rank,(function(){return`Error in avgPool: x must be rank 4 but got rank ${p.rank}.`})),u.checkPadOnDimRoundingMode("avgPool",l,d);var m={x:p},v={filterSize:t,strides:n,pad:l,dimRoundingMode:d},g=r.ENGINE.runKernel(a.AvgPool,m,v);return g=(0,s.cast)(g,f.dtype),h?(0,c.reshape)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},4174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertAxesAreInnerMostDims:()=>u,axesAreInnerMostDims:()=>a,combineLocations:()=>i,computeOutAndReduceShapes:()=>o,expandShapeToKeepDim:()=>s,getAxesPermutation:()=>l,getInnerMostAxes:()=>d,getUndoAxesPermutation:()=>c});var r=n(7806);function a(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function i(e,t,n){for(var r=e.length+t.length,a=[],i=0,o=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[i++]):a.push(t[o++]);return a}function o(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var i=t.map((function(t){return e[t]}));return[n,i]}function s(e,t){return i(e,t.map((function(e){return 1})),t)}function u(e,t,n){r.assert(a(t,n),(function(){return`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`}))}function l(e,t){if(a(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function c(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function d(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},4363:(e,t,n)=>{"use strict";n.r(t),n.d(t,{batchToSpaceND:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({batchToSpaceND_:function(e,t,n){var s=(0,i.convertToTensor)(e,"x","batchToSpaceND"),u=t.reduce((function(e,t){return e*t}));o.assert(s.rank>=1+t.length,(function(){return`input rank is ${s.rank} but should be > than blockShape.length ${t.length}`})),o.assert(n.length===t.length,(function(){return`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`})),o.assert(s.shape[0]%u===0,(function(){return`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${u}`}));var l={x:s},c={blockShape:t,crops:n};return r.ENGINE.runKernel(a.BatchToSpaceND,l,c)}})},5067:(e,t,n)=>{"use strict";n.r(t),n.d(t,{batchNorm:()=>u});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(9966);var u=(0,n(7915).op)({batchNorm_:function(e,t,n,u,l,c){null==c&&(c=.001);var d,f,p=(0,i.convertToTensor)(e,"x","batchNorm"),h=(0,i.convertToTensor)(t,"mean","batchNorm"),m=(0,i.convertToTensor)(n,"variance","batchNorm");null!=l&&(d=(0,i.convertToTensor)(l,"scale","batchNorm")),null!=u&&(f=(0,i.convertToTensor)(u,"offset","batchNorm")),o.assert(h.rank===m.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),o.assert(null==f||h.rank===f.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),o.assert(null==d||h.rank===d.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var v={x:function(e){return 0===e.rank||1===e.rank?(0,s.reshape)(e,[1,1,1,e.size]):2===e.rank?(0,s.reshape)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(p),scale:d,offset:f,mean:h,variance:m},g={varianceEpsilon:c},y=r.ENGINE.runKernel(a.FusedBatchNorm,v,g);return(0,s.reshape)(y,p.shape)}})},2010:(e,t,n)=>{"use strict";n.r(t),n.d(t,{broadcastTo:()=>l});var r=n(1945),a=n(3416),i=n(959),o=n(9813),s=n(7915),u=n(9966);var l=(0,s.op)({broadcastTo_:function(e,t){var n=(0,i.convertToTensor)(e,"broadcastTo","x"),s=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){for(var l=n.shape.slice();l.length<t.length;)l.unshift(1);n=(0,u.reshape)(n,l)}for(var c=n.shape,d=Array.from(t),f=t.length-1;f>=0;f--)if(c[f]===t[f])d[f]=1;else if(1!==n.shape[f])throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${t}].`);if(0===d.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0})).length)return(0,o.clone)(n);var p={x:n},h={reps:d};return r.ENGINE.runKernel(a.Tile,p,h)}})},2202:(e,t,n)=>{"use strict";function r(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var i=n-1-a,o=e[i]||1;(t[t.length-1-a]||1)>1&&1===o&&r.unshift(i)}return r}function a(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],i=t.length-r-1,o=t[i];(null==a||1===a&&o>1)&&n.unshift(i)}return n}function i(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var i=e[e.length-a-1];null==i&&(i=1);var o=t[t.length-a-1];if(null==o&&(o=1),1===i)n.unshift(o);else if(1===o)n.unshift(i);else{if(i!==o)throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`);n.unshift(i)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:()=>i,getBroadcastDims:()=>r,getReductionAxes:()=>a})},8263:(e,t,n)=>{"use strict";n.r(t),n.d(t,{buffer:()=>i});var r=n(3243),a=n(7806);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",a.assertNonNegativeIntegerDimensions(e),new r.TensorBuffer(e,t,n)}},4395:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cast:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({cast_:function(e,t){var n=(0,i.convertToTensor)(e,"x","cast");if(!o.isValidDtype(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.ENGINE.runKernel(a.Cast,s,u)}})},9526:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ceil:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({ceil_:function(e){var t={x:(0,i.convertToTensor)(e,"x","ceil","float32")};return r.ENGINE.runKernel(a.Ceil,t)}})},968:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clipByValue:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({clipByValue_:function(e,t,n){var s=(0,i.convertToTensor)(e,"x","clipByValue");o.assert(t<=n,(function(){return`Error in clip: min (${t}) must be less than or equal to max (${n}).`}));var u={x:s},l={clipValueMin:t,clipValueMax:n};return r.ENGINE.runKernel(a.ClipByValue,u,l)}})},9813:(e,t,n)=>{"use strict";n.r(t),n.d(t,{clone:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({clone_:function(e){var t={x:(0,i.convertToTensor)(e,"x","clone","string_or_numeric")};return r.ENGINE.runKernel(a.Identity,t)}})},7855:(e,t,n)=>{"use strict";n.r(t),n.d(t,{complex:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({complex_:function(e,t){var n=(0,i.convertToTensor)(e,"real","complex"),s=(0,i.convertToTensor)(t,"imag","complex");o.assertShapesMatch(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);var u={real:n,imag:s};return r.ENGINE.runKernel(a.Complex,u)}})},6890:(e,t,n)=>{"use strict";n.r(t),n.d(t,{concat:()=>u});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(9813);var u=(0,n(7915).op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,o.assert)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=(0,i.convertToTensorArray)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return(0,s.clone)(n[0]);var u=n,l={axis:t};return r.ENGINE.runKernel(a.Concat,u,l)}})},2549:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv1d:()=>l});var r=n(959),a=n(7806),i=n(2645),o=n(6747),s=n(7915),u=n(9966);var l=(0,s.op)({conv1d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,d=arguments.length>6?arguments[6]:void 0,f=(0,r.convertToTensor)(e,"x","conv1d"),p=(0,r.convertToTensor)(t,"filter","conv1d"),h=f,m=!1;2===f.rank&&(m=!0,h=(0,u.reshape)(f,[1,f.shape[0],f.shape[1]])),a.assert(3===h.rank,(function(){return`Error in conv1d: input must be rank 3, but got rank ${h.rank}.`})),a.assert(3===p.rank,(function(){return`Error in conv1d: filter must be rank 3, but got rank ${p.rank}.`})),o.checkPadOnDimRoundingMode("conv1d",s,d),a.assert(h.shape[2]===p.shape[1],(function(){return`Error in conv1d: depth of input (${h.shape[2]}) must match input depth for filter ${p.shape[1]}.`})),a.assert(o.eitherStridesOrDilationsAreOne(n,c),(function(){return`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${c}'`})),a.assert("NWC"===l,(function(){return`Error in conv1d: got dataFormat of ${l} but only NWC is currently supported.`}));var v=(0,u.reshape)(p,[1,p.shape[0],p.shape[1],p.shape[2]]),g=(0,u.reshape)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),y=[1,n],b=[1,c],k=(0,i.conv2d)(g,v,y,s,"NHWC",b,d);return m?(0,u.reshape)(k,[k.shape[2],k.shape[3]]):(0,u.reshape)(k,[k.shape[0],k.shape[2],k.shape[3]])}})},2645:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2d:()=>c});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(6747),u=n(7915),l=n(9966);var c=(0,u.op)({conv2d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,p=(0,i.convertToTensor)(e,"x","conv2d","float32"),h=(0,i.convertToTensor)(t,"filter","conv2d","float32"),m=p,v=!1;3===p.rank&&(v=!0,m=(0,l.reshape)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.assert(4===m.rank,(function(){return`Error in conv2d: input must be rank 4, but got rank ${m.rank}.`})),o.assert(4===h.rank,(function(){return`Error in conv2d: filter must be rank 4, but got rank ${h.rank}.`})),s.checkPadOnDimRoundingMode("conv2d",u,f);var g="NHWC"===c?m.shape[3]:m.shape[1];o.assert(g===h.shape[2],(function(){return`Error in conv2d: depth of input (${g}) must match input depth for filter ${h.shape[2]}.`})),o.assert(s.eitherStridesOrDilationsAreOne(n,d),(function(){return`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`}));var y={x:m,filter:h},b={strides:n,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f},k=r.ENGINE.runKernel(a.Conv2D,y,b);return v?(0,l.reshape)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},2496:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2DBackpropFilter:()=>l});var r=n(1945),a=n(3416),i=n(7806),o=n(6747),s=n(7915),u=n(9966);var l=(0,s.op)({conv2DBackpropFilter_:function(e,t,n,s,l){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0,f=e;3===e.rank&&(f=(0,u.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var p=t;3===p.rank&&(p=(0,u.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),i.assert(4===f.rank,(function(){return`Error in conv2dDerFilter: input must be rank 4, but got shape ${f.shape}.`})),i.assert(4===p.rank,(function(){return`Error in conv2dDerFilter: dy must be rank 4, but got shape ${p.shape}.`})),i.assert(4===n.length,(function(){return`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`}));var h="NHWC"===c?f.shape[3]:f.shape[1],m="NHWC"===c?p.shape[3]:p.shape[1];i.assert(h===n[2],(function(){return`Error in conv2dDerFilter: depth of input ${h}) must match input depth in filter (${n[2]}.`})),i.assert(m===n[3],(function(){return`Error in conv2dDerFilter: depth of dy (${m}) must match output depth for filter (${n[3]}).`})),o.checkPadOnDimRoundingMode("conv2dDerFilter",l,d);var v={x:f,dy:p},g={strides:s,pad:l,dataFormat:c,dimRoundingMode:d,filterShape:n};return r.ENGINE.runKernel(a.Conv2DBackpropFilter,v,g)}})},9442:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2DBackpropInput:()=>l});var r=n(1945),a=n(3416),i=n(7806),o=n(6747),s=n(7915),u=n(9966);var l=(0,s.op)({conv2DBackpropInput_:function(e,t,n,s,l){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=arguments.length>6?arguments[6]:void 0;i.assert(e.length===t.rank,(function(){return`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`}));var f=e,p=t,h=!1;3===t.rank&&(h=!0,p=(0,u.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),f=[1,e[0],e[1],e[2]]),i.assert(4===f.length,(function(){return`Error in conv2dDerInput: inShape must be length 4, but got length ${f.length}.`})),i.assert(4===p.rank,(function(){return`Error in conv2dDerInput: dy must be rank 4, but got rank ${p.rank}`})),i.assert(4===n.rank,(function(){return`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`}));var m="NHWC"===c?f[3]:f[1],v="NHWC"===c?p.shape[3]:p.shape[1];i.assert(m===n.shape[2],(function(){return`Error in conv2dDerInput: depth of input (${m}) must match input depth for filter ${n.shape[2]}.`})),i.assert(v===n.shape[3],(function(){return`Error in conv2dDerInput: depth of output (${v}) must match output depth for filter ${n.shape[3]}.`})),o.checkPadOnDimRoundingMode("conv2dDerInput",l,d);var g={dy:p,filter:n},y={strides:s,pad:l,dataFormat:c,dimRoundingMode:d,inputShape:f},b=r.ENGINE.runKernel(a.Conv2DBackpropInput,g,y);return h?(0,u.reshape)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},1657:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2dTranspose:()=>i});var r=n(959),a=n(9442);var i=(0,n(7915).op)({conv2dTranspose_:function(e,t,n,i,o,s){var u=(0,r.convertToTensor)(e,"x","conv2dTranspose"),l=(0,r.convertToTensor)(t,"filter","conv2dTranspose");return(0,a.conv2DBackpropInput)(n,u,l,i,o,"NHWC",s)}})},3628:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv3DBackpropInput:()=>u});var r=n(1945),a=n(3416),i=n(7806),o=n(7915),s=n(9966);var u=(0,o.op)({conv3DBackpropInput_:function(e,t,n,o,u){i.assert(e.length===t.rank,(function(){return`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`}));var l=e,c=t,d=!1;4===t.rank&&(d=!0,c=(0,s.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),l=[1,e[0],e[1],e[2],e[3]]);var f=l[4],p=c.shape[4];i.assert(5===l.length,(function(){return`Error in conv3dDerInput: inShape must be length 5, but got length ${l.length}.`})),i.assert(5===c.rank,(function(){return`Error in conv3dDerInput: dy must be rank 5, but got rank ${c.rank}`})),i.assert(5===n.rank,(function(){return`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`})),i.assert(f===n.shape[3],(function(){return`Error in conv3dDerInput: depth of input (${f}) must match input depth for filter ${n.shape[3]}.`})),i.assert(p===n.shape[4],(function(){return`Error in conv3dDerInput: depth of output (${p}) must match output depth for filter ${n.shape[4]}.`}));var h={dy:c,filter:n},m={pad:u,strides:o,inputShape:l},v=r.ENGINE.runKernel(a.Conv3DBackpropInputV2,h,m);return d?(0,s.reshape)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},6747:(e,t,n)=>{"use strict";n.r(t),n.d(t,{checkPadOnDimRoundingMode:()=>b,computeConv2DInfo:()=>l,computeConv3DInfo:()=>c,computeDefaultPad:()=>d,computeDilation2DInfo:()=>o,computePool2DInfo:()=>s,computePool3DInfo:()=>u,convertConv2DDataFormat:()=>y,eitherStridesOrDilationsAreOne:()=>g,tupleValuesAreOne:()=>v});var r=n(885),a=n(2982),i=n(7806);function o(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",o=arguments.length>5?arguments[5]:void 0,s=e[3];return l(e,[].concat((0,a.default)(t),[s]),n,o,r,null,null,y(i))}function s(e,t,n,a,i,o){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",c=f(t),d=(0,r.default)(c,2),p=d[0],h=d[1];if("channelsLast"===u)s=[p,h,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error(`Unknown dataFormat ${u}`);s=[p,h,e[1],e[1]]}return l(e,s,n,a,i,o,!1,u)}function u(e,t,n,a,i,o){var s,u,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",d=p(t),f=(0,r.default)(d,3),h=f[0],m=f[1],v=f[2];if("NDHWC"===l)u="channelsLast",s=[h,m,v,e[4],e[4]];else{if("NCDHW"!==l)throw new Error(`Unknown dataFormat ${l}`);u="channelsFirst",s=[h,m,v,e[1],e[1]]}return c(e,s,n,a,i,!1,u,o)}function l(e,t,n,a,i,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",l=-1,c=-1,p=-1,v=-1;if("channelsLast"===u){var g=(0,r.default)(e,4);l=g[0],c=g[1],p=g[2],v=g[3]}else{if("channelsFirst"!==u)throw new Error(`Unknown dataFormat ${u}`);var y=(0,r.default)(e,4);l=y[0],v=y[1],c=y[2],p=y[3]}var b,k=(0,r.default)(t,4),w=k[0],x=k[1],S=k[3],T=f(n),E=(0,r.default)(T,2),C=E[0],N=E[1],I=f(a),_=(0,r.default)(I,2),R=_[0],A=_[1],O=h(w,R),D=h(x,A),F=function(e,t,n,r,a,i,o,s,u){var l,c,f;if("number"===typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var p=function(e,t,n,r,a){null==r&&(r=d(e,t,n));var i=e[0],o=e[1],s=m((i-t+2*r)/n+1,a),u=m((o-t+2*r)/n+1,a);return[s,u]}([t,n],i,r,e,s);c=p[0],f=p[1]}else if("same"===e){c=Math.ceil(t/r),f=Math.ceil(n/a);var h=Math.max(0,(c-1)*r+i-t),v=Math.max(0,(f-1)*a+o-n),g=Math.floor(h/2),y=h-g,b=Math.floor(v/2);l={top:g,bottom:y,left:b,right:v-b,type:"SAME"}}else if("valid"===e)l={top:0,bottom:0,left:0,right:0,type:"VALID"},c=Math.ceil((t-i+1)/r),f=Math.ceil((n-o+1)/a);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);var k="channelsLast"===u?e[1][0]:e[2][0],w="channelsLast"===u?e[1][1]:e[2][1],x="channelsLast"===u?e[2][0]:e[3][0],S="channelsLast"===u?e[2][1]:e[3][1];l={top:k,bottom:w,left:x,right:S,type:0===k&&0===w&&0===x&&0===S?"VALID":"EXPLICIT"},c=m((t-i+k+w)/r+1,s),f=m((n-o+x+S)/a+1,s)}return{padInfo:l,outHeight:c,outWidth:f}}(i,c,p,C,N,O,D,o,u),$=F.padInfo,P=F.outHeight,M=F.outWidth,L=s?S*v:S;return"channelsFirst"===u?b=[l,L,P,M]:"channelsLast"===u&&(b=[l,P,M,L]),{batchSize:l,dataFormat:u,inHeight:c,inWidth:p,inChannels:v,outHeight:P,outWidth:M,outChannels:L,padInfo:$,strideHeight:C,strideWidth:N,filterHeight:w,filterWidth:x,effectiveFilterHeight:O,effectiveFilterWidth:D,dilationHeight:R,dilationWidth:A,inShape:e,outShape:b,filterShape:t}}function c(e,t,n,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,l=-1,c=-1,f=-1,v=-1,g=-1;if("channelsLast"===s){var y=(0,r.default)(e,5);l=y[0],c=y[1],f=y[2],v=y[3],g=y[4]}else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);var b=(0,r.default)(e,5);l=b[0],g=b[1],c=b[2],f=b[3],v=b[4]}var k,w=(0,r.default)(t,5),x=w[0],S=w[1],T=w[2],E=w[4],C=p(n),N=(0,r.default)(C,3),I=N[0],_=N[1],R=N[2],A=p(a),O=(0,r.default)(A,3),D=O[0],F=O[1],$=O[2],P=h(x,D),M=h(S,F),L=h(T,$),z=function(e,t,n,r,a,i,o,s,u,l,c){var f,p,h,v;if("number"===typeof e){f={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var g=function(e,t,n,r,a,i){null==a&&(a=d(e,t,r));var o=e[0],s=e[1],u=e[2],l=m((o-t+2*a)/r+1,i),c=m((s-t+2*a)/r+1,i),f=m((u-t+2*a)/r+1,i);return[l,c,f,n]}([t,n,r,1],s,1,a,e,c);p=g[0],h=g[1],v=g[2]}else if("same"===e){var y=((p=Math.ceil(t/a))-1)*a+s-t,b=((h=Math.ceil(n/i))-1)*i+u-n,k=((v=Math.ceil(r/o))-1)*o+l-r,w=Math.floor(y/2),x=y-w,S=Math.floor(b/2),T=b-S,E=Math.floor(k/2);f={top:S,bottom:T,left:E,right:k-E,front:w,back:x,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);f={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/a),h=Math.ceil((n-u+1)/i),v=Math.ceil((r-l+1)/o)}return{padInfo:f,outDepth:p,outHeight:h,outWidth:v}}(i,c,f,v,I,_,R,P,M,L,u),B=z.padInfo,V=z.outDepth,U=z.outHeight,G=z.outWidth,W=o?E*g:E;return"channelsFirst"===s?k=[l,W,V,U,G]:"channelsLast"===s&&(k=[l,V,U,G,W]),{batchSize:l,dataFormat:s,inDepth:c,inHeight:f,inWidth:v,inChannels:g,outDepth:V,outHeight:U,outWidth:G,outChannels:W,padInfo:B,strideDepth:I,strideHeight:_,strideWidth:R,filterDepth:x,filterHeight:S,filterWidth:T,effectiveFilterDepth:P,effectiveFilterHeight:M,effectiveFilterWidth:L,dilationDepth:D,dilationHeight:F,dilationWidth:$,inShape:e,outShape:k,filterShape:t}}function d(e,t,n){var r=h(t,arguments.length>3&&void 0!==arguments[3]?arguments[3]:1);return Math.floor((e[0]*(n-1)-n+r)/2)}function f(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function p(e){return"number"===typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function m(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function v(e){var t=f(e),n=(0,r.default)(t,3),a=n[0],i=n[1],o=n[2];return 1===a&&1===i&&1===o}function g(e,t){return v(e)||v(t)}function y(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function b(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)i.assert(i.isInt(t),(function(){return`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`}));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((function(t){t.forEach((function(t){i.assert(i.isInt(t),(function(){return`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`}))}))}))}}}},1257:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cos:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({cos_:function(e){var t={x:(0,i.convertToTensor)(e,"x","cos","float32")};return r.ENGINE.runKernel(a.Cos,t)}})},5575:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cosh:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({cosh_:function(e){var t={x:(0,i.convertToTensor)(e,"x","cosh","float32")};return r.ENGINE.runKernel(a.Cosh,t)}})},1064:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cumprod:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={x:(0,i.convertToTensor)(e,"x","cumprod")},u={axis:t,exclusive:n,reverse:o};return r.ENGINE.runKernel(a.Cumprod,s,u)}})},9074:(e,t,n)=>{"use strict";n.r(t),n.d(t,{cumsum:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={x:(0,i.convertToTensor)(e,"x","cumsum")},u={axis:t,exclusive:n,reverse:o};return r.ENGINE.runKernel(a.Cumsum,s,u)}})},7271:(e,t,n)=>{"use strict";n.r(t),n.d(t,{depthToSpace:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",s=(0,i.convertToTensor)(e,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],l="NHWC"===n?s.shape[2]:s.shape[3],c="NHWC"===n?s.shape[3]:s.shape[1];o.assert(t>1,(function(){return`blockSize should be > 1 for depthToSpace, but was: ${t}`})),o.assert(u*t>=0,(function(){return`Negative dimension size caused by overflow when multiplying\n    ${u} and ${t}  for depthToSpace with input shape\n    ${s.shape}`})),o.assert(l*t>=0,(function(){return`Negative dimension size caused by overflow when multiplying\n    ${l} and ${t} for depthToSpace with input shape\n        ${s.shape}`})),o.assert(c%(t*t)===0,(function(){return`Dimension size must be evenly divisible by ${t*t} but is ${c} for depthToSpace with input shape ${s.shape}`}));var d={x:s},f={blockSize:t,dataFormat:n};return r.ENGINE.runKernel(a.DepthToSpace,d,f)}})},6272:(e,t,n)=>{"use strict";n.r(t),n.d(t,{depthwiseConv2d:()=>c});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(6747),u=n(7915),l=n(9966);var c=(0,u.op)({depthwiseConv2d_:function(e,t,n,u){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6?arguments[6]:void 0,p=(0,i.convertToTensor)(e,"x","depthwiseConv2d","float32"),h=(0,i.convertToTensor)(t,"filter","depthwiseConv2d","float32"),m=p,v=!1;3===p.rank&&(v=!0,m=(0,l.reshape)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),o.assert(4===m.rank,(function(){return`Error in depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`})),o.assert(4===h.rank,(function(){return`Error in depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`}));var g="NHWC"===c?m.shape[3]:m.shape[1];o.assert(g===h.shape[2],(function(){return`Error in depthwiseConv2d: number of input channels (${g}) must match the inChannels dimension in filter ${h.shape[2]}.`})),s.checkPadOnDimRoundingMode("depthwiseConv2d",u,f);var y={x:m,filter:h},b={strides:n,pad:u,dataFormat:c,dilations:d,dimRoundingMode:f},k=r.ENGINE.runKernel(a.DepthwiseConv2dNative,y,b);return v?(0,l.reshape)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},1888:(e,t,n)=>{"use strict";n.r(t),n.d(t,{depthwiseConv2dNativeBackpropFilter:()=>s});var r=n(1945),a=n(3416),i=n(7915),o=n(9966);var s=(0,i.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,i,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],l=arguments.length>6?arguments[6]:void 0,c=e;3===e.rank&&(c=(0,o.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=(0,o.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={x:c,dy:d},p={strides:i,pad:s,dimRoundingMode:l,dilations:u,filterShape:n};return r.ENGINE.runKernel(a.DepthwiseConv2dNativeBackpropFilter,f,p)}})},3342:(e,t,n)=>{"use strict";n.r(t),n.d(t,{depthwiseConv2dNativeBackpropInput:()=>s});var r=n(1945),a=n(3416),i=n(7915),o=n(9966);var s=(0,i.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,i,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],l=arguments.length>6?arguments[6]:void 0,c=t,d=!1;3===t.rank&&(d=!0,c=(0,o.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var f={dy:c,filter:n},p={strides:i,pad:s,dimRoundingMode:l,dilations:u,inputShape:e},h=r.ENGINE.runKernel(a.DepthwiseConv2dNativeBackpropInput,f,p);return d?(0,o.reshape)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},2105:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dilation2d:()=>l});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(7915),u=n(9966);var l=(0,s.op)({dilation2d_:function(e,t,n,s){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",d=(0,i.convertToTensor)(e,"x","dilation2d"),f=(0,i.convertToTensor)(t,"filter","dilation2d");o.assert(3===d.rank||4===d.rank,(function(){return`Error in dilation2d: input must be rank 3 or 4, but got rank ${d.rank}.`})),o.assert(3===f.rank,(function(){return`Error in dilation2d: filter must be rank 3, but got rank ${f.rank}.`})),o.assert("NHWC"===c,(function(){return`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${c}`}));var p=d,h=!1;3===d.rank&&(p=(0,u.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),h=!0);var m={x:p,filter:f},v={strides:n,pad:s,dilations:l},g=r.ENGINE.runKernel(a.Dilation2D,m,v);return h?(0,u.reshape)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},8467:(e,t,n)=>{"use strict";n.r(t),n.d(t,{div:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(6036);var l=(0,n(7915).op)({div_:function(e,t){var n=(0,s.convertToTensor)(e,"a","div"),l=(0,s.convertToTensor)(t,"b","div"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);if(n=d[0],l=d[1],"int32"===n.dtype&&"int32"===l.dtype)return(0,u.floorDiv)(n,l);var f={a:n,b:l};return a.ENGINE.runKernel(i.RealDiv,f,{})}})},5335:(e,t,n)=>{"use strict";n.r(t),n.d(t,{divNoNan:()=>d});var r=n(885),a=n(3795),i=n(959),o=n(8467),s=n(7506),u=n(7915),l=n(8699),c=n(1241);var d=(0,u.op)({divNoNan_:function(e,t){var n=(0,i.convertToTensor)(e,"a","div"),u=(0,i.convertToTensor)(t,"b","div"),d=(0,a.makeTypesMatch)(n,u),f=(0,r.default)(d,2);n=f[0],u=f[1];var p=(0,o.div)(n,u),h=(0,c.zerosLike)(p),m=(0,s.equal)(u,h);return(0,l.where)(m,h,p)}})},464:(e,t,n)=>{"use strict";n.r(t),n.d(t,{dot:()=>u});var r=n(959),a=n(7806),i=n(7379),o=n(7915),s=n(9966);var u=(0,o.op)({dot_:function(e,t){var n=(0,r.convertToTensor)(e,"t1","dot"),o=(0,r.convertToTensor)(t,"t2","dot");a.assert((1===n.rank||2===n.rank)&&(1===o.rank||2===o.rank),(function(){return`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${o.rank}.`}));var u=1===n.rank?n.size:n.shape[1],l=1===o.rank?o.size:o.shape[0];if(a.assert(u===l,(function(){return`Error in dot: inner dimensions of inputs must match, but got ${u} and ${l}.`})),1===n.rank&&1===o.rank){var c=(0,s.reshape)(n,[1,-1]),d=(0,s.reshape)(o,[-1,1]),f=(0,i.matMul)(c,d);return(0,s.reshape)(f,[])}if(1===n.rank&&2===o.rank){var p=(0,s.reshape)(n,[1,-1]),h=(0,s.reshape)(o,[o.shape[0],o.shape[1]]),m=(0,i.matMul)(p,h);return(0,s.reshape)(m,[m.size])}if(2===n.rank&&1===o.rank){var v=(0,s.reshape)(o,[-1,1]),g=(0,i.matMul)(n,v);return(0,s.reshape)(g,[g.size])}var y=(0,s.reshape)(o,[o.shape[0],o.shape[1]]);return(0,i.matMul)(n,y)}})},9400:(e,t,n)=>{"use strict";n.r(t),n.d(t,{elu:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({elu_:function(e){var t={x:(0,i.convertToTensor)(e,"x","elu","float32")};return r.ENGINE.runKernel(a.Elu,t)}})},7506:(e,t,n)=>{"use strict";n.r(t),n.d(t,{equal:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202);var l=(0,n(7915).op)({equal_:function(e,t){var n=(0,s.convertToTensor)(e,"a","equal","string_or_numeric"),l=(0,s.convertToTensor)(t,"b","equal","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.ENGINE.runKernel(i.Equal,f)}})},3752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{erf:()=>u});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(4395);var u=(0,n(7915).op)({erf_:function(e){var t=(0,i.convertToTensor)(e,"x","erf");o.assert("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=(0,s.cast)(t,"float32"));var n={x:t};return r.ENGINE.runKernel(a.Erf,n)}})},9635:(e,t,n)=>{"use strict";n.r(t),n.d(t,{euclideanNorm:()=>a});var r=n(405);var a=(0,n(7915).op)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.norm)(e,"euclidean",t,n)}})},6847:(e,t,n)=>{"use strict";n.r(t),n.d(t,{exp:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({exp_:function(e){var t={x:(0,i.convertToTensor)(e,"x","exp")};return r.ENGINE.runKernel(a.Exp,t)}})},2288:(e,t,n)=>{"use strict";n.r(t),n.d(t,{expandDims:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,i.convertToTensor)(e,"x","expandDims","string_or_numeric");o.assert(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var s={input:n},u={dim:t};return r.ENGINE.runKernel(a.ExpandDims,s,u)}})},9919:(e,t,n)=>{"use strict";n.r(t),n.d(t,{expm1:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({expm1_:function(e){var t={x:(0,i.convertToTensor)(e,"x","expm1")};return r.ENGINE.runKernel(a.Expm1,t)}})},5107:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fill:()=>i});var r=n(1945),a=n(3416);function i(e,t,n){var i={shape:e,value:t,dtype:n};return r.ENGINE.runKernel(a.Fill,{},i)}},6445:(e,t,n)=>{"use strict";n.r(t),n.d(t,{floor:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({floor_:function(e){var t={x:(0,i.convertToTensor)(e,"x","floor","float32")};return r.ENGINE.runKernel(a.Floor,t)}})},6036:(e,t,n)=>{"use strict";n.r(t),n.d(t,{floorDiv:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({floorDiv_:function(e,t){var n=(0,s.convertToTensor)(e,"a","floorDiv"),u=(0,s.convertToTensor)(t,"b","floorDiv"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.default)(l,2),d={a:n=c[0],b:u=c[1]};return a.ENGINE.runKernel(i.FloorDiv,d)}})},477:(e,t,n)=>{"use strict";n.r(t),n.d(t,{applyActivation:()=>v,getFusedBiasGradient:()=>m,getFusedDyActivation:()=>h,shouldFuse:()=>g});var r=n(2202),a=n(9400),i=n(6086),o=n(5286),s=n(4902),u=n(307),l=n(1218),c=n(9966),d=n(8504),f=n(2181),p=n(9554);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,o.mul)(e,(0,f.step)(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function m(e,t){var n=t,a=r.getReductionAxes(e.shape,t.shape);return a.length>0&&(n=(0,p.sum)(n,a)),(0,c.reshape)(n,e.shape)}function v(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,u.relu)(e);if("elu"===t)return(0,a.elu)(e);if("relu6"===t)return(0,l.relu6)(e);if("prelu"===t)return(0,s.prelu)(e,n);if("leakyrelu"===t)return(0,i.leakyRelu)(e,r);if("sigmoid"===t)return(0,d.sigmoid)(e);throw new Error(`Unknown fused activation ${t}.`)}var g=function(e,t){return!(e>0)||"linear"===t}},839:(e,t,n)=>{"use strict";n.r(t),n.d(t,{gather:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s={x:(0,i.convertToTensor)(e,"x","gather"),indices:(0,i.convertToTensor)(t,"indices","gather","int32")},u={axis:n,batchDims:o};return r.ENGINE.runKernel(a.GatherV2,s,u)}})},4477:(e,t,n)=>{"use strict";n.r(t),n.d(t,{greater:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202);var l=(0,n(7915).op)({greater_:function(e,t){var n=(0,s.convertToTensor)(e,"a","greater","string_or_numeric"),l=(0,s.convertToTensor)(t,"b","greater","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.ENGINE.runKernel(i.Greater,f)}})},6310:(e,t,n)=>{"use strict";n.r(t),n.d(t,{greaterEqual:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202);var l=(0,n(7915).op)({greaterEqual_:function(e,t){var n=(0,s.convertToTensor)(e,"a","greaterEqual","string_or_numeric"),l=(0,s.convertToTensor)(t,"b","greaterEqual","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.ENGINE.runKernel(i.GreaterEqual,f)}})},2148:(e,t,n)=>{"use strict";n.r(t),n.d(t,{imag:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({imag_:function(e){var t={input:(0,i.convertToTensor)(e,"input","imag")};return r.ENGINE.runKernel(a.Imag,t)}})},7031:(e,t,n)=>{"use strict";n.r(t),n.d(t,{resizeBilinear:()=>c});var r=n(885),a=n(1945),i=n(3416),o=n(959),s=n(7806),u=n(7915),l=n(9966);var c=(0,u.op)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,o.convertToTensor)(e,"images","resizeBilinear");s.assert(3===c.rank||4===c.rank,(function(){return`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${c.rank}.`})),s.assert(2===t.length,(function(){return`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`})),s.assert(!1===u||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var d=c,f=!1;3===c.rank&&(f=!0,d=(0,l.reshape)(c,[1,c.shape[0],c.shape[1],c.shape[2]])),(0,r.default)(t,0);var p={images:d},h={alignCorners:n,halfPixelCenters:u,size:t},m=a.ENGINE.runKernel(i.ResizeBilinear,p,h);return f?(0,l.reshape)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},8497:(e,t,n)=>{"use strict";n.r(t),n.d(t,{resizeNearestNeighbor:()=>c});var r=n(885),a=n(1945),i=n(3416),o=n(959),s=n(7806),u=n(7915),l=n(9966);var c=(0,u.op)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,o.convertToTensor)(e,"images","resizeNearestNeighbor");s.assert(3===c.rank||4===c.rank,(function(){return`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${c.rank}.`})),s.assert(2===t.length,(function(){return`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`})),s.assert("float32"===c.dtype||"int32"===c.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),s.assert(!1===u||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var d=c,f=!1;3===c.rank&&(f=!0,d=(0,l.reshape)(c,[1,c.shape[0],c.shape[1],c.shape[2]])),(0,r.default)(t,0);var p={images:d},h={alignCorners:n,halfPixelCenters:u,size:t},m=a.ENGINE.runKernel(i.ResizeNearestNeighbor,p,h);return f?(0,l.reshape)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},610:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isFinite:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({isFinite_:function(e){var t={x:(0,i.convertToTensor)(e,"x","isFinite")};return r.ENGINE.runKernel(a.IsFinite,t)}})},4251:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isInf:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({isInf_:function(e){var t={x:(0,i.convertToTensor)(e,"x","isInf")};return r.ENGINE.runKernel(a.IsInf,t)}})},5048:(e,t,n)=>{"use strict";n.r(t),n.d(t,{isNaN:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({isNaN_:function(e){var t={x:(0,i.convertToTensor)(e,"x","isNaN")};return r.ENGINE.runKernel(a.IsNan,t)}})},6086:(e,t,n)=>{"use strict";n.r(t),n.d(t,{leakyRelu:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n={x:(0,i.convertToTensor)(e,"x","leakyRelu")},o={alpha:t};return r.ENGINE.runKernel(a.LeakyRelu,n,o)}})},6773:(e,t,n)=>{"use strict";n.r(t),n.d(t,{less:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202);var l=(0,n(7915).op)({less_:function(e,t){var n=(0,s.convertToTensor)(e,"a","less","string_or_numeric"),l=(0,s.convertToTensor)(t,"b","less","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.ENGINE.runKernel(i.Less,f)}})},1448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{lessEqual:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202);var l=(0,n(7915).op)({lessEqual_:function(e,t){var n=(0,s.convertToTensor)(e,"a","lessEqual","string_or_numeric"),l=(0,s.convertToTensor)(t,"b","lessEqual","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.ENGINE.runKernel(i.LessEqual,f)}})},4556:(e,t,n)=>{"use strict";n.r(t),n.d(t,{localResponseNormalization:()=>l});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(7915),u=n(9966);var l=(0,s.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,c=(0,i.convertToTensor)(e,"x","localResponseNormalization");o.assert(4===c.rank||3===c.rank,(function(){return`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${c.rank}.`})),o.assert(o.isInt(t),(function(){return`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`}));var d=c,f=!1;3===c.rank&&(f=!0,d=(0,u.reshape)(c,[1,c.shape[0],c.shape[1],c.shape[2]]));var p={x:d},h={depthRadius:t,bias:n,alpha:s,beta:l},m=r.ENGINE.runKernel(a.LRN,p,h);return f?(0,u.reshape)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},311:(e,t,n)=>{"use strict";n.r(t),n.d(t,{log:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({log_:function(e){var t={x:(0,i.convertToTensor)(e,"x","log","float32")};return r.ENGINE.runKernel(a.Log,t)}})},414:(e,t,n)=>{"use strict";n.r(t),n.d(t,{log1p:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({log1p_:function(e){var t={x:(0,i.convertToTensor)(e,"x","log1p")};return r.ENGINE.runKernel(a.Log1p,t)}})},466:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logSigmoid:()=>c});var r=n(6846),a=n(959),i=n(5286),o=n(7946),s=n(7915),u=n(8504),l=n(985);var c=(0,s.op)({logSigmoid_:function(e){var t=(0,a.convertToTensor)(e,"x","logSigmoid");return(0,r.customGrad)((function(e){return{value:(0,o.neg)((0,l.softplus)((0,o.neg)(e))),gradFunc:function(t){return(0,i.mul)(t,(0,u.sigmoid)((0,o.neg)(e)))}}}))(t)}})},7539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logSoftmax:()=>h});var r=n(885),a=n(6846),i=n(959),o=n(4395),s=n(6847),u=n(311),l=n(2843),c=n(5286),d=n(7915),f=n(7619),p=n(9554);var h=(0,d.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,i.convertToTensor)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);return(0,a.customGrad)((function(e,n){var a=(0,l.max)(e,t,!0),i=(0,f.sub)(e,a),d=(0,f.sub)((0,o.cast)(i,"float32"),(0,u.log)((0,p.sum)((0,s.exp)(i),t,!0)));n([d]);return{value:d,gradFunc:function(e,n){var a=(0,r.default)(n,1)[0],i=(0,s.exp)(a);return(0,f.sub)(e,(0,c.mul)((0,p.sum)(e,t,!0),i))}}}))(n)}})},6237:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logSumExp:()=>h});var r=n(959),a=n(7806),i=n(4453),o=n(4174),s=n(6847),u=n(311),l=n(2843),c=n(7915),d=n(9966),f=n(7619),p=n(9554);var h=(0,c.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=(0,r.convertToTensor)(e,"x","logSumExp"),h=(0,a.parseAxisParam)(t,c.shape),m=(0,l.max)(c,h,!0),v=(0,f.sub)(c,m),g=(0,s.exp)(v),y=(0,p.sum)(g,h),b=(0,u.log)(y),k=(0,i.add)((0,d.reshape)(m,b.shape),b);if(n){var w=(0,o.expandShapeToKeepDim)(k.shape,h);return(0,d.reshape)(k,w)}return k}})},2145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logicalAnd:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(2202);var s=(0,n(7915).op)({logicalAnd_:function(e,t){var n=(0,i.convertToTensor)(e,"a","logicalAnd","bool"),s=(0,i.convertToTensor)(t,"b","logicalAnd","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.ENGINE.runKernel(a.LogicalAnd,u)}})},4980:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logicalNot:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({logicalNot_:function(e){var t={x:(0,i.convertToTensor)(e,"x","logicalNot","bool")};return r.ENGINE.runKernel(a.LogicalNot,t)}})},6436:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logicalOr:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(2202);var s=(0,n(7915).op)({logicalOr_:function(e,t){var n=(0,i.convertToTensor)(e,"a","logicalOr","bool"),s=(0,i.convertToTensor)(t,"b","logicalOr","bool");(0,o.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.ENGINE.runKernel(a.LogicalOr,u)}})},8394:(e,t,n)=>{"use strict";n.r(t),n.d(t,{logicalXor:()=>u});var r=n(959),a=n(2202),i=n(2145),o=n(4980),s=n(6436);var u=(0,n(7915).op)({logicalXor_:function(e,t){var n=(0,r.convertToTensor)(e,"a","logicalXor","bool"),u=(0,r.convertToTensor)(t,"b","logicalXor","bool");return(0,a.assertAndGetBroadcastShape)(n.shape,u.shape),(0,i.logicalAnd)((0,s.logicalOr)(e,t),(0,o.logicalNot)((0,i.logicalAnd)(e,t)))}})},7569:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{Reduction:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},7379:(e,t,n)=>{"use strict";n.r(t),n.d(t,{matMul:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=(0,s.convertToTensor)(e,"a","matMul"),c=(0,s.convertToTensor)(t,"b","matMul"),d=(0,o.makeTypesMatch)(l,c),f=(0,r.default)(d,2),p={a:l=f[0],b:c=f[1]},h={transposeA:n,transposeB:u};return a.ENGINE.runKernel(i.BatchMatMul,p,h)}})},2843:(e,t,n)=>{"use strict";n.r(t),n.d(t,{max:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:(0,i.convertToTensor)(e,"x","max")},s={reductionIndices:t,keepDims:n};return r.ENGINE.runKernel(a.Max,o,s)}})},2702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{maxPool:()=>c});var r=n(1945),a=n(3416),i=n(959),o=n(7806),s=n(6747),u=n(7915),l=n(9966);var c=(0,u.op)({maxPool_:function(e,t,n,u,c){var d=(0,i.convertToTensor)(e,"x","maxPool"),f=d,p=!1;3===d.rank&&(p=!0,f=(0,l.reshape)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),o.assert(4===f.rank,(function(){return`Error in maxPool: input must be rank 4 but got rank ${f.rank}.`})),o.assert(s.eitherStridesOrDilationsAreOne(n,1),(function(){return`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`})),s.checkPadOnDimRoundingMode("maxPool",u,c);var h={x:f},m={filterSize:t,strides:n,pad:u,dimRoundingMode:c},v=r.ENGINE.runKernel(a.MaxPool,h,m);return p?(0,l.reshape)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},7740:(e,t,n)=>{"use strict";n.r(t),n.d(t,{maximum:()=>c});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202),l=n(4395);var c=(0,n(7915).op)({maximum_:function(e,t){var n=(0,s.convertToTensor)(e,"a","maximum"),c=(0,s.convertToTensor)(t,"b","maximum"),d=(0,o.makeTypesMatch)(n,c),f=(0,r.default)(d,2);n=f[0],c=f[1],"bool"===n.dtype&&(n=(0,l.cast)(n,"int32"),c=(0,l.cast)(c,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.ENGINE.runKernel(i.Maximum,p)}})},951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mean:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:(0,i.convertToTensor)(e,"x","mean")},s={axis:t,keepDims:n};return r.ENGINE.runKernel(a.Mean,o,s)}})},2:(e,t,n)=>{"use strict";n.r(t),n.d(t,{min:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o={x:(0,i.convertToTensor)(e,"x","min")},s={axis:t,keepDims:n};return r.ENGINE.runKernel(a.Min,o,s)}})},7399:(e,t,n)=>{"use strict";n.r(t),n.d(t,{minimum:()=>c});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202),l=n(4395);var c=(0,n(7915).op)({minimum_:function(e,t){var n=(0,s.convertToTensor)(e,"a","minimum"),c=(0,s.convertToTensor)(t,"b","minimum"),d=(0,o.makeTypesMatch)(n,c),f=(0,r.default)(d,2);n=f[0],c=f[1],"bool"===n.dtype&&(n=(0,l.cast)(n,"int32"),c=(0,l.cast)(c,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.ENGINE.runKernel(i.Minimum,p)}})},1665:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mirrorPad:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({mirrorPad_:function(e,t,n){o.assert("reflect"===n||"symmetric"===n,(function(){return`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`}));var s=(0,i.convertToTensor)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");o.assert(t.length===s.rank,(function(){return`Padding doesn't match input. Must be ${s.rank}. Got ${t.length}.`}));for(var u="reflect"===n?1:0,l=function(e){o.assert(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),o.assert(t[e][0]>=0&&t[e][0]<=s.shape[e]-u&&t[e][1]>=0&&t[e][1]<=s.shape[e]-u,(function(){return`Padding in dimension ${e} cannot be greater than or equal to ${s.shape[e]-u} or less than 0 for input of shape ${s.shape}`}))},c=0;c<s.rank;c++)l(c);var d={paddings:t,mode:n},f={x:s};return r.ENGINE.runKernel(a.MirrorPad,f,d)}})},2112:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mod:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({mod_:function(e,t){var n=(0,s.convertToTensor)(e,"a","mod"),u=(0,s.convertToTensor)(t,"b","mod"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.default)(l,2),d={a:n=c[0],b:u=c[1]};return a.ENGINE.runKernel(i.Mod,d)}})},5286:(e,t,n)=>{"use strict";n.r(t),n.d(t,{mul:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({mul_:function(e,t){var n=(0,s.convertToTensor)(e,"a","mul"),u=(0,s.convertToTensor)(t,"b","mul"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.default)(l,2),d={a:n=c[0],b:u=c[1]};return a.ENGINE.runKernel(i.Multiply,d)}})},7946:(e,t,n)=>{"use strict";n.r(t),n.d(t,{neg:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({neg_:function(e){var t={x:(0,i.convertToTensor)(e,"x","neg")};return r.ENGINE.runKernel(a.Neg,t)}})},405:(e,t,n)=>{"use strict";n.r(t),n.d(t,{norm:()=>g});var r=n(959),a=n(7806),i=n(4294),o=n(4174),s=n(2843),u=n(2),l=n(7915),c=n(7376),d=n(9966),f=n(567),p=n(6486),h=n(5755),m=n(9554);function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return(0,i.abs)(e);if(1!==e.rank&&null===n)return v((0,d.reshape)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,m.sum)((0,i.abs)(e),n);if(t===1/0)return(0,s.max)((0,i.abs)(e),n);if(t===-1/0)return(0,u.min)((0,i.abs)(e),n);if("euclidean"===t||2===t)return(0,p.sqrt)((0,m.sum)((0,c.pow)((0,i.abs)(e),(0,f.scalar)(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,s.max)((0,m.sum)((0,i.abs)(e),n[0]),n[1]-1);if(t===1/0)return(0,s.max)((0,m.sum)((0,i.abs)(e),n[1]),n[0]);if(t===-1/0)return(0,u.min)((0,m.sum)((0,i.abs)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,p.sqrt)((0,m.sum)((0,h.square)(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}var g=(0,l.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=v(e=(0,r.convertToTensor)(e,"x","norm"),t,n),u=s.shape;if(i){var l=(0,a.parseAxisParam)(n,e.shape);u=o.expandShapeToKeepDim(s.shape,l)}return(0,d.reshape)(s,u)}})},5882:(e,t,n)=>{"use strict";n.r(t),n.d(t,{notEqual:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202);var l=(0,n(7915).op)({notEqual_:function(e,t){var n=(0,s.convertToTensor)(e,"a","notEqual","string_or_numeric"),l=(0,s.convertToTensor)(t,"b","notEqual","string_or_numeric"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.ENGINE.runKernel(i.NotEqual,f)}})},6505:(e,t,n)=>{"use strict";n.r(t),n.d(t,{oneHot:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"int32";if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);var u={indices:(0,i.convertToTensor)(e,"indices","oneHot","int32")},l={dtype:s,depth:t,onValue:n,offValue:o};return r.ENGINE.runKernel(a.OneHot,u,l)}})},5656:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ones:()=>s});var r=n(1945),a=n(7806),i=n(7855),o=n(7111);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=s(e,"float32"),u=(0,o.zeros)(e,"float32");return(0,i.complex)(n,u)}var l=(0,a.makeOnesTypedArray)((0,a.sizeFromShape)(e),t);return r.ENGINE.makeTensor(l,e,t)}},9320:(e,t,n)=>{"use strict";n.r(t),n.d(t,{onesLike:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({onesLike_:function(e){var t={x:(0,i.convertToTensor)(e,"x","onesLike")};return r.ENGINE.runKernel(a.OnesLike,t)}})},7915:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OP_SCOPE_SUFFIX:()=>i,op:()=>o});var r=n(1945),a=n(7806),i="__op";function o(e){var t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);var n=t[0],o=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=i;var s=function(){r.ENGINE.startScope(n);try{var e=o.apply(void 0,arguments);return(0,a.isPromise)(e)&&console.error("Cannot return a Promise inside of tidy."),r.ENGINE.endScope(e),e}catch(t){throw r.ENGINE.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},2477:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OP_SCOPE_SUFFIX:()=>f.OP_SCOPE_SUFFIX,abs:()=>a.abs,acos:()=>i.acos,acosh:()=>o.acosh,add:()=>s.add,addN:()=>p,all:()=>h.all,any:()=>m.any,argMax:()=>v.argMax,argMin:()=>g.argMin,asin:()=>y.asin,asinh:()=>b.asinh,atan:()=>k.atan,atan2:()=>w.atan2,atanh:()=>x.atanh,avgPool:()=>S.avgPool,avgPool3d:()=>N,basicLSTMCell:()=>F,batchNorm:()=>P.batchNorm,batchNorm2d:()=>M,batchNorm3d:()=>L,batchNorm4d:()=>z,batchToSpaceND:()=>$.batchToSpaceND,bincount:()=>B,booleanMaskAsync:()=>tr,broadcastArgs:()=>V,broadcastTo:()=>U.broadcastTo,buffer:()=>G.buffer,cast:()=>E.cast,ceil:()=>W.ceil,clipByValue:()=>j.clipByValue,clone:()=>q.clone,complex:()=>H.complex,concat:()=>I.concat,concat1d:()=>K,concat2d:()=>X,concat3d:()=>Y,concat4d:()=>Z,conv1d:()=>Q.conv1d,conv2d:()=>J.conv2d,conv2dTranspose:()=>ee.conv2dTranspose,conv3d:()=>te,conv3dTranspose:()=>re,cos:()=>ae.cos,cosh:()=>ie.cosh,cosineWindow:()=>fr,cumprod:()=>oe.cumprod,cumsum:()=>se.cumsum,denseBincount:()=>ue,depthToSpace:()=>le.depthToSpace,depthwiseConv2d:()=>ce.depthwiseConv2d,diag:()=>de,dilation2d:()=>fe.dilation2d,div:()=>pe.div,divNoNan:()=>he.divNoNan,dot:()=>me.dot,dropout:()=>cr,einsum:()=>ve,elu:()=>ge.elu,enclosingPowerOfTwo:()=>dr,equal:()=>ye.equal,erf:()=>be.erf,euclideanNorm:()=>ke.euclideanNorm,exp:()=>we.exp,expandDims:()=>xe.expandDims,expm1:()=>Se.expm1,eye:()=>Ee,fft:()=>kn.fft,fill:()=>Ce.fill,floor:()=>Ne.floor,floorDiv:()=>Ie.floorDiv,fused:()=>r,gather:()=>_e.gather,gatherND:()=>lr,greater:()=>Re.greater,greaterEqual:()=>Ae.greaterEqual,ifft:()=>wn.ifft,imag:()=>Oe.imag,image:()=>ba,inTopKAsync:()=>hr,irfft:()=>xn.irfft,isFinite:()=>De.isFinite,isInf:()=>Fe.isInf,isNaN:()=>$e.isNaN,leakyRelu:()=>Pe.leakyRelu,less:()=>Me.less,lessEqual:()=>Le.lessEqual,linalg:()=>ka,linspace:()=>ze,localResponseNormalization:()=>Be.localResponseNormalization,log:()=>Ve.log,log1p:()=>Ue.log1p,logSigmoid:()=>Ge.logSigmoid,logSoftmax:()=>We.logSoftmax,logSumExp:()=>je.logSumExp,logicalAnd:()=>qe.logicalAnd,logicalNot:()=>He.logicalNot,logicalOr:()=>Ke.logicalOr,logicalXor:()=>Xe.logicalXor,losses:()=>wa,lowerBound:()=>Qe,matMul:()=>_.matMul,max:()=>Je.max,maxPool:()=>et.maxPool,maxPool3d:()=>tt,maxPoolWithArgmax:()=>nt,maximum:()=>rt.maximum,mean:()=>at.mean,meshgrid:()=>st,min:()=>ut.min,minimum:()=>lt.minimum,mirrorPad:()=>ct.mirrorPad,mod:()=>dt.mod,moments:()=>mt,movingAverage:()=>ir,mul:()=>R.mul,multiRNNCell:()=>vt,multinomial:()=>gt,neg:()=>yt.neg,norm:()=>rr.norm,notEqual:()=>bt.notEqual,oneHot:()=>kt.oneHot,ones:()=>it.ones,onesLike:()=>wt.onesLike,op:()=>f.op,outerProduct:()=>xt,pad:()=>St.pad,pad1d:()=>Tt,pad2d:()=>Et,pad3d:()=>Ct,pad4d:()=>Nt,pool:()=>It.pool,pow:()=>_t.pow,prelu:()=>Rt.prelu,print:()=>At.print,prod:()=>Ot.prod,raggedTensorToTensor:()=>Dt,rand:()=>Ft,randomGamma:()=>Vt,randomNormal:()=>Ut,randomStandardNormal:()=>Gt,randomUniform:()=>Wt,range:()=>jt,real:()=>qt.real,reciprocal:()=>Ht.reciprocal,relu:()=>Kt.relu,relu6:()=>Xt.relu6,reshape:()=>C.reshape,reverse:()=>Yt.reverse,reverse1d:()=>Zt,reverse2d:()=>Qt,reverse3d:()=>Jt,reverse4d:()=>en,rfft:()=>Sn.rfft,round:()=>tn.round,rsqrt:()=>nn.rsqrt,scalar:()=>rn.scalar,scatterND:()=>sr,searchSorted:()=>Ze,selu:()=>an.selu,separableConv2d:()=>on.separableConv2d,setdiff1dAsync:()=>ln,sigmoid:()=>A.sigmoid,sign:()=>cn.sign,signal:()=>ya,sin:()=>dn.sin,sinh:()=>fn.sinh,slice:()=>O.slice,slice1d:()=>pn,slice2d:()=>hn,slice3d:()=>mn,slice4d:()=>vn,softmax:()=>gn.softmax,softplus:()=>yn.softplus,spaceToBatchND:()=>bn.spaceToBatchND,sparse:()=>xa,sparseToDense:()=>ur,spectral:()=>ga,split:()=>Tn.split,sqrt:()=>En.sqrt,square:()=>pt.square,squaredDifference:()=>Cn.squaredDifference,squeeze:()=>Nn.squeeze,stack:()=>In.stack,step:()=>_n.step,stridedSlice:()=>Rn.stridedSlice,string:()=>Sa,sub:()=>ht.sub,sum:()=>An.sum,tan:()=>On.tan,tanh:()=>D.tanh,tensor:()=>Dn.tensor,tensor1d:()=>$n,tensor2d:()=>Pn,tensor3d:()=>Mn.tensor3d,tensor4d:()=>Ln,tensor5d:()=>zn,tensor6d:()=>Bn,tile:()=>Te.tile,topk:()=>Vn.topk,transpose:()=>nr.transpose,truncatedNormal:()=>Un,unique:()=>Gn.unique,unsortedSegmentSum:()=>Wn.unsortedSegmentSum,unstack:()=>jn.unstack,upperBound:()=>qn,variable:()=>Hn,where:()=>Kn.where,whereAsync:()=>Zn,zeros:()=>Qn.zeros,zerosLike:()=>Jn.zerosLike});var r={};n.r(r),n.d(r,{conv2d:()=>wr,depthwiseConv2d:()=>Tr,matMul:()=>Er});var a=n(4294),i=n(8710),o=n(9899),s=n(4453),u=n(1945),l=n(3416),c=n(959),d=n(7806),f=n(7915);var p=(0,f.op)({addN_:function(e){d.assert(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),d.assert(e.length>=1,(function(){return`Must pass at least one tensor to tf.addN(), but got ${e.length}`}));var t=e.map((function(e,t){return(0,c.convertToTensor)(e,`tensors${t}`,"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!d.arraysEqual(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var r=t;return u.ENGINE.runKernel(l.AddN,r)}}),h=n(7794),m=n(2712),v=n(1250),g=n(4679),y=n(7503),b=n(8373),k=n(1767),w=n(1583),x=n(3882),S=n(9567),T=n(6747),E=n(4395),C=n(9966);var N=(0,f.op)({avgPool3d_:function(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=(0,c.convertToTensor)(e,"x","avgPool3d","float32"),s=o,f=!1;4===o.rank&&(f=!0,s=(0,C.reshape)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.assert(5===s.rank,(function(){return`Error in avgPool3d: x must be rank 5 but got rank ${s.rank}.`})),d.assert("NDHWC"===i,(function(){return`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`})),(0,T.checkPadOnDimRoundingMode)("avgPool3d",r,a);var p={x:s},h={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},m=u.ENGINE.runKernel(l.AvgPool3D,p,h);return m=(0,E.cast)(m,s.dtype),f?(0,C.reshape)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}}),I=n(6890),_=n(7379),R=n(5286),A=n(8504),O=n(3618),D=n(1497);var F=(0,f.op)({basicLSTMCell_:function(e,t,n,r,a,i){var o=(0,c.convertToTensor)(e,"forgetBias","basicLSTMCell"),u=(0,c.convertToTensor)(t,"lstmKernel","basicLSTMCell"),l=(0,c.convertToTensor)(n,"lstmBias","basicLSTMCell"),d=(0,c.convertToTensor)(r,"data","basicLSTMCell"),f=(0,c.convertToTensor)(a,"c","basicLSTMCell"),p=(0,c.convertToTensor)(i,"h","basicLSTMCell"),h=(0,I.concat)([d,p],1),m=(0,_.matMul)(h,u),v=(0,s.add)(m,l),g=v.shape[0],y=v.shape[1]/4,b=[g,y],k=(0,O.slice)(v,[0,0],b),w=(0,O.slice)(v,[0,y],b),x=(0,O.slice)(v,[0,2*y],b),S=(0,O.slice)(v,[0,3*y],b),T=(0,s.add)((0,R.mul)((0,A.sigmoid)(k),(0,D.tanh)(w)),(0,R.mul)(f,(0,A.sigmoid)((0,s.add)(o,x))));return[T,(0,R.mul)((0,D.tanh)(T),(0,A.sigmoid)(S))]}}),$=n(4363),P=n(5067);var M=(0,f.op)({batchNorm2d_:function(e,t,n,r,a,i){var o,s,u=(0,c.convertToTensor)(e,"x","batchNorm"),l=(0,c.convertToTensor)(t,"mean","batchNorm"),f=(0,c.convertToTensor)(n,"variance","batchNorm");return null!=a&&(o=(0,c.convertToTensor)(a,"scale","batchNorm")),null!=r&&(s=(0,c.convertToTensor)(r,"offset","batchNorm")),d.assert(2===u.rank,(function(){return`Error in batchNorm2D: x must be rank 2 but got rank ${u.rank}.`})),d.assert(2===l.rank||1===l.rank,(function(){return`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${l.rank}.`})),d.assert(2===f.rank||1===f.rank,(function(){return`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${f.rank}.`})),null!=o&&d.assert(2===o.rank||1===o.rank,(function(){return`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${o.rank}.`})),null!=s&&d.assert(2===s.rank||1===s.rank,(function(){return`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${s.rank}.`})),(0,P.batchNorm)(u,l,f,s,o,i)}});var L=(0,f.op)({batchNorm3d_:function(e,t,n,r,a,i){var o,s,u=(0,c.convertToTensor)(e,"x","batchNorm"),l=(0,c.convertToTensor)(t,"mean","batchNorm"),f=(0,c.convertToTensor)(n,"variance","batchNorm");return null!=a&&(o=(0,c.convertToTensor)(a,"scale","batchNorm")),null!=r&&(s=(0,c.convertToTensor)(r,"offset","batchNorm")),d.assert(3===u.rank,(function(){return`Error in batchNorm3D: x must be rank 3 but got rank ${u.rank}.`})),d.assert(3===l.rank||1===l.rank,(function(){return`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${l.rank}.`})),d.assert(3===f.rank||1===f.rank,(function(){return`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${f.rank}.`})),null!=o&&d.assert(3===o.rank||1===o.rank,(function(){return`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${o.rank}.`})),null!=s&&d.assert(3===s.rank||1===s.rank,(function(){return`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${s.rank}.`})),(0,P.batchNorm)(u,l,f,s,o,i)}});var z=(0,f.op)({batchNorm4d_:function(e,t,n,r,a,i){var o,s,u=(0,c.convertToTensor)(e,"x","batchNorm"),l=(0,c.convertToTensor)(t,"mean","batchNorm"),f=(0,c.convertToTensor)(n,"variance","batchNorm");return null!=a&&(o=(0,c.convertToTensor)(a,"scale","batchNorm")),null!=r&&(s=(0,c.convertToTensor)(r,"offset","batchNorm")),d.assert(4===u.rank,(function(){return`Error in batchNorm4D: x must be rank 4 but got rank ${u.rank}.`})),d.assert(4===l.rank||1===l.rank,(function(){return`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${l.rank}.`})),d.assert(4===f.rank||1===f.rank,(function(){return`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${f.rank}.`})),null!=o&&d.assert(4===o.rank||1===o.rank,(function(){return`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${o.rank}.`})),null!=s&&d.assert(4===s.rank||1===s.rank,(function(){return`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${s.rank}.`})),(0,P.batchNorm)(u,l,f,s,o,i)}});var B=(0,f.op)({bincount_:function(e,t,n){var r=(0,c.convertToTensor)(e,"x","bincount"),a=(0,c.convertToTensor)(t,"weights","bincount");d.assert("int32"===r.dtype,(function(){return`Error in bincount: input dtype must be int32, but got ${r.dtype}`})),d.assert(n>=0,(function(){return`size must be non-negative, but got ${n}.`})),d.assert(a.size===r.size||0===a.size,(function(){return`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`}));var i={x:r,weights:a},o={size:n};return u.ENGINE.runKernel(l.Bincount,i,o)}});var V=(0,f.op)({broadcastArgs_:function(e,t){var n=(0,c.convertToTensor)(e,"s0","broadcastArgs","int32"),r=(0,c.convertToTensor)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==r.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);var a={s0:n,s1:r};return u.ENGINE.runKernel(l.BroadcastArgs,a)}}),U=n(2010),G=n(8263),W=n(9526),j=n(968),q=n(9813),H=n(7855);var K=(0,f.op)({concat1d_:function(e){return(0,I.concat)(e,0)}});var X=(0,f.op)({concat2d_:function(e,t){return(0,I.concat)(e,t)}});var Y=(0,f.op)({concat3d_:function(e,t){return(0,I.concat)(e,t)}});var Z=(0,f.op)({concat4d_:function(e,t){return(0,I.concat)(e,t)}}),Q=n(2549),J=n(2645),ee=n(1657);var te=(0,f.op)({conv3d_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],o=(0,c.convertToTensor)(e,"x","conv3d"),s=(0,c.convertToTensor)(t,"filter","conv3d"),f=o,p=!1;4===o.rank&&(p=!0,f=(0,C.reshape)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.assert(5===f.rank,(function(){return`Error in conv3d: input must be rank 5, but got rank ${f.rank}.`})),d.assert(5===s.rank,(function(){return`Error in conv3d: filter must be rank 5, but got rank ${s.rank}.`})),d.assert(f.shape[4]===s.shape[3],(function(){return`Error in conv3d: depth of input (${f.shape[4]}) must match input depth for filter ${s.shape[3]}.`})),d.assert((0,T.eitherStridesOrDilationsAreOne)(n,i),(function(){return`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${i}'`})),d.assert("NDHWC"===a,(function(){return`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`}));var h={x:f,filter:s},m={strides:n,pad:r,dataFormat:a,dilations:i},v=u.ENGINE.runKernel(l.Conv3D,h,m);return p?(0,C.reshape)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),ne=n(3628);var re=(0,f.op)({conv3dTranspose_:function(e,t,n,r,a){var i=(0,c.convertToTensor)(e,"x","conv3dTranspose"),o=(0,c.convertToTensor)(t,"filter","conv3dTranspose");return(0,ne.conv3DBackpropInput)(n,i,o,r,a)}}),ae=n(1257),ie=n(5575),oe=n(1064),se=n(9074);var ue=(0,f.op)({denseBincount_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,c.convertToTensor)(e,"x","denseBincount"),i=(0,c.convertToTensor)(t,"weights","denseBincount");d.assert("int32"===a.dtype,(function(){return`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`})),d.assert(a.rank<=2,(function(){return`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`})),d.assert(n>=0,(function(){return`size must be non-negative, but got ${n}.`})),d.assert(i.size===a.size||0===i.size,(function(){return`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${i.shape}.`}));var o={x:a,weights:i},s={size:n,binaryOutput:r};return u.ENGINE.runKernel(l.DenseBincount,o,s)}}),le=n(7271),ce=n(6272);var de=(0,f.op)({diag_:function(e){var t={x:(0,c.convertToTensor)(e,"x","diag")};return u.ENGINE.runKernel(l.Diag,t)}}),fe=n(2105),pe=n(8467),he=n(5335),me=n(464);var ve=(0,f.op)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map((function(e,t){return(0,c.convertToTensor)(e,`tensors${t}`,"einsum")})),i={equation:e};return u.ENGINE.runKernel(l.Einsum,a,i)}}),ge=n(9400),ye=n(7506),be=n(3752),ke=n(9635),we=n(6847),xe=n(2288),Se=n(9919),Te=n(6404);var Ee=(0,f.op)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=(0,G.buffer)([e,t],r),i=e<=t?e:t,o=0;o<i;++o)a.set(1,o,o);var s=(0,C.reshape)(a.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return(0,Te.tile)((0,xe.expandDims)(s,0),[n[0],1,1]);if(2===n.length)return(0,Te.tile)((0,xe.expandDims)((0,xe.expandDims)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,Te.tile)((0,xe.expandDims)((0,xe.expandDims)((0,xe.expandDims)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}}),Ce=n(5107),Ne=n(6445),Ie=n(6036),_e=n(839),Re=n(4477),Ae=n(6310),Oe=n(2148),De=n(610),Fe=n(4251),$e=n(5048),Pe=n(6086),Me=n(6773),Le=n(1448);function ze(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var r={start:e,stop:t,num:n};return u.ENGINE.runKernel(l.LinSpace,{},r)}var Be=n(4556),Ve=n(311),Ue=n(414),Ge=n(466),We=n(7539),je=n(6237),qe=n(2145),He=n(4980),Ke=n(6436),Xe=n(8394),Ye=2147483648;var Ze=(0,f.op)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",r=(0,c.convertToTensor)(e,"sortedSequence","searchSorted"),a=(0,c.convertToTensor)(t,"values","searchSorted"),i=r.shape[r.shape.length-1],o=a.shape[a.shape.length-1],s=(0,C.reshape)(r,[-1,i]),f=(0,C.reshape)(a,[-1,o]);if(s.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(s.shape[0]!==f.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,d.sizeFromShape)(f.shape)>=Ye)throw new Error("values tensor size must less than 2147483648");if(s.shape[1]>=Ye)throw new Error(`trailing dim_size must less than 2147483648 for int32 output type, was ${s.shape[1]}`);var p={sortedSequence:s,values:f},h={side:n};return u.ENGINE.runKernel(l.SearchSorted,p,h)}});function Qe(e,t){return Ze(e,t,"left")}var Je=n(2843),et=n(2702);var tt=(0,f.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",o=(0,c.convertToTensor)(e,"x","maxPool3d"),s=o,f=!1;4===o.rank&&(f=!0,s=(0,C.reshape)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),d.assert(5===s.rank,(function(){return`Error in maxPool3d: x must be rank 5 but got rank ${s.rank}.`})),d.assert("NDHWC"===i,(function(){return`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${i}`})),(0,T.checkPadOnDimRoundingMode)("maxPool3d",r,a);var p={x:s},h={filterSize:t,strides:n,pad:r,dimRoundingMode:a,dataFormat:i},m=u.ENGINE.runKernel(l.MaxPool3D,p,h);return f?(0,C.reshape)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}});var nt=(0,f.op)({maxPoolWithArgmax_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={x:(0,c.convertToTensor)(e,"x","maxPoolWithArgmax")},o={filterSize:t,strides:n,pad:r,includeBatchInIndex:a},s=u.ENGINE.runKernel(l.MaxPoolWithArgmax,i,o);return{result:s[0],indexes:s[1]}}}),rt=n(7740),at=n(951),it=n(5656),ot=n(3243);function st(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).indexing,r=void 0===n?"xy":n;if("xy"!==r&&"ij"!==r)throw new TypeError(`${r} is not a valid third argument to meshgrid`);if(void 0===e)return[];var a=(0,c.convertToTensor)(e,"x","meshgrid",e instanceof ot.Tensor?e.dtype:"float32");if(void 0===t)return[a];var i=(0,c.convertToTensor)(t,"y","meshgrid",t instanceof ot.Tensor?t.dtype:"float32"),o=(0,d.sizeFromShape)(a.shape),s=(0,d.sizeFromShape)(i.shape);return"xy"===r?(a=(0,C.reshape)(a,[1,-1]),i=(0,C.reshape)(i,[-1,1]),[(0,_.matMul)((0,it.ones)([s,1],a.dtype),a),(0,_.matMul)(i,(0,it.ones)([1,o],i.dtype))]):(a=(0,C.reshape)(a,[-1,1]),i=(0,C.reshape)(i,[1,-1]),[(0,_.matMul)(a,(0,it.ones)([1,s],a.dtype)),(0,_.matMul)((0,it.ones)([o,1],i.dtype),i)])}var ut=n(2),lt=n(7399),ct=n(1665),dt=n(2112),ft=n(4174),pt=n(5755),ht=n(7619);var mt=(0,f.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,c.convertToTensor)(e,"x","moments");var r=(0,d.parseAxisParam)(t,e.shape),a=(0,at.mean)(e,r,n),i=a.shape;n||(i=(0,ft.expandShapeToKeepDim)(a.shape,r));var o=(0,pt.square)((0,ht.sub)((0,E.cast)(e,"float32"),(0,C.reshape)(a,i)));return{mean:a,variance:(0,at.mean)(o,r,n)}}});var vt=(0,f.op)({multiRNNCell_:function(e,t,n,r){for(var a=(0,c.convertToTensor)(t,"data","multiRNNCell"),i=(0,c.convertToTensorArray)(n,"c","multiRNNCell"),o=(0,c.convertToTensorArray)(r,"h","multiRNNCell"),s=a,u=[],l=0;l<e.length;l++){var d=e[l](s,i[l],o[l]);u.push(d[0]),u.push(d[1]),s=d[1]}for(var f=[],p=[],h=0;h<u.length;h+=2)f.push(u[h]),p.push(u[h+1]);return[f,p]}});var gt=(0,f.op)({multinomial_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(0,c.convertToTensor)(e,"logits","multinomial"),i=a.size,o=a.rank;if(i<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${i}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();var s={logits:1===o?(0,C.reshape)(a,[1,-1]):a},d={numSamples:t,seed:n,normalized:r},f=u.ENGINE.runKernel(l.Multinomial,s,d);return 1===o?(0,C.reshape)(f,[f.size]):f}}),yt=n(7946),bt=n(5882),kt=n(6505),wt=n(9320);var xt=(0,f.op)({outerProduct_:function(e,t){var n=(0,c.convertToTensor)(e,"v1","outerProduct"),r=(0,c.convertToTensor)(t,"v2","outerProduct");d.assert(1===n.rank&&1===r.rank,(function(){return`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`}));var a=(0,C.reshape)(n,[-1,1]),i=(0,C.reshape)(r,[1,-1]);return(0,_.matMul)(a,i)}}),St=n(8190);var Tt=(0,f.op)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.assert)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),(0,St.pad)(e,[t],n)}});var Et=(0,f.op)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.assert)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,St.pad)(e,t,n)}});var Ct=(0,f.op)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.assert)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,St.pad)(e,t,n)}});var Nt=(0,f.op)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,d.assert)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,St.pad)(e,t,n)}}),It=n(8605),_t=n(7376),Rt=n(4902),At=n(1729),Ot=n(1328);var Dt=(0,f.op)({raggedTensorToTensor_:function(e,t,n,r,a){var i=(0,c.convertToTensor)(e,"shape","raggedTensorToTensor","int32"),o=(0,c.convertToTensor)(t,"values","raggedTensorToTensor"),s={shape:i,values:o,defaultValue:(0,c.convertToTensor)(n,"defaultValue","raggedTensorToTensor",o.dtype),rowPartitionTensors:r.map((function(e,t){return(0,c.convertToTensor)(e,`tensors${t}`,"raggedTensorToTensor","int32")}))},d={rowPartitionTypes:a};return u.ENGINE.runKernel(l.RaggedTensorToTensor,s,d)}});var Ft=(0,f.op)({rand_:function(e,t,n){var r=(0,d.sizeFromShape)(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);a=new Uint8Array(r)}for(var i=0;i<r;i++)a[i]=t();return u.ENGINE.makeTensor(a,e,n)}}),$t=n(5671),Pt=n(3144),Mt=n(4838),Lt=(n(9811),function(){function e(t,n,r,a,i){(0,$t.default)(this,e),this.mean=t,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var o=i||Math.random();this.random=Mt.alea(o.toString())}return(0,Pt.default)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,i=void 0,o=void 0;do{o=(a=2*this.random()-1)*a+(i=2*this.random()-1)*i}while(o>=1||0===o);var s=Math.sqrt(-2*Math.log(o)/o);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*i*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}()),zt=function(){function e(t,n,r,a){(0,$t.default)(this,e),this.alpha=t,this.beta=1/n,this.dtype=r;var i=a||Math.random();this.randu=Mt.alea(i.toString()),this.randn=new Lt(0,1,r,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,Pt.default)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,i;;){do{r=this.randn.nextValue(),i=1+this.c*r}while(i<=0);if(i*=i*i,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-i+Math.log(i)),(a=this.randu())<t||Math.log(a)<n)break}return i=1/this.beta*this.d*i,this.alpha<1&&(i*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(i)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),Bt=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;if((0,$t.default)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=r-n,this.dtype=a,null==i&&(i=Math.random()),"number"===typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${n} - ${r} <= 1 and dtype is not float`);this.random=Mt.alea(i)}return(0,Pt.default)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}();var Vt=(0,f.op)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);for(var i=new zt(t,n,r,a),o=(0,G.buffer)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var Ut=(0,f.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);for(var i=new Lt(t,n,r,!1,a),o=(0,G.buffer)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}});var Gt=(0,f.op)({randomStandardNormal_:function(e,t,n){if(null!=t&&"bool"===t)throw new Error(`Unsupported data type ${t}`);return Ut(e,0,1,t,n)}});var Wt=(0,f.op)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0,i=(0,G.buffer)(e,r),o=new Bt(t,n,null,a),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});function jt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var a={start:e,stop:t,step:n,dtype:r};return u.ENGINE.runKernel(l.Range,{},a)}var qt=n(3786),Ht=n(8627),Kt=n(307),Xt=n(1218),Yt=n(2139);var Zt=(0,f.op)({reverse1d_:function(e){var t=(0,c.convertToTensor)(e,"x","reverse");return d.assert(1===t.rank,(function(){return`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`})),(0,Yt.reverse)(t,0)}});var Qt=(0,f.op)({reverse2d_:function(e,t){var n=(0,c.convertToTensor)(e,"x","reverse");return d.assert(2===n.rank,(function(){return`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`})),(0,Yt.reverse)(n,t)}});var Jt=(0,f.op)({reverse3d_:function(e,t){var n=(0,c.convertToTensor)(e,"x","reverse");return d.assert(3===n.rank,(function(){return`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`})),(0,Yt.reverse)(n,t)}});var en=(0,f.op)({reverse4d_:function(e,t){var n=(0,c.convertToTensor)(e,"x","reverse");return d.assert(4===n.rank,(function(){return`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`})),(0,Yt.reverse)(n,t)}}),tn=n(2032),nn=n(8908),rn=n(567),an=n(4122),on=n(90),sn=n(5861);function un(){return un=(0,sn.default)((function*(e,t){var n=(0,c.convertToTensor)(e,"x","setdiff1d"),r=(0,c.convertToTensor)(t,"y","setdiff1d");d.assert(n.dtype===r.dtype,(function(){return`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`})),d.assert(1===n.rank,(function(){return`x should be 1D tensor, but got x (${n.shape}).`})),d.assert(1===r.rank,(function(){return`y should be 1D tensor, but got y (${r.shape}).`}));for(var a=yield n.data(),i=yield r.data(),o=new Set(i),s=0,u=0;u<a.length;u++)o.has(a[u])||s++;for(var l=new ot.TensorBuffer([s],n.dtype),f=new ot.TensorBuffer([s],"int32"),p=0,h=0;p<a.length;p++)o.has(a[p])||(l.values[h]=a[p],f.values[h]=p,h++);return[l.toTensor(),f.toTensor()]})),un.apply(this,arguments)}var ln=function(e,t){return un.apply(this,arguments)},cn=n(5455),dn=n(4292),fn=n(7393);var pn=(0,f.op)({slice1d_:function(e,t,n){var r=(0,c.convertToTensor)(e,"x","slice1d");return d.assert(1===r.rank,(function(){return`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`})),(0,O.slice)(r,[t],[n])}});var hn=(0,f.op)({slice2d_:function(e,t,n){var r=(0,c.convertToTensor)(e,"x","slice2d");return d.assert(2===r.rank,(function(){return`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`})),(0,O.slice)(r,t,n)}});var mn=(0,f.op)({slice3d_:function(e,t,n){var r=(0,c.convertToTensor)(e,"x","slice3d");return d.assert(3===r.rank,(function(){return`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`})),(0,O.slice)(r,t,n)}});var vn=(0,f.op)({slice4d_:function(e,t,n){var r=(0,c.convertToTensor)(e,"x","slice4d");return d.assert(4===r.rank,(function(){return`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`})),(0,O.slice)(r,t,n)}}),gn=n(3167),yn=n(985),bn=n(1670),kn=n(6741),wn=n(3861),xn=n(8704),Sn=n(5258),Tn=n(2439),En=n(6486),Cn=n(473),Nn=n(4712),In=n(1367),_n=n(2181),Rn=n(745),An=n(9554),On=n(8548),Dn=n(7047),Fn=n(3374);function $n(e,t){(0,d.assertNonNull)(e);var n=(0,c.inferShape)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,Fn.makeTensor)(e,null,n,t)}function Pn(e,t,n){if((0,d.assertNonNull)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=(0,c.inferShape)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,Fn.makeTensor)(e,t,r,n)}var Mn=n(8322);function Ln(e,t,n){if((0,d.assertNonNull)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=(0,c.inferShape)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,Fn.makeTensor)(e,t,r,n)}function zn(e,t,n){if((0,d.assertNonNull)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=(0,c.inferShape)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,Fn.makeTensor)(e,t,r,n)}function Bn(e,t,n){if((0,d.assertNonNull)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=(0,c.inferShape)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,Fn.makeTensor)(e,t,r,n)}var Vn=n(8751);var Un=(0,f.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type $ { dtype }");for(var i=new Lt(t,n,r,!0,a),o=(0,G.buffer)(e,r),s=0;s<o.values.length;s++)o.values[s]=i.nextValue();return o.toTensor()}}),Gn=n(2707),Wn=n(8487),jn=n(2220);function qn(e,t){return Ze(e,t,"right")}function Hn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return u.ENGINE.makeVariable(e,t,n,r)}var Kn=n(8699),Xn=n(1889);function Yn(){return(Yn=(0,sn.default)((function*(e){var t=(0,c.convertToTensor)(e,"condition","whereAsync","bool"),n=yield t.data(),r=(0,Xn.whereImpl)(t.shape,n);return e!==t&&t.dispose(),r}))).apply(this,arguments)}var Zn=function(e){return Yn.apply(this,arguments)},Qn=n(7111),Jn=n(1241);function er(){return er=(0,sn.default)((function*(e,t,n){var r=(0,c.convertToTensor)(e,"tensor","boolMask"),a=(0,c.convertToTensor)(t,"mask","boolMask","bool"),i=null==n?0:n,o=a.rank,s=r.shape;d.assert(o>0,(function(){return"mask cannot be scalar"})),d.assertShapesMatch(s.slice(i,i+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");for(var u=1,l=i;l<i+o;l++)u*=s[l];var f=s.slice(0,i).concat([u],s.slice(i+o)),p=(0,C.reshape)(r,f),h=(0,C.reshape)(a,[-1]),m=yield Zn(h),v=(0,Nn.squeeze)(m,[1]),g=(0,_e.gather)(p,v,i);return e!==r&&r.dispose(),t!==a&&a.dispose(),v.dispose(),p.dispose(),h.dispose(),m.dispose(),g})),er.apply(this,arguments)}var tr=function(e,t,n){return er.apply(this,arguments)},nr=n(6345),rr=n(405),ar=n(3795);var ir=(0,f.op)({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=(0,c.convertToTensor)(e,"v","movingAverage"),o=(0,c.convertToTensor)(t,"x","movingAverage"),u=(0,c.convertToTensor)(n,"decay","movingAverage");(0,ar.assertTypesMatch)(i,o),d.assert(d.arraysEqual(i.shape,o.shape),(function(){return"Shape mismatch in v and x"}));var l=(0,rn.scalar)(1),f=(0,ht.sub)(l,u),p=(0,R.mul)((0,ht.sub)(o,i),f);if(a){d.assert(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var h=(0,c.convertToTensor)(r,"step","movingAverage");p=(0,pe.div)(p,(0,ht.sub)(l,(0,_t.pow)(u,h)))}return(0,s.add)(i,p)}}),or=n(9467);var sr=(0,f.op)({scatterND_:function(e,t,n){var r=(0,c.convertToTensor)(e,"indices","scatterND","int32"),a=(0,c.convertToTensor)(t,"updates","scatterND");or.validateInput(a,r,n);var i={indices:r,updates:a},o={shape:n};return u.ENGINE.runKernel(l.ScatterNd,i,o)}});var ur=(0,f.op)({sparseToDense_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=(0,c.convertToTensor)(e,"sparseIndices","sparseToDense","int32"),i=(0,c.convertToTensor)(t,"sparseValues","sparseToDense","string_or_numeric"),o=(0,c.convertToTensor)(r,"defaultValue","sparseToDense",i.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);var a=e.rank>0?e.shape[0]:1,i=e.rank>1?e.shape[1]:1;if(n.length!==i)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${i}.`);var o=t.size;if(0!==t.rank&&(1!==t.rank||o!==a))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${a}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(a,i,n,o);var s={sparseIndices:a,sparseValues:i,defaultValue:o},d={outputShape:n};return u.ENGINE.runKernel(l.SparseToDense,s,d)}});var lr=(0,f.op)({gatherND_:function(e,t){var n=(0,c.convertToTensor)(t,"indices","gatherND","int32"),r={params:(0,c.convertToTensor)(e,"x","gatherND","string_or_numeric"),indices:n};return u.ENGINE.runKernel(l.GatherNd,r)}});var cr=(0,f.op)({dropout_:function(e,t,n,r){var a=(0,c.convertToTensor)(e,"x","dropout");if(d.assert("float32"===a.dtype,(function(){return`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`})),d.assert(t>=0&&t<1,(function(){return`rate must be a float in the range [0, 1), but got ${t}.`})),0===t)return e instanceof ot.Tensor?a.clone():a;var i=function(e,t){if(null==t)return e.shape.slice();if(d.arraysEqual(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),o=1-t,u=(0,pe.div)((0,Ne.floor)((0,s.add)(Wt(i,0,1,"float32",r),o)),o);return(0,R.mul)(a,u)}});function dr(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function fr(e,t,n){for(var r=1-e%2,a=new Float32Array(e),i=0;i<e;++i){var o=2*Math.PI*i/(e+r-1);a[i]=t-n*Math.cos(o)}return $n(a,"float32")}function pr(){return pr=(0,sn.default)((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=(0,c.convertToTensor)(e,"predictions","inTopK"),a=(0,c.convertToTensor)(t,"targets","inTopK");(0,d.assert)(r.rank>1,(function(){return`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`})),(0,d.assert)(r.rank-1===a.rank,(function(){return`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`})),(0,d.assertShapesMatch)(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");var i=r.shape[r.shape.length-1];(0,d.assert)(n>0&&n<=i,(function(){return`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${i}), but got ${n}`}));for(var o=yield r.data(),s=yield a.data(),u=o.length/i,l=i,f=(0,d.getTypedArrayFromDType)("bool",u),p=0;p<u;p++){for(var h=p*l,m=o.subarray(h,h+l),v=[],g=0;g<m.length;g++)v.push({value:m[g],index:g});v.sort((function(e,t){return t.value-e.value})),f[p]=0;for(var y=0;y<n;y++)if(v[y].index===s[p]){f[p]=1;break}}return e!==r&&r.dispose(),t!==a&&a.dispose(),(0,Dn.tensor)(f,a.shape,"bool")})),pr.apply(this,arguments)}var hr=function(e,t){return pr.apply(this,arguments)},mr=n(885),vr=n(6846),gr=n(2202),yr=n(2496),br=n(9442),kr=n(477);var wr=(0,f.op)({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,f=e.dilations,p=void 0===f?[1,1]:f,h=e.dimRoundingMode,m=e.bias,v=e.activation,g=void 0===v?"linear":v,y=e.preluActivationWeights,b=e.leakyreluAlpha;if(g=g||"linear",!1===(0,kr.shouldFuse)(u.ENGINE.state.gradientDepth,g)){d.assert("NHWC"===o,(function(){return`Error in fused conv2d: got dataFormat of ${o} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`}));var k=(0,J.conv2d)(t,n,r,a,o,p,h);return null!=m&&(k=(0,s.add)(k,m)),(0,kr.applyActivation)(k,g,y,b)}var w=(0,c.convertToTensor)(t,"x","conv2d","float32"),x=(0,c.convertToTensor)(n,"filter","conv2d","float32"),S=w,E=!1;3===w.rank&&(E=!0,S=(0,C.reshape)(w,[1,w.shape[0],w.shape[1],w.shape[2]])),d.assert(4===S.rank,(function(){return`Error in fused conv2d: input must be rank 4, but got rank ${S.rank}.`})),d.assert(4===x.rank,(function(){return`Error in fused conv2d: filter must be rank 4, but got rank ${x.rank}.`})),T.checkPadOnDimRoundingMode("fused conv2d",a,h);var N="NHWC"===o?S.shape[3]:S.shape[1];d.assert(x.shape[2]===N,(function(){return`Error in conv2d: depth of input (${N}) must match input depth for filter ${x.shape[2]}.`})),d.assert(T.eitherStridesOrDilationsAreOne(r,p),(function(){return`Error in conv2D: Either strides or dilations must be 1. Got strides ${r} and dilations '${p}'`}));var I,_,R=T.computeConv2DInfo(S.shape,x.shape,r,p,a,h);if(null!=m){I=(0,c.convertToTensor)(m,"bias","fused conv2d");var A=(0,ar.makeTypesMatch)(I,w),O=(0,mr.default)(A,1);I=O[0],"NHWC"===o?gr.assertAndGetBroadcastShape(R.outShape,I.shape):(d.assert(I.shape.length<=1,(function(){return`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${I.shape.length}.`})),d.assert(0===I.shape.length||I.shape[0]===R.outChannels||1===I.shape[0],(function(){return`Error in fused conv2d: bias shape (${I.shape}) is not compatible with the number of output channels (${R.outChannels})`})))}if(null!=y){var D=y.shape;if(d.assert(D.length<=1||3===D.length,(function(){return`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${D.length}.`})),1===D.length)d.assert(1===D[0]||D[0]===R.outChannels,(function(){return`Error in fused conv2d: PReLU activation weights (${D}) is not compatible with the number of output channels (${R.outChannels}).`}));else if(3===D.length)try{gr.assertAndGetBroadcastShape(D,R.outShape)}catch(z){var F=`Error in fused conv2d: PReLU activation weights (${D}) is not compatible with the output shape of the conv2d (${R.outShape}).`;throw Error(F)}_=(0,c.convertToTensor)(y,"prelu weights","fused conv2d")}var $=function(e,t){d.assert("NHWC"===o,(function(){return`Error in gradient of fused conv2D: got dataFormat of ${o} but only NHWC is currently supported.`}));var n=(0,mr.default)(t,4),i=n[0],s=n[1],u=n[2],l=n[3],c=(0,kr.getFusedDyActivation)(e,u,g);d.assert(T.tupleValuesAreOne(p),(function(){return`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${p}'`}));var f=[(0,br.conv2DBackpropInput)(s.shape,c,i,r,a),(0,yr.conv2DBackpropFilter)(s,c,i.shape,r,a)];if(null!=l){var h=(0,kr.getFusedBiasGradient)(l,c);f.push(h)}return f},P={x:S,filter:x,bias:I,preluActivationWeights:_},M={strides:r,pad:a,dataFormat:o,dilations:p,dimRoundingMode:h,activation:g,leakyreluAlpha:b};if(null==m){var L=(0,vr.customGrad)((function(e,t,n){var r=u.ENGINE.runKernel(l.FusedConv2D,P,M);return n([t,e,r]),E&&(r=(0,C.reshape)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:$}}));return L(S,x)}return(0,vr.customGrad)((function(e,t,n,r){var a=u.ENGINE.runKernel(l.FusedConv2D,P,M);return r([t,e,a,n]),E&&(a=(0,C.reshape)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:$}}))(S,x,I)}}),xr=n(1888),Sr=n(3342);var Tr=(0,f.op)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,a=e.pad,i=e.dataFormat,o=void 0===i?"NHWC":i,f=e.dilations,p=void 0===f?[1,1]:f,h=e.dimRoundingMode,m=e.bias,v=e.activation,g=void 0===v?"linear":v,y=e.preluActivationWeights,b=e.leakyreluAlpha;if(!1===(0,kr.shouldFuse)(u.ENGINE.state.gradientDepth,g)){var k=(0,ce.depthwiseConv2d)(t,n,r,a,o,p,h);return null!=m&&(k=(0,s.add)(k,m)),(0,kr.applyActivation)(k,g,y,b)}var w=(0,c.convertToTensor)(t,"x","depthwiseConv2d","float32"),x=(0,c.convertToTensor)(n,"filter","depthwiseConv2d","float32"),S=w,E=!1;3===w.rank&&(E=!0,S=(0,C.reshape)(w,[1,w.shape[0],w.shape[1],w.shape[2]])),d.assert(4===S.rank,(function(){return`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${S.rank}.`})),d.assert(4===x.rank,(function(){return`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${x.rank}.`})),d.assert(S.shape[3]===x.shape[2],(function(){return`Error in fused depthwiseConv2d: number of input channels (${S.shape[3]}) must match the inChannels dimension in filter ${x.shape[2]}.`})),null==p&&(p=[1,1]),d.assert(T.eitherStridesOrDilationsAreOne(r,p),(function(){return`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${r} and dilations '${p}'`})),T.checkPadOnDimRoundingMode("fused depthwiseConv2d",a,h);var N,I,_=T.computeConv2DInfo(S.shape,x.shape,r,p,a,h,!0);if(null!=m){N=(0,c.convertToTensor)(m,"bias","fused conv2d");var R=(0,ar.makeTypesMatch)(N,w),A=(0,mr.default)(R,1);N=A[0],gr.assertAndGetBroadcastShape(_.outShape,N.shape)}null!=y&&(I=(0,c.convertToTensor)(y,"prelu weights","fused depthwiseConv2d"));var O=function(e,t){d.assert(T.tupleValuesAreOne(p),(function(){return`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${p}'`}));var n=(0,mr.default)(t,4),i=n[0],o=n[1],s=n[2],u=n[3],l=(0,kr.getFusedDyActivation)(e,s,g),c=(0,Sr.depthwiseConv2dNativeBackpropInput)(o.shape,l,i,r,a,p,h),f=(0,xr.depthwiseConv2dNativeBackpropFilter)(o,l,i.shape,r,a,p,h);return null!=u?[c,f,(0,kr.getFusedBiasGradient)(N,l)]:[c,f]},D={x:S,filter:x,bias:N,preluActivationWeights:I},F={strides:r,pad:a,dataFormat:o,dilations:p,dimRoundingMode:h,activation:g,leakyreluAlpha:b};if(null==m){var $=(0,vr.customGrad)((function(e,t,n){var r=u.ENGINE.runKernel(l.FusedDepthwiseConv2D,D,F);return n([t,e,r]),E&&(r=(0,C.reshape)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:O}}));return $(S,x)}return(0,vr.customGrad)((function(e,t,n,r){var a=u.ENGINE.runKernel(l.FusedDepthwiseConv2D,D,F);return r([t,e,a,n]),E&&(a=(0,C.reshape)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:O}}))(S,x,N)}});var Er=(0,f.op)({fusedMatMul_:function(e){var t=e.a,n=e.b,r=e.transposeA,a=void 0!==r&&r,i=e.transposeB,o=void 0!==i&&i,f=e.bias,p=e.activation,h=void 0===p?"linear":p,m=e.preluActivationWeights,v=e.leakyreluAlpha,g=void 0===v?.2:v;if(!1===(0,kr.shouldFuse)(u.ENGINE.state.gradientDepth,h)){var y=(0,_.matMul)(t,n,a,o);return null!=f&&(y=(0,s.add)(y,f)),(0,kr.applyActivation)(y,h,m,g)}var b=(0,c.convertToTensor)(t,"a","fused matMul"),k=(0,c.convertToTensor)(n,"b","fused matMul"),w=(0,ar.makeTypesMatch)(b,k),x=(0,mr.default)(w,2);b=x[0],k=x[1];var S=a?b.shape[b.rank-2]:b.shape[b.rank-1],T=o?k.shape[k.rank-1]:k.shape[k.rank-2],E=a?b.shape[b.rank-1]:b.shape[b.rank-2],N=o?k.shape[k.rank-2]:k.shape[k.rank-1],I=b.shape.slice(0,-2),R=k.shape.slice(0,-2),A=d.sizeFromShape(I),O=d.sizeFromShape(R);d.assert(S===T,(function(){return`Error in fused matMul: inner shapes (${S}) and (${T}) of Tensors with shapes ${b.shape} and ${k.shape} and transposeA=${a} and transposeB=${o} must match.`}));var D,F,$=gr.assertAndGetBroadcastShape(b.shape.slice(0,-2),k.shape.slice(0,-2)).concat([E,N]),P=a?(0,C.reshape)(b,[A,S,E]):(0,C.reshape)(b,[A,E,S]),M=o?(0,C.reshape)(k,[O,N,T]):(0,C.reshape)(k,[O,T,N]);if(null!=f){D=(0,c.convertToTensor)(f,"bias","fused matMul");var L=(0,ar.makeTypesMatch)(D,b);D=(0,mr.default)(L,1)[0],gr.assertAndGetBroadcastShape($,D.shape)}null!=m&&(F=(0,c.convertToTensor)(m,"prelu weights","fused matMul"));var z=function(e,t){var n,r,i=(0,mr.default)(t,4),s=i[0],u=i[1],l=i[2],c=i[3],d=(0,kr.getFusedDyActivation)((0,C.reshape)(e,l.shape),l,h);return a||o?!a&&o?(n=(0,_.matMul)(d,u,!1,!1),r=(0,_.matMul)(d,s,!0,!1)):a&&!o?(n=(0,_.matMul)(u,d,!1,!0),r=(0,_.matMul)(s,d,!1,!1)):(n=(0,_.matMul)(u,d,!0,!0),r=(0,_.matMul)(d,s,!0,!0)):(n=(0,_.matMul)(d,u,!1,!0),r=(0,_.matMul)(s,d,!0,!1)),null!=f?[n,r,(0,kr.getFusedBiasGradient)(c,d)]:[n,r]},B={a:P,b:M,bias:D,preluActivationWeights:F},V={transposeA:a,transposeB:o,activation:h,leakyreluAlpha:g};if(null==f){var U=(0,vr.customGrad)((function(e,t,n){var r=u.ENGINE.runKernel(l._FusedMatMul,B,V);return n([e,t,r]),{value:(0,C.reshape)(r,$),gradFunc:z}}));return U(P,M)}return(0,vr.customGrad)((function(e,t,n,r){var a=u.ENGINE.runKernel(l._FusedMatMul,B,V);return r([e,t,a,n]),{value:(0,C.reshape)(a,$),gradFunc:z}}))(P,M,D)}});var Cr=(0,f.op)({hammingWindow_:function(e){return fr(e,.54,.46)}});var Nr=(0,f.op)({hannWindow_:function(e){return fr(e,.5,.5)}});var Ir=(0,f.op)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=0,o=[];i+t<=e.size;)o.push((0,O.slice)(e,i,t)),i+=n;if(r)for(;i<e.size;){var s=i+t-e.size,u=(0,I.concat)([(0,O.slice)(e,i,t-s),(0,Ce.fill)([s],a)]);o.push(u),i+=n}return 0===o.length?Pn([],[0,t]):(0,C.reshape)((0,I.concat)(o),[o.length,t])}});var _r=(0,f.op)({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nr;null==r&&(r=dr(t));var i=Ir(e,t,n),o=(0,R.mul)(i,a(t));return(0,Sn.rfft)(o,r)}});var Rr=(0,f.op)({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,c.convertToTensor)(e,"image","cropAndResize"),s=(0,c.convertToTensor)(t,"boxes","cropAndResize","float32"),f=(0,c.convertToTensor)(n,"boxInd","cropAndResize","int32"),p=s.shape[0];d.assert(4===o.rank,(function(){return`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`})),d.assert(2===s.rank&&4===s.shape[1],(function(){return`Error in cropAndResize: boxes must be have size [${p},4] but had shape ${s.shape}.`})),d.assert(1===f.rank&&f.shape[0]===p,(function(){return`Error in cropAndResize: boxInd must be have size [${p}] but had shape ${s.shape}.`})),d.assert(2===r.length,(function(){return`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`})),d.assert(r[0]>=1&&r[1]>=1,(function(){return`cropSize must be atleast [1,1], but was ${r}`})),d.assert("bilinear"===a||"nearest"===a,(function(){return`method must be bilinear or nearest, but was ${a}`}));var h={image:o,boxes:s,boxInd:f},m={method:a,extrapolationValue:i,cropSize:r};return u.ENGINE.runKernel(l.CropAndResize,h,m)}});var Ar=(0,f.op)({flipLeftRight_:function(e){var t=(0,c.convertToTensor)(e,"image","flipLeftRight","float32");d.assert(4===t.rank,(function(){return`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`}));var n={image:t};return u.ENGINE.runKernel(l.FlipLeftRight,n,{})}});var Or=(0,f.op)({grayscaleToRGB_:function(e){var t=(0,c.convertToTensor)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];d.assert(t.rank>=2,(function(){return`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`})),d.assert(1===r,(function(){return`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,(0,Te.tile)(t,a)}});var Dr=(0,f.op)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=(0,c.convertToTensor)(e,"image","rotateWithOffset","float32");d.assert(4===a.rank,(function(){return`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`}));var i={image:a},o={radians:t,fillValue:n,center:r};return u.ENGINE.runKernel(l.RotateWithOffset,i,o)}});function Fr(e,t,n,r,a,i){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==i&&(i=0);var o=e.shape[0];return n=Math.min(n,o),d.assert(0<=r&&r<=1,(function(){return`iouThreshold must be in [0, 1], but was '${r}'`})),d.assert(2===e.rank,(function(){return`boxes must be a 2D tensor, but was of rank '${e.rank}'`})),d.assert(4===e.shape[1],(function(){return`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`})),d.assert(1===t.rank,(function(){return"scores must be a 1D tensor"})),d.assert(t.shape[0]===o,(function(){return`scores has incompatible shape with boxes. Expected ${o}, but was ${t.shape[0]}`})),d.assert(0<=i&&i<=1,(function(){return`softNmsSigma must be in [0, 1], but was '${i}'`})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:i}}var $r=(0,f.op)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=(0,c.convertToTensor)(e,"boxes","nonMaxSuppression","float32"),o=(0,c.convertToTensor)(t,"scores","nonMaxSuppression","float32"),s=Fr(i,o,n,r,a),d={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return u.ENGINE.runKernel(l.NonMaxSuppressionV3,{boxes:i,scores:o},d)}}),Pr=n(4192);function Mr(){return Mr=(0,sn.default)((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=(0,c.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),o=(0,c.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),s=Fr(i,o,n,r,a);n=s.maxOutputSize,r=s.iouThreshold,a=s.scoreThreshold;var u=yield Promise.all([i.data(),o.data()]),l=u[0],d=u[1],f=(0,Pr.nonMaxSuppressionV3Impl)(l,d,n,r,a).selectedIndices;return i!==e&&i.dispose(),o!==t&&o.dispose(),$n(f,"int32")})),Mr.apply(this,arguments)}var Lr=function(e,t,n){return Mr.apply(this,arguments)};var zr=(0,f.op)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,c.convertToTensor)(e,"boxes","nonMaxSuppression"),s=(0,c.convertToTensor)(t,"scores","nonMaxSuppression"),d=Fr(o,s,n,r,a,i),f={boxes:o,scores:s},p={maxOutputSize:n=d.maxOutputSize,iouThreshold:r=d.iouThreshold,scoreThreshold:a=d.scoreThreshold,softNmsSigma:i=d.softNmsSigma},h=u.ENGINE.runKernel(l.NonMaxSuppressionV5,f,p);return{selectedIndices:h[0],selectedScores:h[1]}}});function Br(){return Br=(0,sn.default)((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=(0,c.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),s=(0,c.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),u=Fr(o,s,n,r,a,i);n=u.maxOutputSize,r=u.iouThreshold,a=u.scoreThreshold,i=u.softNmsSigma;var l=yield Promise.all([o.data(),s.data()]),d=l[0],f=l[1],p=(0,Pr.nonMaxSuppressionV5Impl)(d,f,n,r,a,i),h=p.selectedIndices,m=p.selectedScores;return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:$n(h,"int32"),selectedScores:$n(m)}})),Br.apply(this,arguments)}var Vr=function(e,t,n){return Br.apply(this,arguments)};var Ur=(0,f.op)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=(0,c.convertToTensor)(e,"boxes","nonMaxSuppression"),s=(0,c.convertToTensor)(t,"scores","nonMaxSuppression"),d=Fr(o,s,n,r,a,null),f={boxes:o,scores:s},p={maxOutputSize:d.maxOutputSize,iouThreshold:d.iouThreshold,scoreThreshold:d.scoreThreshold,padToMaxOutputSize:i},h=u.ENGINE.runKernel(l.NonMaxSuppressionV4,f,p);return{selectedIndices:h[0],validOutputs:h[1]}}});function Gr(){return Gr=(0,sn.default)((function*(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=(0,c.convertToTensor)(e,"boxes","nonMaxSuppressionAsync"),s=(0,c.convertToTensor)(t,"scores","nonMaxSuppressionAsync"),u=Fr(o,s,n,r,a,null),l=u.maxOutputSize,d=u.iouThreshold,f=u.scoreThreshold,p=yield Promise.all([o.data(),s.data()]),h=(0,mr.default)(p,2),m=h[0],v=h[1],g=(0,Pr.nonMaxSuppressionV4Impl)(m,v,l,d,f,i),y=g.selectedIndices,b=g.validOutputs;return o!==e&&o.dispose(),s!==t&&s.dispose(),{selectedIndices:$n(y,"int32"),validOutputs:(0,rn.scalar)(b,"int32")}})),Gr.apply(this,arguments)}var Wr=function(e,t,n){return Gr.apply(this,arguments)},jr=n(7031),qr=n(8497);var Hr=(0,f.op)({threshold_:function(e){var t,n,r,a,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,l=(0,c.convertToTensor)(e,"image","threshold"),f=l.shape[0]*l.shape[1],p=(0,R.mul)($n([u]),255);if(d.assert(3===l.rank,(function(){return`Error in threshold: image must be rank 3,but got rank ${l.rank}.`})),d.assert(3===l.shape[2]||1===l.shape[2],(function(){return`Error in threshold: image color channel must be equal to 3 or 1but got ${l.shape[2]}.`})),d.assert("int32"===l.dtype||"float32"===l.dtype,(function(){return`Error in dtype: image dtype must be int32 or float32,but got dtype ${l.dtype}.`})),d.assert("otsu"===i||"binary"===i,(function(){return`Method must be binary or otsu, but was ${i}`})),3===l.shape[2]){var h=(0,Tn.split)(l,[1,1,1],-1),m=(0,mr.default)(h,3);t=m[0],n=m[1],r=m[2];var v=(0,R.mul)(t,.2989),g=(0,R.mul)(n,.587),y=(0,R.mul)(r,.114);a=(0,s.add)((0,s.add)(v,g),y)}else a=e;"otsu"===i&&(p=function(e,t){for(var n,r,a,i,o,u,l=$n([-1]),c=$n([0]),d=$n([0]),f=0;f<e.size-1;f++){n=(0,O.slice)(e,0,f+1),r=(0,O.slice)(e,f+1),o=(0,pe.div)((0,An.sum)(n),t),u=(0,pe.div)((0,An.sum)(r),t);var p=(0,An.sum)((0,R.mul)(n,jt(0,n.size)));a=(0,pe.div)(p,(0,An.sum)(n));var h=(0,Ce.fill)(r.shape,n.size),m=(0,s.add)(jt(0,r.size),h),v=(0,R.mul)(r,m);i=(0,pe.div)((0,An.sum)(v),(0,An.sum)(r));var g=(0,ht.sub)(a,i),y=(0,ht.sub)(a,i),b=(0,R.mul)(o,u);d=(0,R.mul)((0,R.mul)(b,g),y);var k=(0,Re.greater)(d,c);c=(0,Kn.where)(k,d,c),l=(0,Kn.where)(k,$n([f]),l)}return l}(B((0,E.cast)((0,tn.round)(a),"int32"),(0,Dn.tensor)([]),256),f));var b=o?(0,Le.lessEqual)(a,p):(0,Re.greater)(a,p);return(0,E.cast)((0,R.mul)(b,255),"int32")}});var Kr=(0,f.op)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,o=(0,c.convertToTensor)(e,"image","transform","float32"),s=(0,c.convertToTensor)(t,"transforms","transform","float32");d.assert(4===o.rank,(function(){return`Error in transform: image must be rank 4,but got rank ${o.rank}.`})),d.assert(2===s.rank&&(s.shape[0]===o.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),d.assert(null==i||2===i.length,(function(){return`Error in transform: outputShape must be [height, width] or null, but got ${i}.`}));var f={image:o,transforms:s},p={interpolation:n,fillMode:r,fillValue:a,outputShape:i};return u.ENGINE.runKernel(l.Transform,f,p)}});var Xr=(0,f.op)({bandPart_:function(e,t,n){(0,d.assert)(t%1===0,(function(){return`bandPart(): numLower must be an integer, got ${t}.`})),(0,d.assert)(n%1===0,(function(){return`bandPart(): numUpper must be an integer, got ${n}.`}));var r=(0,c.convertToTensor)(e,"a","bandPart");(0,d.assert)(r.rank>=2,(function(){return`bandPart(): Rank must be at least 2, got ${r.rank}.`}));var a=r.shape,i=r.shape.slice(-2),o=(0,mr.default)(i,2),s=o[0],u=o[1];if(!(t<=s))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${s}).`);if(!(n<=u))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${u}).`);t<0&&(t=s),n<0&&(n=u);var l=(0,C.reshape)(jt(0,s,1,"int32"),[-1,1]),f=jt(0,u,1,"int32"),p=(0,ht.sub)(l,f),h=(0,qe.logicalAnd)((0,Le.lessEqual)(p,(0,rn.scalar)(+t,"int32")),(0,Ae.greaterEqual)(p,(0,rn.scalar)(-n,"int32"))),m=(0,Qn.zeros)([s,u],r.dtype);return(0,C.reshape)((0,In.stack)((0,jn.unstack)((0,C.reshape)(r,[-1,s,u])).map((function(e){return(0,Kn.where)(h,e,m)}))),a)}});var Yr=(0,f.op)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,(0,d.assert)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){(0,d.assert)(e[t].shape[0]===n,(function(){return`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=(0,Tn.split)(e,e.shape[0],0).map((function(e){return(0,Nn.squeeze)(e,[0])}))),(0,d.assert)(e.length<=e[0].shape[0],(function(){return`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`}));for(var n=[],r=e,a=function(e){n.push(u.ENGINE.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var i=(0,R.mul)((0,An.sum)((0,R.mul)(n[a],t)),n[a]);t=(0,ht.sub)(t,i)}return(0,pe.div)(t,(0,rr.norm)(t,"euclidean"))})))},i=0;i<e.length;++i)a(i);return t?(0,In.stack)(n,0):n}}),Zr=n(4691);function Qr(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u.ENGINE.tidy((function(){(0,d.assert)(2===e.shape.length,(function(){return`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`}));for(var n=e.shape[0],r=e.shape[1],a=Ee(n),i=(0,q.clone)(e),o=Pn([[1]],[1,1]),s=(0,q.clone)(o),l=n>=r?r:n,c=function(e){var t=i,l=s,c=a,d=u.ENGINE.tidy((function(){var t=(0,O.slice)(i,[e,e],[n-e,1]),u=(0,rr.norm)(t),l=(0,O.slice)(i,[e,e],[1,1]),c=(0,Kn.where)((0,Re.greater)(l,0),Pn([[-1]]),Pn([[1]])),d=(0,ht.sub)(l,(0,R.mul)(c,u)),f=(0,pe.div)(t,d);s=1===f.shape[0]?(0,q.clone)(o):(0,I.concat)([o,(0,O.slice)(f,[1,0],[f.shape[0]-1,f.shape[1]])],0);var p=(0,yt.neg)((0,pe.div)((0,_.matMul)(c,d),u)),h=(0,O.slice)(i,[e,0],[n-e,r]),m=(0,R.mul)(p,s),v=(0,nr.transpose)(s);if(0===e)i=(0,ht.sub)(h,(0,_.matMul)(m,(0,_.matMul)(v,h)));else{var g=(0,ht.sub)(h,(0,_.matMul)(m,(0,_.matMul)(v,h)));i=(0,I.concat)([(0,O.slice)(i,[0,0],[e,r]),g],0)}var y=(0,nr.transpose)(m),b=(0,O.slice)(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=(0,ht.sub)(b,(0,_.matMul)((0,_.matMul)(b,s),y));else{var k=(0,ht.sub)(b,(0,_.matMul)((0,_.matMul)(b,s),y));a=(0,I.concat)([(0,O.slice)(a,[0,0],[n,e]),k],1)}return[s,i,a]})),f=(0,mr.default)(d,3);s=f[0],i=f[1],a=f[2],(0,Zr.dispose)([t,l,c])},f=0;f<l;++f)c(f);return!t&&n>r&&(a=(0,O.slice)(a,[0,0],[n,r]),i=(0,O.slice)(i,[0,0],[r,r])),[a,i]}))}var Jr=(0,f.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,d.assert)(e.rank>=2,(function(){return`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`})),2===e.rank)return Qr(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=(0,jn.unstack)((0,C.reshape)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],i=[];return r.forEach((function(e){var n=Qr(e,t),r=(0,mr.default)(n,2),o=r[0],s=r[1];a.push(o),i.push(s)})),[(0,C.reshape)((0,In.stack)(a,0),e.shape),(0,C.reshape)((0,In.stack)(i,0),e.shape)]}}),ea=n(7569);var ta=(0,f.op)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,r=(0,c.convertToTensor)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=(0,c.convertToTensor)(t,"weights","computeWeightedLoss"));var i=null==a?r:(0,R.mul)(r,a);if(n===ea.Reduction.NONE)return i;if(n===ea.Reduction.SUM)return(0,An.sum)(i);if(n===ea.Reduction.MEAN){if(null==a)return(0,at.mean)(i);var o=r.size/a.size,s=(0,pe.div)((0,An.sum)(i),(0,An.sum)(a));return o>1?(0,pe.div)(s,(0,rn.scalar)(o)):s}if(n===ea.Reduction.SUM_BY_NONZERO_WEIGHTS){if(null==a)return(0,pe.div)((0,An.sum)(i),(0,rn.scalar)(r.size));var u=(0,R.mul)(a,(0,it.ones)(r.shape)),l=(0,E.cast)((0,An.sum)((0,bt.notEqual)(u,(0,rn.scalar)(0))),"float32");return(0,pe.div)((0,An.sum)(i),l)}throw Error(`Unknown reduction: ${n}`)}});var na=(0,f.op)({absoluteDifference_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,i=(0,c.convertToTensor)(e,"labels","absoluteDifference"),o=(0,c.convertToTensor)(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=(0,c.convertToTensor)(n,"weights","absoluteDifference")),(0,d.assertShapesMatch)(i.shape,o.shape,"Error in absoluteDifference: ");var u=(0,a.abs)((0,ht.sub)(i,o));return ta(u,s,r)}});var ra=(0,f.op)({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,i=(0,c.convertToTensor)(e,"labels","cosineDistance"),o=(0,c.convertToTensor)(t,"predictions","cosineDistance"),s=null;null!=r&&(s=(0,c.convertToTensor)(r,"weights","cosineDistance")),(0,d.assertShapesMatch)(i.shape,o.shape,"Error in cosineDistance: ");var u=(0,rn.scalar)(1),l=(0,ht.sub)(u,(0,An.sum)((0,R.mul)(i,o),n,!0));return ta(l,s,a)}});var aa=(0,f.op)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,c.convertToTensor)(e,"labels","hingeLoss"),i=(0,c.convertToTensor)(t,"predictions","hingeLoss"),o=null;null!=n&&(o=(0,c.convertToTensor)(n,"weights","hingeLoss")),(0,d.assertShapesMatch)(a.shape,i.shape,"Error in hingeLoss: ");var s=(0,rn.scalar)(1);a=(0,ht.sub)((0,R.mul)((0,rn.scalar)(2),a),s);var u=(0,Kt.relu)((0,ht.sub)(s,(0,R.mul)(a,i)));return ta(u,o,r)}});var ia=(0,f.op)({huberLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,o=(0,c.convertToTensor)(e,"labels","huberLoss"),u=(0,c.convertToTensor)(t,"predictions","huberLoss"),l=null;null!=n&&(l=(0,c.convertToTensor)(n,"weights","huberLoss")),(0,d.assertShapesMatch)(o.shape,u.shape,"Error in huberLoss: ");var f=(0,rn.scalar)(r),p=(0,a.abs)((0,ht.sub)(u,o)),h=(0,lt.minimum)(p,f),m=(0,ht.sub)(p,h),v=(0,s.add)((0,R.mul)((0,rn.scalar)(.5),(0,pt.square)(h)),(0,R.mul)(f,m));return ta(v,l,i)}});var oa=(0,f.op)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,i=(0,c.convertToTensor)(e,"labels","logLoss"),o=(0,c.convertToTensor)(t,"predictions","logLoss"),u=null;null!=n&&(u=(0,c.convertToTensor)(n,"weights","logLoss")),(0,d.assertShapesMatch)(i.shape,o.shape,"Error in logLoss: ");var l=(0,rn.scalar)(1),f=(0,rn.scalar)(r),p=(0,yt.neg)((0,R.mul)(i,(0,Ve.log)((0,s.add)(o,f)))),h=(0,R.mul)((0,ht.sub)(l,i),(0,Ve.log)((0,s.add)((0,ht.sub)(l,o),f))),m=(0,ht.sub)(p,h);return ta(m,u,a)}});var sa=(0,f.op)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,a=(0,c.convertToTensor)(e,"labels","meanSquaredError"),i=(0,c.convertToTensor)(t,"predictions","meanSquaredError"),o=null;null!=n&&(o=(0,c.convertToTensor)(n,"weights","meanSquaredError")),(0,d.assertShapesMatch)(a.shape,i.shape,"Error in meanSquaredError: ");var s=(0,Cn.squaredDifference)(a,i);return ta(s,o,r)}});var ua=(0,f.op)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,o=(0,c.convertToTensor)(e,"multiClassLabels","sigmoidCrossEntropy"),u=(0,c.convertToTensor)(t,"logits","sigmoidCrossEntropy"),l=null;if(null!=n&&(l=(0,c.convertToTensor)(n,"weights","sigmoidCrossEntropy")),(0,d.assertShapesMatch)(o.shape,u.shape,"Error in sigmoidCrossEntropy: "),r>0){var f=(0,rn.scalar)(r),p=(0,rn.scalar)(1),h=(0,rn.scalar)(.5);o=(0,s.add)((0,R.mul)(o,(0,ht.sub)(p,f)),(0,R.mul)(h,f))}var m=function(e,t){var n=(0,c.convertToTensor)(e,"labels","sigmoidCrossEntropyWithLogits"),r=(0,c.convertToTensor)(t,"logits","sigmoidCrossEntropyWithLogits");(0,d.assertShapesMatch)(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var i=(0,Kt.relu)(r),o=(0,R.mul)(r,n),u=(0,Ue.log1p)((0,we.exp)((0,yt.neg)((0,a.abs)(r))));return(0,s.add)((0,ht.sub)(i,o),u)}(o,u);return ta(m,l,i)}});var la=(0,f.op)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ea.Reduction.SUM_BY_NONZERO_WEIGHTS,i=(0,c.convertToTensor)(e,"onehotLabels","softmaxCrossEntropy"),o=(0,c.convertToTensor)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=(0,c.convertToTensor)(n,"weights","softmaxCrossEntropy")),(0,d.assertShapesMatch)(i.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){var l=(0,rn.scalar)(r),f=(0,rn.scalar)(1),p=(0,rn.scalar)(i.shape[1]);i=(0,s.add)((0,R.mul)(i,(0,ht.sub)(f,l)),(0,pe.div)(l,p))}var h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);var r=(0,vr.customGrad)((function(e,t,r){var a=(0,je.logSumExp)(t,[n],!0),i=(0,ht.sub)((0,E.cast)(t,"float32"),a);r([e,i]);var o=(0,yt.neg)((0,R.mul)(i,e));return{value:(0,An.sum)(o,[n]),gradFunc:function(e,t){var r=(0,mr.default)(t,2),a=r[0],i=r[1],o=(0,ft.expandShapeToKeepDim)(e.shape,[n]);return[(0,R.mul)((0,C.reshape)(e,o),(0,ht.sub)((0,E.cast)(a,"float32"),(0,we.exp)(i))),(0,R.mul)((0,C.reshape)(e,o),(0,ht.sub)((0,we.exp)(i),(0,E.cast)(a,"float32")))]}}}));return r(e,t)}(i,o);return ta(h,u,a)}});var ca=(0,f.op)({sparseFillEmptyRows_:function(e,t,n,r){var a=(0,c.convertToTensor)(e,"indices","sparseFillEmptyRows","int32"),i=(0,c.convertToTensor)(t,"values","sparseFillEmptyRows"),o=(0,c.convertToTensor)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,c.convertToTensor)(r,"defaultValue","sparseFillEmptyRows",i.dtype);if(2!==a.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${a.shape}`);if(1!==i.rank)throw new Error(`Values should be Tensor1D but received shape ${i.shape}`);if(1!==o.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);var d={indices:a,values:i,denseShape:o,defaultValue:s},f=u.ENGINE.runKernel(l.SparseFillEmptyRows,d);return{outputIndices:f[0],outputValues:f[1],emptyRowIndicator:f[2],reverseIndexMap:f[3]}}});var da=(0,f.op)({sparseReshape_:function(e,t,n){var r=(0,c.convertToTensor)(e,"inputIndices","sparseReshape","int32"),a=(0,c.convertToTensor)(t,"inputShape","sparseReshape","int32"),i=(0,c.convertToTensor)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==a.rank)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(1!==i.rank)throw new Error(`New shape should be Tensor1D but received shape ${i.shape}`);var o={inputIndices:r,inputShape:a,newShape:i},s=u.ENGINE.runKernel(l.SparseReshape,o);return{outputIndices:s[0],outputShape:s[1]}}});var fa=(0,f.op)({sparseSegmentMean_:function(e,t,n){var r=(0,c.convertToTensor)(e,"data","sparseSegmentMean"),a=(0,c.convertToTensor)(t,"indices","sparseSegmentMean","int32"),i=(0,c.convertToTensor)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${a.shape}`);if(1!==i.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${i.shape}`);var o={data:r,indices:a,segmentIds:i};return u.ENGINE.runKernel(l.SparseSegmentMean,o)}});var pa=(0,f.op)({sparseSegmentSum_:function(e,t,n){var r=(0,c.convertToTensor)(e,"data","sparseSegmentSum"),a=(0,c.convertToTensor)(t,"indices","sparseSegmentSum","int32"),i=(0,c.convertToTensor)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${a.shape}`);if(1!==i.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${i.shape}`);var o={data:r,indices:a,segmentIds:i};return u.ENGINE.runKernel(l.SparseSegmentSum,o)}});var ha=(0,f.op)({stringNGrams_:function(e,t,n,r,a,i,o,s){var d=(0,c.convertToTensor)(e,"data","stringNGrams","string");if("string"!==d.dtype)throw new Error("Data must be of datatype string");if(1!==d.shape.length)throw new Error(`Data must be a vector, saw: ${d.shape}`);var f=(0,c.convertToTensor)(t,"dataSplits","stringNGrams");if("int32"!==f.dtype)throw new Error("Data splits must be of datatype int32");var p={separator:n,nGramWidths:r,leftPad:a,rightPad:i,padWidth:o,preserveShortSequences:s},h={data:d,dataSplits:f},m=u.ENGINE.runKernel(l.StringNGrams,h,p);return{nGrams:m[0],nGramsSplits:m[1]}}});var ma=(0,f.op)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,c.convertToTensor)(e,"input","stringSplit","string"),a=(0,c.convertToTensor)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==a.rank)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);var i={skipEmpty:n},o={input:r,delimiter:a},s=u.ENGINE.runKernel(l.StringSplit,o,i);return{indices:s[0],values:s[1],shape:s[2]}}});var va=(0,f.op)({stringToHashBucketFast_:function(e,t){var n=(0,c.convertToTensor)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return u.ENGINE.runKernel(l.StringToHashBucketFast,a,r)}}),ga={fft:kn.fft,ifft:wn.ifft,rfft:Sn.rfft,irfft:xn.irfft},ya={hammingWindow:Cr,hannWindow:Nr,frame:Ir,stft:_r},ba={flipLeftRight:Ar,grayscaleToRGB:Or,resizeNearestNeighbor:qr.resizeNearestNeighbor,resizeBilinear:jr.resizeBilinear,rotateWithOffset:Dr,cropAndResize:Rr,nonMaxSuppression:$r,nonMaxSuppressionAsync:Lr,nonMaxSuppressionWithScore:zr,nonMaxSuppressionWithScoreAsync:Vr,nonMaxSuppressionPadded:Ur,nonMaxSuppressionPaddedAsync:Wr,threshold:Hr,transform:Kr},ka={bandPart:Xr,gramSchmidt:Yr,qr:Jr},wa={absoluteDifference:na,computeWeightedLoss:ta,cosineDistance:ra,hingeLoss:aa,huberLoss:ia,logLoss:oa,meanSquaredError:sa,sigmoidCrossEntropy:ua,softmaxCrossEntropy:la},xa={sparseFillEmptyRows:ca,sparseReshape:da,sparseSegmentMean:fa,sparseSegmentSum:pa},Sa={stringNGrams:ha,stringSplit:ma,stringToHashBucketFast:va}},8190:(e,t,n)=>{"use strict";n.r(t),n.d(t,{pad:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,i.convertToTensor)(e,"x","pad");if(0===o.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var s={paddings:t,constantValue:n},u={x:o};return r.ENGINE.runKernel(a.PadV2,u,s)}})},8605:(e,t,n)=>{"use strict";n.r(t),n.d(t,{pool:()=>p});var r=n(885),a=n(959),i=n(7806),o=n(9567),s=n(4363),u=n(6747),l=n(2702),c=n(7915),d=n(9966),f=n(1670);var p=(0,c.op)({pool_:function(e,t,n,c,p,h,m){null==p&&(p=[1,1]),null==h&&(h=1),0===c&&(c="valid");var v=(0,a.convertToTensor)(e,"x","maxPool"),g=v,y=!1;3===v.rank&&(y=!0,g=(0,d.reshape)(v,[1,v.shape[0],v.shape[1],v.shape[2]])),i.assert(u.eitherStridesOrDilationsAreOne(h,p),(function(){return`Error in pool: Either strides or dilations must be 1. Got strides ${h} and dilations '${p}'`}));var b,k=u.computePool2DInfo(g.shape,t,h,p,c),w=[k.dilationHeight,k.dilationWidth];b="same"===c?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})),r=n.map((function(e){return e-1})),a=r.map((function(e){return Math.floor(e/2)})),i=r.map((function(e,t){return e-a[t]}));return r.map((function(e,t){return[a[t],i[t]]}))}([k.filterHeight,k.filterWidth],w):[[0,0],[0,0]];var x=1===w[0]&&1===w[1],S=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),i=e.concat(r,a),o=t.map((function(e,t){return(e-i[t]%e)%e})),s=a.map((function(e,t){return e+o[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),l=t.map((function(e,t){return[0,o[t]]}));return[u,l]}([k.inHeight,k.inWidth],w,b),T=(0,r.default)(S,2),E=T[0],C=T[1],N=x?c:"valid",I=x?g:(0,f.spaceToBatchND)(g,w,E),_=("avg"===n?function(){return(0,o.avgPool)(I,t,h,N,m)}:function(){return(0,l.maxPool)(I,t,h,N,m)})(),R=x?_:(0,s.batchToSpaceND)(_,w,C);return y?(0,d.reshape)(R,[R.shape[1],R.shape[2],R.shape[3]]):R}})},7376:(e,t,n)=>{"use strict";n.r(t),n.d(t,{pow:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({pow_:function(e,t){var n=(0,s.convertToTensor)(e,"base","pow"),u=(0,s.convertToTensor)(t,"exp","pow"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.default)(l,2),d={a:n=c[0],b:u=c[1]};return a.ENGINE.runKernel(i.Pow,d)}})},4902:(e,t,n)=>{"use strict";n.r(t),n.d(t,{prelu:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({prelu_:function(e,t){var n={x:(0,i.convertToTensor)(e,"x","prelu"),alpha:(0,i.convertToTensor)(t,"alpha","prelu")};return r.ENGINE.runKernel(a.Prelu,n)}})},1729:(e,t,n)=>{"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.r(t),n.d(t,{print:()=>r})},1328:(e,t,n)=>{"use strict";n.r(t),n.d(t,{prod:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(4395);var s=(0,n(7915).op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,i.convertToTensor)(e,"x","prod");"bool"===s.dtype&&(s=(0,o.cast)(s,"int32"));var u={x:s},l={axis:t,keepDims:n};return r.ENGINE.runKernel(a.Prod,u,l)}})},3786:(e,t,n)=>{"use strict";n.r(t),n.d(t,{real:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({real_:function(e){var t={input:(0,i.convertToTensor)(e,"input","real")};return r.ENGINE.runKernel(a.Real,t)}})},8627:(e,t,n)=>{"use strict";n.r(t),n.d(t,{reciprocal:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({reciprocal_:function(e){var t={x:(0,i.convertToTensor)(e,"x","reciprocal")};return r.ENGINE.runKernel(a.Reciprocal,t)}})},307:(e,t,n)=>{"use strict";n.r(t),n.d(t,{relu:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({relu_:function(e){var t={x:(0,i.convertToTensor)(e,"x","relu")};return r.ENGINE.runKernel(a.Relu,t)}})},1218:(e,t,n)=>{"use strict";n.r(t),n.d(t,{relu6:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({relu6_:function(e){var t={x:(0,i.convertToTensor)(e,"x","relu6")};return r.ENGINE.runKernel(a.Relu6,t)}})},9966:(e,t,n)=>{"use strict";n.r(t),n.d(t,{reshape:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({reshape_:function(e,t){var n={x:(0,i.convertToTensor)(e,"x","reshape","string_or_numeric")},o={shape:t};return r.ENGINE.runKernel(a.Reshape,n,o)}})},2139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{reverse:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({reverse_:function(e,t){var n={x:(0,i.convertToTensor)(e,"x","reverse")},o={dims:t};return r.ENGINE.runKernel(a.Reverse,n,o)}})},2032:(e,t,n)=>{"use strict";n.r(t),n.d(t,{round:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({round_:function(e){var t={x:(0,i.convertToTensor)(e,"x","round")};return r.ENGINE.runKernel(a.Round,t)}})},8908:(e,t,n)=>{"use strict";n.r(t),n.d(t,{rsqrt:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({rsqrt_:function(e){var t={x:(0,i.convertToTensor)(e,"x","rsqrt","float32")};return r.ENGINE.runKernel(a.Rsqrt,t)}})},567:(e,t,n)=>{"use strict";n.r(t),n.d(t,{scalar:()=>i});var r=n(7806),a=n(3374);function i(e,t){if(((0,r.isTypedArray)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.isTypedArray)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,a.makeTensor)(e,[],[],t)}},9467:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateShapes:()=>s,validateInput:()=>o,validateUpdateShape:()=>i});var r=n(2982),a=n(7806);function i(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,i=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(i+` update.rank < ${a}. `);if(e.length<r+(n.rank-a))throw new Error(i+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+e.length-r)throw new Error(i+" update.rank != "+(a+e.length-r));for(var o=0;o<a;++o)if(n.shape[o]!==t.shape[o])throw new Error(i+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${t.shape[o]}).`);for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(i+` updates.shape[${s+a}] (${n.shape[s+a]}) != shape[${s+a}] (${e[s+a]})`)}function o(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}i(n,t,e)}function s(e,t,n){for(var i=t.shape.length,o=i>1?t.shape[i-1]:1,s=n.length,u=1,l=o;l<s;++l)u*=n[l];var c=o<1?1:o;return{sliceRank:o,numUpdates:(0,a.sizeFromShape)(t.shape)/c,sliceSize:u,strides:[].concat((0,r.default)((0,a.computeStrides)(n.slice(0,o))),[1]),outputSize:(0,a.sizeFromShape)(n)}}},4122:(e,t,n)=>{"use strict";n.r(t),n.d(t,{selu:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({selu_:function(e){var t={x:(0,i.convertToTensor)(e,"x","selu")};return r.ENGINE.runKernel(a.Selu,t)}})},917:(e,t,n)=>{"use strict";n.r(t),n.d(t,{SELU_SCALE:()=>a,SELU_SCALEALPHA:()=>r});var r=1.7580993408473768,a=1.0507009873554805},90:(e,t,n)=>{"use strict";n.r(t),n.d(t,{separableConv2d:()=>l});var r=n(959),a=n(7806),i=n(2645),o=n(6272),s=n(7915),u=n(9966);var l=(0,s.op)({separableConv2d_:function(e,t,n,s,l){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],d=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",f=(0,r.convertToTensor)(e,"x","separableConv2d"),p=(0,r.convertToTensor)(t,"depthwiseFilter","separableConv2d"),h=(0,r.convertToTensor)(n,"pointwiseFilter","separableConv2d"),m=f,v=!1;if(3===f.rank&&(v=!0,m=(0,u.reshape)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),"NCHW"===d)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");a.assert(4===m.rank,(function(){return`Error in separableConv2d: input must be rank 4, but got rank ${m.rank}.`})),a.assert(4===p.rank,(function(){return`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${p.rank}.`})),a.assert(4===h.rank,(function(){return`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${p.rank}.`})),a.assert(1===h.shape[0],(function(){return`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${h.shape[0]}.`})),a.assert(1===h.shape[1],(function(){return`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${h.shape[1]}.`}));var g=p.shape[2],y=p.shape[3];a.assert(h.shape[2]===g*y,(function(){return`Error in separableConv2d: the third dimension of pointwise filter must be ${g*y}, but got ${h.shape[2]}.`}));var b=(0,o.depthwiseConv2d)(m,p,s,l,d,c),k=(0,i.conv2d)(b,h,1,"valid",d);return v?(0,u.reshape)(k,[k.shape[1],k.shape[2],k.shape[3]]):k}})},8504:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sigmoid:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({sigmoid_:function(e){var t={x:(0,i.convertToTensor)(e,"x","sigmoid","float32")};return r.ENGINE.runKernel(a.Sigmoid,t)}})},5455:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sign:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({sign_:function(e){var t={x:(0,i.convertToTensor)(e,"x","sign")};return r.ENGINE.runKernel(a.Sign,t)}})},4292:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sin:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({sin_:function(e){var t={x:(0,i.convertToTensor)(e,"x","sin","float32")};return r.ENGINE.runKernel(a.Sin,t)}})},7393:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sinh:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({sinh_:function(e){var t={x:(0,i.convertToTensor)(e,"x","sinh")};return r.ENGINE.runKernel(a.Sinh,t)}})},3618:(e,t,n)=>{"use strict";n.r(t),n.d(t,{slice:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({slice_:function(e,t,n){var o=(0,i.convertToTensor)(e,"x","slice","string_or_numeric");if(0===o.rank)throw new Error("Slicing scalar is not possible");var s={x:o},u={begin:t,size:n};return r.ENGINE.runKernel(a.Slice,s,u)}})},397:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertParamsValid:()=>s,computeFlatOffset:()=>k,computeOutShape:()=>l,getNormalizedAxes:()=>p,isSliceContinous:()=>b,maskToAxes:()=>u,parseSliceParams:()=>w,sliceInfo:()=>x,startForAxis:()=>g,startIndicesWithElidedDims:()=>h,stopForAxis:()=>y,stopIndicesWithElidedDims:()=>m,stridesForAxis:()=>v,stridesWithElidedDims:()=>c});var r=n(2982),a=n(7806),i=-2,o=-1;function s(e,t,n){var r=e.shape.length;a.assert(r===t.length,(function(){return`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`})),a.assert(r===n.length,(function(){return`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`}));for(var i=function(i){a.assert(t[i]+n[i]<=e.shape[i],(function(){return`Error in slice${r}D: begin[${i}] + size[${i}] (${t[i]+n[i]}) would overflow input.shape[${i}] (${e.shape[i]})`}))},o=0;o<r;++o)i(o)}function u(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function l(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function c(e,t,n,a){for(var i=(0,r.default)(e),o=i.length;o<a.length;o++)i.push(1);for(var s=0;s<n;s++)0===s?i[t]=1:(i.splice(t,0,1),i.pop());return i}function d(e,t,n){return n<=e?n:n-(t-1)}function f(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function p(e,t,n,r,a,i,o,s,u){var l=e.length,d=new Array(l),f=new Array(l),p=new Array(l);if(t.length&&n>0){var b=t[0],k=n+1;d=h(o,b,k,r,e),f=m(s,b,k,a,e),p=c(i,b,k,e)}else for(var w=0;w<l;w++)d[w]=g(o,r,i,e,w,u),f[w]=y(s,a,i,e,w,u),p[w]=v(i,w,u);return{begin:d,end:f,strides:p}}function h(e,t,n,a,i){for(var o=(0,r.default)(i),s=f(n,t),u=0;u<o.length;u++)if(s.indexOf(u)>-1)o[u]=0;else{var l=d(t,n,u),c=a[l];e&1<<l&&(c=0),o[u]=c}return o}function m(e,t,n,i,o){for(var s=(0,r.default)(o),u=f(n,t),l=0;l<s.length;l++)if(u.indexOf(l)>-1)s[l]=Number.MAX_SAFE_INTEGER;else{var c=d(t,n,l),p=i[c];e&1<<c&&(p=Number.MAX_SAFE_INTEGER),s[l]=p}for(var h=0;h<s.length;h++){var m=o[h];s[h]<0&&(s[h]+=m),s[h]=a.clamp(0,s[h],o[h])}return s}function v(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function g(e,t,n,r,i,o){var s=t[i],u=n[i]||1;(e&1<<i||o&1<<i||null==s)&&(s=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var l=r[i];return s<0&&(s+=l),s=a.clamp(0,s,l-1)}function y(e,t,n,r,i,o){var s=t[i],u=n[i]||1;(e&1<<i||o&1<<i||null==s)&&(s=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var l=r[i];return s<0&&(s+=l),s=u>0?a.clamp(0,s,l):a.clamp(-1,s,l-1)}function b(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function k(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function w(e,t,n){var i,o,s=e.shape.length;return(i="number"===typeof t?[t].concat((0,r.default)(new Array(s-1).fill(0))):t.length<s?t.concat(new Array(s-t.length).fill(0)):t.slice()).forEach((function(e){a.assert(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),o=(o=null==n?new Array(s).fill(-1):"number"===typeof n?[n].concat((0,r.default)(new Array(s-1).fill(-1))):n.length<s?n.concat(new Array(s-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(a.assert(-1===t,(function(){return`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`})),e.shape[n]-i[n])})),[i,o]}function x(e,t,n,r,a,s,u,l,c){var d;if(null==r?(d=new Array(t.length)).fill(1):d=r,null!=u&&0!==(u&u-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var f=!1,p={dims:d.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:d.slice(),beginMask:a,endMask:s,ellipsisMask:u,newAxisMask:l,shrinkAxisMask:c},h=0;h<p.dims;h++)f&&0!==(1<<h&l)&&p.numAddAxisAfterEllipsis++,1<<h&u&&(f=!0);f||(p.ellipsisMask|=1<<p.dims,p.dims++);var m={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(i),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(o),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(p,m);for(var v=!0,g=!0,y=!0,b=[],k=[],w=0;w<e.length;++w){if(0===m.strides[w])throw Error(`strides[${w}] must be non-zero`);var x=!!(m.shrinkAxisMask&1<<w),T=e[w];if(-1!==T){var E=[m.beginMask&1<<w,m.endMask&1<<w],C=[m.strides[w]>0?0:-1,m.strides[w]>0?T:T-1];if(x&&m.strides[w]<=0)throw Error("only stride 1 allowed on non-range indexing.");y=y&&1===m.strides[w];var N=!!(m.beginMask&1<<w&&m.endMask&1<<w);if(m.beginValid&&m.endValid){if(x){var I=m.begin[w]<0?T+m.begin[w]:m.begin[w];if(m.begin[w]=I,m.end[w]=m.begin[w]+1,I<0||I>=T)throw Error(`slice index ${m.begin[w]} of dimension ${w} out of bounds.`)}else m.begin[w]=S(m.begin[w],0,m.strides[w],T,E,C),m.end[w]=S(m.end[w],1,m.strides[w],T,E,C);var _=1===m.strides[w]&&0===m.begin[w]&&m.end[w]===T;v=v&&_,g=g&&(0===w&&1===m.strides[w]||_)}else v=v&&1===m.strides[w]&&N,g=g&&(0===w&&1===m.strides[w]||N);var R=void 0,A=!1;if(m.beginValid&&m.endValid?(R=m.end[w]-m.begin[w],A=!0):x?(R=1,A=!0):N&&T>=0&&(R=m.strides[w]<0?-T:T,A=!0),A){var O=void 0;O=0===R||R<0!==m.strides[w]<0?0:Math.trunc(R/m.strides[w])+(R%m.strides[w]!==0?1:0),b.push(O)}else b.push(-1)}else b.push(x?1:-1)}for(var D=0;D<m.finalShapeGatherIndices.length;++D){var F=m.finalShapeGatherIndices[D];F>=0?k.push(b[F]):F===i&&k.push(1)}var $=k.filter((function(e,t){return m.finalShapeGatherIndices[t]!==i}));return{finalShapeSparse:$,finalShape:k,isIdentity:v,sliceDim0:g,isSimpleSlice:y,begin:m.begin,end:m.end,strides:m.strides}}function S(e,t,n,r,a,i){if(a[t])return n>0?i[t]:i[t+1&1];var o=e<0?r+e:e;return o<i[0]?i[0]:o>i[1]?i[1]:o}},3167:(e,t,n)=>{"use strict";n.r(t),n.d(t,{softmax:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,i.convertToTensor)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);var o={logits:n},s={dim:t};return r.ENGINE.runKernel(a.Softmax,o,s)}})},985:(e,t,n)=>{"use strict";n.r(t),n.d(t,{softplus:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({softplus_:function(e){var t={x:(0,i.convertToTensor)(e,"x","softplus")};return r.ENGINE.runKernel(a.Softplus,t)}})},1670:(e,t,n)=>{"use strict";n.r(t),n.d(t,{spaceToBatchND:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({spaceToBatchND_:function(e,t,n){var s=(0,i.convertToTensor)(e,"x","spaceToBatchND");o.assert(s.rank>=1+t.length,(function(){return`input rank ${s.rank} should be > than [blockShape] ${t.length}`})),o.assert(n.length===t.length,(function(){return`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`})),o.assert(s.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`}));var u={x:s},l={blockShape:t,paddings:n};return r.ENGINE.runKernel(a.SpaceToBatchND,u,l)}})},6741:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fft:()=>o});var r=n(1945),a=n(3416),i=n(7806);var o=(0,n(7915).op)({fft_:function(e){(0,i.assert)("complex64"===e.dtype,(function(){return`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`}));var t={input:e};return r.ENGINE.runKernel(a.FFT,t)}})},3861:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ifft:()=>o});var r=n(1945),a=n(3416),i=n(7806);var o=(0,n(7915).op)({ifft_:function(e){(0,i.assert)("complex64"===e.dtype,(function(){return`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`}));var t={input:e};return r.ENGINE.runKernel(a.IFFT,t)}})},8704:(e,t,n)=>{"use strict";n.r(t),n.d(t,{irfft:()=>h});var r=n(7855),a=n(6890),i=n(2148),o=n(5286),s=n(7915),u=n(3786),l=n(9966),c=n(2139),d=n(567),f=n(3618),p=n(3861);var h=(0,s.op)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],s=e.size/n;if(n<=2){var h=(0,l.reshape)(e,[s,n]);t=(0,p.ifft)(h)}else{var m=[s,2*(n-1)],v=(0,l.reshape)((0,u.real)(e),[s,n]),g=(0,l.reshape)((0,i.imag)(e),[s,n]),y=(0,c.reverse)((0,f.slice)(v,[0,1],[s,n-2]),1),b=(0,o.mul)((0,c.reverse)((0,f.slice)(g,[0,1],[s,n-2]),1),(0,d.scalar)(-1)),k=(0,a.concat)([v,y],1),w=(0,a.concat)([g,b],1),x=(0,l.reshape)((0,r.complex)(k,w),[m[0],m[1]]);t=(0,p.ifft)(x)}if(t=(0,u.real)(t),3===e.rank&&0!==e.shape[0]){var S=t,T=e.shape[0];t=(0,l.reshape)(t,[T,t.shape[0]/T,t.shape[1]]),S.dispose()}return t}})},5258:(e,t,n)=>{"use strict";n.r(t),n.d(t,{rfft:()=>m});var r=n(7806),a=n(7855),i=n(6890),o=n(2148),s=n(7915),u=n(3786),l=n(9966),c=n(3618),d=n(2439),f=n(7111),p=n(1241),h=n(6741);var m=(0,s.op)({rfft_:function(e,t){(0,r.assert)("float32"===e.dtype,(function(){return`The dtype for rfft() must be real value but got ${e.dtype}`}));var n,s=e.shape[e.shape.length-1],m=e.size/s;if(null!=t&&t<s){var v=e.shape.map((function(e){return 0})),g=e.shape.map((function(e){return e}));g[e.shape.length-1]=t,n=(0,c.slice)(e,v,g),s=t}else if(null!=t&&t>s){var y=e.shape.map((function(e){return e}));y[e.shape.length-1]=t-s,n=(0,i.concat)([e,(0,f.zeros)(y)],e.shape.length-1),s=t}else n=e;var b=(0,p.zerosLike)(n),k=(0,l.reshape)((0,a.complex)(n,b),[m,s]),w=(0,h.fft)(k),x=Math.floor(s/2)+1,S=(0,u.real)(w),T=(0,o.imag)(w),E=(0,d.split)(S,[x,s-x],S.shape.length-1),C=(0,d.split)(T,[x,s-x],T.shape.length-1),N=n.shape.slice();return N[n.shape.length-1]=x,(0,l.reshape)((0,a.complex)(E[0],C[0]),N)}})},2439:(e,t,n)=>{"use strict";n.r(t),n.d(t,{split:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={x:(0,i.convertToTensor)(e,"x","split")},s={numOrSizeSplits:t,axis:n};return r.ENGINE.runKernel(a.SplitV,o,s)}})},6486:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sqrt:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({sqrt_:function(e){var t={x:(0,i.convertToTensor)(e,"x","sqrt","float32")};return r.ENGINE.runKernel(a.Sqrt,t)}})},5755:(e,t,n)=>{"use strict";n.r(t),n.d(t,{square:()=>i});var r=n(1945),a=n(959);var i=(0,n(7915).op)({square_:function(e){var t=(0,a.convertToTensor)(e,"x","square");return r.ENGINE.runKernel("Square",{x:t},{})}})},473:(e,t,n)=>{"use strict";n.r(t),n.d(t,{squaredDifference:()=>l});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959),u=n(2202);var l=(0,n(7915).op)({squaredDifference_:function(e,t){var n=(0,s.convertToTensor)(e,"a","squaredDifference"),l=(0,s.convertToTensor)(t,"b","squaredDifference"),c=(0,o.makeTypesMatch)(n,l),d=(0,r.default)(c,2);n=d[0],l=d[1],(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var f={a:n,b:l};return a.ENGINE.runKernel(i.SquaredDifference,f,{})}})},4712:(e,t,n)=>{"use strict";n.r(t),n.d(t,{squeeze:()=>s});var r=n(959),a=n(7806),i=n(7915),o=n(9966);var s=(0,i.op)({squeeze_:function(e,t){var n=(0,r.convertToTensor)(e,"x","squeeze","string_or_numeric");return(0,o.reshape)(n,(0,a.squeezeShape)(n.shape,t).newShape)}})},1367:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stack:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,i.convertToTensorArray)(e,"tensors","stack","string_or_numeric");o.assert(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&o.assert(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var s=n,u={axis:t};return r.ENGINE.runKernel(a.Pack,s,u)}})},2181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{step:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={x:(0,i.convertToTensor)(e,"x","step")},o={alpha:t};return r.ENGINE.runKernel(a.Step,n,o)}})},745:(e,t,n)=>{"use strict";n.r(t),n.d(t,{stridedSlice:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({stridedSlice_:function(e,t,n,o){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,d=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f={x:(0,i.convertToTensor)(e,"x","stridedSlice","string_or_numeric")},p={begin:t,end:n,strides:o,beginMask:s,endMask:u,ellipsisMask:l,newAxisMask:c,shrinkAxisMask:d};return r.ENGINE.runKernel(a.StridedSlice,f,p)}})},7619:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sub:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(3795),s=n(959);var u=(0,n(7915).op)({sub_:function(e,t){var n=(0,s.convertToTensor)(e,"a","sub"),u=(0,s.convertToTensor)(t,"b","sub"),l=(0,o.makeTypesMatch)(n,u),c=(0,r.default)(l,2),d={a:n=c[0],b:u=c[1]};return a.ENGINE.runKernel(i.Sub,d)}})},9554:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sum:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(4395);var s=(0,n(7915).op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,i.convertToTensor)(e,"x","sum");"bool"===s.dtype&&(s=(0,o.cast)(s,"int32"));var u={x:s},l={axis:t,keepDims:n};return r.ENGINE.runKernel(a.Sum,u,l)}})},8548:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tan:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({tan_:function(e){var t={x:(0,i.convertToTensor)(e,"x","tan","float32")};return r.ENGINE.runKernel(a.Tan,t)}})},1497:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tanh:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({tanh_:function(e){var t={x:(0,i.convertToTensor)(e,"x","tanh","float32")};return r.ENGINE.runKernel(a.Tanh,t)}})},7047:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tensor:()=>i});var r=n(959),a=n(3374);function i(e,t,n){var i=(0,r.inferShape)(e,n);return(0,a.makeTensor)(e,t,i,n)}},8322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tensor3d:()=>o});var r=n(959),a=n(7806),i=n(3374);function o(e,t,n){if((0,a.assertNonNull)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var o=(0,r.inferShape)(e,n);if(3!==o.length&&1!==o.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===o.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,i.makeTensor)(e,t,o,n)}},3374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{makeTensor:()=>o});var r=n(1945),a=n(7806),i=n(3227);function o(e,t,n,o){if(null==o&&(o=(0,a.inferDtype)(e)),"complex64"===o)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,a.isTypedArray)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,a.assertNonNegativeIntegerDimensions)(t);var s=(0,a.sizeFromShape)(t),u=(0,a.sizeFromShape)(n);(0,a.assert)(s===u,(function(){return`Based on the provided shape, [${t}], the tensor should have ${s} values but has ${u}`}));for(var l=0;l<n.length;++l){var c=n[l],d=l!==n.length-1||c!==(0,a.sizeFromShape)(t.slice(l));(0,a.assert)(n[l]===t[l]||!d,(function(){return`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `}))}}return(0,a.isTypedArray)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==o?(0,i.toTypedArray)(e,o):(0,a.flatten)(e,[],!0),r.ENGINE.makeTensor(e,t,o)}},6404:(e,t,n)=>{"use strict";n.r(t),n.d(t,{tile:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({tile_:function(e,t){var n=(0,i.convertToTensor)(e,"x","tile","string_or_numeric");o.assert(n.rank===t.length,(function(){return`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`}));var s={x:n},u={reps:t};return r.ENGINE.runKernel(a.Tile,s,u)}})},8751:(e,t,n)=>{"use strict";n.r(t),n.d(t,{topk:()=>s});var r=n(885),a=n(1945),i=n(3416),o=n(959);var s=(0,n(7915).op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,o.convertToTensor)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var u=s.shape[s.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>u)throw new Error(`'k' passed to topk() must be <= the last dimension (${u}) but got ${t}`);var l={x:s},c={k:t,sorted:n},d=a.ENGINE.runKernel(i.TopK,l,c),f=(0,r.default)(d,2);return{values:f[0],indices:f[1]}}})},6345:(e,t,n)=>{"use strict";n.r(t),n.d(t,{transpose:()=>p});var r=n(1945),a=n(4691),i=n(3416),o=n(959),s=n(7806),u=n(7855),l=n(2148),c=n(7946),d=n(7915),f=n(3786);var p=(0,d.op)({transpose_:function(e,t,n){var d=(0,o.convertToTensor)(e,"x","transpose");if(null==t&&(t=d.shape.map((function(e,t){return t})).reverse()),s.assert(d.rank===t.length,(function(){return`Error in transpose: rank of input ${d.rank} must match length of perm ${t}.`})),t.forEach((function(e){s.assert(e>=0&&e<d.rank,(function(){return"All entries in 'perm' must be between 0 and "+(d.rank-1)+` but got ${t}`}))})),d.rank<=1)return d.clone();var p={x:d},h={perm:t};return"complex64"===d.dtype?(0,a.tidy)((function(){var e=(0,f.real)(d),t=(0,l.imag)(d);return e=r.ENGINE.runKernel(i.Transpose,{x:e},h),t=r.ENGINE.runKernel(i.Transpose,{x:t},h),n&&(t=(0,c.neg)(t)),(0,u.complex)(e,t)})):r.ENGINE.runKernel(i.Transpose,p,h)}})},2707:(e,t,n)=>{"use strict";n.r(t),n.d(t,{unique:()=>u});var r=n(885),a=n(1945),i=n(3416),o=n(959),s=n(7806);var u=(0,n(7915).op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o.convertToTensor)(e,"x","unique","string_or_numeric");(0,s.assert)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var u={x:n},l={axis:t},c=a.ENGINE.runKernel(i.Unique,u,l),d=(0,r.default)(c,2);return{values:d[0],indices:d[1]}}})},8487:(e,t,n)=>{"use strict";n.r(t),n.d(t,{unsortedSegmentSum:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({unsortedSegmentSum_:function(e,t,n){var s=(0,i.convertToTensor)(e,"x","unsortedSegmentSum"),u=(0,i.convertToTensor)(t,"segmentIds","unsortedSegmentSum","int32");(0,o.assert)((0,o.isInt)(n),(function(){return"numSegments must be of dtype int"}));var l={x:s,segmentIds:u},c={numSegments:n};return r.ENGINE.runKernel(a.UnsortedSegmentSum,l,c)}})},2220:(e,t,n)=>{"use strict";n.r(t),n.d(t,{unstack:()=>s});var r=n(1945),a=n(3416),i=n(959),o=n(7806);var s=(0,n(7915).op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,i.convertToTensor)(e,"x","unstack","string_or_numeric");o.assert(t>=-n.shape.length&&t<n.shape.length,(function(){return`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`}));var s={value:n},u={axis:t};return r.ENGINE.runKernel(a.Unpack,s,u)}})},8699:(e,t,n)=>{"use strict";n.r(t),n.d(t,{where:()=>u});var r=n(1945),a=n(3416),i=n(959),o=n(2010),s=n(2202);var u=(0,n(7915).op)({where_:function(e,t,n){var u=(0,i.convertToTensor)(t,"a","where"),l=(0,i.convertToTensor)(n,"b","where"),c=(0,i.convertToTensor)(e,"condition","where","bool"),d=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(c.shape,u.shape),l.shape),f={condition:(0,o.broadcastTo)(c,d),t:(0,o.broadcastTo)(u,d),e:(0,o.broadcastTo)(l,d)};return r.ENGINE.runKernel(a.Select,f)}})},7111:(e,t,n)=>{"use strict";n.r(t),n.d(t,{zeros:()=>o});var r=n(1945),a=n(7806),i=n(7855);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=o(e,"float32"),s=o(e,"float32");return(0,i.complex)(n,s)}var u=(0,a.makeZerosTypedArray)((0,a.sizeFromShape)(e),t);return r.ENGINE.makeTensor(u,e,t)}},1241:(e,t,n)=>{"use strict";n.r(t),n.d(t,{zerosLike:()=>o});var r=n(1945),a=n(3416),i=n(959);var o=(0,n(7915).op)({zerosLike_:function(e){var t={x:(0,i.convertToTensor)(e,"x","zerosLike")};return r.ENGINE.runKernel(a.ZerosLike,t)}})},3243:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Tensor:()=>_,TensorBuffer:()=>S,Variable:()=>A,getGlobalTensorClass:()=>R,setDeprecationWarningFn:()=>I,setOpHandler:()=>N,setTensorTracker:()=>C});var r=n(136),a=n(6215),i=n(1120),o=n(5861),s=n(5671),u=n(3144),l=n(5225),c=n(2982),d=n(7806),f=20,p=3,h=7;function m(e,t,n,r){var a=(0,d.computeStrides)(t),i=function(e,t,n,r){var a=(0,d.sizeFromShape)(t),i=r[r.length-1],o=new Array(i).fill(0),s=t.length,u="complex64"===n?b(e):e;if(s>1)for(var l=0;l<a/i;l++)for(var c=l*i,f=0;f<i;f++)o[f]=Math.max(o[f],v(u[c+f],0,n).length);return o}(e,t,n,a),o=t.length,s=y(e,t,n,a,i),u=["Tensor"];return r&&(u.push(`  dtype: ${n}`),u.push(`  rank: ${o}`),u.push(`  shape: [${t}]`),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function v(e,t,n){var r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(h))} + ${parseFloat(e[1].toFixed(h))}j`:(0,d.isString)(e)?`'${e}'`:"bool"===n?g(e):parseFloat(e.toFixed(h)).toString(),(0,d.rightPad)(r,t)}function g(e){return 0===e?"false":"true"}function y(e,t,n,r,a){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o="complex64"===n?2:1,s=t[0],u=t.length;if(0===u)return"complex64"===n?[v(b(e)[0],0,n)]:"bool"===n?[g(e[0])]:[e[0].toString()];if(1===u){if(s>f){var l=p*o,d=Array.from(e.slice(0,l)),h=Array.from(e.slice((s-p)*o,s*o));return"complex64"===n&&(d=b(d),h=b(h)),["["+d.map((function(e,t){return v(e,a[t],n)})).join(", ")+", ..., "+h.map((function(e,t){return v(e,a[s-p+t],n)})).join(", ")+"]"]}return["["+("complex64"===n?b(e):Array.from(e)).map((function(e,t){return v(e,a[t],n)})).join(", ")+"]"]}var m=t.slice(1),k=r.slice(1),w=r[0]*o,x=[];if(s>f){for(var S=0;S<p;S++){var T=S*w,E=T+w;x.push.apply(x,(0,c.default)(y(e.slice(T,E),m,n,k,a,!1)))}x.push("...");for(var C=s-p;C<s;C++){var N=C*w,I=N+w;x.push.apply(x,(0,c.default)(y(e.slice(N,I),m,n,k,a,C===s-1)))}}else for(var _=0;_<s;_++){var R=_*w,A=R+w;x.push.apply(x,(0,c.default)(y(e.slice(R,A),m,n,k,a,_===s-1)))}var O=2===u?",":"";x[0]="["+x[0]+O;for(var D=1;D<x.length-1;D++)x[D]=" "+x[D]+O;for(var F=",\n",$=2;$<u;$++)F+="\n";return x[x.length-1]=" "+x[x.length-1]+"]"+(i?"":F),x}function b(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var k=n(3227);function w(e){var t=x();return function(){var n,r=(0,i.default)(e);if(t){var o=(0,i.default)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,a.default)(this,n)}}function x(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(x=function(){return!!e})()}var S=function(){function e(t,n,r){var a=this;if((0,s.default)(this,e),this.dtype=n,this.shape=t.slice(),this.size=d.sizeFromShape(t),null!=r){var i=r.length;d.assert(i===this.size,(function(){return`Length of values '${i}' does not match the size inferred by the shape '${a.size}'.`}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||d.getArrayFromDType(n,this.size),this.strides=(0,d.computeStrides)(t)}return(0,u.default)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),d.assert(r.length===this.rank,(function(){return`The number of provided coordinates (${r.length}) must match the rank (${t.rank})`}));var i=this.locToIndex(r);this.values[i]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);var r=0;for(var a of t){if(a<0||a>=this.shape[r]){var i=`Requested out of range element at ${t}.   Buffer shape=${this.shape}`;throw new Error(i)}r++}for(var o=t[t.length-1],s=0;s<t.length-1;++s)o+=this.strides[s]*t[s];return this.values[o]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return T().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),T=null,E=null;function C(e){T=e}function N(e){E=e}function I(e){e}var _=function(){function e(t,n,r,a){(0,s.default)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=d.sizeFromShape(t),this.strides=(0,d.computeStrides)(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,u.default)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=(0,o.default)((function*(){var e=yield this.data();return E.buffer(this.shape,this.dtype,e)}));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return E.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=(0,o.default)((function*(){var e=yield this.data();return(0,d.toNestedArray)(this.shape,e,"complex64"===this.dtype)}));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return(0,d.toNestedArray)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=(0,o.default)((function*(){this.throwIfDisposed();var e=T().read(this.dataId);if("string"===this.dtype){var t=yield e;try{return t.map((function(e){return k.decodeString(e)}))}catch(n){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),T().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=T().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return k.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=(0,o.default)((function*(){this.throwIfDisposed();var e=yield T().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(T().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return E.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),E.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this.dataSync(),this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),E.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),T().makeVariable(this,e,t,n)}}]),e}();function R(){return(0,l.getGlobal)("Tensor",(function(){return _}))}Object.defineProperty(_,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),R();var A=function(e){(0,r.default)(n,e);var t=w(n);function n(e,r,a,i){var o;return(0,s.default)(this,n),(o=t.call(this,e.shape,e.dtype,e.dataId,i)).trainable=r,o.name=a,o}return(0,u.default)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!d.arraysEqual(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);T().disposeTensor(this),this.dataId=e.dataId,T().incRef(this,null)}},{key:"dispose",value:function(){T().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(_);Object.defineProperty(A,Symbol.hasInstance,{value:function(e){return e instanceof _&&null!=e.assign&&e.assign instanceof Function}})},3795:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertTypesMatch:()=>s,getTensorsInContainer:()=>l,isTensorInList:()=>u,makeTypesMatch:()=>o});var r=n(3243),a=n(7025),i=n(7806);function o(e,t){if(e.dtype===t.dtype)return[e,t];var n=(0,a.upcastType)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,i.assert)(e.dtype===t.dtype,(function(){return`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`}))}function u(e,t){return t.some((function(t){return t.id===e.id}))}function l(e){var t=[];return c(e,t,new Set),t}function c(e,t,n){if(null!=e)if(e instanceof r.Tensor)t.push(e);else if(a=e,Array.isArray(a)||"object"===typeof a){var a,i=e;for(var o in i){var s=i[o];n.has(s)||(n.add(s),c(s,t,n))}}}},959:(e,t,n)=>{"use strict";n.r(t),n.d(t,{convertToTensor:()=>d,convertToTensorArray:()=>f,inferShape:()=>u});var r=n(1945),a=n(4227),i=n(3243),o=n(7806),s=n(3227);function u(e,t){var n=e;if((0,o.isTypedArray)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||(0,o.isTypedArray)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,a.env)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&l(e,r,[]),r}function l(e,t,n){if(n=n||[],Array.isArray(e)||(0,o.isTypedArray)(e)){(0,o.assert)(t.length>0,(function(){return`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`})),(0,o.assert)(e.length===t[0],(function(){return`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`}));for(var r=t.slice(1),a=0;a<e.length;++a)l(e[a],r,n.concat(a))}else(0,o.assert)(0===t.length,(function(){return`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`}))}function c(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function d(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof i.Tensor)return c(a,e.dtype,t,n),e;var l=(0,o.inferDtype)(e);if("string"!==l&&["bool","int32","float32"].indexOf(a)>=0&&(l=a),c(a,l,t,n),null==e||!(0,o.isTypedArray)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var d=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${d}'`)}var f=u(e,l);(0,o.isTypedArray)(e)||Array.isArray(e)||(e=[e]);var p="string"!==l?(0,s.toTypedArray)(e,l):(0,o.flatten)(e,[],!0);return r.ENGINE.makeTensor(p,f,l)}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map((function(e,a){return d(e,`${t}[${a}]`,n,r)}))}},9811:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TEST_EPSILON_FLOAT16:()=>l,createVideoElement:()=>k,encodeStrings:()=>b,expectArrayBuffersEqual:()=>y,expectArraysClose:()=>c,expectArraysEqual:()=>h,expectNumbersClose:()=>m,expectPromiseToFail:()=>p,expectValuesInRange:()=>g,play:()=>w,testEpsilon:()=>d});var r=n(5861),a=n(1945),i=n(959),o=n(7806),s=n(3227),u=.001,l=.1;function c(e,t,n){return null==n&&(n=d()),f(e,t,(function(e,t){return v(e,t,n)}))}function d(){return 32===a.ENGINE.backend.floatPrecision()?u:l}function f(e,t,n){var r=!0;if(((0,o.isTypedArray)(e)||(0,o.isTypedArray)(t))&&(r=!1),(0,o.isTypedArray)(e)&&(0,o.isTypedArray)(t)&&(r=!0),r){var a=e.constructor.name,s=t.constructor.name;if(a!==s)throw new Error(`Arrays are of different type. Actual: ${a}. Expected: ${s}`)}if(Array.isArray(e)&&Array.isArray(t)){var u=(0,i.inferShape)(e),l=(0,i.inferShape)(t);if(!(0,o.arraysEqual)(u,l))throw new Error(`Arrays have different shapes. Actual: [${u}]. Expected: [${l}]`)}var c=(0,o.isTypedArray)(e)?e:(0,o.flatten)(e),d=(0,o.isTypedArray)(t)?t:(0,o.flatten)(t);if(c.length!==d.length)throw new Error(`Arrays have different lengths actual: ${c.length} vs expected: ${d.length}.\nActual:   ${c}.\nExpected: ${d}.`);for(var f=0;f<d.length;++f){var p=c[f],h=d[f];if(!n(p,h))throw new Error(`Arrays differ: actual[${f}] = ${p}, expected[${f}] = ${h}.\nActual:   ${c}.\nExpected: ${d}.`)}"undefined"!==typeof expect&&expect().nothing()}function p(e,t){e().then((function(){return t.fail()}),(function(){return t()})),"undefined"!==typeof expect&&expect().nothing()}function h(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,o.isString)(e)||(0,o.isString)(e[0])||(0,o.isString)(t)||(0,o.isString)(t[0])?f(e,n,(function(e,t){return e==t})):f(e,t,(function(e,t){return v(e,t,0)}))}function m(e,t,n){if(null==n&&(n=d()),!v(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`);"undefined"!==typeof expect&&expect().nothing()}function v(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function g(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function y(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(var a=0;a<r.length;a++)if(n[a]!==r[a])throw new Error(`Expected ArrayBuffer value at ${a} to be ${r[a]} but got ${n[a]} instead`)}function b(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?b(n):e[t]=(0,s.encodeString)(n)}return e}function k(e){var t=document.createElement("video");return"playsInline"in t&&(t.playsInline=!0),t.muted=!0,t.loop=!0,t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.preload="auto",t.appendChild(e),new Promise((function(e){t.addEventListener("loadeddata",(function(n){return e(t)})),t.load()}))}function w(e){return x.apply(this,arguments)}function x(){return(x=(0,r.default)((function*(e){yield e.play(),"requestVideoFrameCallback"in e&&(yield new Promise((function(t){e.requestVideoFrameCallback(t)})))}))).apply(this,arguments)}},7025:(e,t,n)=>{"use strict";var r,a,i,o,s;n.r(t),n.d(t,{Rank:()=>r,sumOutType:()=>c,upcastType:()=>l}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(o||(o={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:o,int32:a,bool:i,complex64:s};function l(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return u[e][t]}function c(e){return l(e,"int32")}},3227:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arraysEqual:()=>a.arraysEqual,assert:()=>a.assert,assertNonNegativeIntegerDimensions:()=>a.assertNonNegativeIntegerDimensions,assertNonNull:()=>a.assertNonNull,assertShapesMatch:()=>a.assertShapesMatch,bytesFromStringArray:()=>a.bytesFromStringArray,bytesPerElement:()=>a.bytesPerElement,checkConversionForErrors:()=>a.checkConversionForErrors,clamp:()=>a.clamp,computeStrides:()=>a.computeStrides,createScalarValue:()=>b,createShuffledIndices:()=>a.createShuffledIndices,decodeString:()=>T,distSquared:()=>a.distSquared,encodeString:()=>S,fetch:()=>x,fingerPrint64:()=>y,flatten:()=>a.flatten,getArrayFromDType:()=>a.getArrayFromDType,getTypedArrayFromDType:()=>a.getTypedArrayFromDType,hasEncodingLoss:()=>a.hasEncodingLoss,hexToLong:()=>s,indexToLoc:()=>a.indexToLoc,inferDtype:()=>a.inferDtype,inferFromImplicitShape:()=>a.inferFromImplicitShape,isBoolean:()=>a.isBoolean,isFunction:()=>a.isFunction,isInt:()=>a.isInt,isNumber:()=>a.isNumber,isPromise:()=>a.isPromise,isScalarShape:()=>a.isScalarShape,isString:()=>a.isString,isTypedArray:()=>a.isTypedArray,isValidDtype:()=>a.isValidDtype,locToIndex:()=>a.locToIndex,makeOnesTypedArray:()=>a.makeOnesTypedArray,makeZerosNestedTypedArray:()=>a.makeZerosNestedTypedArray,makeZerosTypedArray:()=>a.makeZerosTypedArray,nearestDivisor:()=>a.nearestDivisor,nearestLargerEven:()=>a.nearestLargerEven,now:()=>w,parseAxisParam:()=>a.parseAxisParam,randUniform:()=>a.randUniform,repeatedTry:()=>a.repeatedTry,rightPad:()=>a.rightPad,shuffle:()=>a.shuffle,shuffleCombo:()=>a.shuffleCombo,sizeFromShape:()=>a.sizeFromShape,sizeToSquarishShape:()=>a.sizeToSquarishShape,squeezeShape:()=>a.squeezeShape,sum:()=>a.sum,swap:()=>a.swap,tanh:()=>a.tanh,toNestedArray:()=>a.toNestedArray,toTypedArray:()=>k});var r=n(4227),a=n(7806),i=n(9477),o=n.n(i)()||i;function s(e){return o.fromString(e,!0,16)}var u=s("c3a5c85c97cb3127"),l=s("b492b66fbe98f273"),c=s("9ae16a3b2f90404f");function d(e){return e.xor(e.shru(47))}function f(e,t,n){var r=e.slice(t,t+n);return o.fromBytes(Array.from(r),!0,!0)}function p(e,t){return f(e,t,8)}function h(e,t){return f(e,t,4)}function m(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function g(e,t,n,r){return function(e,t,n,r,a,i){a=a.add(e),i=m(i.add(a).add(r),21);var o=a;return a=(a=a.add(t)).add(n),i=i.add(m(a,44)),[a.add(r),i.add(o)]}(p(e,t),p(e,t+8),p(e,t+16),p(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=o.fromNumber(81,!0);if(t<=32)return t<=16?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=c.add(2*t),r=p(e,0).add(c),a=p(e,t-8);return v(m(a,37).mul(n).add(r),m(r,25).add(a).mul(n),n)}if(t>=4){var i=c.add(2*t);return v(h(e,0).shl(3).add(t),h(e,t-4),i)}if(t>0){var o=e[0]+(e[t>>1]<<8),s=t+(e[t-1]<<2);return d(c.mul(o).xor(u.mul(s))).mul(c)}return c}(e,t):function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=c.add(2*t),r=p(e,0).mul(l),a=p(e,8),i=p(e,t-8).mul(n),o=p(e,t-16).mul(c);return v(m(r.add(a),43).add(m(i,30)).add(o),r.add(m(a.add(c),18)).add(i),n)}(e,t);if(t<=64)return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=c.add(2*t),r=p(e,0).mul(c),a=p(e,8),i=p(e,t-8).mul(n),o=p(e,t-16).mul(c),s=m(r.add(a),43).add(m(i,30)).add(o),u=v(s,r.add(m(a.add(c),18)).add(i),n),l=p(e,16).mul(n),d=p(e,24),f=s.add(p(e,t-32)).mul(n),h=u.add(p(e,t-24)).mul(n);return v(m(l.add(d),43).add(m(f,30)).add(h),l.add(m(d.add(r),18)).add(f),n)}(e,t);var r=n,a=n.mul(l).add(113),i=d(a.mul(c).add(113)).mul(c),s=[o.UZERO,o.UZERO],f=[o.UZERO,o.UZERO];r=r.mul(c).add(p(e,0));var y=0,b=64*(t-1>>6),k=b+(t-1&63)-63;do{r=m(r.add(a).add(s[0]).add(p(e,y+8)),37).mul(l),a=m(a.add(s[1]).add(p(e,y+48)),42).mul(l),r=r.xor(f[1]),a=a.add(s[0]).add(p(e,y+40)),i=m(i.add(f[0]),33).mul(l),s=g(e,y,s[1].mul(l),r.add(f[0])),f=g(e,y+32,i.add(f[1]),a.add(p(e,y+16)));var w=[r,i];i=w[0],r=w[1],y+=64}while(y!==b);var x=l.add(i.and(255).shl(1));y=k,f[0]=f[0].add(t-1&63),s[0]=s[0].add(f[0]),f[0]=f[0].add(s[0]),r=m(r.add(a).add(s[0]).add(p(e,y+8)),37).mul(x),a=m(a.add(s[1]).add(p(e,y+48)),42).mul(x),r=r.xor(f[1].mul(9)),a=a.add(s[0].mul(9).add(p(e,y+40))),i=m(i.add(f[0]),33).mul(x),s=g(e,y,s[1].mul(x),r.add(f[0])),f=g(e,y+32,i.add(f[1]),a.add(p(e,y+16)));var S=[r,i];return i=S[0],r=S[1],v(v(s[0],f[0],x).add(d(a).mul(u)).add(i),v(s[1],f[1],x).add(r),x)}function b(e,t){return"string"===t?S(e):k([e],t)}function k(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=a.flatten(e)),(0,r.env)().getBool("DEBUG")&&a.checkConversionForErrors(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),i=0;i<n.length;++i)0!==Math.round(e[i])&&(n[i]=1);return n}throw new Error(`Unknown data type ${t}`)}function w(){return(0,r.env)().platform.now()}function x(e,t){return(0,r.env)().platform.fetch(e,t)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.env)().platform.encode(e,t)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.env)().platform.decode(e,t)}},7806:(e,t,n)=>{"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function a(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function i(e,t,n){return Math.max(e,Math.min(t,n))}function o(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function l(e,t){var n=Math.random();return t*n+(1-n)*e}function c(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n}function d(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";d(g(e,t),(function(){return n+` Shapes ${e} and ${t} must match`}))}function p(e){d(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||O(e)&&!n)for(var r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function m(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function v(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function k(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function w(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function x(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var i=0;!function o(){if(e())r();else{i++;var s=t(i);null!=n&&i>=n?a():setTimeout(o,s)}}()}))}function T(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${a}`);r=a}else if(e[a]<0)throw Error(`Shapes can not be < 0. Found ${e[a]} at dim ${a}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);var i=e.slice();return i[r]=t/n,i}function E(e,t){var n=t.length;return d((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`})),d(e.every((function(e){return y(e)})),(function(){return`All values in axis param must be integers but got axis ${e}`})),e.map((function(e){return e<0?n+e:e}))}function C(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,i=null==t||a?null:E(t,e).sort(),o=0,s=0;s<e.length;++s){if(null!=i){if(i[o]===s&&1!==e[s])throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(null==i[o]||i[o]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),i[o]<=s&&o++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function N(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function I(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function _(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function R(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function A(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function O(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function D(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function F(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function $(e){return"string"===typeof e||e instanceof String}function P(e){return"boolean"===typeof e}function M(e){return"number"===typeof e}function L(e){return Array.isArray(e)?L(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":M(e)?"float32":$(e)?"string":P(e)?"bool":"float32"}function z(e){return!!(e&&e.constructor&&e.call&&e.apply)}function B(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function V(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var i=t[0]*(r?2:1),o=0;o<i;o++)a[o]=n[e+o];else for(var s=t[0],u=t.slice(1),l=u.reduce((function(e,t){return e*t}))*(r?2:1),c=0;c<s;c++)a[c]=U(e+c*l,u,n,r);return a}function G(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return U(0,e,t,n)}function W(e,t){for(var n=j(e,t),r=0;r<n.length;r++)n[r]=1;return n}function j(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function q(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return G(e,new Float32Array(n));if("int32"===t)return G(e,new Int32Array(n));if("bool"===t)return G(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function H(e){e.forEach((function(t){d(Number.isInteger(t)&&t>=0,(function(){return`Tensor must have a shape comprised of positive integers but got shape [${e}].`}))}))}function K(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function X(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function Y(e){return e&&e.then&&"function"===typeof e.then}n.r(t),n.d(t,{arraysEqual:()=>g,assert:()=>d,assertNonNegativeIntegerDimensions:()=>H,assertNonNull:()=>p,assertShapesMatch:()=>f,bytesFromStringArray:()=>F,bytesPerElement:()=>D,checkConversionForErrors:()=>_,clamp:()=>i,computeStrides:()=>V,createShuffledIndices:()=>w,distSquared:()=>c,flatten:()=>h,getArrayFromDType:()=>I,getTypedArrayFromDType:()=>N,hasEncodingLoss:()=>A,indexToLoc:()=>X,inferDtype:()=>L,inferFromImplicitShape:()=>T,isBoolean:()=>P,isFunction:()=>z,isInt:()=>y,isNumber:()=>M,isPromise:()=>Y,isScalarShape:()=>v,isString:()=>$,isTypedArray:()=>O,isValidDtype:()=>R,locToIndex:()=>K,makeOnesTypedArray:()=>W,makeZerosNestedTypedArray:()=>q,makeZerosTypedArray:()=>j,nearestDivisor:()=>B,nearestLargerEven:()=>o,parseAxisParam:()=>E,randUniform:()=>l,repeatedTry:()=>S,rightPad:()=>x,shuffle:()=>r,shuffleCombo:()=>a,sizeFromShape:()=>m,sizeToSquarishShape:()=>k,squeezeShape:()=>C,sum:()=>u,swap:()=>s,tanh:()=>b,toNestedArray:()=>G})},7196:(e,t,n)=>{"use strict";n.r(t),n.d(t,{asyncStorageIO:()=>Q,bundleResourceIO:()=>te,cameraWithTensors:()=>Ae,decodeJpeg:()=>ae,detectGLCapabilities:()=>ve,fetch:()=>U,fromTexture:()=>ke,renderToGLView:()=>we,toTexture:()=>ye,version:()=>ie});var r=n(5671),a=n(3144),i=n(5861),o=(n(354),n(2236)),s=n(6984),u=n(4214),l=n(4942),c=n(5987),d=n(136),f=n(6215),p=n(1120),h=n(2982),m=n(1222),v=n(9590),g=n.n(v),y=n(5004),b=n(4584),k=n(885),w=n(9153),x=n(1647),S=n(6792),T=n(9385),E=n(7339),C=["pointerEvents","children"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=y.forwardRef((function(e,t){return(0,E.default)("canvas",I(I({},e),{},{ref:t}))}));const R=function(e){var t=e.pointerEvents,n=e.children,r=(0,c.default)(e,C),a=y.useState(null),i=(0,k.default)(a,2),o=i[0],s=i[1],u=y.useRef(null),l=y.useRef(null);function d(){var e=l.current;if("undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement){var t=f(),n=x.default.get();e.style.width=`${t.width}px`,e.style.height=`${t.height}px`,e.width=t.width*n,e.height=t.height*n}}function f(){if(o)return o;if(!u.current||!m.Platform.isDOMAvailable)return{width:0,height:0};var e=function(e){try{return(0,w.findDOMNode)(e)}catch(t){return e}}(u.current),t=e.offsetWidth,n=void 0===t?0:t,r=e.offsetHeight;return{width:n,height:void 0===r?0:r}}return y.useEffect((function(){null!=u.current&&s(f())}),[u]),y.useEffect((function(){d()}),[o]),y.useEffect((function(){var e=l.current;e&&d(),function(e,t){e&&("function"===typeof e?e(t):"current"in e&&(e.current=t))}(r.canvasRef,e)}),[l]),y.createElement(T.default,I(I({},r),{},{pointerEvents:"box-none",ref:u,onLayout:function(e){var t=e.nativeEvent.layout,n=t.width,a=t.height;n===(null==o?void 0:o.width)&&a===o.height||(s({width:n,height:a}),r.onLayout&&r.onLayout(e))}}),y.createElement(_,{ref:l,pointerEvents:t,style:S.default.absoluteFill}),n)};var A=["onContextCreate","onContextRestored","onContextLost","webglContextAttributes","msaaSamples","nativeRef_EXPERIMENTAL","ref"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e){var t=$();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return($=function(){return!!e})()}function P(e){if(null!=e&&"object"===typeof e&&e.downloadAsync){var t=e.localUri||e.uri||"",n=new Image;return n.src=t,n}return e}function M(e,t){if(!e)throw new m.CodedError("ERR_GL_INVALID","Attempting to use the GL context before it has been created.");var n,r=!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&e.getContext("webgl2",t)||e.getContext("webgl",t)||e.getContext("webgl-experimental",t)||e.getContext("experimental-webgl",t);return g()(r,"Browser does not support WebGL"),(n=r).endFrameEXP=function(){},n._expo_texImage2D||(n._expo_texImage2D=n.texImage2D,n.texImage2D=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=[].concat(t);return a.push(P(a.pop())),n._expo_texImage2D.apply(n,(0,h.default)(a))}),n._expo_texSubImage2D||(n._expo_texSubImage2D=n.texSubImage2D,n.texSubImage2D=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=[].concat(t);return a.push(P(a.pop())),n._expo_texSubImage2D.apply(n,(0,h.default)(a))}),n}function L(){return L=(0,i.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g()(e,"getBlobFromWebGLRenderingContext(): WebGL Rendering Context is not defined");var n,r=e.canvas,a=null;return"function"===typeof r.msToBlob?a=yield r.msToBlob():a=(n=r)&&"function"===typeof n.convertToBlob?yield r.convertToBlob({quality:t.compress,type:t.format}):yield new Promise((function(e){r.toBlob((function(t){return e(t)}),t.format,t.compress)})),{blob:a,width:r.width,height:r.height}})),L.apply(this,arguments)}var z=function(e){(0,d.default)(n,e);var t=F(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).onContextLost=function(t){t&&t.preventDefault&&t.preventDefault(),e.gl=void 0,"function"===typeof e.props.onContextLost&&e.props.onContextLost()},e.onContextRestored=function(){if(e.gl=void 0,null==e.getGLContext())throw new m.CodedError("ERR_GL_INVALID","Failed to restore GL context.")},e.setCanvasRef=function(t){e.canvas=t,"function"===typeof e.props.nativeRef_EXPERIMENTAL&&e.props.nativeRef_EXPERIMENTAL(t),e.canvas&&(e.canvas.addEventListener("webglcontextlost",e.onContextLost),e.canvas.addEventListener("webglcontextrestored",e.onContextRestored),e.getGLContext())},e}return(0,a.default)(n,[{key:"componentWillUnmount",value:function(){if(this.gl){var e=this.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),this.gl=void 0}this.canvas&&(this.canvas.removeEventListener("webglcontextlost",this.onContextLost),this.canvas.removeEventListener("webglcontextrestored",this.onContextRestored))}},{key:"render",value:function(){var e=this.props,t=(e.onContextCreate,e.onContextRestored,e.onContextLost,e.webglContextAttributes,e.msaaSamples,e.nativeRef_EXPERIMENTAL,e.ref,(0,c.default)(e,A));return y.createElement(R,D(D({},t),{},{canvasRef:this.setCanvasRef}))}},{key:"componentDidUpdate",value:function(e){var t=this.props.webglContextAttributes;this.canvas&&t!==e.webglContextAttributes&&(this.onContextLost(null),this.onContextRestored())}},{key:"getGLContextOrReject",value:function(){var e=this.getGLContext();if(!e)throw new m.CodedError("ERR_GL_INVALID","Attempting to use the GL context before it has been created.");return e}},{key:"getGLContext",value:function(){return this.gl?this.gl:this.canvas?(this.gl=M(this.canvas,this.props.webglContextAttributes),"function"===typeof this.props.onContextCreate&&this.props.onContextCreate(this.gl),this.gl):null}},{key:"takeSnapshotAsync",value:function(){var e=(0,i.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!n.takeSnapshotAsync)throw new m.UnavailabilityError("expo-gl","takeSnapshotAsync");var t=this.getGLContextOrReject();return yield n.takeSnapshotAsync(t,e)}));return function(){return e.apply(this,arguments)}}()},{key:"startARSessionAsync",value:function(){var e=(0,i.default)((function*(){throw new m.UnavailabilityError("GLView","startARSessionAsync")}));return function(){return e.apply(this,arguments)}}()},{key:"createCameraTextureAsync",value:function(){var e=(0,i.default)((function*(){throw new m.UnavailabilityError("GLView","createCameraTextureAsync")}));return function(){return e.apply(this,arguments)}}()},{key:"destroyObjectAsync",value:function(){var e=(0,i.default)((function*(e){throw new m.UnavailabilityError("GLView","destroyObjectAsync")}));return function(t){return e.apply(this,arguments)}}()}],[{key:"createContextAsync",value:function(){var e=(0,i.default)((function*(){if(!m.Platform.isDOMAvailable)return null;var e=document.createElement("canvas"),t=b.default.get("window"),n=t.width,r=t.height,a=t.scale;return e.width=n*a,e.height=r*a,M(e)}));return function(){return e.apply(this,arguments)}}()},{key:"destroyContextAsync",value:function(){var e=(0,i.default)((function*(e){return!0}));return function(t){return e.apply(this,arguments)}}()},{key:"takeSnapshotAsync",value:function(){var e=(0,i.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=yield function(e){return L.apply(this,arguments)}(e,t),r=n.blob,a=n.width,i=n.height;if(!r)throw new m.CodedError("ERR_GL_SNAPSHOT","Failed to save the GL context");return{uri:r,localUri:"",width:a,height:i}}));return function(t){return e.apply(this,arguments)}}()}]),n}(y.Component),B=n(2152);function V(e){var t=new Headers;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}})),t}function U(e,t,n){return G.apply(this,arguments)}function G(){return(G=(0,i.default)((function*(e,t,n){return new Promise((function(r,a){var i=new Request(e,t),o=new XMLHttpRequest;o.onload=function(){var e={status:o.status,statusText:o.statusText,headers:V(o.getAllResponseHeaders()||""),url:""};e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;r(new Response(t,e))},o.onerror=function(){return a(new TypeError("Network request failed"))},o.ontimeout=function(){return a(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),null!=n&&n.isBinary&&(o.responseType="arraybuffer"),i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)}))}))).apply(this,arguments)}var W=function(){function e(){(0,r.default)(this,e)}return(0,a.default)(e,[{key:"fetch",value:function(){var e=(0,i.default)((function*(e,t,n){return U(e,t,n)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"encode",value:function(e,t){return"utf-16"===t&&(t="utf16le"),new Uint8Array(u.Buffer.from(e,t))}},{key:"decode",value:function(e,t){return"utf-16"===t&&(t="utf16le"),u.Buffer.from(e).toString(t)}},{key:"now",value:function(){return n.g.nativePerformanceNow?n.g.nativePerformanceNow():Date.now()}}]),e}();s.env().registerFlag("IS_REACT_NATIVE",(function(){return navigator&&"ReactNative"===navigator.product})),s.env().getBool("IS_REACT_NATIVE")&&(n.g.Buffer=u.Buffer,function(){try{s.registerBackend("rn-webgl",(0,i.default)((function*(){var e=yield z.createContextAsync();s.env().set("WEBGL_BUFFER_SUPPORTED",!1);var t=e.getExtension.bind(e);e.getExtension=function(e){return"EXT_color_buffer_float"===e?"ios"===B.default.OS?null:{}:"EXT_color_buffer_half_float"===e?{}:t(e)}.bind(e),e.fenceSync=function(){return{}}.bind(e),e.clientWaitSync=function(){return e.CONDITION_SATISFIED}.bind(e),(0,o.setWebGLContext)(2,e);var n=new o.GPGPUContext;return new o.MathBackendWebGL(n)})),5),s.getKernelsForBackend("webgl").forEach((function(e){var t=Object.assign({},e,{backendName:"rn-webgl"});s.registerKernel(t)}))}catch(e){throw new Error(`Failed to register Webgl backend: ${e.message}`)}}(),s.setPlatform("react-native",new W));var j=n(9504),q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},H="tensorflowjs_models",K="info",X="model_without_weight",Y="weight_data";var Z=function(){function e(t){if((0,r.default)(this,e),this.modelPath=t,null==t||!t)throw new Error("modelPath must not be null, undefined or empty.");var a;this.keys=(a=this.modelPath,{info:[H,a,K].join("/"),modelArtifactsWithoutWeights:[H,a,X].join("/"),weightData:[H,a,Y].join("/")}),this.asyncStorage=n(519).default}return(0,a.default)(e,[{key:"save",value:function(){var e=(0,i.default)((function*(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("AsyncStorageHandler.save() does not support saving model topology in binary format.");var t=function(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}(e),n=e.weightData,r=q(e,["weightData"]);try{return this.asyncStorage.setItem(this.keys.info,JSON.stringify(t)),this.asyncStorage.setItem(this.keys.modelArtifactsWithoutWeights,JSON.stringify(r)),this.asyncStorage.setItem(this.keys.weightData,(0,j.fromByteArray)(new Uint8Array(n))),{modelArtifactsInfo:t}}catch(a){throw this.asyncStorage.removeItem(this.keys.info),this.asyncStorage.removeItem(this.keys.weightData),this.asyncStorage.removeItem(this.keys.modelArtifactsWithoutWeights),new Error(`Failed to save model '${this.modelPath}' to AsyncStorage.\n            Error info ${a}`)}}));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,i.default)((function*(){var e=JSON.parse(yield this.asyncStorage.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");var t=JSON.parse(yield this.asyncStorage.getItem(this.keys.modelArtifactsWithoutWeights)),n=yield this.asyncStorage.getItem(this.keys.weightData);if(null==n)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=(0,j.toByteArray)(n).buffer,t}));return function(){return e.apply(this,arguments)}}()}]),e}();function Q(e){return new Z(e)}var J=n(8738),ee=function(){function e(t,n){if((0,r.default)(this,e),this.modelJson=t,this.modelWeightsId=n,null==t||null==n)throw new Error("Must pass the model json object and the model weights path.")}return(0,a.default)(e,[{key:"save",value:function(){var e=(0,i.default)((function*(){throw new Error("Bundle resource IO handler does not support saving. Consider using asyncStorageIO instead")}));return function(){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,i.default)((function*(){var e=this.modelWeightsId.map((function(e){return J.Asset.fromModule(e)}));return e[0].uri.match("^http")?this.loadViaHttp(e):this.loadLocalAsset(e)}));return function(){return e.apply(this,arguments)}}()},{key:"loadViaHttp",value:function(){var e=(0,i.default)((function*(e){var t=this.modelJson,n=Object.assign({},t);n.weightSpecs=t.weightsManifest[0].weights,delete n.weightManifest;var r=yield Promise.all(e.map(function(){var e=(0,i.default)((function*(e){var t=e.uri,n=yield U(t,undefined,{isBinary:!0});return yield n.arrayBuffer()}));return function(t){return e.apply(this,arguments)}}()));return n.weightData=s.io.concatenateArrayBuffers(r),n}));return function(t){return e.apply(this,arguments)}}()},{key:"loadLocalAsset",value:function(){var e=(0,i.default)((function*(e){var t=n(8025),r=this.modelJson,a=Object.assign({},r);a.weightSpecs=r.weightsManifest[0].weights,delete a.weightManifest;var o=yield Promise.all(e.map(function(){var e=(0,i.default)((function*(e){var n;if("android"===B.default.OS){var r=`${e.uri}.${e.type}`;try{n=yield t.readFileRes(r,"base64")}catch(a){throw new Error(`Error reading resource ${r}. Make sure the file is\n            in located in the res/raw folder of the bundle`)}}else try{n=yield t.readFile(e.uri,"base64")}catch(a){throw new Error(`Error reading resource ${e.uri}.`)}return s.util.encodeString(n,"base64").buffer}));return function(t){return e.apply(this,arguments)}}()));return a.weightData=s.io.concatenateArrayBuffers(o),a}));return function(t){return e.apply(this,arguments)}}()}]),e}();function te(e,t){if("object"!==typeof e)throw new Error("modelJson must be a JavaScript object (and not a string).\nHave you wrapped yor asset path in a require() statment?");if("string"===typeof t)throw new Error("modelWeightsID must be a number or number array.\nHave you wrapped yor asset paths in a require() statements?");var n=Array.isArray(t)?t:[t];return new ee(e,n)}var ne,re=n(752);function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;s.util.assert(function(e){if(e.length>3&&255===e[0]&&216===e[1]&&255===e[2])return ne.JPEG;if(e.length>4&&71===e[0]&&73===e[1]&&70===e[2]&&56===e[3])return ne.GIF;if(e.length>8&&137===e[0]&&80===e[1]&&78===e[2]&&71===e[3]&&13===e[4]&&10===e[5]&&26===e[6]&&10===e[7])return ne.PNG;if(e.length>3&&66===e[0]&&77===e[1])return ne.BMP;throw new Error("Expected image (JPEG, PNG, or GIF), but got unsupported image type")}(e)===ne.JPEG,(function(){return"The passed contents are not a valid JPEG image"})),s.util.assert(3===t,(function(){return"Only 3 channels is supported at this time"}));for(var n=re.decode(e,{useTArray:!0}),r=n.width,a=n.height,i=n.data,o=new Uint8Array(r*a*3),u=0,l=0;l<o.length;l+=3)o[l]=i[u],o[l+1]=i[u+1],o[l+2]=i[u+2],u+=4;return(0,s.tensor3d)(o,[a,r,t])}!function(e){e.JPEG="jpeg",e.PNG="png",e.GIF="gif",e.BMP="BMP"}(ne||(ne={}));var ie="0.8.0";var oe=new WeakMap,se=new WeakMap,ue=new WeakMap,le=new WeakMap;function ce(e,t,n,r){var a=n.width,i=n.height;s.util.assert(a*i*n.depth===e.length,(function(){return"uploadTextureData Error: imageData length must match w * h * d"}));var u=r||t.createTexture();t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,u),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);var l=3===n.depth?t.RGB:t.RGBA,c=l,d=t.UNSIGNED_BYTE;return o.webgl_util.callAndCheck(t,(function(){t.texImage2D(t.TEXTURE_2D,0,c,a,i,0,l,d,e)})),t.bindTexture(t.TEXTURE_2D,null),u}function de(e,t,n,r,a,i,s,u){var l=i?function(e,t,n,r,a){le.has(e)||le.set(e,new Map);var i=le.get(e),o=`resize_${t.width}_${t.height}_${t.depth}_${n.width}_${n.height}_${n.depth}_${r}_${a}`;if(!i.has(o)){var s,u="#version 300 es\nprecision highp float;\nprecision highp int;\n\nin vec2 position;\nin vec2 texCoords;\nout vec2 uv;\n\nvoid main() {\n  uv = texCoords;\n  gl_Position = vec4(position, 0, 1);\n}";s="nearest_neighbor"===a?function(e,t,n){var r=e.width,a=e.height,i=t.width,o=t.height,s=[n&&i>1?r-1:r,n&&o>1?a-1:a],u=[n&&i>1?i-1:i,n&&o>1?o-1:o],l=n?"0.5":"0.0",c=3===t.depth?"vec3":"vec4",d=3===t.depth?"vec3(texSample)":"texSample";return`#version 300 es\nprecision highp float;\n\nuniform sampler2D inputTexture;\nin vec2 uv;\nout ${c} fragColor;\n\nvec2 sourceDims = vec2(${r}, ${a});\nvec2 targetDims = vec2(${i}, ${o});\n\nconst vec2 inputToOutputRatio = vec2(\n    ${s[0]/u[0]},\n    ${s[1]/u[1]});\n\nvoid main() {\n  ivec2 targetCoords = ivec2(uv * targetDims);\n\n  vec2 sourceCoords = vec2(targetCoords) * inputToOutputRatio;\n  ivec2 iSourceCoords = ivec2(min(\n    sourceDims - 1.0,\n    floor(sourceCoords + ${l})));\n\n  vec4 texSample = texelFetch(inputTexture, iSourceCoords, 0);\n  fragColor = ${d};\n}\n`}(t,n,r):function(e,t,n){var r=e.width,a=e.height,i=t.width,o=t.height,s=[n&&i>1?r-1:r,n&&o>1?a-1:a],u=[n&&i>1?i-1:i,n&&o>1?o-1:o],l=3===t.depth?"vec3":"vec4",c=3===t.depth?"vec3(texSample.r,texSample.g,texSample.b)":"texSample";return`#version 300 es\nprecision highp float;\n\nuniform sampler2D inputTexture;\nin vec2 uv;\nout ${l} fragColor;\n\nvec2 sourceDims = vec2(${r}, ${a});\nvec2 targetDims = vec2(${i}, ${o});\n\nconst vec2 inputToOutputRatio = vec2(\n    ${s[0]/u[0]},\n    ${s[1]/u[1]});\n\nvoid main() {\n  ivec2 targetCoords = ivec2(uv * targetDims);\n\n  vec2 sourceCoords = vec2(targetCoords) * inputToOutputRatio;\n\n  ivec2 sourceFloor = ivec2(sourceCoords);\n  ivec2 sourceCeil = ivec2(min(sourceDims - 1.0, ceil(sourceCoords)));\n\n  vec4 topLeft = texelFetch(inputTexture,\n    ivec2(sourceFloor.x, sourceFloor.y), 0);\n  vec4 bottomLeft = texelFetch(inputTexture,\n    ivec2(sourceCeil.x, sourceFloor.y), 0);\n  vec4 topRight = texelFetch(inputTexture,\n    ivec2(sourceFloor.x, sourceCeil.y), 0);\n  vec4 bottomRight = texelFetch(inputTexture,\n    ivec2(sourceCeil.x, sourceCeil.y), 0);\n\n  vec2 fracRC = sourceCoords - vec2(sourceFloor);\n\n  vec4 top = topLeft + (topRight - topLeft) * fracRC.y;\n  vec4 bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n  vec4 newValue = top + (bottom - top) * fracRC.x;\n\n  vec4 texSample = newValue;\n  fragColor = ${c};\n}\n`}(t,n,r);var l=he(e,u,s,new Float32Array([-1,-1,-1,1,1,1,1,1,-1,-1,1,-1]),new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]));i.set(o,l)}return i.get(o)}(e,n,r,a,s):pe(e,!1,!0,u),c=l.program,d=l.vao,f=l.vertices,p=l.uniformLocations;if(e.useProgram(c),o.webgl_util.callAndCheck(e,(function(){e.bindVertexArray(d)})),e.uniform1i(p.get("inputTexture"),1),e.activeTexture(e.TEXTURE0+1),e.bindTexture(e.TEXTURE_2D,t),!i){var h="nearest_neighbor"===s?e.NEAREST:e.LINEAR;e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,h),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,h)}se.has(e)||se.set(e,e.createTexture());var m=se.get(e),v=r.width,g=r.height;e.activeTexture(e.TEXTURE0+2),e.bindTexture(e.TEXTURE_2D,m),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),ue.has(e)||ue.set(e,{width:-1,height:-1});var y=ue.get(e);if(null==y||y.width!==v||y.height!==g){var b=3===r.depth?e.RGB:e.RGBA,k=b,w=e.UNSIGNED_BYTE;o.webgl_util.callAndCheck(e,(function(){e.texImage2D(e.TEXTURE_2D,0,k,v,g,0,b,w,null)})),ue.set(e,{width:v,height:g})}oe.has(e)||oe.set(e,fe(e));var x=oe.get(e);e.viewport(0,0,v,g),e.bindFramebuffer(e.FRAMEBUFFER,x),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,m,0);var S=e.checkFramebufferStatus(e.FRAMEBUFFER);if(S!==e.FRAMEBUFFER_COMPLETE)switch(S){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:throw new Error("createFrameBuffer: gl.FRAMEBUFFER_INCOMPLETE_ATTACHMENT");case e.FRAMEBUFFER_UNSUPPORTED:throw new Error("createFrameBuffer: gl.FRAMEBUFFER_UNSUPPORTED");case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:throw new Error("createFrameBuffer: gl.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT");case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:throw new Error("createFrameBuffer: gl.FRAMEBUFFER_INCOMPLETE_DIMENSIONS");case e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:throw new Error("createFrameBuffer: gl.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE");default:throw new Error(`createFrameBuffer Error: Other or unknown fbo complete status: ${S}`)}return e.drawArrays(e.TRIANGLES,0,f.length/2),e.bindFramebuffer(e.FRAMEBUFFER,null),e.useProgram(null),e.bindVertexArray(null),m}function fe(e){var t=e.createFramebuffer();if(null==t)throw new Error("Could not create framebuffer");return t}function pe(e,t,n,r){le.has(e)||le.set(e,new Map);var a=le.get(e),i=`drawTexture_${t}_${n}_${r}`;if(!a.has(i)){var o=function(e,t,n){var r=e?-1:1,a=t?-1:1;return`#version 300 es\nprecision highp float;\n\nin vec2 position;\nin vec2 texCoords;\n\nout vec2 uv;\n\nvec2 rotate(vec2 uvCoods, vec2 pivot, float rotation) {\n  float cosa = cos(rotation);\n  float sina = sin(rotation);\n  uvCoods -= pivot;\n  return vec2(\n      cosa * uvCoods.x - sina * uvCoods.y,\n      cosa * uvCoods.y + sina * uvCoods.x\n  ) + pivot;\n}\n\nvoid main() {\n  uv = rotate(texCoords, vec2(0.5), ${0===n?"0.":n*(Math.PI/180)});\n\n  // Invert geometry to match the image orientation from the camera.\n  gl_Position = vec4(position * vec2(${r}., ${a}. * -1.), 0, 1);\n}`}(t,n,r),s=he(e,o,"#version 300 es\nprecision highp float;\nuniform sampler2D inputTexture;\nin vec2 uv;\nout vec4 fragColor;\nvoid main() {\n  vec4 texSample = texture(inputTexture, uv);\n  fragColor = texSample;\n}",new Float32Array([-1,-1,-1,1,1,1,1,1,-1,-1,1,-1]),new Float32Array([0,0,0,1,1,1,1,1,0,0,1,0]));a.set(i,s)}return a.get(i)}function he(e,t,n,r,a){var i=e.createShader(e.VERTEX_SHADER);e.shaderSource(i,t),e.compileShader(i);var s=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(s,n),e.compileShader(s);var u=e.createProgram();e.attachShader(u,i),e.attachShader(u,s),e.linkProgram(u),e.validateProgram(u);var l=e.createVertexArray();e.bindVertexArray(l),o.webgl_util.callAndCheck(e,(function(){var t=e.getAttribLocation(u,"position"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.enableVertexAttribArray(t),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),e.vertexAttribPointer(t,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null)})),o.webgl_util.callAndCheck(e,(function(){var t=e.getAttribLocation(u,"texCoords"),n=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,a,e.STATIC_DRAW),e.enableVertexAttribArray(t),e.vertexAttribPointer(t,2,e.FLOAT,!1,0,0),e.bindBuffer(e.ARRAY_BUFFER,null)}));var c=new Map;return o.webgl_util.callAndCheck(e,(function(){var t=e.getUniformLocation(u,"inputTexture");c.set("inputTexture",t)})),e.bindVertexArray(null),{program:u,vao:l,vertices:r,uniformLocations:c}}var me={canDownloadFromRGBTexture:new WeakMap,glCapabilitiesTested:new WeakMap};function ve(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,i.default)((function*(e){if(!me.glCapabilitiesTested.get(e)){me.canDownloadFromRGBTexture.set(e,!0);try{for(var t=new Uint8Array(32),n=0;n<t.length;n++)t[n]=n;var r={height:2,width:4,depth:4},a=ke(e,ce(t,e,r),r,{height:2,width:4,depth:3}),i=yield a.data();s.dispose(a),s.util.arraysEqual(i,[0,1,2,4,5,6,8,9,10,12,13,14,16,17,18,20,21,22,24,25,26,28,29,30])?me.canDownloadFromRGBTexture.set(e,!0):me.canDownloadFromRGBTexture.set(e,!1)}catch(o){me.canDownloadFromRGBTexture.set(e,!1)}finally{me.glCapabilitiesTested.set(e,!0)}}}))).apply(this,arguments)}function ye(e,t,n){return be.apply(this,arguments)}function be(){return(be=(0,i.default)((function*(e,t,n){return s.util.assert("int32"===t.dtype,(function(){return"imageTensor must be of type int32"})),s.util.assert(3===t.rank,(function(){return"imageTensor must be a Tensor3D"})),ce(Uint8Array.from(yield t.data()),e,{height:t.shape[0],width:t.shape[1],depth:t.shape[2]},n)}))).apply(this,arguments)}function ke(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};if(s.util.assert(3===r.depth||4===r.depth,(function(){return"fromTexture Error: target depth must be 3 or 4"})),3===r.depth&&r.width%4!==0&&me.canDownloadFromRGBTexture.get(e))throw new Error("When using targetShape.depth=3, targetShape.width must be a multiple of 4. Alternatively do not call detectGLCapabilities()");var u=r.depth,l=me.canDownloadFromRGBTexture.get(e)?u:4;n={height:Math.floor(n.height),width:Math.floor(n.width),depth:n.depth},r={height:Math.floor(r.height),width:Math.floor(r.width),depth:l};var c=null!=i.alignCorners&&i.alignCorners,d=null!=i.interpolation?i.interpolation:"bilinear",f=null!=i.rotation?i.rotation:0;s.util.assert("bilinear"===d||"nearest_neighbor"===d,(function(){return'fromTexture Error: interpolation must be one of "bilinear" or "nearest_neighbor"'})),s.util.assert([0,90,180,270,360,-90,-180,-270].includes(f),(function(){return"fromTexture Error: rotation must be 0, +/- 90, +/- 180, +/- 270 or 360"}));var p,h=function(e,t,n){var r=n.width,a=n.height,i=n.depth,s=new Uint8Array(r*a*i);oe.has(e)||oe.set(e,fe(e));var u=oe.get(e);return o.webgl_util.callAndCheck(e,(function(){e.bindFramebuffer(e.FRAMEBUFFER,u)})),o.webgl_util.callAndCheck(e,(function(){e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t)})),o.webgl_util.callAndCheck(e,(function(){e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)})),o.webgl_util.callAndCheck(e,(function(){var t=3===i?e.RGB:e.RGBA;e.readPixels(0,0,r,a,t,e.UNSIGNED_BYTE,s)})),o.webgl_util.callAndCheck(e,(function(){e.bindFramebuffer(e.FRAMEBUFFER,null)})),s}(e,de(e,t,n,r,c,a,d,f),r);if(u!==l&&3===u){var m=r.height*r.width;p=new Uint8Array(m*u);for(var v=0;v<m;v++){var g=3*v,y=4*v;p[g]=h[y],p[g+1]=h[y+1],p[g+2]=h[y+2]}}else p=h;return s.tensor3d(p,[r.height,r.width,u],"int32")}function we(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;s.util.assert([0,90,180,270,360,-90,-180,-270].includes(a),(function(){return"renderToGLView Error: rotation must be 0, +/- 90, +/- 180, +/- 270 or 360"})),function(e,t,n,r,a){var i=pe(e,r,!1,a),o=i.program,s=i.vao,u=i.vertices,l=i.uniformLocations;e.useProgram(o),e.bindVertexArray(s),e.uniform1i(l.get("inputTexture"),0),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,t),e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,n.width,n.height),e.drawArrays(e.TRIANGLES,0,u.length/2),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),e.useProgram(null)}(e,t,n={width:Math.floor(n.width),height:Math.floor(n.height)},r,a)}var xe=n(7326),Se=n(3528),Te=n(2629);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ne(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ne=function(){return!!e})()}var Ie=!0,_e=3,Re=!1;function Ae(e){return function(t){(0,d.default)(o,t);var n=function(e){var t=Ne();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}(o);function o(e){var t;return(0,r.default)(this,o),(t=n.call(this,e)).onCameraLayout=t.onCameraLayout.bind((0,xe.default)(t)),t.onGLContextCreate=t.onGLContextCreate.bind((0,xe.default)(t)),t.state={cameraLayout:null},t}return(0,a.default)(o,[{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.rafID),this.glContext&&z.destroyContextAsync(this.glContext),this.camera=null,this.glView=null,this.glContext=null}},{key:"onCameraLayout",value:function(e){var t=e.nativeEvent.layout,n=t.x,r=t.y,a=t.width,i=t.height;this.setState({cameraLayout:{x:n,y:r,width:a,height:i}})}},{key:"createCameraTexture",value:function(){var e=(0,i.default)((function*(){if(null!=this.glView&&null!=this.camera)return this.glView.createCameraTextureAsync(this.camera);throw new Error("Expo GL context or camera not available")}));return function(){return e.apply(this,arguments)}}()},{key:"onGLContextCreate",value:function(){var e=(0,i.default)((function*(e){var t=this;this.glContext=e;var n=yield this.createCameraTexture();yield ve(e);var r=null!=this.props.autorender?this.props.autorender:Ie,a=this.previewUpdateFunc(e,n);if(r){!function n(){a(),e.endFrameEXP(),t.rafID=requestAnimationFrame(n)}()}var i=this.props.resizeDepth,o=null!=this.props.cameraTextureHeight?this.props.cameraTextureHeight:0,s=null!=this.props.cameraTextureWidth?this.props.cameraTextureWidth:0,u=null!=this.props.useCustomShadersToResize?this.props.useCustomShadersToResize:Re,l=this;var c=function*(){for(var t={height:o,width:s,depth:4};null!=l.glContext;){var r={height:l.props.resizeHeight,width:l.props.resizeWidth,depth:i||_e},a=ke(e,n,t,r,u,{rotation:l.props.rotation});yield a}}();this.props.onReady(c,a,e,n)}));return function(t){return e.apply(this,arguments)}}()},{key:"previewUpdateFunc",value:function(e,t){var n=this;return function(){var r=n.state.cameraLayout,a=n.props.rotation,i=x.default.getPixelSizeForLayoutSize(r.width),o=x.default.getPixelSizeForLayoutSize(r.height),s=n.camera.props.type===Se.default.Constants.Type.front,u="ios"!==B.default.OS||!s;we(e,t,{width:i,height:o},u,a)}.bind(this)}},{key:"render",value:function(){for(var t=this,n=this.state.cameraLayout,r=Object.keys({useCustomShadersToResize:null,cameraTextureWidth:null,cameraTextureHeight:null,resizeWidth:null,resizeHeight:null,resizeDepth:null,autorender:null,onReady:null,rotation:0}),a={},i=Object.keys(this.props),o=0;o<i.length;o++){var s=i[o];r.includes(s)||(a[s]=this.props[s])}var u=this.props.onLayout?function(e){t.props.onLayout(e),t.onCameraLayout(e)}:this.onCameraLayout;a.onLayout=u;var l=(0,Te.jsx)(e,Ce(Ce({},a),{},{ref:function(e){return t.camera=e}}),"camera-with-tensor-camera-view"),c=null;if(null!=n){var d=S.default.create({glView:{position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height,zIndex:this.props.style.zIndex?parseInt(this.props.style.zIndex,10)+10:10}});c=(0,Te.jsx)(z,{style:d.glView,onContextCreate:this.onGLContextCreate,ref:function(e){return t.glView=e}},"camera-with-tensor-gl-view")}return[l,c]}}]),o}(y.Component)}},6109:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Abs:()=>R.Abs,Acos:()=>R.Acos,Acosh:()=>R.Acosh,AdadeltaOptimizer:()=>R.AdadeltaOptimizer,AdagradOptimizer:()=>R.AdagradOptimizer,AdamOptimizer:()=>R.AdamOptimizer,AdamaxOptimizer:()=>R.AdamaxOptimizer,Add:()=>R.Add,AddN:()=>R.AddN,All:()=>R.All,Any:()=>R.Any,ArgMax:()=>R.ArgMax,ArgMin:()=>R.ArgMin,Asin:()=>R.Asin,Asinh:()=>R.Asinh,Atan:()=>R.Atan,Atan2:()=>R.Atan2,Atanh:()=>R.Atanh,AvgPool:()=>R.AvgPool,AvgPool3D:()=>R.AvgPool3D,AvgPool3DGrad:()=>R.AvgPool3DGrad,AvgPoolGrad:()=>R.AvgPoolGrad,BatchMatMul:()=>R.BatchMatMul,BatchToSpaceND:()=>R.BatchToSpaceND,Bincount:()=>R.Bincount,BroadcastArgs:()=>R.BroadcastArgs,BroadcastTo:()=>R.BroadcastTo,Callback:()=>Ip,CallbackList:()=>_s,Cast:()=>R.Cast,Ceil:()=>R.Ceil,ClipByValue:()=>R.ClipByValue,Complex:()=>R.Complex,ComplexAbs:()=>R.ComplexAbs,Concat:()=>R.Concat,Conv2D:()=>R.Conv2D,Conv2DBackpropFilter:()=>R.Conv2DBackpropFilter,Conv2DBackpropInput:()=>R.Conv2DBackpropInput,Conv3D:()=>R.Conv3D,Conv3DBackpropFilterV2:()=>R.Conv3DBackpropFilterV2,Conv3DBackpropInputV2:()=>R.Conv3DBackpropInputV2,Cos:()=>R.Cos,Cosh:()=>R.Cosh,CropAndResize:()=>R.CropAndResize,Cumprod:()=>R.Cumprod,Cumsum:()=>R.Cumsum,CustomCallback:()=>Os,DataStorage:()=>R.DataStorage,DenseBincount:()=>R.DenseBincount,DepthToSpace:()=>R.DepthToSpace,DepthwiseConv2dNative:()=>R.DepthwiseConv2dNative,DepthwiseConv2dNativeBackpropFilter:()=>R.DepthwiseConv2dNativeBackpropFilter,DepthwiseConv2dNativeBackpropInput:()=>R.DepthwiseConv2dNativeBackpropInput,Diag:()=>R.Diag,Dilation2D:()=>R.Dilation2D,Dilation2DBackpropFilter:()=>R.Dilation2DBackpropFilter,Dilation2DBackpropInput:()=>R.Dilation2DBackpropInput,ENV:()=>R.ENV,EarlyStopping:()=>Ap,Einsum:()=>R.Einsum,Elu:()=>R.Elu,EluGrad:()=>R.EluGrad,Environment:()=>R.Environment,Equal:()=>R.Equal,Erf:()=>R.Erf,Exp:()=>R.Exp,ExpandDims:()=>R.ExpandDims,Expm1:()=>R.Expm1,FFT:()=>R.FFT,Fill:()=>R.Fill,FlipLeftRight:()=>R.FlipLeftRight,Floor:()=>R.Floor,FloorDiv:()=>R.FloorDiv,FromPixels:()=>R.FromPixels,FusedBatchNorm:()=>R.FusedBatchNorm,FusedConv2D:()=>R.FusedConv2D,FusedDepthwiseConv2D:()=>R.FusedDepthwiseConv2D,GatherNd:()=>R.GatherNd,GatherV2:()=>R.GatherV2,GraphModel:()=>Jh,Greater:()=>R.Greater,GreaterEqual:()=>R.GreaterEqual,History:()=>As,IFFT:()=>R.IFFT,Identity:()=>R.Identity,Imag:()=>R.Imag,InputSpec:()=>Co,IsFinite:()=>R.IsFinite,IsInf:()=>R.IsInf,IsNan:()=>R.IsNan,KernelBackend:()=>R.KernelBackend,LRN:()=>R.LRN,LRNGrad:()=>R.LRNGrad,LayerVariable:()=>wo,LayersModel:()=>Hu,LeakyRelu:()=>R.LeakyRelu,Less:()=>R.Less,LessEqual:()=>R.LessEqual,LinSpace:()=>R.LinSpace,Log:()=>R.Log,Log1p:()=>R.Log1p,LogSoftmax:()=>R.LogSoftmax,LogicalAnd:()=>R.LogicalAnd,LogicalNot:()=>R.LogicalNot,LogicalOr:()=>R.LogicalOr,LogicalXor:()=>R.LogicalXor,LowerBound:()=>R.LowerBound,Max:()=>R.Max,MaxPool:()=>R.MaxPool,MaxPool3D:()=>R.MaxPool3D,MaxPool3DGrad:()=>R.MaxPool3DGrad,MaxPoolGrad:()=>R.MaxPoolGrad,MaxPoolWithArgmax:()=>R.MaxPoolWithArgmax,Maximum:()=>R.Maximum,Mean:()=>R.Mean,Min:()=>R.Min,Minimum:()=>R.Minimum,MirrorPad:()=>R.MirrorPad,Mod:()=>R.Mod,MomentumOptimizer:()=>R.MomentumOptimizer,Multinomial:()=>R.Multinomial,Multiply:()=>R.Multiply,Neg:()=>R.Neg,NonMaxSuppressionV3:()=>R.NonMaxSuppressionV3,NonMaxSuppressionV4:()=>R.NonMaxSuppressionV4,NonMaxSuppressionV5:()=>R.NonMaxSuppressionV5,NotEqual:()=>R.NotEqual,OP_SCOPE_SUFFIX:()=>R.OP_SCOPE_SUFFIX,OneHot:()=>R.OneHot,OnesLike:()=>R.OnesLike,Optimizer:()=>R.Optimizer,OptimizerConstructors:()=>R.OptimizerConstructors,Pack:()=>R.Pack,PadV2:()=>R.PadV2,Pool:()=>R.Pool,Pow:()=>R.Pow,Prelu:()=>R.Prelu,Prod:()=>R.Prod,RMSPropOptimizer:()=>R.RMSPropOptimizer,RNN:()=>bc,RaggedTensorToTensor:()=>R.RaggedTensorToTensor,Range:()=>R.Range,Rank:()=>R.Rank,Real:()=>R.Real,RealDiv:()=>R.RealDiv,Reciprocal:()=>R.Reciprocal,Reduction:()=>R.Reduction,Relu:()=>R.Relu,Relu6:()=>R.Relu6,Reshape:()=>R.Reshape,ResizeBilinear:()=>R.ResizeBilinear,ResizeBilinearGrad:()=>R.ResizeBilinearGrad,ResizeNearestNeighbor:()=>R.ResizeNearestNeighbor,ResizeNearestNeighborGrad:()=>R.ResizeNearestNeighborGrad,Reverse:()=>R.Reverse,RotateWithOffset:()=>R.RotateWithOffset,Round:()=>R.Round,Rsqrt:()=>R.Rsqrt,SGDOptimizer:()=>R.SGDOptimizer,ScatterNd:()=>R.ScatterNd,SearchSorted:()=>R.SearchSorted,Select:()=>R.Select,Selu:()=>R.Selu,Sequential:()=>tl,Sigmoid:()=>R.Sigmoid,Sign:()=>R.Sign,Sin:()=>R.Sin,Sinh:()=>R.Sinh,Slice:()=>R.Slice,Softmax:()=>R.Softmax,Softplus:()=>R.Softplus,SpaceToBatchND:()=>R.SpaceToBatchND,SparseFillEmptyRows:()=>R.SparseFillEmptyRows,SparseReshape:()=>R.SparseReshape,SparseSegmentMean:()=>R.SparseSegmentMean,SparseSegmentSum:()=>R.SparseSegmentSum,SparseToDense:()=>R.SparseToDense,SplitV:()=>R.SplitV,Sqrt:()=>R.Sqrt,Square:()=>R.Square,SquaredDifference:()=>R.SquaredDifference,Step:()=>R.Step,StridedSlice:()=>R.StridedSlice,StringNGrams:()=>R.StringNGrams,StringSplit:()=>R.StringSplit,StringToHashBucketFast:()=>R.StringToHashBucketFast,Sub:()=>R.Sub,Sum:()=>R.Sum,SymbolicTensor:()=>No,Tan:()=>R.Tan,Tanh:()=>R.Tanh,Tensor:()=>R.Tensor,TensorBuffer:()=>R.TensorBuffer,Tile:()=>R.Tile,TopK:()=>R.TopK,Transform:()=>R.Transform,Transpose:()=>R.Transpose,Unique:()=>R.Unique,Unpack:()=>R.Unpack,UnsortedSegmentSum:()=>R.UnsortedSegmentSum,UpperBound:()=>R.UpperBound,Variable:()=>R.Variable,ZerosLike:()=>R.ZerosLike,_FusedMatMul:()=>R._FusedMatMul,abs:()=>R.abs,acos:()=>R.acos,acosh:()=>R.acosh,add:()=>R.add,addN:()=>R.addN,all:()=>R.all,any:()=>R.any,argMax:()=>R.argMax,argMin:()=>R.argMin,asin:()=>R.asin,asinh:()=>R.asinh,atan:()=>R.atan,atan2:()=>R.atan2,atanh:()=>R.atanh,avgPool:()=>R.avgPool,avgPool3d:()=>R.avgPool3d,backend:()=>R.backend,backend_util:()=>R.backend_util,basicLSTMCell:()=>R.basicLSTMCell,batchNorm:()=>R.batchNorm,batchNorm2d:()=>R.batchNorm2d,batchNorm3d:()=>R.batchNorm3d,batchNorm4d:()=>R.batchNorm4d,batchToSpaceND:()=>R.batchToSpaceND,bincount:()=>R.bincount,booleanMaskAsync:()=>R.booleanMaskAsync,broadcastArgs:()=>R.broadcastArgs,broadcastTo:()=>R.broadcastTo,broadcast_util:()=>R.broadcast_util,browser:()=>R.browser,buffer:()=>R.buffer,callbacks:()=>Fp,cast:()=>R.cast,ceil:()=>R.ceil,clipByValue:()=>R.clipByValue,clone:()=>R.clone,complex:()=>R.complex,concat:()=>R.concat,concat1d:()=>R.concat1d,concat2d:()=>R.concat2d,concat3d:()=>R.concat3d,concat4d:()=>R.concat4d,constraints:()=>r,conv1d:()=>R.conv1d,conv2d:()=>R.conv2d,conv2dTranspose:()=>R.conv2dTranspose,conv3d:()=>R.conv3d,conv3dTranspose:()=>R.conv3dTranspose,copyRegisteredKernels:()=>R.copyRegisteredKernels,cos:()=>R.cos,cosh:()=>R.cosh,cosineWindow:()=>R.cosineWindow,cumprod:()=>R.cumprod,cumsum:()=>R.cumsum,customGrad:()=>R.customGrad,data:()=>_,denseBincount:()=>R.denseBincount,deprecationWarn:()=>R.deprecationWarn,depthToSpace:()=>R.depthToSpace,depthwiseConv2d:()=>R.depthwiseConv2d,deregisterOp:()=>Lp,device_util:()=>R.device_util,diag:()=>R.diag,dilation2d:()=>R.dilation2d,disableDeprecationWarnings:()=>R.disableDeprecationWarnings,dispose:()=>R.dispose,disposeVariables:()=>R.disposeVariables,div:()=>R.div,divNoNan:()=>R.divNoNan,dot:()=>R.dot,dropout:()=>R.dropout,einsum:()=>R.einsum,elu:()=>R.elu,enableDebugMode:()=>R.enableDebugMode,enableProdMode:()=>R.enableProdMode,enclosingPowerOfTwo:()=>R.enclosingPowerOfTwo,engine:()=>R.engine,env:()=>R.env,equal:()=>R.equal,erf:()=>R.erf,euclideanNorm:()=>R.euclideanNorm,exp:()=>R.exp,expandDims:()=>R.expandDims,expm1:()=>R.expm1,eye:()=>R.eye,fft:()=>R.fft,fill:()=>R.fill,findBackend:()=>R.findBackend,findBackendFactory:()=>R.findBackendFactory,floor:()=>R.floor,floorDiv:()=>R.floorDiv,fused:()=>R.fused,gather:()=>R.gather,gatherND:()=>R.gatherND,gather_util:()=>R.gather_util,getBackend:()=>R.getBackend,getGradient:()=>R.getGradient,getKernel:()=>R.getKernel,getKernelsForBackend:()=>R.getKernelsForBackend,grad:()=>R.grad,grads:()=>R.grads,greater:()=>R.greater,greaterEqual:()=>R.greaterEqual,ifft:()=>R.ifft,imag:()=>R.imag,image:()=>R.image,inTopKAsync:()=>R.inTopKAsync,initializers:()=>a,input:()=>il,io:()=>R.io,irfft:()=>R.irfft,isFinite:()=>R.isFinite,isInf:()=>R.isInf,isNaN:()=>R.isNaN,keep:()=>R.keep,kernel_impls:()=>R.kernel_impls,layers:()=>i,leakyRelu:()=>R.leakyRelu,less:()=>R.less,lessEqual:()=>R.lessEqual,linalg:()=>R.linalg,linspace:()=>R.linspace,loadGraphModel:()=>em,loadGraphModelSync:()=>nm,loadLayersModel:()=>al,localResponseNormalization:()=>R.localResponseNormalization,log:()=>R.log,log1p:()=>R.log1p,logSigmoid:()=>R.logSigmoid,logSoftmax:()=>R.logSoftmax,logSumExp:()=>R.logSumExp,logicalAnd:()=>R.logicalAnd,logicalNot:()=>R.logicalNot,logicalOr:()=>R.logicalOr,logicalXor:()=>R.logicalXor,losses:()=>R.losses,lowerBound:()=>R.lowerBound,matMul:()=>R.matMul,math:()=>R.math,max:()=>R.max,maxPool:()=>R.maxPool,maxPool3d:()=>R.maxPool3d,maxPoolWithArgmax:()=>R.maxPoolWithArgmax,maximum:()=>R.maximum,mean:()=>R.mean,memory:()=>R.memory,meshgrid:()=>R.meshgrid,metrics:()=>o,min:()=>R.min,minimum:()=>R.minimum,mirrorPad:()=>R.mirrorPad,mod:()=>R.mod,model:()=>nl,models:()=>s,moments:()=>R.moments,movingAverage:()=>R.movingAverage,mul:()=>R.mul,multiRNNCell:()=>R.multiRNNCell,multinomial:()=>R.multinomial,neg:()=>R.neg,nextFrame:()=>R.nextFrame,norm:()=>R.norm,notEqual:()=>R.notEqual,oneHot:()=>R.oneHot,ones:()=>R.ones,onesLike:()=>R.onesLike,op:()=>R.op,outerProduct:()=>R.outerProduct,pad:()=>R.pad,pad1d:()=>R.pad1d,pad2d:()=>R.pad2d,pad3d:()=>R.pad3d,pad4d:()=>R.pad4d,pool:()=>R.pool,pow:()=>R.pow,prelu:()=>R.prelu,print:()=>R.print,prod:()=>R.prod,profile:()=>R.profile,raggedTensorToTensor:()=>R.raggedTensorToTensor,rand:()=>R.rand,randomGamma:()=>R.randomGamma,randomNormal:()=>R.randomNormal,randomStandardNormal:()=>R.randomStandardNormal,randomUniform:()=>R.randomUniform,range:()=>R.range,ready:()=>R.ready,real:()=>R.real,reciprocal:()=>R.reciprocal,registerBackend:()=>R.registerBackend,registerCallbackConstructor:()=>ol,registerGradient:()=>R.registerGradient,registerKernel:()=>R.registerKernel,registerOp:()=>Pp,regularizers:()=>u,relu:()=>R.relu,relu6:()=>R.relu6,removeBackend:()=>R.removeBackend,reshape:()=>R.reshape,reverse:()=>R.reverse,reverse1d:()=>R.reverse1d,reverse2d:()=>R.reverse2d,reverse3d:()=>R.reverse3d,reverse4d:()=>R.reverse4d,rfft:()=>R.rfft,round:()=>R.round,rsqrt:()=>R.rsqrt,scalar:()=>R.scalar,scatterND:()=>R.scatterND,scatter_util:()=>R.scatter_util,searchSorted:()=>R.searchSorted,selu:()=>R.selu,separableConv2d:()=>R.separableConv2d,sequential:()=>rl,serialization:()=>R.serialization,setBackend:()=>R.setBackend,setPlatform:()=>R.setPlatform,setdiff1dAsync:()=>R.setdiff1dAsync,sigmoid:()=>R.sigmoid,sign:()=>R.sign,signal:()=>R.signal,sin:()=>R.sin,sinh:()=>R.sinh,slice:()=>R.slice,slice1d:()=>R.slice1d,slice2d:()=>R.slice2d,slice3d:()=>R.slice3d,slice4d:()=>R.slice4d,slice_util:()=>R.slice_util,softmax:()=>R.softmax,softplus:()=>R.softplus,spaceToBatchND:()=>R.spaceToBatchND,sparse:()=>R.sparse,sparseToDense:()=>R.sparseToDense,spectral:()=>R.spectral,split:()=>R.split,sqrt:()=>R.sqrt,square:()=>R.square,squaredDifference:()=>R.squaredDifference,squeeze:()=>R.squeeze,stack:()=>R.stack,step:()=>R.step,stridedSlice:()=>R.stridedSlice,string:()=>R.string,sub:()=>R.sub,sum:()=>R.sum,sumOutType:()=>R.sumOutType,tan:()=>R.tan,tanh:()=>R.tanh,tensor:()=>R.tensor,tensor1d:()=>R.tensor1d,tensor2d:()=>R.tensor2d,tensor3d:()=>R.tensor3d,tensor4d:()=>R.tensor4d,tensor5d:()=>R.tensor5d,tensor6d:()=>R.tensor6d,tensor_util:()=>R.tensor_util,test_util:()=>R.test_util,tidy:()=>R.tidy,tile:()=>R.tile,time:()=>R.time,topk:()=>R.topk,train:()=>R.train,transpose:()=>R.transpose,truncatedNormal:()=>R.truncatedNormal,unique:()=>R.unique,unregisterGradient:()=>R.unregisterGradient,unregisterKernel:()=>R.unregisterKernel,unsortedSegmentSum:()=>R.unsortedSegmentSum,unstack:()=>R.unstack,upcastType:()=>R.upcastType,upperBound:()=>R.upperBound,util:()=>R.util,valueAndGrad:()=>R.valueAndGrad,valueAndGrads:()=>R.valueAndGrads,variable:()=>R.variable,variableGrads:()=>R.variableGrads,version:()=>Wv,version_converter:()=>rm,version_core:()=>R.version_core,version_layers:()=>yu,where:()=>R.where,whereAsync:()=>R.whereAsync,zeros:()=>R.zeros,zerosLike:()=>R.zerosLike});var r={};n.r(r),n.d(r,{maxNorm:()=>ns,minMaxNorm:()=>is,nonNeg:()=>as,unitNorm:()=>rs});var a={};n.r(a),n.d(a,{constant:()=>us,glorotNormal:()=>ms,glorotUniform:()=>hs,heNormal:()=>vs,heUniform:()=>gs,identity:()=>fs,leCunNormal:()=>ys,leCunUniform:()=>bs,ones:()=>ss,orthogonal:()=>ks,randomNormal:()=>cs,randomUniform:()=>ls,truncatedNormal:()=>ds,varianceScaling:()=>ps,zeros:()=>os});var i={};n.r(i),n.d(i,{Layer:()=>Ao,RNN:()=>bc,RNNCell:()=>kc,activation:()=>sf,add:()=>vf,alphaDropout:()=>op,average:()=>gf,averagePooling1d:()=>Cf,averagePooling2d:()=>_f,averagePooling3d:()=>Of,avgPool1d:()=>Nf,avgPool2d:()=>Rf,avgPool3d:()=>Df,avgPooling1d:()=>If,avgPooling2d:()=>Af,avgPooling3d:()=>Ff,batchNormalization:()=>Sf,bidirectional:()=>Qf,concatenate:()=>yf,conv1d:()=>Zd,conv2d:()=>Qd,conv2dTranspose:()=>Jd,conv3d:()=>ef,conv3dTranspose:()=>tf,convLstm2d:()=>Kf,convLstm2dCell:()=>Xf,cropping2D:()=>rf,dense:()=>uf,depthwiseConv2d:()=>of,dot:()=>xf,dropout:()=>lf,elu:()=>jd,embedding:()=>mf,flatten:()=>df,gaussianDropout:()=>ip,gaussianNoise:()=>ap,globalAveragePooling1d:()=>$f,globalAveragePooling2d:()=>Pf,globalMaxPool1d:()=>ep,globalMaxPool2d:()=>tp,globalMaxPooling1d:()=>Mf,globalMaxPooling2d:()=>Lf,gru:()=>Uf,gruCell:()=>Gf,input:()=>il,inputLayer:()=>Wd,layerNormalization:()=>Tf,leakyReLU:()=>Hd,lstm:()=>Wf,lstmCell:()=>jf,masking:()=>sp,maxPool1d:()=>np,maxPool2d:()=>rp,maxPooling1d:()=>zf,maxPooling2d:()=>Bf,maxPooling3d:()=>Vf,maximum:()=>bf,minimum:()=>kf,multiply:()=>wf,permute:()=>hf,prelu:()=>Kd,reLU:()=>qd,repeatVector:()=>ff,reshape:()=>pf,rnn:()=>Yf,separableConv2d:()=>nf,simpleRNN:()=>qf,simpleRNNCell:()=>Hf,softmax:()=>Xd,spatialDropout1d:()=>cf,stackedRNNCells:()=>Zf,thresholdedReLU:()=>Yd,timeDistributed:()=>Jf,upSampling2d:()=>af,zeroPadding2d:()=>Ef});var o={};n.r(o),n.d(o,{MAPE:()=>yp,MSE:()=>wp,binaryAccuracy:()=>up,binaryCrossentropy:()=>lp,categoricalAccuracy:()=>dp,categoricalCrossentropy:()=>fp,cosineProximity:()=>mp,mape:()=>bp,meanAbsoluteError:()=>vp,meanAbsolutePercentageError:()=>gp,meanSquaredError:()=>kp,mse:()=>xp,precision:()=>pp,recall:()=>hp,sparseCategoricalAccuracy:()=>cp});var s={};n.r(s),n.d(s,{modelFromJSON:()=>Zu});var u={};n.r(u),n.d(u,{l1:()=>Tp,l1l2:()=>Sp,l2:()=>Ep});var l={};n.r(l),n.d(l,{json:()=>qp});var c={};n.r(c),n.d(c,{json:()=>Hp});var d={};n.r(d),n.d(d,{json:()=>Kp});var f={};n.r(f),n.d(f,{json:()=>Xp});var p={};n.r(p),n.d(p,{json:()=>Yp});var h={};n.r(h),n.d(h,{json:()=>Zp});var m={};n.r(m),n.d(m,{json:()=>Qp});var v={};n.r(v),n.d(v,{json:()=>Jp});var g={};n.r(g),n.d(g,{json:()=>eh});var y={};n.r(y),n.d(y,{json:()=>th});var b={};n.r(b),n.d(b,{json:()=>nh});var k={};n.r(k),n.d(k,{json:()=>rh});var w={};n.r(w),n.d(w,{json:()=>ah});var x={};n.r(x),n.d(x,{json:()=>ih});var S={};n.r(S),n.d(S,{json:()=>oh});var T={};n.r(T),n.d(T,{json:()=>sh});var E={};n.r(E),n.d(E,{json:()=>uh});var C={};n.r(C),n.d(C,{json:()=>lh});var N={};n.r(N),n.d(N,{json:()=>ch});var I={};n.r(I),n.d(I,{OP_SCOPE_SUFFIX:()=>Nh.OP_SCOPE_SUFFIX,abs:()=>Nh.abs,acos:()=>Nh.acos,acosh:()=>Nh.acosh,add:()=>Nh.add,addN:()=>Nh.addN,all:()=>Nh.all,any:()=>Nh.any,argMax:()=>Nh.argMax,argMin:()=>Nh.argMin,asin:()=>Nh.asin,asinh:()=>Nh.asinh,atan:()=>Nh.atan,atan2:()=>Nh.atan2,atanh:()=>Nh.atanh,avgPool:()=>Nh.avgPool,avgPool3d:()=>Nh.avgPool3d,basicLSTMCell:()=>Nh.basicLSTMCell,batchNorm:()=>Nh.batchNorm,batchNorm2d:()=>Nh.batchNorm2d,batchNorm3d:()=>Nh.batchNorm3d,batchNorm4d:()=>Nh.batchNorm4d,batchToSpaceND:()=>Nh.batchToSpaceND,bincount:()=>Nh.bincount,booleanMaskAsync:()=>Nh.booleanMaskAsync,broadcastArgs:()=>Nh.broadcastArgs,broadcastTo:()=>Nh.broadcastTo,buffer:()=>Nh.buffer,cast:()=>Nh.cast,ceil:()=>Nh.ceil,clipByValue:()=>Nh.clipByValue,clone:()=>Nh.clone,complex:()=>Nh.complex,concat:()=>Nh.concat,concat1d:()=>Nh.concat1d,concat2d:()=>Nh.concat2d,concat3d:()=>Nh.concat3d,concat4d:()=>Nh.concat4d,conv1d:()=>Nh.conv1d,conv2d:()=>Nh.conv2d,conv2dTranspose:()=>Nh.conv2dTranspose,conv3d:()=>Nh.conv3d,conv3dTranspose:()=>Nh.conv3dTranspose,cos:()=>Nh.cos,cosh:()=>Nh.cosh,cosineWindow:()=>Nh.cosineWindow,cumprod:()=>Nh.cumprod,cumsum:()=>Nh.cumsum,denseBincount:()=>Nh.denseBincount,depthToSpace:()=>Nh.depthToSpace,depthwiseConv2d:()=>Nh.depthwiseConv2d,diag:()=>Nh.diag,dilation2d:()=>Nh.dilation2d,div:()=>Nh.div,divNoNan:()=>Nh.divNoNan,dot:()=>Nh.dot,dropout:()=>Nh.dropout,einsum:()=>Nh.einsum,elu:()=>Nh.elu,enclosingPowerOfTwo:()=>Nh.enclosingPowerOfTwo,equal:()=>Nh.equal,erf:()=>Nh.erf,euclideanNorm:()=>Nh.euclideanNorm,exp:()=>Nh.exp,expandDims:()=>Nh.expandDims,expm1:()=>Nh.expm1,eye:()=>Nh.eye,fft:()=>Nh.fft,fill:()=>Nh.fill,floor:()=>Nh.floor,floorDiv:()=>Nh.floorDiv,fused:()=>Nh.fused,gather:()=>Nh.gather,gatherND:()=>Nh.gatherND,greater:()=>Nh.greater,greaterEqual:()=>Nh.greaterEqual,ifft:()=>Nh.ifft,imag:()=>Nh.imag,image:()=>Nh.image,inTopKAsync:()=>Nh.inTopKAsync,irfft:()=>Nh.irfft,isFinite:()=>Nh.isFinite,isInf:()=>Nh.isInf,isNaN:()=>Nh.isNaN,leakyRelu:()=>Nh.leakyRelu,less:()=>Nh.less,lessEqual:()=>Nh.lessEqual,linalg:()=>Nh.linalg,linspace:()=>Nh.linspace,localResponseNormalization:()=>Nh.localResponseNormalization,log:()=>Nh.log,log1p:()=>Nh.log1p,logSigmoid:()=>Nh.logSigmoid,logSoftmax:()=>Nh.logSoftmax,logSumExp:()=>Nh.logSumExp,logicalAnd:()=>Nh.logicalAnd,logicalNot:()=>Nh.logicalNot,logicalOr:()=>Nh.logicalOr,logicalXor:()=>Nh.logicalXor,losses:()=>Nh.losses,lowerBound:()=>Nh.lowerBound,matMul:()=>Nh.matMul,max:()=>Nh.max,maxPool:()=>Nh.maxPool,maxPool3d:()=>Nh.maxPool3d,maxPoolWithArgmax:()=>Nh.maxPoolWithArgmax,maximum:()=>Nh.maximum,mean:()=>Nh.mean,meshgrid:()=>Nh.meshgrid,min:()=>Nh.min,minimum:()=>Nh.minimum,mirrorPad:()=>Nh.mirrorPad,mod:()=>Nh.mod,moments:()=>Nh.moments,movingAverage:()=>Nh.movingAverage,mul:()=>Nh.mul,multiRNNCell:()=>Nh.multiRNNCell,multinomial:()=>Nh.multinomial,neg:()=>Nh.neg,norm:()=>Nh.norm,notEqual:()=>Nh.notEqual,oneHot:()=>Nh.oneHot,ones:()=>Nh.ones,onesLike:()=>Nh.onesLike,op:()=>Nh.op,outerProduct:()=>Nh.outerProduct,pad:()=>Nh.pad,pad1d:()=>Nh.pad1d,pad2d:()=>Nh.pad2d,pad3d:()=>Nh.pad3d,pad4d:()=>Nh.pad4d,pool:()=>Nh.pool,pow:()=>Nh.pow,prelu:()=>Nh.prelu,print:()=>Nh.print,prod:()=>Nh.prod,raggedTensorToTensor:()=>Nh.raggedTensorToTensor,rand:()=>Nh.rand,randomGamma:()=>Nh.randomGamma,randomNormal:()=>Nh.randomNormal,randomStandardNormal:()=>Nh.randomStandardNormal,randomUniform:()=>Nh.randomUniform,range:()=>Nh.range,real:()=>Nh.real,reciprocal:()=>Nh.reciprocal,relu:()=>Nh.relu,relu6:()=>Nh.relu6,reshape:()=>Nh.reshape,reverse:()=>Nh.reverse,reverse1d:()=>Nh.reverse1d,reverse2d:()=>Nh.reverse2d,reverse3d:()=>Nh.reverse3d,reverse4d:()=>Nh.reverse4d,rfft:()=>Nh.rfft,round:()=>Nh.round,rsqrt:()=>Nh.rsqrt,scalar:()=>Nh.scalar,scatterND:()=>Nh.scatterND,searchSorted:()=>Nh.searchSorted,selu:()=>Nh.selu,separableConv2d:()=>Nh.separableConv2d,setdiff1dAsync:()=>Nh.setdiff1dAsync,sigmoid:()=>Nh.sigmoid,sign:()=>Nh.sign,signal:()=>Nh.signal,sin:()=>Nh.sin,sinh:()=>Nh.sinh,slice:()=>Nh.slice,slice1d:()=>Nh.slice1d,slice2d:()=>Nh.slice2d,slice3d:()=>Nh.slice3d,slice4d:()=>Nh.slice4d,softmax:()=>Nh.softmax,softplus:()=>Nh.softplus,spaceToBatchND:()=>Nh.spaceToBatchND,sparse:()=>Nh.sparse,sparseToDense:()=>Nh.sparseToDense,spectral:()=>Nh.spectral,split:()=>Nh.split,sqrt:()=>Nh.sqrt,square:()=>Nh.square,squaredDifference:()=>Nh.squaredDifference,squeeze:()=>Nh.squeeze,stack:()=>Nh.stack,step:()=>Nh.step,stridedSlice:()=>Nh.stridedSlice,string:()=>Nh.string,sub:()=>Nh.sub,sum:()=>Nh.sum,tan:()=>Nh.tan,tanh:()=>Nh.tanh,tensor:()=>Nh.tensor,tensor1d:()=>Nh.tensor1d,tensor2d:()=>Nh.tensor2d,tensor3d:()=>Nh.tensor3d,tensor4d:()=>Nh.tensor4d,tensor5d:()=>Nh.tensor5d,tensor6d:()=>Nh.tensor6d,tile:()=>Nh.tile,topk:()=>Nh.topk,transpose:()=>Nh.transpose,truncatedNormal:()=>Nh.truncatedNormal,unique:()=>Nh.unique,unsortedSegmentSum:()=>Nh.unsortedSegmentSum,unstack:()=>Nh.unstack,upperBound:()=>Nh.upperBound,variable:()=>Nh.variable,where:()=>Nh.where,whereAsync:()=>Nh.whereAsync,zeros:()=>Nh.zeros,zerosLike:()=>Nh.zerosLike});var _={};n.r(_),n.d(_,{CSVDataset:()=>av,Dataset:()=>Um,FileDataSource:()=>Rv,TextLineDataset:()=>Xm,URLDataSource:()=>Dv,array:()=>Wm,csv:()=>Fv,func:()=>$v,generator:()=>Pv,microphone:()=>zv,version_data:()=>Vv,webcam:()=>Mv,zip:()=>jm});var R=n(6984),A=n(885),O=n(3416),D=n(4395),F=n(5286),$=n(2181),P={kernelName:O.Abs,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)(e,(0,$.step)((0,D.cast)(n,"float32"),-1))}}}},M=n(8467),L=n(7946),z=n(567),B=n(6486),V=n(5755),U=n(7619),G={kernelName:O.Acos,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){var t=(0,V.square)((0,D.cast)(n,"float32")),r=(0,B.sqrt)((0,U.sub)((0,z.scalar)(1),t));return(0,L.neg)((0,M.div)(e,r))}}}},W={kernelName:O.Acosh,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){var t=(0,B.sqrt)((0,U.sub)((0,V.square)((0,D.cast)(n,"float32")),1));return(0,M.div)(e,t)}}}},j=n(2202),q=n(9966),H=n(9554),K={kernelName:O.Add,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=j.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=j.getReductionAxes(r.shape,i);return n.length>0&&(t=(0,H.sum)(t,n)),(0,q.reshape)(t,r.shape)},b:function(){var t=e,n=j.getReductionAxes(a.shape,i);return n.length>0&&(t=(0,H.sum)(t,n)),(0,q.reshape)(t,a.shape)}}}},X={kernelName:O.AddN,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},Y=n(1241),Z={kernelName:O.ArgMax,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,Y.zerosLike)(n)}}}},Q={kernelName:O.ArgMin,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,Y.zerosLike)(n)}}}},J={kernelName:O.Asin,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,B.sqrt)((0,U.sub)((0,z.scalar)(1),(0,V.square)((0,D.cast)(n,"float32")))))}}}},ee=n(4453),te={kernelName:O.Asinh,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){var t=(0,B.sqrt)((0,ee.add)((0,z.scalar)(1),(0,V.square)((0,D.cast)(n,"float32"))));return(0,M.div)(e,t)}}}},ne={kernelName:O.Atan2,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=(0,j.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,ee.add)((0,V.square)(r),(0,V.square)(a)),n=(0,F.mul)(e,(0,M.div)(a,t)),o=(0,j.getReductionAxes)(r.shape,i);return o.length>0&&(n=(0,H.sum)(n,o)),(0,q.reshape)(n,r.shape)},b:function(){var t=(0,ee.add)((0,V.square)(r),(0,V.square)(a)),n=(0,L.neg)((0,F.mul)(e,(0,M.div)(r,t))),o=(0,j.getReductionAxes)(a.shape,i);return o.length>0&&(n=(0,H.sum)(n,o)),(0,q.reshape)(n,a.shape)}}}},re={kernelName:O.Atan,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,ee.add)((0,V.square)((0,D.cast)(n,"float32")),1))}}}},ae={kernelName:O.Atanh,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,U.sub)((0,z.scalar)(1),(0,V.square)((0,D.cast)(n,"float32"))))}}}},ie=n(1945),oe=n(959),se=n(7806),ue=n(6747),le=n(7915);var ce=(0,le.op)({avgPool3dGrad_:function(e,t,n,r,a,i){var o=(0,oe.convertToTensor)(e,"dy","avgPool3dGrad"),s=(0,oe.convertToTensor)(t,"input","avgPool3dGrad"),u=o,l=s,c=!1;4===s.rank&&(c=!0,u=(0,q.reshape)(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]]),l=(0,q.reshape)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),se.assert(5===u.rank,(function(){return`Error in avgPool3dGrad: dy must be rank 5 but got rank ${u.rank}.`})),se.assert(5===l.rank,(function(){return`Error in avgPool3dGrad: input must be rank 5 but got rank ${l.rank}.`})),(0,ue.checkPadOnDimRoundingMode)("avgPool3dGrad",a,i);var d={dy:u,input:l},f={filterSize:n,strides:r,pad:a,dimRoundingMode:i},p=ie.ENGINE.runKernel(O.AvgPool3DGrad,d,f);return c?(0,q.reshape)(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}}),de={kernelName:O.AvgPool3D,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad,s=n.dimRoundingMode;return{x:function(){return ce(e,r,a,i,o,s)}}}};var fe=(0,le.op)({avgPoolGrad_:function(e,t,n,r,a){var i=(0,oe.convertToTensor)(e,"dy","avgPoolGrad"),o=(0,oe.convertToTensor)(t,"input","avgPoolGrad");se.assert(o.rank===i.rank,(function(){return`Rank of input (${o.rank}) does not match rank of dy (${i.rank})`}));var s=o,u=i,l=!1;3===o.rank&&(l=!0,s=(0,q.reshape)(o,[1,o.shape[0],o.shape[1],o.shape[2]]),u=(0,q.reshape)(i,[1,i.shape[0],i.shape[1],i.shape[2]])),se.assert(4===u.rank,(function(){return`Error in avgPoolGrad: dy must be rank 4 but got rank ${u.rank}.`})),se.assert(4===s.rank,(function(){return`Error in avgPoolGrad: input must be rank 4 but got rank ${s.rank}.`}));var c={dy:u,input:s},d={filterSize:n,strides:r,pad:a},f=ie.ENGINE.runKernel(O.AvgPoolGrad,c,d);return l?(0,q.reshape)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}}),pe={kernelName:O.AvgPool,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.filterSize,i=n.strides,o=n.pad;return{x:function(){return fe(e,r,a,i,o)}}}},he=n(7379),me={kernelName:O.BatchMatMul,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o=n.transposeA,s=n.transposeB;return o||s?!o&&s?{a:function(){return(0,he.matMul)(e,i,!1,!1)},b:function(){return(0,he.matMul)(e,a,!0,!1)}}:o&&!s?{a:function(){return(0,he.matMul)(i,e,!1,!0)},b:function(){return(0,he.matMul)(a,e,!1,!1)}}:{a:function(){return(0,he.matMul)(i,e,!0,!0)},b:function(){return(0,he.matMul)(e,a,!0,!0)}}:{a:function(){return(0,he.matMul)(e,i,!1,!0)},b:function(){return(0,he.matMul)(a,e,!0,!1)}}}},ve=n(1670),ge={kernelName:O.BatchToSpaceND,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return(0,ve.spaceToBatchND)(e,r,a)}}}},ye={kernelName:O.BroadcastTo,gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,i=r.shape,o=Array.from(i),s=a.length-1;s>=0;s--)if(a[s]===i[s])o[s]=1;else if(1!==a[s])throw new Error(`broadcastTo(): [${a}] cannot be broadcast to [${i}].`);for(var u=[],l=0;l<o.length;l++)o[l]>1&&u.push(l);return{x:function(){return(0,H.sum)(e,u,!0)}}}},be={kernelName:O.Cast,gradFunc:function(e){return{x:function(){return e.clone()}}}},ke={kernelName:O.Ceil,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},we=n(6310),xe=n(1448),Se=n(2145),Te=n(8699),Ee={kernelName:O.ClipByValue,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.clipValueMin,i=n.clipValueMax;return{x:function(){return(0,Te.where)((0,Se.logicalAnd)((0,we.greaterEqual)(r,a),(0,xe.lessEqual)(r,i)),e,(0,Y.zerosLike)(e))}}}},Ce={kernelName:O.ComplexAbs,inputsToSave:["x"],gradFunc:P.gradFunc},Ne=n(2439),Ie={kernelName:O.Concat,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=n.axis,i=(0,se.parseAxisParam)(a,t[0].shape)[0],o=r.map((function(e){return e[i]}));return(0,Ne.split)(e,o,i).map((function(e){return function(){return e}}))}},_e=n(2496),Re=n(9442),Ae={kernelName:O.Conv2D,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o=n.dilations,s=n.strides,u=n.pad,l=n.dataFormat;return se.assert(ue.tupleValuesAreOne(o),(function(){return`Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${o}'`})),{x:function(){return(0,Re.conv2DBackpropInput)(a.shape,e,i,s,u,l)},filter:function(){return(0,_e.conv2DBackpropFilter)(a,e,i.shape,s,u,l)}}}},Oe=n(2645),De={kernelName:O.Conv2DBackpropInput,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o=n.strides,s=n.pad,u=n.dataFormat,l=n.dimRoundingMode;return{dy:function(){return(0,Oe.conv2d)(e,i,o,s,u,1,l)},filter:function(){return(0,_e.conv2DBackpropFilter)(e,a,i.shape,o,s,u,l)}}}};var Fe=(0,le.op)({conv3DBackpropFilter_:function(e,t,n,r,a){var i=e;4===e.rank&&(i=(0,q.reshape)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var o=t;4===o.rank&&(o=(0,q.reshape)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),se.assert(5===i.rank,(function(){return`Error in conv3dDerFilter: input must be rank 5, but got shape ${i.shape}.`})),se.assert(5===o.rank,(function(){return`Error in conv3dDerFilter: dy must be rank 5, but got shape ${o.shape}.`})),se.assert(5===n.length,(function(){return`Error in conv3dDerFilter: filterShape must be length 5, but got ${n}.`})),se.assert(i.shape[4]===n[3],(function(){return`Error in conv3dDerFilter: depth of input ${i.shape[4]}) must match input depth in filter (${n[3]}.`})),se.assert(o.shape[4]===n[4],(function(){return`Error in conv3dDerFilter: depth of dy (${o.shape[4]}) must match output depth for filter (${n[4]}).`}));var s={x:i,dy:o},u={strides:r,pad:a,filterShape:n};return ie.ENGINE.runKernel(O.Conv3DBackpropFilterV2,s,u)}}),$e=n(3628),Pe={kernelName:O.Conv3D,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad;se.assert((0,ue.tupleValuesAreOne)(r),(function(){return`Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${r}'`}));var o=(0,A.default)(t,2),s=o[0],u=o[1];return{x:function(){return(0,$e.conv3DBackpropInput)(s.shape,e,u,a,i)},filter:function(){return Fe(s,e,u.shape,a,i)}}}},Me=n(4292),Le={kernelName:O.Cos,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)((0,L.neg)((0,Me.sin)((0,D.cast)(n,"float32"))),e)}}}},ze=n(7393),Be={kernelName:O.Cosh,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)((0,ze.sinh)((0,D.cast)(n,"float32")),e)}}}},Ve=n(4174),Ue=n(9074),Ge=n(6345),We={kernelName:O.Cumsum,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.axis,i=n.exclusive,o=n.reverse;return{x:function(){var t=(0,Ve.getAxesPermutation)([a],r.rank),n=(0,Ue.cumsum)(e,a,i,!o);return null!=t&&(n=(0,Ge.transpose)(n,t)),n}}}},je=n(1888),qe=n(3342),He={kernelName:O.DepthwiseConv2dNative,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,i=n.pad,o=n.dimRoundingMode,s=null==r?[1,1]:r;se.assert(ue.tupleValuesAreOne(s),(function(){return`Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`}));var u=(0,A.default)(t,2),l=u[0],c=u[1];return se.assert(4===l.rank,(function(){return`Error in gradient of depthwiseConv2dNative: input must be rank 4, but got rank ${l.rank}.`})),se.assert(4===c.rank,(function(){return`Error in gradient of depthwiseConv2dNative: filter must be rank 4, but got rank ${c.rank}.`})),se.assert(l.shape[3]===c.shape[2],(function(){return`Error in gradient of depthwiseConv2d: number of input channels (${l.shape[3]}) must match the inChannels dimension in filter ${c.shape[2]}.`})),se.assert(ue.eitherStridesOrDilationsAreOne(a,s),(function(){return`Error in gradient of depthwiseConv2d: Either strides or dilations must be  1. Got strides ${a} and dilations '${s}'.`})),ue.checkPadOnDimRoundingMode("depthwiseConv2d",i,o),{x:function(){return(0,qe.depthwiseConv2dNativeBackpropInput)(l.shape,e,c,a,i,s,o)},filter:function(){return(0,je.depthwiseConv2dNativeBackpropFilter)(l,e,c.shape,a,i,s,o)}}}},Ke={kernelName:O.Dilation2D,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o={x:a,filter:i,dy:e},s={x:a,filter:i,dy:e};return{x:function(){return ie.ENGINE.runKernel(O.Dilation2DBackpropInput,o,n)},filter:function(){return ie.ENGINE.runKernel(O.Dilation2DBackpropFilter,s,n)}}}},Xe={kernelName:O.Elu,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:(0,A.default)(t,1)[0]};return{x:function(){return ie.ENGINE.runKernel(O.EluGrad,n)}}}},Ye=n(6847),Ze={kernelName:O.Erf,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0],r=(0,F.mul)((0,Ye.exp)((0,L.neg)((0,V.square)(n))),2/Math.sqrt(Math.PI));return{x:function(){return(0,F.mul)(e,r)}}}},Qe={kernelName:O.Exp,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)(e,n)}}}},Je={kernelName:O.ExpandDims,inputsToSave:["input"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{input:function(){return(0,q.reshape)(e,n.shape)}}}},et={kernelName:O.Expm1,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)(e,(0,Ye.exp)(n))}}}},tt={kernelName:O.Floor,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},nt={kernelName:O.FloorDiv,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=(0,j.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,M.div)(e,(0,D.cast)(a,"float32")),n=(0,j.getReductionAxes)(r.shape,i);return n.length>0?(0,q.reshape)((0,H.sum)(t,n),r.shape):t},b:function(){var t=(0,F.mul)(e,(0,D.cast)(r,"float32")),n=(0,j.getReductionAxes)(a.shape,i);n.length>0&&(t=(0,q.reshape)((0,H.sum)(t,n),a.shape));var o=(0,V.square)(a);return(0,L.neg)((0,M.div)(t,(0,D.cast)(o,"float32")))}}}},rt=n(8908),at=n(6404),it={kernelName:O.FusedBatchNorm,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=(0,A.default)(t,4),i=a[0],o=a[1],s=a[2],u=a[3],l=null==u?(0,z.scalar)(1):u,c=(0,j.getReductionAxes)(o.shape,i.shape),d=[];if(1===o.rank){for(var f=0;f<i.shape.length-1;++f)d.push(i.shape[f]);d.push(1)}var p=(0,U.sub)(i,o),h=(0,F.mul)(e,l),m=(0,rt.rsqrt)((0,ee.add)(s,(0,z.scalar)(r))),v=(0,F.mul)((0,F.mul)((0,F.mul)(m,m),m),(0,z.scalar)(-.5));return{x:function(){return 1===o.rank?(0,q.reshape)((0,F.mul)((0,F.mul)(e,(0,at.tile)((0,q.reshape)(m,[1,1,1,o.shape[0]]),d)),l),i.shape):(0,q.reshape)((0,F.mul)((0,F.mul)(e,m),l),i.shape)},mean:function(){var e=(0,F.mul)((0,F.mul)(m,(0,z.scalar)(-1)),h);return 1===o.rank&&(e=(0,H.sum)(e,c)),(0,q.reshape)(e,o.shape)},variance:function(){var e=(0,F.mul)((0,F.mul)(v,p),h);return 1===o.rank&&(e=(0,H.sum)(e,c)),(0,q.reshape)(e,o.shape)},scale:function(){var t=(0,F.mul)(p,m),n=(0,F.mul)(e,t);return 1===o.rank&&(n=(0,H.sum)(n,c)),(0,q.reshape)(n,o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=(0,H.sum)(t,c)),(0,q.reshape)(t,o.shape)}}}},ot=n(8487),st={kernelName:O.GatherV2,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o=n.axis,s=(0,se.parseAxisParam)(o,a.shape)[0];return{x:function(){var t=a.shape,n=i.size,r=t.slice(0,s),u=r.length,l=t.slice(o,t.length).slice(1),c=l.length,d=ut(0,u),f=ut(u+1,u+1+c),p=lt([r,[n],l]),h=(0,q.reshape)(e,p),m=(0,q.reshape)(i,[n]),v=lt([[u],d,f]),g=(0,Ge.transpose)(h,v),y=(0,ot.unsortedSegmentSum)(g,m,a.shape[s]),b=(0,Ve.getUndoAxesPermutation)(v);return y=(0,Ge.transpose)(y,b)},indices:function(){return i}}}};function ut(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function lt(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var ct={kernelName:O.GreaterEqual,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1];return{a:function(){return(0,Y.zerosLike)(r)},b:function(){return(0,Y.zerosLike)(a)}}}},dt={kernelName:O.Identity,gradFunc:function(e){return{x:function(){return(0,D.cast)(e,"float32")}}}},ft={kernelName:O.IsFinite,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},pt={kernelName:O.IsInf,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},ht={kernelName:O.IsNan,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},mt=n(4477),vt={kernelName:O.LeakyRelu,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.alpha,i=(0,mt.greater)(r,0);return{x:function(){return(0,Te.where)(i,e,(0,F.mul)(e,a))}}}},gt={kernelName:O.Log1p,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,ee.add)(n,1))}}}},yt={kernelName:O.Log,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,D.cast)(n,"float32"))}}}},bt={kernelName:O.LogSoftmax,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.axis;return{logits:function(){var t=(0,Ye.exp)(r);return(0,U.sub)(e,(0,F.mul)((0,H.sum)(e,a,!0),t))}}}};var kt=(0,le.op)({localResponseNormalizationBackprop_:function(e,t,n){var r={x:e,y:t,dy:n},a={depthRadius:arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,bias:arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,alpha:arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,beta:arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5};return ie.ENGINE.runKernel(O.LRNGrad,r,a)}}),wt={kernelName:O.LRN,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o=n.depthRadius,s=n.bias,u=n.alpha,l=n.beta;return{x:function(){return kt(a,i,e,o,s,u,l)}}}},xt=n(7506);function St(e,t,n,r){return t.rank<n.rank&&(t=(0,q.reshape)(t,Ve.expandShapeToKeepDim(t.shape,r))),e.rank<n.rank&&(e=(0,q.reshape)(e,Ve.expandShapeToKeepDim(e.shape,r))),{x:function(){return(0,F.mul)(e,(0,D.cast)((0,xt.equal)(n,t),e.dtype))}}}var Tt={kernelName:O.Max,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],i=St(e,t[1],a,se.parseAxisParam(r,a.shape));return{x:function(){return i.x()}}}},Et=n(6773),Ct={kernelName:O.Maximum,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1];return{a:function(){return(0,F.mul)(e,(0,D.cast)((0,we.greaterEqual)(r,a),"float32"))},b:function(){return(0,F.mul)(e,(0,D.cast)((0,Et.less)(r,a),"float32"))}}}};var Nt=(0,le.op)({maxPool3dGrad_:function(e,t,n,r,a,i,o){var s=(0,oe.convertToTensor)(e,"dy","maxPool3dGrad"),u=(0,oe.convertToTensor)(t,"input","maxPool3dGrad"),l=(0,oe.convertToTensor)(n,"output","maxPool3dGrad"),c=s,d=u,f=l,p=!1;4===u.rank&&(p=!0,c=(0,q.reshape)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),d=(0,q.reshape)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),f=(0,q.reshape)(l,[1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]])),se.assert(5===c.rank,(function(){return`Error in maxPool3dGrad: dy must be rank 5 but got rank ${c.rank}.`})),se.assert(5===d.rank,(function(){return`Error in maxPool3dGrad: input must be rank 5 but got rank ${d.rank}.`})),se.assert(5===f.rank,(function(){return`Error in maxPool3dGrad: output must be rank 5 but got rank ${f.rank}.`})),(0,ue.checkPadOnDimRoundingMode)("maxPool3dGrad",i,o);var h={dy:c,input:d,output:f},m={filterSize:r,strides:a,pad:i,dimRoundingMode:o},v=ie.ENGINE.runKernel(O.MaxPool3DGrad,h,m);return p?(0,q.reshape)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}}),It={kernelName:O.MaxPool3D,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,u=n.pad,l=n.dimRoundingMode;return{x:function(){return Nt(e,a,i,o,s,u,l)}}}};var _t=(0,le.op)({maxPoolGrad_:function(e,t,n,r,a,i,o){var s=(0,oe.convertToTensor)(e,"dy","maxPoolGrad"),u=(0,oe.convertToTensor)(t,"input","maxPoolGrad"),l=(0,oe.convertToTensor)(n,"output","maxPoolGrad");se.assert(u.rank===s.rank,(function(){return`Rank of input (${u.rank}) does not match rank of dy (${s.rank})`})),se.assert(4===s.rank,(function(){return`Error in maxPoolGrad: dy must be rank 4 but got rank ${s.rank}.`})),se.assert(4===u.rank,(function(){return`Error in maxPoolGrad: input must be rank 4 but got rank ${u.rank}.`})),ue.checkPadOnDimRoundingMode("maxPoolGrad",i,o);var c={dy:s,input:u,output:l},d={filterSize:r,strides:a,pad:i,dimRoundingMode:o};return ie.ENGINE.runKernel(O.MaxPoolGrad,c,d)}}),Rt={kernelName:O.MaxPool,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,A.default)(t,2),a=r[0],i=r[1],o=n.filterSize,s=n.strides,u=n.pad;return{x:function(){return _t(e,a,i,o,s,u)}}}},At=n(5656),Ot={kernelName:O.Mean,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.axis,i=se.parseAxisParam(a,r.shape),o=(0,Ve.computeOutAndReduceShapes)(r.shape,i)[1],s=se.sizeFromShape(o);return{x:function(){var t=r.shape.slice();i.forEach((function(e){t[e]=1}));var n=(0,q.reshape)(e,t);return(0,M.div)((0,F.mul)(n,(0,At.ones)(r.shape,"float32")),s)}}}},Dt={kernelName:O.Min,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=(0,A.default)(t,2),i=a[0],o=St(e,a[1],i,se.parseAxisParam(r,i.shape));return{x:function(){return o.x()}}}},Ft={kernelName:O.Minimum,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1];return{a:function(){return(0,F.mul)(e,(0,D.cast)((0,xe.lessEqual)(r,a),"float32"))},b:function(){return(0,F.mul)(e,(0,D.cast)((0,mt.greater)(r,a),"float32"))}}}},$t=n(3618),Pt={kernelName:O.MirrorPad,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return(0,$t.slice)(e,a,r.shape)}}}},Mt=n(6445),Lt={kernelName:O.Mod,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=(0,j.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,j.getReductionAxes)(r.shape,i);return t.length>0?(0,q.reshape)((0,H.sum)(e,t),r.shape):e},b:function(){var t=(0,F.mul)(e,(0,L.neg)((0,Mt.floor)((0,M.div)(r,a)))),n=(0,j.getReductionAxes)(a.shape,i);return n.length>0?(0,q.reshape)((0,H.sum)(t,n),a.shape):t}}}},zt={kernelName:O.Multiply,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=(0,j.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,F.mul)(e,(0,D.cast)(a,"float32")),n=(0,j.getReductionAxes)(r.shape,i);return n.length>0?(0,q.reshape)((0,H.sum)(t,n),r.shape):t},b:function(){var t=(0,F.mul)(e,(0,D.cast)(r,"float32")),n=(0,j.getReductionAxes)(a.shape,i);return n.length>0?(0,q.reshape)((0,H.sum)(t,n),a.shape):t}}}},Bt={kernelName:O.Neg,gradFunc:function(e){return{x:function(){return(0,L.neg)(e)}}}},Vt=n(7111),Ut={kernelName:O.OneHot,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return(0,Vt.zeros)(n.shape,"float32")}}}},Gt={kernelName:O.OnesLike,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},Wt=n(2220),jt={kernelName:O.Pack,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return(0,Wt.unstack)(e,r).map((function(e){return function(){return e}}))}},qt={kernelName:O.PadV2,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return(0,$t.slice)(e,a,r.shape)}}}},Ht=n(311),Kt=n(7376),Xt={kernelName:O.Pow,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=(0,A.default)(t,3),r=n[0],a=n[1],i=n[2],o=r,s=a,u=j.assertAndGetBroadcastShape(o.shape,s.shape);return{a:function(){var t=(0,D.cast)(s,"float32"),n=(0,F.mul)(e,(0,F.mul)(t,(0,Kt.pow)(o,(0,U.sub)(t,(0,z.scalar)(1))))),r=j.getReductionAxes(o.shape,u);return r.length>0&&(n=(0,H.sum)(n,r)),(0,q.reshape)(n,o.shape)},b:function(){var t=(0,mt.greater)(o,0),n=(0,Te.where)(t,(0,Ht.log)(o),(0,Y.zerosLike)(o)),r=(0,F.mul)(e,(0,F.mul)(i,n)),a=j.getReductionAxes(s.shape,u);return a.length>0&&(r=(0,H.sum)(r,a)),(0,q.reshape)(r,s.shape)}}}},Yt={kernelName:O.Prelu,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=(0,mt.greater)(r,0);return{x:function(){return(0,Te.where)(i,e,(0,F.mul)(e,a))},alpha:function(){var t=(0,Te.where)(i,(0,Y.zerosLike)(e),(0,F.mul)(e,r)),n=(0,j.getReductionAxes)(a.shape,e.shape);return n.length>0&&(t=(0,H.sum)(t,n)),(0,q.reshape)(t,a.shape)}}}},Zt=n(1064);function Qt(e,t,n){var r=e.shape.length,a=r-n.length,i=Ve.getAxesPermutation(n,r),o=e;null!=i&&(o=(0,Ge.transpose)(e,i));var s=o.shape.slice(),u=s.splice(r-n.length,n.length).reduce((function(e,t){return e*t}),1);s.push(u);var l=function(e,t,n){var r=e.shape.slice();r[n]=1;var a=(0,q.reshape)(t,r),i=(0,Zt.cumprod)(e,n,!0,!1),o=(0,Zt.cumprod)(e,n,!0,!0),s=(0,F.mul)(i,o);return(0,F.mul)(a,s)}(o.reshape(s),t,a);if(l=l.reshape(o.shape),null!=i){var c=Ve.getUndoAxesPermutation(i);l=(0,Ge.transpose)(l,c)}return l}var Jt={kernelName:O.Prod,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.axis,i=[];return i=void 0===a||null===a?r.shape.map((function(e,t){return t})):"number"===typeof a?[a]:a,{x:function(){return Qt(r,e,i)}}}},en={kernelName:O.RealDiv,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=j.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=(0,M.div)(e,(0,D.cast)(a,"float32")),n=j.getReductionAxes(r.shape,i);return n.length>0?(0,q.reshape)((0,H.sum)(t,n),r.shape):t},b:function(){var t=(0,F.mul)(e,(0,D.cast)(r,"float32")),n=j.getReductionAxes(a.shape,i);n.length>0&&(t=(0,q.reshape)((0,H.sum)(t,n),a.shape));var o=(0,V.square)(a);return(0,L.neg)((0,M.div)(t,(0,D.cast)(o,"float32")))}}}},tn={kernelName:O.Reciprocal,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,L.neg)((0,V.square)(n)))}}}},nn={kernelName:O.Relu6,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0],r=(0,F.mul)((0,xe.lessEqual)(n,6),(0,$.step)(n));return{x:function(){return(0,F.mul)(e,(0,D.cast)(r,"float32"))}}}},rn={kernelName:O.Relu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)(e,(0,D.cast)((0,$.step)(n),"float32"))}}}},an={kernelName:O.Reshape,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,q.reshape)(e,n.shape)}}}},on={kernelName:O.ResizeBilinear,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,A.default)(t,1)[0]};return{images:function(){return ie.ENGINE.runKernel(O.ResizeBilinearGrad,r,n)}}}},sn={kernelName:O.ResizeNearestNeighbor,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,A.default)(t,1)[0]};return{images:function(){return ie.ENGINE.runKernel(O.ResizeNearestNeighborGrad,r,n)}}}},un=n(2139),ln={kernelName:O.Reverse,gradFunc:function(e,t,n){var r=n.dims,a=(0,se.parseAxisParam)(r,e.shape);return{x:function(){return(0,un.reverse)(e,a)}}}},cn={kernelName:O.Round,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},dn={kernelName:O.Rsqrt,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,L.neg)((0,M.div)(e,(0,F.mul)((0,Kt.pow)(n,1.5),2)))}}}},fn=n(4980),pn={kernelName:O.Select,inputsToSave:["condition"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{condition:function(){return(0,D.cast)((0,Y.zerosLike)(n),"float32")},t:function(){return(0,F.mul)(e,(0,D.cast)(n,e.dtype))},e:function(){return(0,F.mul)(e,(0,D.cast)((0,fn.logicalNot)(n),e.dtype))}}}},hn=n(917),mn={kernelName:O.Selu,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){var t=(0,mt.greater)(n,(0,z.scalar)(0)),r=(0,z.scalar)(hn.SELU_SCALEALPHA),a=(0,z.scalar)(hn.SELU_SCALE),i=(0,F.mul)(e,a),o=(0,F.mul)((0,F.mul)(e,r),(0,Ye.exp)((0,D.cast)(n,"float32")));return(0,Te.where)(t,i,o)}}}},vn={kernelName:O.Sigmoid,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)(e,(0,F.mul)(n,(0,U.sub)((0,z.scalar)(1),n)))}}}},gn={kernelName:O.Sign,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},yn=n(1257),bn={kernelName:O.Sin,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)((0,yn.cos)((0,D.cast)(n,"float32")),e)}}}},kn=n(5575),wn={kernelName:O.Sinh,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)((0,kn.cosh)((0,D.cast)(n,"float32")),e)}}}},xn=n(8190),Sn=n(397),Tn={kernelName:O.Slice,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=(0,A.default)(t,1)[0],a=n.begin,i=n.size,o=r.shape,s=(0,Sn.parseSliceParams)(r,a,i),u=(0,A.default)(s,2),l=u[0],c=u[1],d=[],f=0;f<e.rank;f++)d.push([l[f],o[f]-l[f]-c[f]]);return{x:function(){return(0,xn.pad)(e,d)}}}},En={kernelName:O.Softmax,outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.dim,i=(0,F.mul)(e,r);return{logits:function(){return(0,U.sub)(i,(0,F.mul)((0,H.sum)(i,[a],true),r))}}}},Cn=n(8504),Nn={kernelName:O.Softplus,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)(e,(0,Cn.sigmoid)(n))}}}},In=n(4363),_n={kernelName:O.SpaceToBatchND,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return(0,In.batchToSpaceND)(e,r,a)}}}},Rn=n(6890),An={kernelName:O.SplitV,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return(0,Rn.concat)(e,r)}}}},On={kernelName:O.Sqrt,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,F.mul)((0,B.sqrt)((0,D.cast)(n,"float32")),2))}}}},Dn={kernelName:O.Square,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)(e,(0,F.mul)((0,D.cast)(n,"float32"),2))}}}},Fn={kernelName:O.SquaredDifference,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=(0,z.scalar)(2);return{a:function(){return(0,F.mul)(e,(0,F.mul)(i,(0,U.sub)(r,a)))},b:function(){return(0,F.mul)(e,(0,F.mul)(i,(0,U.sub)(a,r)))}}}},$n={kernelName:O.Step,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},Pn={kernelName:O.Sub,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,A.default)(t,2),r=n[0],a=n[1],i=j.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=j.getReductionAxes(r.shape,i);return n.length>0&&(t=(0,H.sum)(t,n)),(0,q.reshape)(t,r.shape)},b:function(){var t=e,n=j.getReductionAxes(a.shape,i);return n.length>0&&(t=(0,H.sum)(t,n)),(0,q.reshape)((0,L.neg)(t),a.shape)}}}},Mn={kernelName:O.Sum,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=r.shape.slice(),i=n.axis;(0,se.parseAxisParam)(i,r.shape).forEach((function(e){a[e]=1}));var o=(0,q.reshape)(e,a),s=(0,F.mul)(o,(0,At.ones)(r.shape,"float32"));return{x:function(){return s}}}},Ln={kernelName:O.Tan,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,M.div)(e,(0,V.square)((0,yn.cos)(n)))}}}},zn={kernelName:O.Tanh,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return(0,F.mul)((0,U.sub)((0,z.scalar)(1),(0,V.square)(n)),e)}}}},Bn={kernelName:O.Tile,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,A.default)(t,1)[0],a=n.reps;return{x:function(){var t=(0,Y.zerosLike)(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=(0,ee.add)(t,(0,$t.slice)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var i=0;i<a[0];++i)for(var o=0;o<a[1];++o)t=(0,ee.add)(t,(0,$t.slice)(e,[i*r.shape[0],o*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<a[0];++s)for(var u=0;u<a[1];++u)for(var l=0;l<a[2];++l)t=(0,ee.add)(t,(0,$t.slice)(e,[s*r.shape[0],u*r.shape[1],l*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error(`Gradient for tile operation is not implemented for rank-${r.rank} tensors yet.`);for(var c=0;c<a[0];++c)for(var d=0;d<a[1];++d)for(var f=0;f<a[2];++f)for(var p=0;p<a[3];++p)t=(0,ee.add)(t,(0,$t.slice)(e,[c*r.shape[0],d*r.shape[1],f*r.shape[2],p*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},Vn={kernelName:O.Transpose,gradFunc:function(e,t,n){var r=n.perm,a=Ve.getUndoAxesPermutation(r);return{x:function(){return(0,Ge.transpose)(e,a)}}}},Un=n(1367),Gn={kernelName:O.Unpack,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return(0,Un.stack)(e,r)}}}},Wn=n(2288),jn=n(839),qn=n(7740),Hn={kernelName:O.UnsortedSegmentSum,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=(0,A.default)(t,1)[0];return{x:function(){return function(e,t){for(var n=(0,qn.maximum)(t,(0,Y.zerosLike)(t)),r=(0,jn.gather)(e,n),a=(0,we.greaterEqual)(t,(0,z.scalar)(0,"int32")),i=r.rank-a.rank,o=0;o<i;++o)a=(0,Wn.expandDims)(a,o+1);a=(0,Se.logicalAnd)(a,(0,At.ones)(r.shape,"bool"));var s=(0,Y.zerosLike)(r);return(0,Te.where)(a,r,s)}(e,n)}}}};var Kn={kernelName:O.ZerosLike,gradFunc:function(e){return{x:function(){return(0,Y.zerosLike)(e)}}}},Xn=n(7643),Yn=[P,G,W,K,X,Z,Q,J,te,ne,re,ae,de,pe,me,ge,ye,be,ke,Ee,Ce,Ie,De,Ae,Pe,Le,Be,We,He,Ke,en,Xe,Ze,Qe,Je,et,nt,tt,it,st,ct,dt,ft,pt,ht,vt,gt,yt,bt,wt,Tt,Tt,Ct,It,Rt,Ot,Dt,Ft,Pt,Lt,zt,Bt,Ut,Gt,jt,qt,qt,Xt,Yt,Jt,tn,nn,rn,an,on,sn,ln,cn,dn,pn,mn,vn,gn,bn,wn,Tn,En,Nn,_n,_n,An,An,On,Fn,Dn,$n,Pn,Mn,Ln,zn,Bn,Vn,Gn,Hn,Kn];for(var Zn of Yn)(0,Xn.registerGradient)(Zn);var Qn=n(4294),Jn=n(3243);(0,Jn.getGlobalTensorClass)().prototype.abs=function(){return this.throwIfDisposed(),(0,Qn.abs)(this)};var er=n(8710);(0,Jn.getGlobalTensorClass)().prototype.acos=function(){return this.throwIfDisposed(),(0,er.acos)(this)};var tr=n(9899);(0,Jn.getGlobalTensorClass)().prototype.acosh=function(){return this.throwIfDisposed(),(0,tr.acosh)(this)},(0,Jn.getGlobalTensorClass)().prototype.add=function(e){return this.throwIfDisposed(),(0,ee.add)(this,e)};var nr=n(7794);(0,Jn.getGlobalTensorClass)().prototype.all=function(e,t){return this.throwIfDisposed(),(0,nr.all)(this,e,t)};var rr=n(2712);(0,Jn.getGlobalTensorClass)().prototype.any=function(e,t){return this.throwIfDisposed(),(0,rr.any)(this,e,t)};var ar=n(1250);(0,Jn.getGlobalTensorClass)().prototype.argMax=function(e){return this.throwIfDisposed(),(0,ar.argMax)(this,e)};var ir=n(4679);(0,Jn.getGlobalTensorClass)().prototype.argMin=function(e){return this.throwIfDisposed(),(0,ir.argMin)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.asScalar=function(){return this.throwIfDisposed(),(0,se.assert)(1===this.size,(function(){return"The array must have only 1 element."})),(0,q.reshape)(this,[])},(0,Jn.getGlobalTensorClass)().prototype.asType=function(e){return this.throwIfDisposed(),(0,D.cast)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.as1D=function(){return this.throwIfDisposed(),(0,q.reshape)(this,[this.size])},(0,Jn.getGlobalTensorClass)().prototype.as2D=function(e,t){return this.throwIfDisposed(),(0,q.reshape)(this,[e,t])},(0,Jn.getGlobalTensorClass)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),(0,q.reshape)(this,[e,t,n])},(0,Jn.getGlobalTensorClass)().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),(0,q.reshape)(this,[e,t,n,r])},(0,Jn.getGlobalTensorClass)().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),(0,q.reshape)(this,[e,t,n,r,a])};var or=n(7503);(0,Jn.getGlobalTensorClass)().prototype.asin=function(){return this.throwIfDisposed(),(0,or.asin)(this)};var sr=n(8373);(0,Jn.getGlobalTensorClass)().prototype.asinh=function(){return this.throwIfDisposed(),(0,sr.asinh)(this)};var ur=n(1767);(0,Jn.getGlobalTensorClass)().prototype.atan=function(){return this.throwIfDisposed(),(0,ur.atan)(this)};var lr=n(1583);(0,Jn.getGlobalTensorClass)().prototype.atan2=function(e){return this.throwIfDisposed(),(0,lr.atan2)(this,e)};var cr=n(3882);(0,Jn.getGlobalTensorClass)().prototype.atanh=function(){return this.throwIfDisposed(),(0,cr.atanh)(this)};var dr=n(9567);(0,Jn.getGlobalTensorClass)().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),(0,dr.avgPool)(this,e,t,n,r)},(0,Jn.getGlobalTensorClass)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),(0,In.batchToSpaceND)(this,e,t)};var fr=n(5067);(0,Jn.getGlobalTensorClass)().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),(0,fr.batchNorm)(this,e,t,n,r,a)};var pr=n(2010);(0,Jn.getGlobalTensorClass)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),(0,pr.broadcastTo)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.cast=function(e){return this.throwIfDisposed(),(0,D.cast)(this,e)};var hr=n(9526);(0,Jn.getGlobalTensorClass)().prototype.ceil=function(){return this.throwIfDisposed(),(0,hr.ceil)(this)};var mr=n(968);(0,Jn.getGlobalTensorClass)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),(0,mr.clipByValue)(this,e,t)};var vr=n(2982);(0,Jn.getGlobalTensorClass)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Jn.Tensor&&(e=[e]),(0,Rn.concat)([this].concat((0,vr.default)(e)),t)};var gr=n(2549);(0,Jn.getGlobalTensorClass)().prototype.conv1d=function(e,t,n,r,a,i){return this.throwIfDisposed(),(0,gr.conv1d)(this,e,t,n,r,a,i)};var yr=n(1657);(0,Jn.getGlobalTensorClass)().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),(0,yr.conv2dTranspose)(this,e,t,n,r,a)},(0,Jn.getGlobalTensorClass)().prototype.conv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),(0,Oe.conv2d)(this,e,t,n,r,a,i)},(0,Jn.getGlobalTensorClass)().prototype.cos=function(){return this.throwIfDisposed(),(0,yn.cos)(this)},(0,Jn.getGlobalTensorClass)().prototype.cosh=function(){return this.throwIfDisposed(),(0,kn.cosh)(this)},(0,Jn.getGlobalTensorClass)().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),(0,Zt.cumprod)(this,e,t,n)},(0,Jn.getGlobalTensorClass)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),(0,Ue.cumsum)(this,e,t,n)};var br=n(7271);(0,Jn.getGlobalTensorClass)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),(0,br.depthToSpace)(this,e,t)};var kr=n(6272);(0,Jn.getGlobalTensorClass)().prototype.depthwiseConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),(0,kr.depthwiseConv2d)(this,e,t,n,r,a,i)};var wr=n(2105);(0,Jn.getGlobalTensorClass)().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),(0,wr.dilation2d)(this,e,t,n,r,a)};var xr=n(5335);(0,Jn.getGlobalTensorClass)().prototype.divNoNan=function(e){return this.throwIfDisposed(),(0,xr.divNoNan)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.div=function(e){return this.throwIfDisposed(),(0,M.div)(this,e)};var Sr=n(464);(0,Jn.getGlobalTensorClass)().prototype.dot=function(e){return this.throwIfDisposed(),(0,Sr.dot)(this,e)};var Tr=n(9400);(0,Jn.getGlobalTensorClass)().prototype.elu=function(){return this.throwIfDisposed(),(0,Tr.elu)(this)},(0,Jn.getGlobalTensorClass)().prototype.equal=function(e){return this.throwIfDisposed(),(0,xt.equal)(this,e)};var Er=n(3752);(0,Jn.getGlobalTensorClass)().prototype.erf=function(){return this.throwIfDisposed(),(0,Er.erf)(this)};var Cr=n(9635);(0,Jn.getGlobalTensorClass)().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),(0,Cr.euclideanNorm)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.exp=function(){return this.throwIfDisposed(),(0,Ye.exp)(this)},(0,Jn.getGlobalTensorClass)().prototype.expandDims=function(e){return this.throwIfDisposed(),(0,Wn.expandDims)(this,e)};var Nr=n(9919);(0,Jn.getGlobalTensorClass)().prototype.expm1=function(){return this.throwIfDisposed(),(0,Nr.expm1)(this)};var Ir=n(6741);(0,Jn.getGlobalTensorClass)().prototype.fft=function(){return this.throwIfDisposed(),(0,Ir.fft)(this)},(0,Jn.getGlobalTensorClass)().prototype.flatten=function(){return this.throwIfDisposed(),(0,q.reshape)(this,[this.size])},(0,Jn.getGlobalTensorClass)().prototype.floor=function(){return this.throwIfDisposed(),(0,Mt.floor)(this)};var _r=n(6036);(0,Jn.getGlobalTensorClass)().prototype.floorDiv=function(e){return this.throwIfDisposed(),(0,_r.floorDiv)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.gather=function(e,t){return this.throwIfDisposed(),(0,jn.gather)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),(0,we.greaterEqual)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.greater=function(e){return this.throwIfDisposed(),(0,mt.greater)(this,e)};var Rr=n(3861);(0,Jn.getGlobalTensorClass)().prototype.ifft=function(){return this.throwIfDisposed(),(0,Rr.ifft)(this)};var Ar=n(8704);(0,Jn.getGlobalTensorClass)().prototype.irfft=function(){return this.throwIfDisposed(),(0,Ar.irfft)(this)};var Or=n(610);(0,Jn.getGlobalTensorClass)().prototype.isFinite=function(){return this.throwIfDisposed(),(0,Or.isFinite)(this)};var Dr=n(4251);(0,Jn.getGlobalTensorClass)().prototype.isInf=function(){return this.throwIfDisposed(),(0,Dr.isInf)(this)};var Fr=n(5048);(0,Jn.getGlobalTensorClass)().prototype.isNaN=function(){return this.throwIfDisposed(),(0,Fr.isNaN)(this)};var $r=n(6086);(0,Jn.getGlobalTensorClass)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),(0,$r.leakyRelu)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.lessEqual=function(e){return this.throwIfDisposed(),(0,xe.lessEqual)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.less=function(e){return this.throwIfDisposed(),(0,Et.less)(this,e)};var Pr=n(4556);(0,Jn.getGlobalTensorClass)().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),(0,Pr.localResponseNormalization)(this,e,t,n,r)};var Mr=n(466);(0,Jn.getGlobalTensorClass)().prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,Mr.logSigmoid)(this)};var Lr=n(7539);(0,Jn.getGlobalTensorClass)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),(0,Lr.logSoftmax)(this,e)};var zr=n(6237);(0,Jn.getGlobalTensorClass)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),(0,zr.logSumExp)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.log=function(){return this.throwIfDisposed(),(0,Ht.log)(this)};var Br=n(414);(0,Jn.getGlobalTensorClass)().prototype.log1p=function(){return this.throwIfDisposed(),(0,Br.log1p)(this)},(0,Jn.getGlobalTensorClass)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),(0,Se.logicalAnd)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.logicalNot=function(){return this.throwIfDisposed(),(0,fn.logicalNot)(this)};var Vr=n(6436);(0,Jn.getGlobalTensorClass)().prototype.logicalOr=function(e){return this.throwIfDisposed(),(0,Vr.logicalOr)(this,e)};var Ur=n(8394);(0,Jn.getGlobalTensorClass)().prototype.logicalXor=function(e){return this.throwIfDisposed(),(0,Ur.logicalXor)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),(0,he.matMul)(this,e,t,n)};var Gr=n(2702);(0,Jn.getGlobalTensorClass)().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),(0,Gr.maxPool)(this,e,t,n,r)};var Wr=n(2843);(0,Jn.getGlobalTensorClass)().prototype.max=function(e,t){return this.throwIfDisposed(),(0,Wr.max)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.maximum=function(e){return this.throwIfDisposed(),(0,qn.maximum)(this,e)};var jr=n(951);(0,Jn.getGlobalTensorClass)().prototype.mean=function(e,t){return this.throwIfDisposed(),(0,jr.mean)(this,e,t)};var qr=n(2);(0,Jn.getGlobalTensorClass)().prototype.min=function(e,t){return this.throwIfDisposed(),(0,qr.min)(this,e,t)};var Hr=n(7399);(0,Jn.getGlobalTensorClass)().prototype.minimum=function(e){return this.throwIfDisposed(),(0,Hr.minimum)(this,e)};var Kr=n(1665);(0,Jn.getGlobalTensorClass)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),(0,Kr.mirrorPad)(this,e,t)};var Xr=n(2112);(0,Jn.getGlobalTensorClass)().prototype.mod=function(e){return this.throwIfDisposed(),(0,Xr.mod)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.mul=function(e){return this.throwIfDisposed(),(0,F.mul)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.neg=function(){return this.throwIfDisposed(),(0,L.neg)(this)};var Yr=n(405);(0,Jn.getGlobalTensorClass)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),(0,Yr.norm)(this,e,t,n)};var Zr=n(5882);(0,Jn.getGlobalTensorClass)().prototype.notEqual=function(e){return this.throwIfDisposed(),(0,Zr.notEqual)(this,e)};var Qr=n(6505);(0,Jn.getGlobalTensorClass)().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),(0,Qr.oneHot)(this,e,t,n)};var Jr=n(9320);(0,Jn.getGlobalTensorClass)().prototype.onesLike=function(){return this.throwIfDisposed(),(0,Jr.onesLike)(this)},(0,Jn.getGlobalTensorClass)().prototype.pad=function(e,t){return this.throwIfDisposed(),(0,xn.pad)(this,e,t)};var ea=n(8605);(0,Jn.getGlobalTensorClass)().prototype.pool=function(e,t,n,r,a,i){return this.throwIfDisposed(),(0,ea.pool)(this,e,t,n,r,a,i)},(0,Jn.getGlobalTensorClass)().prototype.pow=function(e){return this.throwIfDisposed(),(0,Kt.pow)(this,e)};var ta=n(4902);(0,Jn.getGlobalTensorClass)().prototype.prelu=function(e){return this.throwIfDisposed(),(0,ta.prelu)(this,e)};var na=n(1328);(0,Jn.getGlobalTensorClass)().prototype.prod=function(e,t){return this.throwIfDisposed(),(0,na.prod)(this,e,t)};var ra=n(8627);(0,Jn.getGlobalTensorClass)().prototype.reciprocal=function(){return this.throwIfDisposed(),(0,ra.reciprocal)(this)};var aa=n(307);(0,Jn.getGlobalTensorClass)().prototype.relu=function(){return this.throwIfDisposed(),(0,aa.relu)(this)};var ia=n(1218);(0,Jn.getGlobalTensorClass)().prototype.relu6=function(){return this.throwIfDisposed(),(0,ia.relu6)(this)},(0,Jn.getGlobalTensorClass)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),(0,q.reshape)(this,e.shape)},(0,Jn.getGlobalTensorClass)().prototype.reshape=function(e){return this.throwIfDisposed(),(0,q.reshape)(this,e)};var oa=n(7031);(0,Jn.getGlobalTensorClass)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),(0,oa.resizeBilinear)(this,e,t,n)};var sa=n(8497);(0,Jn.getGlobalTensorClass)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),(0,sa.resizeNearestNeighbor)(this,e,t,n)},(0,Jn.getGlobalTensorClass)().prototype.reverse=function(e){return this.throwIfDisposed(),(0,un.reverse)(this,e)};var ua=n(5258);(0,Jn.getGlobalTensorClass)().prototype.rfft=function(){return this.throwIfDisposed(),(0,ua.rfft)(this)};var la=n(2032);(0,Jn.getGlobalTensorClass)().prototype.round=function(){return this.throwIfDisposed(),(0,la.round)(this)},(0,Jn.getGlobalTensorClass)().prototype.rsqrt=function(){return this.throwIfDisposed(),(0,rt.rsqrt)(this)};var ca=n(4122);(0,Jn.getGlobalTensorClass)().prototype.selu=function(){return this.throwIfDisposed(),(0,ca.selu)(this)};var da=n(90);(0,Jn.getGlobalTensorClass)().prototype.separableConv2d=function(e,t,n,r,a,i){return this.throwIfDisposed(),(0,da.separableConv2d)(this,e,t,n,r,a,i)},(0,Jn.getGlobalTensorClass)().prototype.sigmoid=function(){return this.throwIfDisposed(),(0,Cn.sigmoid)(this)};var fa=n(5455);(0,Jn.getGlobalTensorClass)().prototype.sign=function(){return this.throwIfDisposed(),(0,fa.sign)(this)},(0,Jn.getGlobalTensorClass)().prototype.sin=function(){return this.throwIfDisposed(),(0,Me.sin)(this)},(0,Jn.getGlobalTensorClass)().prototype.sinh=function(){return this.throwIfDisposed(),(0,ze.sinh)(this)},(0,Jn.getGlobalTensorClass)().prototype.slice=function(e,t){return this.throwIfDisposed(),(0,$t.slice)(this,e,t)};var pa=n(3167);(0,Jn.getGlobalTensorClass)().prototype.softmax=function(e){return this.throwIfDisposed(),(0,pa.softmax)(this,e)};var ha=n(985);(0,Jn.getGlobalTensorClass)().prototype.softplus=function(){return this.throwIfDisposed(),(0,ha.softplus)(this)},(0,Jn.getGlobalTensorClass)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),(0,ve.spaceToBatchND)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.split=function(e,t){return this.throwIfDisposed(),(0,Ne.split)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.sqrt=function(){return this.throwIfDisposed(),(0,B.sqrt)(this)},(0,Jn.getGlobalTensorClass)().prototype.square=function(){return this.throwIfDisposed(),(0,V.square)(this)};var ma=n(473);(0,Jn.getGlobalTensorClass)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),(0,ma.squaredDifference)(this,e)};var va=n(4712);(0,Jn.getGlobalTensorClass)().prototype.squeeze=function(e){return this.throwIfDisposed(),(0,va.squeeze)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof Jn.Tensor?[this,e]:[this].concat((0,vr.default)(e));return(0,Un.stack)(n,t)},(0,Jn.getGlobalTensorClass)().prototype.step=function(e){return this.throwIfDisposed(),(0,$.step)(this,e)};var ga=n(745);(0,Jn.getGlobalTensorClass)().prototype.stridedSlice=function(e,t,n,r,a,i,o,s){return this.throwIfDisposed(),(0,ga.stridedSlice)(this,e,t,n,r,a,i,o,s)},(0,Jn.getGlobalTensorClass)().prototype.sub=function(e){return this.throwIfDisposed(),(0,U.sub)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.sum=function(e,t){return this.throwIfDisposed(),(0,H.sum)(this,e,t)};var ya=n(8548);(0,Jn.getGlobalTensorClass)().prototype.tan=function(){return this.throwIfDisposed(),(0,ya.tan)(this)};var ba=n(1497);(0,Jn.getGlobalTensorClass)().prototype.tanh=function(){return this.throwIfDisposed(),(0,ba.tanh)(this)},(0,Jn.getGlobalTensorClass)().prototype.tile=function(e){return this.throwIfDisposed(),(0,at.tile)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.toBool=function(){return this.throwIfDisposed(),(0,D.cast)(this,"bool")},(0,Jn.getGlobalTensorClass)().prototype.toFloat=function(){return this.throwIfDisposed(),(0,D.cast)(this,"float32")},(0,Jn.getGlobalTensorClass)().prototype.toInt=function(){return this.throwIfDisposed(),(0,D.cast)(this,"int32")};var ka=n(8751);(0,Jn.getGlobalTensorClass)().prototype.topk=function(e,t){return this.throwIfDisposed(),(0,ka.topk)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.transpose=function(e){return this.throwIfDisposed(),(0,Ge.transpose)(this,e)};var wa=n(2707);(0,Jn.getGlobalTensorClass)().prototype.unique=function(e){return this.throwIfDisposed(),(0,wa.unique)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),(0,ot.unsortedSegmentSum)(this,e,t)},(0,Jn.getGlobalTensorClass)().prototype.unstack=function(e){return this.throwIfDisposed(),(0,Wt.unstack)(this,e)},(0,Jn.getGlobalTensorClass)().prototype.where=function(e,t){return this.throwIfDisposed(),(0,Te.where)(e,this,t)},(0,Jn.getGlobalTensorClass)().prototype.zerosLike=function(){return this.throwIfDisposed(),(0,Y.zerosLike)(this)};var xa=n(5671),Sa=n(3144),Ta=n(7326),Ea=n(136),Ca=n(6215),Na=n(1120),Ia=n(2407);function _a(e){var t=Ra();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Ra(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ra=function(){return!!e})()}var Aa=function(e){(0,Ea.default)(n,e);var t=_a(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Ta.default)(r),n.prototype),r}return(0,Sa.default)(n)}((0,Ia.default)(Error)),Oa=function(e){(0,Ea.default)(n,e);var t=_a(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Ta.default)(r),n.prototype),r}return(0,Sa.default)(n)}((0,Ia.default)(Error)),Da=function(e){(0,Ea.default)(n,e);var t=_a(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Ta.default)(r),n.prototype),r}return(0,Sa.default)(n)}((0,Ia.default)(Error)),Fa=function(e){(0,Ea.default)(n,e);var t=_a(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Ta.default)(r),n.prototype),r}return(0,Sa.default)(n)}((0,Ia.default)(Error)),$a=function(e){(0,Ea.default)(n,e);var t=_a(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Ta.default)(r),n.prototype),r}return(0,Sa.default)(n)}((0,Ia.default)(Error)),Pa=(function(e){(0,Ea.default)(n,e);var t=_a(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,Ta.default)(r),n.prototype),r}(0,Sa.default)(n)}((0,Ia.default)(Error)),function(){function e(t){(0,xa.default)(this,e),this.maxEntries=t||100,this.cache=new Map}return(0,Sa.default)(e,[{key:"get",value:function(e){var t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}},{key:"put",value:function(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}},{key:"getMaxEntries",value:function(){return this.maxEntries}},{key:"setMaxEntries",value:function(e){if(e<0)throw new Error(`The maxEntries of LRU caches must be at least 0, but got ${e}.`);if(this.maxEntries>e)for(var t=0;t<this.maxEntries-e;t++){var n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}}]),e}());function Ma(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function La(e,t){if(!e)throw new $a(t)}function za(e,t){var n=0;for(var r of e)r===t&&n++;return n}function Ba(e){return 1===e.length?e[0]:e}function Va(e){return Array.isArray(e)?e:[e]}function Ua(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function Ga(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var Wa={};function ja(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function qa(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((function(e){return qa(e)}));else{var t=Object.keys(e);for(var n of t){var r=e[n];null!=r&&"object"===typeof r&&(Array.isArray(r)||"ndarray"!==r.type||"number"!==typeof r.value?qa(r):e[n]=r.value)}}}function Ha(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var i,o=e;if(o in n)i=n[o];else if(o in Wa)i=Wa[o];else if(null==(i=t[o]))throw new Da(`Unknown ${r}: ${e}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);return i}var s=e;if(null==s.className||null==s.config)throw new Da(`${r}: Improper config format: ${JSON.stringify(s)}.\n'className' and 'config' must set.`);var u,l,c=s.className;if(c in n){var d=(0,A.default)(n[c],2);u=d[0],l=d[1]}else if(c in Wa){var f=(0,A.default)(Wa.className,2);u=f[0],l=f[1]}else if(c in t){var p=(0,A.default)(t[c],2);u=p[0],l=p[1]}if(null==u)throw new Da(`Unknown ${r}: ${c}. This may be due to one of the following reasons:\n1. The ${r} is defined in Python, in which case it needs to be ported to TensorFlow.js or your JavaScript code.\n2. The custom ${r} is defined in JavaScript, but is not registered properly with tf.serialization.registerClass().`);if(null!=l){var h={};for(var m of Object.keys(Wa))h[m]=Wa[m];for(var v of Object.keys(n))h[v]=n[v];s.config.customObjects=h;var g=Object.assign({},Wa);for(var y of Object.keys(n))Wa[y]=n[y];qa(s.config);var b=l(u,s.config,n,a);return Wa=Object.assign({},g),b}var k=Object.assign({},Wa);for(var w of Object.keys(n))Wa[w]=n[w];var x=new u(s.config);return Wa=Object.assign({},k),x}function Ka(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function Xa(e){if(null==e)return e;var t=[];for(var n of e)-1===t.indexOf(n)&&t.push(n);return t}function Ya(e){if(null==e)throw new Da(`Invalid value in obj: ${JSON.stringify(e)}`);for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Za(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new Da(`${n} is not a valid ${t}.  Valid values are ${e} or null/undefined.`)}function Qa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return La(n>=0),La(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function Ja(e,t){Array.isArray(e)?(R.util.assert(e.length>0,(function(){return`${t} is unexpectedly an empty array.`})),e.forEach((function(e,n){return Ja(e,`element ${n+1} of ${t}`)}))):R.util.assert(Number.isInteger(e)&&e>0,(function(){return`Expected ${t} to be a positive integer, but got ${ei(e)}.`}))}function ei(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return ei(e)})).join(",")+"]":"string"===typeof e?`"${e}"`:`${e}`}function ti(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}var ni=0;function ri(){return ni++}var ai={};function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in ai||(ai[e]=0),ai[e]+=1,e+ai[e].toString()}var oi=["channelsFirst","channelsLast"],si=["nearest","bilinear"],ui=["valid","same","causal"],li=["max","avg"],ci=["sum","mul","concat","ave"],di=new Map;function fi(e){Za(oi,"DataFormat",e)}function pi(e){Za(ui,"PaddingMode",e)}function hi(e){Za(li,"PoolMode",e)}var mi=[],vi="/";function gi(e,t){mi.push(e);try{var n=t();return mi.pop(),n}catch(r){throw mi.pop(),r}}function yi(e){if(!xi(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===mi.length?"":mi.join(vi)+vi)+e}function bi(e){if(!xi(e))throw new Error("Not a valid tensor name: '"+e+"'");di.has(e)||di.set(e,0);var t=di.get(e);if(di.set(e,di.get(e)+1),t>0){var n=`${e}_${t}`;return di.set(n,1),n}return e}var ki,wi=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function xi(e){return!!e.match(wi)}function Si(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function Ti(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function Ei(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function Ci(e,t){if(t<e)throw new Da(`end (${t}) < begin (${e}) is forbidden.`);for(var n=[],r=e;r<t;++r)n.push(r);return n}function Ni(){return null==ki&&(ki=(0,R.backend)().epsilon()),ki}function Ii(e,t){return R.cast(e,t)}function _i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),R.reshape(e,n)}function Ri(e,t,n){return(0,R.tidy)((function(){switch(e.rank){case 1:return R.slice1d(e,t,n);case 2:return R.slice2d(e,[t,0],[n,e.shape[1]]);case 3:return R.slice3d(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return R.slice4d(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return R.slice(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return R.slice(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new Da(`sliceAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Ai(e,t,n){return(0,R.tidy)((function(){switch(e.rank){case 1:return R.slice1d(e,t,n);case 2:return R.slice2d(e,[0,t],[e.shape[0],n]);case 3:return R.slice3d(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return R.slice4d(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new Da(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Oi(e,t,n,r){return(0,R.tidy)((function(){switch(e.rank){case 1:return R.slice1d(e,t,n);case 2:switch(r){case 1:return Ri(e,t,n);case 2:return Ai(e,t,n);default:throw new Da(`The axis is not within the rank of the tensor ${r}`)}case 3:switch(r){case 1:return Ri(e,t,n);case 2:return R.slice3d(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return Ai(e,t,n);default:throw new Da(`The axis is not within the rank of the tensor ${r}`)}case 4:switch(r){case 1:return Ri(e,t,n);case 2:return R.slice4d(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return R.slice4d(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return Ai(e,t,n);default:throw new Da(`The axis is not within the rank of the tensor ${r}`)}default:throw new Da(`sliceAlongLastAxis() received an unsupported tensor rank: ${e.rank}`)}}))}function Di(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),R.concat(e,n)}function Fi(e,t){switch(e.rank){case 1:return R.concat1d([e,t]);case 2:return R.concat2d([e,t],0);case 3:return R.concat3d([e,t],0);case 4:return R.concat4d([e,t],0);default:throw new Da(`concatAlongFirstAxis() received an unsupported tensor rank: ${e.rank}`)}}function $i(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new Da(`The length of input n (${t.length}) does not match the number of dimensions in input x (${e.rank})`);return R.tile(e,t)}function Pi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return R.randomNormal(e,t,n,r,a)}function Mi(e,t,n,r){if(e.rank<2||t.rank<2)throw new Fa(`dot requires both inputs to be rank >= 2 but got x shape = ${e.shape} and y shape = ${t.shape}`);if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new Fa(`If rank y >= 3, then the second last dim of y must equal the last dim of x but got x shape = ${e.shape} and  y shape = ${t.shape}`);if(2===e.rank&&2===t.rank){return R.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Bi(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),i=a.pop();e=R.reshape(e,[-1,i]);var o=t.shape.slice(),s=o.pop(),u=o.pop(),l=[].concat((0,vr.default)(o),[s]),c=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=R.reshape(R.transpose(t,c),[u,-1]);var d=[].concat((0,vr.default)(a),(0,vr.default)(l));return R.reshape(R.fused.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Bi(e.rank,r,"channelsLast"):null,activation:n}),d)}function Li(e,t,n){return(0,R.tidy)((function(){return t=Array.isArray(t)?(0,R.tensor1d)(t,"int32"):R.cast(t,"int32"),R.gather(e,t,n)}))}function zi(e){return R.mul(e,e)}function Bi(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new Da(`Unexpected bias dimensions: ${t.rank}; expected it to be 1 or ${e}`);if(5===e){if("channelsFirst"===n)return 1===r.length?R.reshape(t,[1,r[0],1,1,1]):R.reshape(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?R.reshape(t,[1,1,1,1,r[0]]):R.reshape(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?R.reshape(t,[1,r[0],1,1]):R.reshape(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?R.reshape(t,[1,1,1,r[0]]):R.reshape(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?R.reshape(t,[1,r[0],1]):R.reshape(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?R.reshape(t,[1,1,r[0]]):R.reshape(t,[1].concat(r))}else if(e<3)return t;throw new Da(`Unsupported input rank by biasAdd: ${t.rank}`)}function Vi(e,t,n){return(0,R.tidy)((function(){return null==n&&(n="channelsLast"),fi(n),R.add(e,Bi(e.rank,t,n))}))}function Ui(e,t,n,r){return(0,R.tidy)((function(){return R.dropout(e,t,n,r)}))}function Gi(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?e():t()}var Wi=["fanIn","fanOut","fanAvg"],ji=["normal","uniform","truncatedNormal"];function qi(e){var t=Hi();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Hi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hi=function(){return!!e})()}var Ki=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(R.serialization.Serializable),Xi=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){return(0,R.zeros)(e,t)}}]),n}(Ki);Xi.className="Zeros",R.serialization.registerClass(Xi);var Yi=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){return(0,R.ones)(e,t)}}]),n}(Ki);Yi.className="Ones",R.serialization.registerClass(Yi);var Zi=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){var r;if((0,xa.default)(this,n),r=t.call(this),"object"!==typeof e)throw new Da(`Expected argument of type ConstantConfig but got ${e}`);if(void 0===e.value)throw new Da(`config must have value set but got ${e}`);return r.value=e.value,r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){var n=this;return(0,R.tidy)((function(){return(0,R.mul)((0,R.scalar)(n.value),(0,R.ones)(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(Ki);Zi.className="Constant",R.serialization.registerClass(Zi);var Qi=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){return(0,R.randomUniform)(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(Ki);Qi.className="RandomUniform",R.serialization.registerClass(Qi);var Ji=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Fa(`randomNormal does not support dType ${t}.`);return Pi(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Ki);Ji.className="RandomNormal",R.serialization.registerClass(Ji);var eo=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Fa(`truncatedNormal does not support dType ${t}.`);return(0,R.truncatedNormal)(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Ki);eo.className="TruncatedNormal",R.serialization.registerClass(eo);var to=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){var n=this;return(0,R.tidy)((function(){if(2!==e.length||e[0]!==e[1])throw new Da("Identity matrix initializer can only be used for 2D square matrices.");return(0,R.mul)(n.gain,(0,R.eye)(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(Ki);to.className="Identity",R.serialization.registerClass(to);var no=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){var r,a;if((0,xa.default)(this,n),r=t.call(this),e.scale<0)throw new Da(`scale must be a positive float. Got: ${e.scale}`);return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,a=r.mode,Za(Wi,"FanMode",a),r.distribution=null==e.distribution?"normal":e.distribution,function(e){Za(ji,"Distribution",e)}(r.distribution),r.seed=e.seed,r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(fi(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=Si(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var i=Si(e,0,e.length-2);t=e[e.length-2]*i,n=e[e.length-1]*i}}else{var o=Si(e);t=Math.sqrt(o),n=Math.sqrt(o)}return[t,n]}(e),r=n[0],a=n[1],i=this.scale;if("fanIn"===this.mode?i/=Math.max(1,r):"fanOut"===this.mode?i/=Math.max(1,a):i/=Math.max(1,(r+a)/2),"normal"===this.distribution){var o=Math.sqrt(i);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new Fa(`${this.getClassName()} does not support dType ${t}.`);return(0,R.truncatedNormal)(e,0,o,t,this.seed)}var s=Math.sqrt(3*i);return(0,R.randomUniform)(e,-s,s,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(Ki);no.className="VarianceScaling",R.serialization.registerClass(no);var ro=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){return(0,xa.default)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Sa.default)(n,[{key:"getClassName",value:function(){return no.className}}]),n}(no);ro.className="GlorotUniform",R.serialization.registerClass(ro);var ao=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){return(0,xa.default)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return(0,Sa.default)(n,[{key:"getClassName",value:function(){return no.className}}]),n}(no);ao.className="GlorotNormal",R.serialization.registerClass(ao);var io=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){return(0,xa.default)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,Sa.default)(n,[{key:"getClassName",value:function(){return no.className}}]),n}(no);io.className="HeNormal",R.serialization.registerClass(io);var oo=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){return(0,xa.default)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Sa.default)(n,[{key:"getClassName",value:function(){return no.className}}]),n}(no);oo.className="HeUniform",R.serialization.registerClass(oo);var so=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){return(0,xa.default)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,Sa.default)(n,[{key:"getClassName",value:function(){return no.className}}]),n}(no);so.className="LeCunNormal",R.serialization.registerClass(so);var uo=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){return(0,xa.default)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,Sa.default)(n,[{key:"getClassName",value:function(){return no.className}}]),n}(no);uo.className="LeCunNormal",R.serialization.registerClass(uo);var lo=function(e){(0,Ea.default)(n,e);var t=qi(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new Fa("Random seed is not implemented for Orthogonal Initializer yet.");return r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){var n=this;return(0,R.tidy)((function(){if(e.length<2)throw new Fa("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn(`Orthogonal initializer is being called on a matrix with more than 2000 (${e[0]*e[1]}) elements: Slowness may result.`);var t=Pi(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=R.linalg.gramSchmidt(t);return e[0]>e[1]&&(r=(0,R.transpose)(r)),(0,R.mul)(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(Ki);lo.className="Orthogonal",R.serialization.registerClass(lo);var co={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ha(e,R.serialization.SerializationMap.getMap().classNameMap,t,"initializer")}function po(e){return ja(e)}function ho(e){if("string"===typeof e){var t=e in co?co[e]:e;if("GlorotNormal"===t)return new ao;if("GlorotUniform"===t)return new ro;if("HeNormal"===t)return new io;if("HeUniform"===t)return new oo;if("LeCunNormal"===t)return new so;if("LeCunUniform"===t)return new uo;var n={};return n.className=t,n.config={},fo(n)}return e instanceof Ki?e:fo(e)}function mo(e){return Array.isArray(e)&&Array.isArray(e[0])}function vo(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function go(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new Da(`Expected Tensor length to be 1; got ${e.length}`);t=e[0]}else t=e;return t}function yo(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new Da(`Expected exactly 1 Shape; got ${e.length}`)}return e}function bo(e){var t=0;for(var n of e)0===n.shape.length?t+=1:t+=n.shape.reduce((function(e,t){return e*t}));return t}var ko="Variable",wo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ko,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,xa.default)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=ri(),r=null==r?ko:r,this.originalName=yi(r),this.name=bi(this.originalName),this.trainable_=a,this.constraint=i,this.val=R.variable(t,this.trainable_,this.name,this.dtype)}return(0,Sa.default)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error(`LayersVariable ${this.name} is already disposed.`)}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function xo(e){return e.map((function(e){return e.read()}))}function So(e){e.forEach((function(e){e[0].write(e[1])}))}function To(e){var t=Eo();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Eo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Eo=function(){return!!e})()}var Co=(0,Sa.default)((function e(t){(0,xa.default)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}})),No=(0,Sa.default)((function e(t,n,r,a,i,o,s){(0,xa.default)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=i,this.outputTensorIndex=s,this.id=ri(),null!=o&&(this.originalName=yi(o),this.name=bi(this.originalName)),this.rank=n.length})),Io=0,_o=function(){function e(t,n){for(var r of((0,xa.default)(this,e),this.callArgs=n,this.id=Io++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes,t.inboundLayers))null!=r&&r.outboundNodes.push(this);t.outboundLayer.inboundNodes.push(this)}return(0,Sa.default)(e,[{key:"getConfig",value:function(){var e=[];for(var t of this.inboundLayers)null!=t?e.push(t.name):e.push(null);return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:e,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),Ro=0,Ao=function(e){(0,Ea.default)(n,e);var t=To(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,xa.default)(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=Ro++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var a=r.name;if(!a){var i=e.getClassName();a=Ua(i)+"_"+ii(i)}if(e.name=a,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var o;if(null!=r.batchInputShape)o=r.batchInputShape;else if(null!=r.inputShape){var s=null;null!=r.batchSize&&(s=r.batchSize),o=[s].concat(r.inputShape)}e.batchInputShape=o;var u=r.dtype;null==u&&(u=r.inputDType),null==u&&(u="float32"),e.dtype=u}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return(0,Sa.default)(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new Oa(`The layer has never been called and thus has no defined ${t}.`);if(this.inboundNodes.length<=e)throw new Da(`Asked to get ${t} at node ${e}, but the layer has only ${this.inboundNodes.length} inbound nodes.`);return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return Ba(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return Ba(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new Aa(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use \`getInputAt(nodeIndex)\` instead.`);if(0===this.inboundNodes.length)throw new Aa(`Layer ${this.name} is not connected, no input to return.`);return Ba(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new Aa(`Layer ${this.name} has no inbound nodes.`);if(this.inboundNodes.length>1)throw new Aa(`Layer ${this.name} has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use \`getOutputAt(nodeIndex)\` instead.`);return Ba(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=Va(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=Va(this.inputSpec);if(e.length!==t.length)throw new Da(`Layer ${this.name} expects ${t.length} inputs, but it received ${e.length} input tensors. Input received: ${e}`);for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var i=r.rank;if(null!=a.ndim&&i!==a.ndim)throw new Da(`Input ${n} is incompatible with layer ${this.name}: expected ndim=${a.ndim}, found ndim=${i}`);if(null!=a.maxNDim&&i>a.maxNDim)throw new Da(`Input ${n} is incompatible with layer ${this.name}: expected max_ndim=${a.maxNDim}, found ndim=${i}`);if(null!=a.minNDim&&i<a.minNDim)throw new Da(`Input ${n} is incompatible with layer ${this.name}: expected min_ndim=${a.minNDim}, found ndim=${i}.`);if(null!=a.dtype&&r.dtype!==a.dtype)throw new Da(`Input ${n} is incompatible with layer ${this.name} : expected dtype=${a.dtype}, found dtype=${r.dtype}.`);if(a.axes){var o=r.shape;for(var s in a.axes){var u=Number(s),l=a.axes[s],c=u>=0?o[u]:o[o.length+u];if(null!=l&&-1===[l,null].indexOf(c))throw new Da(`Input ${n} is incompatible with layer ${this.name}: expected axis ${u} of input shape to have value ${l} but got shape ${o}.`)}}if(null!=a.shape)for(var d=0;d<a.shape.length;++d){var f=a.shape[d],p=r.shape[d];if(null!=f&&null!=p&&f!==p)throw new Da(`Input ${n} is incompatible with layer ${this.name}: expected shape=${a.shape}, found shape=${r.shape}.`)}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r=Va(e),a=!0;for(var i of r)if(!(i instanceof No)){a=!1;break}var o=!0;for(var s of r)if(s instanceof No){o=!1;break}if(a===o)throw new Da("Arguments to apply() must be all SymbolicTensors or all Tensors");return gi(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var a=[];for(var i of Va(e))a.push(i.shape);n.build(Ba(a)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&o&&(n._refCount=1)}if(n.assertInputCompatibility(e),o){var s=n.call(e,t),u=Va(s),l=[];for(var c of u)-1!==r.indexOf(c)&&(c=c.clone()),l.push(c);if(s=Ba(l),null!=n.activityRegularizer)throw new Fa("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return s}var d,f=function(e){e=Va(e);var t=[];for(var n of e)t.push(n.shape);return Ba(t)}(e),p=n.computeOutputShape(f),h="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?f[0]:f),d=null!=p&&p.length>0&&Array.isArray(p[0])?p.map((function(r,a){return new No(h,r,n,Va(e),t,n.name,a)})):new No(h,p,n,Va(e),t,n.name),n.addInboundNode(e,d,null,null,f,p,t),n._refCount++,null!=n.activityRegularizer)throw new Fa("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return d}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn(`The rank of the input tensor provided (shape: ${JSON.stringify(e)}) does not match that of the batchInputShape (${JSON.stringify(this.batchInputShape)}) of the layer ${this.name}`);else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn(`The shape of the input tensor (${JSON.stringify(e)}) does not match the expectation of layer ${this.name}: ${JSON.stringify(this.batchInputShape)}`)}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new Aa(`The layer ${this.name} has never been called and thus has no defined output shape.`);var e=[];for(var t of this.inboundNodes){var n=JSON.stringify(t.outputShapes);-1===e.indexOf(n)&&e.push(n)}if(1===e.length){var r=this.inboundNodes[0].outputShapes;return Array.isArray(r)&&Array.isArray(r[0])&&1===r.length?r[0]:r}throw new Aa(`The layer ${this.name} has multiple inbound nodes with different output shapes. Hence the notion of "output shape" is ill-defined for the layer.`)}},{key:"countParams",value:function(){if(!this.built)throw new Oa(`You tried to call countParams() on ${this.name}, but the layer is not built yet. Build it first by calling build(batchInputShape).`);return bo(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){return xo(arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;(0,R.tidy)((function(){var n=t.weights;if(n.length!==e.length)throw new Da(`You called setWeights(weights) on layer "${t.name}" with a weight list of length ${e.length}, but the layer was expecting ${n.length} weights. Provided weights: ${e}...`);if(0!==n.length){for(var r=[],a=xo(n),i=0;i<a.length;++i){var o=a[i],s=n[i],u=e[i];if(!R.util.arraysEqual(o.shape,u.shape))throw new Da(`Layer weight shape ${o.shape} not compatible with provided weight shape ${u.shape}`);r.push([s,u])}So(r)}}))}},{key:"addWeight",value:function(e,t,n,r,a,i,o,s){if(-1!==this._addedWeightNames.indexOf(e))throw new Da(`Duplicate weight name ${e} for layer ${this.name}`);this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():ho("zeros"));var u=r.apply(t,n),l=new wo(u,n,e,i,o);return u.dispose(),null!=a&&this.addLoss((function(){return a.apply(l.read())})),null==i&&(i=!0),i?this._trainableWeights.push(l):this._nonTrainableWeights.push(l),l}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=Va(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,(0,vr.default)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError(`Layer ${this.name} does not support masking, but was passed an inputMask.`);t.forEach((function(e){if(null!=e)throw new TypeError(`Layer ${n.name} does not support masking, but was passed an inputMask.`)}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=Va(e);t=Va(t),n=Va(n),r=Va(r),a=vo(a),i=vo(i);var u=[],l=[],c=[];for(var d of s)u.push(d.sourceLayer),l.push(d.nodeIndex),c.push(d.tensorIndex);new _o({outboundLayer:this,inboundLayers:u,nodeIndices:l,tensorIndices:c,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:i},o);for(var f=0;f<t.length;f++)t[f].sourceLayer=this,t[f].nodeIndex=this.inboundNodes.length-1,t[f].tensorIndex=f}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error(`Layer '${this.name}' is already disposed.`)}},{key:"dispose",value:function(){if(!this.built)throw new Error(`Cannot dispose Layer ${this.name} because it has not been built yet.`);if(null===this._refCount)throw new Error(`Cannot dispose Layer ${this.name} because it has not been used yet.`);this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(R.serialization.Serializable);function Oo(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],i=0;i<r.inboundLayers.length;i++){var o=Oo(r.inputTensors[i],r.inboundLayers[i],r.nodeIndices[i]);for(var s of o)-1===a.indexOf(s)&&a.push(s)}return a}function Do(e){var t=Fo();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Fo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fo=function(){return!!e})()}var $o=function(e){(0,Ea.default)(n,e);var t=Do(n);function n(e){var r;if((0,xa.default)(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:ii("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new Da("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=e.batchInputShape;if(null==a){if(null==e.inputShape)throw new Da("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new Da("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var i=e.dtype||"float32";r.batchInputShape=a,r.dtype=i,r.inputSpec=[{shape:a}];var o=new No(r.dtype,r.batchInputShape,(0,Ta.default)(r),[],{},r.name);return o.nodeIndex=0,o.tensorIndex=0,new _o({outboundLayer:(0,Ta.default)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[o],outputTensors:[o],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),r}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){throw new Da(`Cannot pass any input to an InputLayer's apply() method. InputLayer name: ${this.name}`)}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(Ao);function Po(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new Da("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new $o({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}$o.className="InputLayer",R.serialization.registerClass($o);var Mo=function(){function e(t){if((0,xa.default)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;for(var r of t)this.add(r.key,r.value)}}return(0,Sa.default)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new Da(`Duplicate key: name=${e.name}, id=${e.id}`);return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return(0,R.cast)(t,e.dtype)}catch(n){throw new Da(`The dtype of the feed (${t.dtype}) can not be cast to the dtype of the key '${e.name}' (${e.dtype}).`)}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof No){if(null==this.id2Value[e.id])throw new Da(`Nonexistent key: ${e.name}`);return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new Da(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof No){if(null==this.id2Value[e.id])throw new Da(`Nonexistent key: ${e.name}`);return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new Da(`Feed dict has no SymbolicTensor name: ${e}`);return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&(0,R.dispose)(this.id2Mask)}}]),e}(),Lo=new Pa,zo=new Pa;function Bo(e,t,n,r){var a=null!=n&&n.training,i=Array.isArray(e),o=i?e:[e],s=o.map((function(e){return e.name})),u=[],l=t.names();for(var c of s)-1!==l.indexOf(c)?u.push(t.getValue(c)):u.push(null);null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var d,f=s.join(",")+"|"+t.names().sort().join(","),p=Lo.get(f);if(null==p){var h=function(e,t){R.util.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=Uo(e[0],t);n=a.sorted,r=a.recipientMap}else{var i=new Set;for(var o of e){var s=Uo(o,t),u=s.sorted,l=s.recipientMap;for(var c of u)i.has(c.name)||(n.push(c),i.add(c.name));var d=function(e){null==r[e]&&(r[e]=new Set),l[e].forEach((function(t){return r[e].add(t)}))};for(var f in l)d(f)}}return{sorted:n,recipientCounts:Vo(r)}}(o,t);p=h.sorted,d=h.recipientCounts,Lo.put(f,p),zo.put(f,d)}d={},a||Object.assign(d,zo.get(f));for(var m=new Mo(t),v=0;v<p.length;++v){if(null!=r){var g=(0,R.memory)().numTensors;g>r.maxNumTensors&&(r.maxNumTensors=g),g<r.minNumTensors&&(r.minNumTensors=g)}var y=p[v],b=y.sourceLayer;if(!(b instanceof $o)){var k=[],w=[],x=[],S=!1;for(var T of y.inputs){var E=m.getValue(T),C=m.getMask(T);k.push(E),w.push(C),null!=C&&(S=!0),a||(d[T.name]--,0!==d[T.name]||t.hasKey(T)||-1!==s.indexOf(T.name)||E.isDisposed||!0===T.sourceLayer.stateful||x.push(E))}S&&((n=n||{}).mask=w[0]);var N=Va(b.apply(k,n)),I=null;b.supportsMasking&&(I=b.computeMask(k,w));for(var _=Go(y),A=Array.isArray(_)?_:[_],O=0;O<A.length;++O){m.hasKey(A[O])||m.add(A[O],N[O],Array.isArray(I)?I[0]:I);var D=s.indexOf(A[O].name);-1!==D&&(u[D]=N[O])}a||(0,R.dispose)(x)}}return m.disposeMasks(),i?u:u[0]}function Vo(e){var t={};for(var n in e)t[n]=e[n].size;return t}function Uo(e,t){var n=new Set,r=[],a={};for(var i of t.names())n.add(i);var o=[],s=[];for(o.push(e);o.length>0;){var u=o[o.length-1];if(n.has(u.name))o.pop();else{var l=s[s.length-1]===o.length-1;if(0===u.inputs.length||l)o.pop(),r.push(u),n.add(u.name),l&&s.pop();else for(var c of(s.push(o.length-1),u.inputs))null==a[c.name]&&(a[c.name]=new Set),a[c.name].add(u.name),n.has(c.name)||o.push(c)}}return{sorted:r,recipientMap:a}}function Go(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r)for(var a of e.sourceLayer.inboundNodes[r].outputTensors)if(a.id===e.id){n=r;break}t=e.sourceLayer.getOutputAt(n)}return t}function Wo(e){var t=jo();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function jo(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jo=function(){return!!e})()}function qo(e,t){return(0,R.tidy)((function(){return R.sqrt(R.sum(R.mul(e,e),t,!0))}))}(0,R.env)().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(function(){return 100}),(function(e){null!=Lo&&Lo.setMaxEntries(e),null!=zo&&zo.setMaxEntries(e)}));var Ho=function(e){(0,Ea.default)(n,e);var t=Wo(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"getConfig",value:function(){return{}}}]),n}(R.serialization.Serializable),Ko=function(e){(0,Ea.default)(n,e);var t=Wo(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Sa.default)(n,[{key:"apply",value:function(e){var t=this;return(0,R.tidy)((function(){var n=qo(e,t.axis),r=R.clipByValue(n,0,t.maxValue);return R.mul(e,R.div(r,R.add(Ni(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(Ho);Ko.className="MaxNorm",R.serialization.registerClass(Ko);var Xo=function(e){(0,Ea.default)(n,e);var t=Wo(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Sa.default)(n,[{key:"apply",value:function(e){var t=this;return(0,R.tidy)((function(){return R.div(e,R.add(Ni(),qo(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(Ho);Xo.className="UnitNorm",R.serialization.registerClass(Xo);var Yo=function(e){(0,Ea.default)(n,e);var t=Wo(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return R.relu(e)}}]),n}(Ho);Yo.className="NonNeg",R.serialization.registerClass(Yo);var Zo=function(e){(0,Ea.default)(n,e);var t=Wo(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,Sa.default)(n,[{key:"apply",value:function(e){var t=this;return(0,R.tidy)((function(){var n=qo(e,t.axis),r=R.add(R.mul(t.rate,R.clipByValue(n,t.minValue,t.maxValue)),R.mul(1-t.rate,n));return R.mul(e,R.div(r,R.add(Ni(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(Ho);Zo.className="MinMaxNorm",R.serialization.registerClass(Zo);var Qo={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Jo(e){return ja(e)}function es(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ha(e,R.serialization.SerializationMap.getMap().classNameMap,t,"constraint")}function ts(e){return null==e?null:"string"===typeof e?es({className:e in Qo?Qo[e]:e,config:{}}):e instanceof Ho?e:es(e)}function ns(e){return new Ko(e)}function rs(e){return new Xo(e)}function as(){return new Yo}function is(e){return new Zo(e)}function os(){return new Xi}function ss(){return new Yi}function us(e){return new Zi(e)}function ls(e){return new Qi(e)}function cs(e){return new Ji(e)}function ds(e){return new eo(e)}function fs(e){return new to(e)}function ps(e){return new no(e)}function hs(e){return new ro(e)}function ms(e){return new ao(e)}function vs(e){return new io(e)}function gs(e){return new oo(e)}function ys(e){return new so(e)}function bs(e){return new uo(e)}function ks(e){return new lo(e)}var ws,xs=n(5861);function Ss(e){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,xs.default)((function*(e){if(null!=e){var t=[],n=[],r=[];for(var a in e){var i=e[a];if("number"!==typeof i){var o=i;t.push(o.data()),n.push(a),r.push(o)}}if(t.length>0){for(var s=yield Promise.all(t),u=0;u<s.length;++u)e[n[u]]=s[u][0];(0,R.dispose)(r)}}}))).apply(this,arguments)}function Es(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}function Cs(e){var t=Ns();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Ns(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ns=function(){return!!e})()}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(ws||(ws={}));var Is=function(){function e(){(0,xa.default)(this,e),this.validationData=null}return(0,Sa.default)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=(0,xs.default)((function*(e,t){}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,xs.default)((function*(e,t){}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,xs.default)((function*(e,t){}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,xs.default)((function*(e,t){}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,xs.default)((function*(e){}));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,xs.default)((function*(e){}));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),_s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,xa.default)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return(0,Sa.default)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){for(var t of this.callbacks)t.setParams(e)}},{key:"setModel",value:function(e){for(var t of this.callbacks)t.setModel(e)}},{key:"onEpochBegin",value:function(){var e=(0,xs.default)((function*(e,t){for(var n of(null==t&&(t={}),this.callbacks))yield n.onEpochBegin(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,xs.default)((function*(e,t){for(var n of(null==t&&(t={}),this.callbacks))yield n.onEpochEnd(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,xs.default)((function*(e,t){for(var n of(null==t&&(t={}),this.callbacks))yield n.onBatchBegin(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,xs.default)((function*(e,t){for(var n of(null==t&&(t={}),this.callbacks))yield n.onBatchEnd(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,xs.default)((function*(e){for(var t of(null==e&&(e={}),this.callbacks))yield t.onTrainBegin(e)}));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,xs.default)((function*(e){for(var t of(null==e&&(e={}),this.callbacks))yield t.onTrainEnd(e)}));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rs=function(e){(0,Ea.default)(n,e);var t=Cs(n);function n(){return(0,xa.default)(this,n),t.call(this)}return(0,Sa.default)(n,[{key:"onEpochBegin",value:function(){var e=(0,xs.default)((function*(e){this.seen=0,this.totals={}}));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,xs.default)((function*(e,t){var n=this;null==t&&(t={});var r=null==t.size?0:t.size;this.seen+=r;var a=function(e){var a=t[e];if("number"===typeof a)n.totals.hasOwnProperty(e)||(n.totals[e]=0),n.totals[e]=n.totals[e]+a*r;else{var i;e in n.totals?i=n.totals[e]:n.totals[e]=0;var o=(0,R.tidy)((function(){return(0,R.add)(n.totals[e],(0,R.mul)(a,r))}));n.totals[e]=o,null!=i&&i.dispose()}};for(var i in t)a(i)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,xs.default)((function*(e,t){var n=this;if(null!=t){var r=function(e){if(null==n.totals[e])return"continue";"number"===typeof n.totals[e]?t[e]=n.totals[e]/n.seen:(0,R.tidy)((function(){var r=(0,R.mul)((0,R.div)(1,n.seen),n.totals[e]);t[e]=r,n.totals[e].dispose(),(0,R.keep)(t[e])}))};for(var a of this.params.metrics)r(a)}}));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Is),As=function(e){(0,Ea.default)(n,e);var t=Cs(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"onTrainBegin",value:function(){var e=(0,xs.default)((function*(e){this.epoch=[],this.history={}}));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,xs.default)((function*(e,t){for(var n in null==t&&(t={}),this.epoch.push(e),t)null==this.history[n]&&(this.history[n]=[]),this.history[n].push(t[n])}));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=(0,xs.default)((function*(){var e=[],t=[],n=[];for(var r in this.history)for(var a=this.history[r],i=0;i<a.length;++i)if("number"!==typeof a[i]){var o=a[i];e.push(o.data()),t.push(r),n.push(i)}for(var s=yield Promise.all(e),u=0;u<s.length;++u){this.history[t[u]][n[u]].dispose(),this.history[t[u]][n[u]]=s[u][0]}}));return function(){return e.apply(this,arguments)}}()}]),n}(Is),Os=function(e){(0,Ea.default)(n,e);var t=Cs(n);function n(e,r){var a;if((0,xa.default)(this,n),(a=t.call(this)).currentEpoch=0,a.nowFunc=e.nowFunc,a.nextFrameFunc=e.nextFrameFunc||R.nextFrame,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return R.util.isNumber(a.yieldEvery)&&(a.maybeWait=function(e,t,n){var r,a=null!=n?n():R.util.now();return function(){var i=null!=n?n():R.util.now();return i-a<t?r:(a=i,r=e.apply(void 0,arguments))}}(a.maybeWait.bind((0,Ta.default)(a)),a.yieldEvery,a.nowFunc)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,a}return(0,Sa.default)(n,[{key:"maybeWait",value:function(){var e=(0,xs.default)((function*(e,t,n){var r=[];null!=this.yield&&(yield Ss(n),r.push(this.yield(e,t,n))),r.push(this.nextFrameFunc()),yield Promise.all(r)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=(0,xs.default)((function*(e,t){this.currentEpoch=e,null!=this.epochBegin&&(yield Ss(t),yield this.epochBegin(e,t))}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,xs.default)((function*(e,t){var n=[];null!=this.epochEnd&&(yield Ss(t),n.push(this.epochEnd(e,t))),"epoch"===this.yieldEvery&&n.push(this.nextFrameFunc()),yield Promise.all(n)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,xs.default)((function*(e,t){null!=this.batchBegin&&(yield Ss(t),yield this.batchBegin(e,t))}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,xs.default)((function*(e,t){var n=[];null!=this.batchEnd&&(yield Ss(t),n.push(this.batchEnd(e,t))),"batch"===this.yieldEvery?n.push(this.nextFrameFunc()):R.util.isNumber(this.yieldEvery)&&n.push(this.maybeWait(this.currentEpoch,e,t)),yield Promise.all(n)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,xs.default)((function*(e){null!=this.trainBegin&&(yield Ss(e),yield this.trainBegin(e))}));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,xs.default)((function*(e){null!=this.trainEnd&&(yield Ss(e),yield this.trainEnd(e))}));return function(t){return e.apply(this,arguments)}}()}]),n}(Is);function Ds(e,t){return null==e&&(e={}),e instanceof Is?[e]:Array.isArray(e)&&e[0]instanceof Is?e:Va(e).map((function(e){return new Os(e,t)}))}var Fs=function(){function e(){(0,xa.default)(this,e)}return(0,Sa.default)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){R.util.assert(t>=0&&Number.isInteger(t),(function(){return`Verbosity level is expected to be an integer >= 0, but got ${t}`})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new Da("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,(0,vr.default)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}();function $s(e,t,n,r,a,i,o,s,u){var l=new As,c=[new Rs].concat((0,vr.default)(Fs.createCallbacks(t)));null!=e&&c.push.apply(c,(0,vr.default)(e)),c.push(l);var d=new _s(c);return d.setParams({epochs:n,initialEpoch:r,samples:a,steps:i,batchSize:o,verbose:t,doValidation:s,metrics:u}),{callbackList:d,history:l}}Fs.constructors={};var Ps=n(1752);function Ms(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ha(e,R.serialization.SerializationMap.getMap().classNameMap,t,"layer",n)}function Ls(e,t){return(0,R.tidy)((function(){"float32"!==e.dtype&&(e=R.cast(e,"float32"));var n=R.sum(zi(e),t,!0),r=R.fill(n.shape,Ni()),a=R.sqrt(R.maximum(n,r));return R.div(e,a)}))}function zs(e,t){return(0,R.tidy)((function(){return R.mean(zi(R.sub(t,e)),-1)}))}function Bs(e,t){return(0,R.tidy)((function(){return R.mean(R.abs(R.sub(t,e)),-1)}))}function Vs(e,t){return(0,R.tidy)((function(){var n=R.sub(e,t),r=R.clipByValue(R.abs(e),Ni(),Number.MAX_VALUE),a=R.abs(R.div(n,r));return R.mul(100,R.mean(a,-1))}))}function Us(e,t){return(0,R.tidy)((function(){var n=R.clipByValue(t,Ni(),Number.MAX_VALUE),r=R.log(R.add(1,n)),a=R.clipByValue(e,Ni(),Number.MAX_VALUE),i=R.log(R.add(1,a));return R.mean(zi(R.sub(r,i)),-1)}))}function Gs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,R.tidy)((function(){if(n)t=R.softmax(t);else{var r=R.sum(t,t.shape.length-1,!0);t=R.div(t,r)}return t=R.clipByValue(t,Ni(),1-Ni()),R.neg(R.sum(R.mul(R.cast(e,"float32"),R.log(t)),t.shape.length-1))}))}function Ws(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,R.tidy)((function(){var r=R.cast(R.floor(function(e){var t=[Si(e.shape)];return R.reshape(e,t)}(e)),"int32"),a=(t=R.clipByValue(t,Ni(),1-Ni())).shape;return Gs(R.reshape(R.oneHot(r,a[a.length-1]),a),t,n)}))}function js(e,t){return(0,R.tidy)((function(){var n;return n=R.clipByValue(t,Ni(),1-Ni()),n=R.log(R.div(n,R.sub(1,n))),R.mean(function(e,t){if(!R.util.arraysEqual(e.shape,t.shape))throw new Da(`logits and labels must have the same shape, but got shapes ${JSON.stringify(e.shape)} and ${JSON.stringify(t.shape)}`);return(0,R.tidy)((function(){var n=R.relu(t),r=R.neg(R.abs(t));return R.add(R.sub(n,R.mul(t,e)),R.log1p(R.exp(r)))}))}(e,n),-1)}))}function qs(e,t){return(0,R.tidy)((function(){var n=R.clipByValue(e,Ni(),1),r=R.clipByValue(t,Ni(),1);return R.sum(R.mul(e,R.log(R.div(n,r))),-1)}))}function Hs(e,t){return(0,R.tidy)((function(){var n=Ls(e,-1),r=Ls(t,-1),a=R.mul(n,r);return R.neg(R.sum(a,-1))}))}var Ks={meanSquaredError:zs,meanAbsoluteError:Bs,meanAbsolutePercentageError:Vs,meanSquaredLogarithmicError:Us,squaredHinge:function(e,t){return(0,R.tidy)((function(){var n=R.maximum(0,R.sub(1,R.mul(e,t)));return R.mean(zi(n),-1)}))},hinge:function(e,t){return(0,R.tidy)((function(){var n=R.maximum(0,R.sub(1,R.mul(e,t)));return R.mean(n,-1)}))},categoricalHinge:function(e,t){return(0,R.tidy)((function(){var n=R.sum(R.mul(e,t),-1),r=R.max(R.mul(R.sub(1,e),t),-1);return R.maximum(0,R.add(1,R.sub(r,n)))}))},logcosh:function(e,t){return(0,R.tidy)((function(){var n=Math.log(2),r=R.sub(t,e),a=R.sub(R.add(r,R.softplus(R.mul(-2,r))),n);return R.mean(a,-1)}))},categoricalCrossentropy:Gs,sparseCategoricalCrossentropy:Ws,binaryCrossentropy:js,kullbackLeiblerDivergence:qs,poisson:function(e,t){return(0,R.tidy)((function(){var n=R.log(R.add(Ni(),t));return R.mean(R.sub(t,R.mul(e,n)),-1)}))},cosineProximity:Hs};function Xs(e){if("string"===typeof e){if(e in Ks)return Ks[e];var t=`Unknown loss ${e}`;throw e.toLowerCase().includes("softmaxcrossentropy")&&(t=`Unknown loss ${e}. Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy`),new Da(t)}return e}function Ys(e,t){return(0,R.tidy)((function(){var n=R.mul(.5,R.onesLike(t)),r=Ii(R.greater(t,n),e.dtype);return R.mean(R.equal(e,r),-1)}))}function Zs(e,t){return(0,R.tidy)((function(){return Ii(R.equal(R.argMax(e,-1),R.argMax(t,-1)),"float32")}))}function Qs(e,t){return(0,R.tidy)((function(){return R.cast(R.sum(R.logicalAnd(R.equal(e,1),R.equal(t,1))),"float32")}))}function Js(e,t){return(0,R.tidy)((function(){var n=Qs(e,t),r=function(e,t){return(0,R.tidy)((function(){return R.cast(R.sum(R.logicalAnd(R.equal(e,0),R.equal(t,1))),"float32")}))}(e,t),a=R.add(n,r);return R.cast(R.where(R.greater(a,0),R.div(n,a),0),"float32")}))}function eu(e,t){return(0,R.tidy)((function(){var n=Qs(e,t),r=function(e,t){return(0,R.tidy)((function(){return R.cast(R.sum(R.logicalAnd(R.equal(e,1),R.equal(t,0))),"float32")}))}(e,t),a=R.add(n,r);return R.cast(R.where(R.greater(a,0),R.div(n,a),0),"float32")}))}function tu(e,t){return js(e,t)}function nu(e,t){return e.rank===t.rank&&(e=R.squeeze(e,[e.rank-1])),(t=R.argMax(t,-1)).dtype!==e.dtype&&(t=R.cast(t,e.dtype)),R.cast(R.equal(e,t),"float32")}var ru=Gs,au=Ws,iu={binaryAccuracy:Ys,categoricalAccuracy:Zs,precision:Js,categoricalCrossentropy:ru,sparseCategoricalCrossentropy:au,mse:zs,MSE:zs,mae:Bs,MAE:Bs,mape:Vs,MAPE:Vs,cosine:Hs};function ou(e){if("string"===typeof e&&e in iu)return iu[e];if("string"!==typeof e&&null!=e)return e;throw new Da(`Unknown metric ${e}`)}function su(e){if(La(null!==e,`Unknown LossOrMetricFn ${e}`),"string"===typeof e)return e;var t;for(var n of Object.keys(Ks))if(Ks[n]===e){t=n;break}if(void 0!==t)return t;for(var r of Object.keys(iu))if(iu[r]===e){t=r;break}return void 0!==t?t:e.name}var uu=1048576;function lu(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!cu(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>uu&&console.warn(`User-defined metadata of model "${t}" is too large in size (length=${r.length} when serialized). It is not recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= 1048576.`)}}function cu(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){var t=Object.keys(e);for(var n of t){if("string"!==typeof n)return!1;if(!cu(e[n]))return!1}return!0}if(Array.isArray(e)){for(var r of e)if(!cu(r))return!1;return!0}return!1}var a=typeof e;return"string"===a||"number"===a||"boolean"===a}function du(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,i=function(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var i of n){if(i.length>1||1===i.length&&i[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,(0,vr.default)(i))}if(t)for(var o of e.layers){var s=!1;for(var u of o.inboundNodes)if(-1!==r.indexOf(u)){if(s){t=!1;break}s=!0}if(!t)break}return t}(e),o=["Layer (type)","Input Shape","Output shape","Param #"];if(i?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!i)for(var s in o.push("Receives inputs"),r=[],e.nodesByDepth){var u;(u=r).push.apply(u,(0,vr.default)(e.nodesByDepth[s]))}a("_".repeat(t)),fu(o,n,a),a("=".repeat(t));for(var l=e.layers,c=0;c<l.length;++c)i?pu(l[c],n,a):hu(l[c],n,r,a),a((c===l.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var d=function(e){var t;t=null!=e.collectedTrainableWeights?bo(e.collectedTrainableWeights):bo(e.trainableWeights);return t}(e),f=bo(e.nonTrainableWeights);a(`Total params: ${d+f}`),a(`Trainable params: ${d}`),a(`Non-trainable params: ${f}`),a("_".repeat(t))}function fu(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function pu(e,t,n){var r,a;try{a=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(i){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(i){r="multiple"}fu([`${e.name} (${e.getClassName()})`,a,r,e.countParams().toString()],t,n)}function hu(e,t,n,r){var a,i;try{i=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(v){i="multiple"}try{a=JSON.stringify(e.outputShape)}catch(v){a="multiple"}var o=[];for(var s of e.inboundNodes)if(!(null!=n&&n.length>0&&-1===n.indexOf(s)))for(var u=0;u<s.inboundLayers.length;++u){var l=s.inboundLayers[u].name,c=s.nodeIndices[u],d=s.tensorIndices[u];o.push(`${l}[${c}][${d}]`)}var f=e.name,p=e.getClassName(),h=0===o.length?"":o[0];fu([`${f} (${p})`,i,a,e.countParams().toString(),h],t,r);for(var m=1;m<o.length;++m)fu(["","","","",o[m]],t,r)}function mu(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function vu(e,t){if(null===e)return null;if("string"===typeof e)return Ga(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];mu(t,a,i)?n.push(i):n.push(vu(i,t))}return n}var o={};for(var s of Object.keys(e)){var u=e[s];if("name"===s&&"string"===typeof u)o[s]=u;else{var l=Ga(s);o[l]=vu(u,l)}}return o}function gu(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return Ua(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var i=e[a];mu(t,a,i)?n.push(i):n.push(gu(i,t))}return n}var o={};for(var s of Object.keys(e)){var u=e[s],l=Ua(s);o[l]="name"!==s&&"className"!==s||"string"!==typeof u?gu(u,s):u}return o}var yu="3.20.0";function bu(e){var t=ku();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function ku(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ku=function(){return!!e})()}var wu=function(e){(0,Ea.default)(n,e);var t=bu(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=ii(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],Xa(r.inputs).length!==r.inputs.length)throw new Da(`The list of inputs passed to the model is redundant. All inputs should only appear once. Found: ${r.inputs.map((function(e){return e.name}))}`);for(var i of(Xa(r.outputs).length!==r.outputs.length&&console.warn(`The list of outputs passed to the model is redundant. All outputs should only appear once. Found: ${r.outputs.map((function(e){return e.name}))}`),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[],r.outputs)){var o=i.sourceLayer,s=i.nodeIndex,u=i.tensorIndex;r.outputLayers.push(o),r.outputLayersNodeIndices.push(s),r.outputLayersTensorIndices.push(u)}for(var l of r.inputs){var c=l.sourceLayer,d=l.nodeIndex,f=l.tensorIndex;La(0===d,"input layer has >1 nodes"),La(0===f,"input layer has >1 tensors"),r.inputLayers.push(c),r.inputLayersNodeIndices.push(d),r.inputLayersTensorIndices.push(f)}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var p=0;p<r.inputLayers.length;p++){var h=r.inputLayers[p];if(!(h instanceof $o))throw new TypeError(`Input layers to a LayersModel must be InputLayer objects. Received inputs: ${e.inputs}. Input ${p} (0-based) originates from layer type ${h.getClassName()}.`);r.inputNames.push(h.name),r.feedInputShapes.push(h.batchInputShape),r.feedInputNames.push(h.name)}for(var m of r.outputLayers)r.outputNames.push(m.name);r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var v={},g={},y={},b={},k={},w=[],x=function e(t,a,i,o,s,u){null!=o&&null!=s&&null!=u||(o=t.sourceLayer,s=t.nodeIndex,u=t.tensorIndex);var l=o.inboundNodes[s];if(-1!==i.indexOf(l))throw new Oa(`The tensor ${t.name} at layer "${o.name}" is part of a cycle.`);if(-1===a.indexOf(l)){r.containerNodes.add(n.nodeKey(o,s)),o.id in k||(k[o.id]=Object.keys(k).length),-1===i.indexOf(l)&&i.push(l);for(var c=l.inboundLayers.length,d=0;d<c;d++){e(l.inputTensors[d],a,i,l.inboundLayers[d],l.nodeIndices[d],l.tensorIndices[d])}for(a.push(l);i.indexOf(l)>=0;)i.splice(i.indexOf(l),1);w.push(l)}},S=[],T=[];for(var E of r.outputs)x(E,S,T);var C=w.slice().reverse();for(var N of C){g[N.id]=N,N.id in v||(v[N.id]=0);var I=v[N.id],_=null==y[N.outboundLayer.id]?0:y[N.outboundLayer.id];I=Math.max(I,_),y[N.outboundLayer.id]=I,b[N.outboundLayer.id]=N.outboundLayer,v[N.id]=I;for(var R=0;R<N.inboundLayers.length;R++){var A=N.inboundLayers[R],O=N.nodeIndices[R],D=A.inboundNodes[O],F=null==v[D.id]?0:v[D.id];v[D.id]=Math.max(I+1,F),g[D.id]=D}}var $={};for(var P in v){var M=v[P];M in $||($[M]=[]),$[M].push(g[P])}var L={};for(var z in y){var B=y[z];B in L||(L[B]=[]),L[B].push(b[z])}var V=Object.keys(L).map((function(e){return parseInt(e,10)})).sort(Ka);for(var U of(r.layers=[],V)){var G=L[U];for(var W of(G.sort((function(e,t){var n=k[e.id],r=k[t.id];return n<r?-1:n>r?1:0})),G))W instanceof n&&r.internalContainerRefs.push(W),r.layers.push(W)}r.layersByDepth=L,V=Object.keys($).map((function(e){return parseInt(e,10)})).sort(Ka);var j=r.inputs.slice(),q=[];for(var H of V)for(var K of $[H]){var X=K.outboundLayer;if(null!=X){for(var Y of K.inputTensors)if(-1===j.indexOf(Y))throw new Oa(`Graph disconnected: cannot obtain value for tensor ${Y} at layer "${X.name}". The following previous layers were accessed without issue: ${q}`);for(var Z of K.outputTensors)j.push(Z);q.push(X.name)}}r.nodesByDepth=$;var Q=r.layers.map((function(e){return e.name})),J=function(e){var t=Q.filter((function(t){return t===e})).length;if(1!==t)throw new Oa(`The name "${e}" is used ${t} times in the model. All layer names should be unique. Layer names: `+JSON.stringify(Q))};for(var ee of Q)J(ee);return r.outboundNodes=[],r.inboundNodes=[],new _o({outboundLayer:(0,Ta.default)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return(0,Sa.default)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error(`Container '${this.name}' is already disposed.`)}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){for(var t of this.layers)e.numDisposedVariables+=t.dispose().numDisposedVariables;for(var n of this.internalContainerRefs)e.numDisposedVariables+=n.dispose().numDisposedVariables}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new Da("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e=[];for(var t of this.layers)e=e.concat(t.trainableWeights);return e}},{key:"nonTrainableWeights",get:function(){var e=[];for(var t of this.layers)e.push.apply(e,(0,vr.default)(t.nonTrainableWeights));if(!this.trainable){var n=[];for(var r of this.layers)n.push.apply(n,(0,vr.default)(r.trainableWeights));return n.concat(e)}return e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={},r=0;for(var a of this.layers)for(var i of a.weights){if(null!=n[i.originalName])throw new Da(`Duplicate weight name: ${i.originalName}`);n[i.originalName]=i,r++}var o=[];for(var s in e){var u=s;if(null==n[s]){var l=s.split("/");u=l.slice(0,-2).concat([l[l.length-1]]).join("/")}if(null!=n[u])o.push([n[u],e[s]]);else if(t)throw new Da(`Provided weight data has no target variable: ${s}`);delete n[u]}if(t){var c=[];for(var d in n)c.push(d);if(c.length>0)throw new Da(`${c.length} of ${r} weights are not set: ${c}`)}So(o)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion=`tfjs-layers ${yu}`,t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=gu(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){e=Va(e);for(var r=new Mo,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return Bo(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return(0,R.tidy)((function(){var r;return e=Va(e),r=null==t?Ma(null,e.length):Va(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=vo(e);if(t.length!==this.inputLayers.length)throw new Da(`Invalid inputShape argument ${e}: model has ${this.inputLayers.length} tensor inputs.`);for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],i=t[r];n[a.name+"_0_0"]=i}var o=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Ka);if(o.length>1)for(var s of o){var u=this.nodesByDepth[s];for(var l of u){var c=l.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(c.id)){for(var d=[],f=0;f<l.inboundLayers.length;f++){var p=l.inboundLayers[f],h=l.nodeIndices[f],m=l.tensorIndices[f],v=n[`${p.name}_${h}_${m}`];d.push(v)}for(var g=vo(c.computeOutputShape(Ba(d))),y=c.inboundNodes.indexOf(l),b=0;b<g.length;b++){n[`${c.name}_${y}_${b}`]=g[b]}}}}for(var k=[],w=[],x=0;x<this.outputLayers.length;x++){var S=this.outputLayers[x],T=this.outputLayersNodeIndices[x],E=this.outputLayersTensorIndices[x],C=`${S.name}_${T}_${E}`;w.push(C)}for(var N=0;N<w.length;N++){var I=w[N];La(I in n),k.push(n[I])}return Ba(k)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=Ma(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],i=e[r],o=t[r];n[a.id]=[i,o]}var s=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Ka);for(var u of s){var l=this.nodesByDepth[u];for(var c of l){var d=c.outboundLayer,f=c.inputTensors,p=c.outputTensors,h=new Array;for(var m of f)m.id in n&&h.push(n[m.id]);if(h.length===f.length){var v={},g=void 0,y=void 0,b=void 0,k=void 0;if(null!=c.callArgs&&(v=c.callArgs),1===h.length){var w=(0,A.default)(h[0],2),x=w[0],S=w[1];null==v.mask&&(v.mask=S),b=Va(d.call(x,v)),k=Va(d.computeMask(x,S)),g=[x],y=[S]}else g=h.map((function(e){return e[0]})),y=h.map((function(e){return e[1]})),null==v.mask&&(v.mask=y),b=Va(d.call(g,v)),k=Va(d.computeMask(g,y));if(d.activityRegularizer)throw new Fa("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var T=0;T<p.length;++T){var E=p[T],C=b[T],N=k[T];n[E.id]=[C,N]}}}}var I=[],_=[],R=[];for(var O of this.outputs){La(O.id in n,`Could not compute output ${O.name} : ${O.id}`);var D=(0,A.default)(n[O.id],2),F=D[0],$=D[1];R.push(F.shape),I.push(F),_.push($)}return[I,_,R]}},{key:"buildNodeConversionMap",value:function(e){var t,r={};for(var a of this.layers){t=a instanceof n?1:0;for(var i=0;i<a.inboundNodes.length;i++){var o=n.nodeKey(a,i);this.containerNodes.has(o)&&(r[o]=t,t+=1)}}return r}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new Da(`Was asked to retrieve layer at index ${t}, but model only has ${this.layers.length} layer(s).`);return this.layers[t]}if(null==e)throw new Da("Provide either a layer name or layer index");for(var n of this.layers)if(n.name===e)return n;throw new Da(`No such layer: ${e}`)}},{key:"calculateLosses",value:function(){var e=this;return(0,R.tidy)((function(){var t=[];for(var r of e.layers)for(var a=0;a<r.inboundNodes.length;++a){var i=n.nodeKey(r,a);e.containerNodes.has(i)&&t.push.apply(t,(0,vr.default)(r.calculateLosses()))}return t}))}},{key:"getConfig",value:function(){var e={name:this.name},t=this.buildNodeConversionMap(this.layers),r=[];for(var a of this.layers){for(var i=a.getClassName(),o=a.getConfig(),s=[],u=0;u<a.inboundNodes.length;u++){var l=a.inboundNodes[u],c=n.nodeKey(a,u),d={};if(this.containerNodes.has(c)){if(l.callArgs)try{JSON.stringify(l.callArgs),d=l.callArgs}catch(D){console.warn(`Layer ${a.name} was passed non-serializable keyword arguments: ${l.callArgs}. They will not be included in the serialized model (and thus will be missing at deserialization time).`),d={}}if(l.inboundLayers.length>0){for(var f=[],p=0;p<l.inboundLayers.length;p++){var h=l.inboundLayers[p],m=l.nodeIndices[p],v=l.tensorIndices[p],g=t[n.nodeKey(h,m)];null==g&&(g=0),f.push([h.name,g,v,d])}s.push(f)}}}var y={};y.name=a.name,y.className=i,y.config=o,y.inboundNodes=s,r.push(y)}e.layers=r;for(var b=[],k=0;k<this.inputLayers.length;k++){var w=this.inputLayers[k],x=this.inputLayersNodeIndices[k],S=n.nodeKey(w,x);if(this.containerNodes.has(S)){var T=t[S];null!==T&&void 0!==T||(T=0);var E=this.inputLayersTensorIndices[k];b.push([w.name,T,E])}}e.inputLayers=b;for(var C=[],N=0;N<this.outputLayers.length;N++){var I=this.outputLayers[N],_=this.outputLayersNodeIndices[N],R=n.nodeKey(I,_);if(this.containerNodes.has(R)){var A=t[R];null!==A&&void 0!==A||(A=0);var O=this.outputLayersTensorIndices[N];C.push([I.name,A,O])}}return e.outputLayers=C,e}},{key:"stateful",get:function(){if(this._stateful)throw new Da("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");for(var e of this.layers)if(e.stateful)return!0;return!1}},{key:"resetStates",value:function(){var e=this;(0,R.tidy)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function i(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function o(e,t){var n,a=[];for(var o of t){var s=o[0],u=o[1],l=o[2];if(n=null==o[3]?{}:o[3],!(s in r))return void i(e,t);var c=r[s];if(c.inboundNodes.length<=u)return void i(e,t);var d=c.inboundNodes[u];a.push(d.outputTensors[l])}a.length>0&&e.apply(Ba(a),n)}function s(e){var a=e.name,o=Ms(e,null!=t.customObjects?t.customObjects:{});o.setFastWeightInitDuringBuild(n),r[a]=o,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new Da(`Corrupted configuration, expected array for nodeData: ${e}`);i(o,e)}))}var u=t.name,l=t.layers;for(var c of l)s(c);for(;!Ya(a);)for(var d of l){var f=r[d.name];if(f.name in a){var p=a[f.name];for(var h of(delete a[f.name],p))o(f,h)}}var m=[],v=[],g=t.inputLayers;for(var y of g){var b=y[0],k=y[1],w=y[2];La(b in r);var x=r[b].inboundNodes[k].outputTensors;m.push(x[w])}var S=t.outputLayers;for(var T of S){var E=T[0],C=T[1],N=T[2];La(E in r);var I=r[E].inboundNodes[C].outputTensors;v.push(I[N])}return new e({inputs:m,outputs:v,name:u})}}]),n}(Ao);function xu(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error(`Provided ${n} is an array of ${e.length} element(s), but the model has ${r} outputs. Make sure a set of weights is provided for each model output.`);return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error(`The model has multiple (${r}) outputs, so ${n} must be either an array with ${r} elements or an object with ${t} keys. Provided ${n} not understood: ${JSON.stringify(e)}`)}function Su(e,t){return xu(e,t,"classWeight")}function Tu(e,t,n,r){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,xs.default)((function*(e,t,n,r){if(null!=t||null!=r)throw new Error("Support sampleWeight is not implemented yet");if(null!=n){var a=(0,R.tidy)((function(){if(1===e.shape.length)return(0,R.clone)(e);if(2===e.shape.length){if(e.shape[1]>1){return(0,R.argMax)(e,1)}if(1===e.shape[1])return(0,R.reshape)(e,[e.shape[0]]);throw new Error(`Encountered unexpected last-dimension size (${e.shape[1]}) during handling of class weights. The size is expected to be >= 1.`)}throw new Error(`Unexpected rank of target (y) tensor (${e.rank}) during handling of class weights. The rank is expected to be 1 or 2.`)})),i=Array.from(yield a.data());(0,R.dispose)(a);var o=[];return i.forEach((function(e){if(null==n[e])throw new Error(`classWeight must contain all classes in the training data. The class ${e} exists in the data but not in classWeight`);o.push(n[e])})),(0,R.tensor1d)(o,"float32")}return null}))).apply(this,arguments)}function Cu(e,t){return(0,R.mul)(e,t)}var Nu=32;function Iu(e,t){var n,r,a=t;n=a.xs,r=a.ys,R.util.assert(null!=n&&null!=r,(function(){return`A Dataset iterator for fitDataset() is expected to generate objects of the form \`{xs: xVal, ys: yVal}\`, where the two values may be \`tf.Tensor\`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates ${t}`}));var i=_u("input",e.inputNames,n),o=_u("output",e.outputNames,r),s=i[0].shape[0];R.util.assert(i.length===e.inputs.length,(function(){return`LayersModel has ${e.inputs.length} inputs, but the dataset provides ${i.length} inputs.  (Expected input keys: ${JSON.stringify(e.inputNames)})`})),R.util.assert(o.length===e.outputs.length,(function(){return`LayersModel has ${e.outputs.length} outputs, but the dataset provides ${o.length} outputs.  (Expected output keys: ${JSON.stringify(e.outputNames)})`}));for(var u=function(t){R.util.assert(i[t].shape[0]===s,(function(){return`Batch size mismatch: input ${e.inputNames[t]} has ${i[t].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`}))},l=0;l<i.length;l++)u(l);for(var c=function(t){R.util.assert(o[t].shape[0]===s,(function(){return`Batch size mismatch: output ${e.outputNames[t]} has ${o[t].shape[0]}; expected  ${s} based on input ${e.inputNames[0]}.`}))},d=0;d<o.length;d++)c(d);return{xs:i,ys:o}}function _u(e,t,n){if(n instanceof R.Tensor)return[n];if(Array.isArray(n))return R.util.assert(n.length===t.length,(function(){return`Received an array of ${n.length} Tensors, but expected ${t.length} to match the ${e} keys ${t}.`})),n;var r=[];for(var a of t){if(null==n[a])throw new Da(`The feature data generated by the dataset lacks the required ${e} key '${a}'.`);r.push(n[a])}return r}function Ru(){return Ru=(0,xs.default)((function*(e,t,n){var r=null!=n.batchesPerEpoch;if(R.util.assert(null!=e.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),R.util.assert(null!=n,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),R.util.assert(null!=n.epochs&&n.epochs>0&&Number.isInteger(n.epochs),(function(){return`For fitDataset(), config.epochs is expected to be a positive integer, but got ${n.epochs}`})),R.util.assert(!r||n.batchesPerEpoch>0&&Number.isInteger(n.batchesPerEpoch),(function(){return`For fitDataset(), config.batchesPerEpoch is expected to be a positive integer if specified, but got ${n.batchesPerEpoch}`})),R.util.assert(null==n.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{var a,i,o=null!=n.validationData;if(o)if(Au(n.validationData))R.util.assert(null==n.validationBatches||n.validationBatches>0&&Number.isInteger(n.validationBatches),(function(){return`For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, but got ${n.validationBatches}`}));else{var s=function(e){if(3===e.length)throw new Fa("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}(n.validationData);a=s.xs,i=s.ys}var u,l=e.makeTrainFunction(),c=e.getDedupedMetricsNames();u=o?c.slice().concat(c.map((function(e){return"val_"+e}))):c.slice();var d=$s(Ds(n.callbacks,n.yieldEvery),null==n.verbose?1:n.verbose,n.epochs,null,null,function(e,t){var n=null;null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size);return n}(t,n),null,o,u),f=d.callbackList,p=d.history;f.setModel(e),e.history=p,yield f.onTrainBegin(),e.stopTraining_=!1;for(var h=null==n.initialEpoch?0:n.initialEpoch,m=yield t.iterator();h<n.epochs;){var v={};yield f.onEpochBegin(h);var g=0,y=0;for(r||(m=yield t.iterator());!r||g<n.batchesPerEpoch;){var b=yield m.next();if(r&&b.done){console.warn(`You provided \`batchesPerEpoch\` as ${n.batchesPerEpoch}, but your dataset iterator ran out of data after ${g} batches; interrupting training. Make sure that your dataset can generate at least \`batchesPerEpoch * epochs\` batches (in this case, `+n.batchesPerEpoch*n.epochs+" batches). You may need to use the repeat() function when building your dataset.");break}if(null!=b.value){var k=Iu(e,b.value),w=k.xs,x=k.ys,S={};S.batch=y,S.size=w[0].shape[0],yield f.onBatchBegin(y,S);var T=[];if(null!=n.classWeight)for(var E=Su(n.classWeight,e.outputNames),C=0;C<E.length;++C)T.push(yield Tu(x[C],null,E[C]));var N=w.concat(x).concat(T),I=l(N);R.dispose(N);for(var _=0;_<c.length;++_){var A=c[_],O=I[_];S[A]=O,R.keep(O)}yield f.onBatchEnd(y,S),Es(S),y++,g++}if(r?g>=n.batchesPerEpoch:b.done){if(o){var D=void 0;D=Au(n.validationData)?Va(yield e.evaluateDataset(n.validationData,{batches:n.validationBatches})):Va(e.evaluate(a,i,{batchSize:null==n.validationBatchSize?Nu:n.validationBatchSize,verbose:0}));for(var F=0;F<e.metricsNames.length;++F)v[`val_${e.metricsNames[F]}`]=D[F]}break}if(e.stopTraining_)break}if(yield f.onEpochEnd(h,v),h++,e.stopTraining_)break}return yield f.onTrainEnd(),yield e.history.syncData(),e.history}finally{e.isTraining=!1}})),Ru.apply(this,arguments)}function Au(e){return"function"===typeof e.iterator}function Ou(){return Ou=(0,xs.default)((function*(e,t,n){var r=null!=(n=n||{}).batches,a=e.testFunction,i=[];if(n.verbose>0)throw new Fa("Verbose mode is not implemented yet.");R.util.assert(!r||n.batches>0&&Number.isInteger(n.batches),(function(){return`Test loop expects \`batches\` to be a positive integer, but received ${JSON.stringify(n.batches)}`}));for(var o="function"===typeof t.next?t:yield t.iterator(),s=0,u=0,l=function*(){var t=yield o.next();if(i=R.tidy((function(){return t.value&&function(){var n=Iu(e,t.value),r=n.xs,o=n.ys,l=r.concat(o),c=R.tidy((function(){return a(l)}));if(R.dispose(l),0===u)for(var d=0;d<c.length;++d)i.push((0,R.scalar)(0));for(var f=l[0].shape[0],p=function(e){var t=c[e],n=i[e];i[e]=R.tidy((function(){return R.add(i[e],R.mul(f,t))})),u>0&&R.dispose(n)},h=0;h<c.length;++h)p(h);R.dispose(c),s+=f,++u}(),i})),t.done)return r&&console.warn(`Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least \`batches\` batches (in this case, ${n.batches} batches). You may need to use the repeat() function when building your dataset.`),"break"};!r||u<n.batches;){if("break"===(yield*l()))break}for(var c=0;c<i.length;++c){var d=i[c];i[c]=R.div(i[c],s),R.dispose(d)}return Ba(i)})),Ou.apply(this,arguments)}function Du(e){R.util.assert(e>0&&Number.isInteger(e),(function(){return`batchSize is required to be a positive integer, but got ${e}`}))}function Fu(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return Ri(e,t,n-t)})):Ri(e,t,n-t)}function $u(e,t){return R.tidy((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return $u(e,t)})):Li(e,"int32"===t.dtype?t:R.cast(t,"int32"))}))}function Pu(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function Mu(){return Mu=(0,xs.default)((function*(e,t,n,r,a,i,o,s,u,l,c,d,f,p,h){null==a&&(a=32),null==i&&(i=1),null==c&&(c=!0),null==f&&(f=0);var m=!1;if(null!=u&&null!=l&&(m=!0),null!=h&&(m=!0,null==p))throw new Da("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");var v,g=e.checkNumSamples(n,a,p,"steps_per_epoch");null!=g&&(v=Ci(0,g)),null==o&&(o=1);var y=$s(s,o,i,f,g,p,a,m,d),b=y.callbackList,k=y.history;b.setModel(e),e.history=k,yield b.onTrainBegin(),e.stopTraining_=!1;for(var w=function*(i){yield b.onEpochBegin(i);var o={};if(null!=p)throw new Fa("stepsPerEpoch mode is not implemented yet.");if(yield*function*(){if("batch"===c)throw new Fa("batch shuffling is not implemneted yet");c&&R.util.shuffle(v);for(var i=(0,R.tensor1d)(v),s=Pu(g,a),d=function*(c){var d={};if(yield b.onBatchBegin(c,d),R.tidy((function(){var f=s[c][0],p=s[c][1],h=Ri(i,f,p-f);d.batch=c,d.size=p-f;for(var v=$u(n,h),g=t(v),y=0;y<r.length;++y){var b=r[y],k=g[y];d[b]=k,R.keep(k)}if(c===s.length-1&&m)for(var w=e.testLoop(u,l,a),x=0;x<r.length;++x){var S=r[x],T=w[x];R.keep(T),o["val_"+S]=T}})),yield b.onBatchEnd(c,d),Es(d),e.stopTraining_)return"break"},f=0;f<s.length;++f){if("break"===(yield*d(f)))break}i.dispose()}(),yield b.onEpochEnd(i,o),e.stopTraining_)return"break"},x=f;x<i;++x){if("break"===(yield*w(x)))break}return yield b.onTrainEnd(),yield e.history.syncData(),e.history})),Mu.apply(this,arguments)}function Lu(){return Lu=(0,xs.default)((function*(e,t,n){var r,a,i,o,s,u,l,c,d,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(e.isTraining)throw new Error("Cannot start training because another fit() call is ongoing.");e.isTraining=!0;try{var p=null==f.batchSize?32:f.batchSize;Du(p);var h=yield e.standardizeUserData(t,n,f.sampleWeight,f.classWeight,!1,p);r=h[0],a=h[1],d=h[2];var m,v=!1;if(null!=f.validationData&&f.validationData.length>0){if(v=!0,2!==f.validationData.length)throw 3===f.validationData.length?new Fa("validationData including sample weights is not supported yet."):new Da(`When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; ${f.validationData} is invalid.`);s=f.validationData[0],u=f.validationData[1];var g=yield e.standardizeUserData(s,u,null,null,!0,p);l=g[0],c=g[1],m=l.concat(c)}else if(null!=f.validationSplit&&f.validationSplit>0&&f.validationSplit<1){v=!0;var y=Math.floor(r[0].shape[0]*(1-f.validationSplit)),b=r[0].shape[0];l=Fu(r,y,b),i=r,r=Fu(r,0,y),c=Fu(a,y,b),o=a,a=Fu(a,0,y),m=l.concat(c)}else null!=f.validationSteps&&(v=!0);var k=r.concat(a).concat(d);e.checkTrainableWeightsConsistency();var w,x,S=e.makeTrainFunction(),T=e.getDedupedMetricsNames();v?(e.makeTestFunction(),w=e.testFunction,x=T.slice().concat(T.map((function(e){return"val_"+e})))):(w=null,m=[],x=T.slice());var E=Ds(f.callbacks,f.yieldEvery),C=yield function(e,t,n,r,a,i,o,s,u,l,c,d,f,p,h){return Mu.apply(this,arguments)}(e,S,k,T,p,f.epochs,f.verbose,E,w,m,f.shuffle,x,f.initialEpoch,null,null);return C}finally{e.isTraining=!1,Bu(r,t),Bu(a,n),Bu(i,t),Bu(o,n),Bu(l,s),Bu(c,u),null!=d&&R.dispose(d)}})),Lu.apply(this,arguments)}function zu(e){var t=[];e instanceof R.Tensor&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(_i(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function Bu(e,t){if(null!=e){var n=[];if(t instanceof R.Tensor)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var i=[];if(e instanceof R.Tensor)-1===n.indexOf(e.id)&&i.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&i.push(e)}));else if(null!=e)for(var o in e){var s=e[o];-1===n.indexOf(s.id)&&i.push(s)}i.forEach((function(e){e.isDisposed||e.dispose()}))}}function Vu(e){var t=Uu();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Uu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Uu=function(){return!!e})()}function Gu(e){return Array.isArray(e)}function Wu(e){return!function(e){return e instanceof R.Tensor}(e)&&!Gu(e)}function ju(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var o=!1;if(Gu(e)&&e.length>0)o=!0;else if(Wu(e)){for(var s in e)if(e.hasOwnProperty(s)){o=!0;break}}else o=!0;if(o)throw new Da(`Error when checking model ${i} expected no data, but got ${e}`)}return[]}if(null==e)return t.map((function(e){return null}));if(Wu(e))for(var u of(r=[],t)){if(null==e[u])throw new Da(`No data provided for "${u}". Need data for each key in: ${t}`);r.push(e[u])}else if(Gu(e)){if(e.length!==t.length)throw new Da(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the model expected. Expected to see ${t.length} Tensor(s), but instead got the following list of Tensor(s): ${e}`);r=e}else{if(t.length>1)throw new Da(`The model ${i} expects ${t.length} Tensor(s), but only received one Tensor. Found: Tensor with shape ${e.shape}`);r=[e]}if(r=zu(r),null!=n)for(var l=0;l<t.length;++l)if(null!=n[l]){var c=r[l];if(c.shape.length!==n[l].length)throw new Da(`Error when checking ${i}: expected ${t[l]} to have ${n[l].length} dimension(s). but got array with shape ${c.shape}`);for(var d=0;d<n[l].length;++d)if(0!==d||a){var f=c.shape[d],p=n[l][d];if(null!=p&&p>=0&&f!==p)throw new Da(`${i} expected a batch of elements where each example has shape [${n[l].slice(1,n[l].length)}] (i.e.,tensor shape [*,${n[l].slice(1,n[l].length)}]) but the ${i} received an input with ${c.shape[0]} examples, each with shape [${c.shape.slice(1,c.shape.length)}] (tensor shape [${c.shape}])`)}}return r}function qu(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new Da(`Error when checking model ${i}: the Array of Tensors that you are passing to your model is not the size the the model expected. Expected to see ${t.length} Tensor(s), but instead got ${e.length} Tensors(s).`);r=e}else{if(t.length>1)throw new Da(`The model expects ${t.length} ${i} Tensors, but only received one Tensor. Found: array with shape ${JSON.stringify(e.shape)}.`);r=[e]}if(null!=n)for(var o=0;o<t.length;++o)if(null!=n[o]){var s=r[o];if(s.shape.length!==n[o].length)throw new Da(`Error when checking ${i}: expected ${t[o]} to have ${n[o].length} dimension(s), but got array with shape ${JSON.stringify(s.shape)}`);for(var u=0;u<n[o].length;++u)if(0!==u||a){var l=s.shape[u],c=n[o][u];if(null!=c&&c!==l)throw new Da(`Error when checking ${i}: expected ${t[o]} to have shape ${JSON.stringify(n[o])} but got array with shape ${JSON.stringify(s.shape)}.`)}}}var Hu=function(e){(0,Ea.default)(n,e);var t=Vu(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).isTraining=!1,r}return(0,Sa.default)(n,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new Da("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");du(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return R.train.adagrad(.01)},Adadelta:function(){return R.train.adadelta(1,.95,Ni())},Adam:function(){return R.train.adam(.001,.9,.999,Ni())},Adamax:function(){return R.train.adamax(.002,.9,.999,Ni(),0)},RMSProp:function(){return R.train.rmsprop(.001,.9,0,Ni())},SGD:function(){return R.train.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new Da(`Unknown Optimizer ${e}`)}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof R.Optimizer))throw new Da("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new Da(`When passing an Array as loss, it should have one entry per model output. The model has ${this.outputs.length} output(s), but you passed loss=${e.loss}.`);var r=e.loss;n=r.map((function(e){return Xs(e)}))}else{var a=Xs(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var i in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(i))throw new Da(`Unknown entry in loss dictionary: "${i}". Only expected the following keys: ${this.outputNames}`);for(var o of this.outputNames)null==e.loss[o]&&console.warn(`Output "${o}" is missing from loss dictionary. We assume this was done on purpose, and we will not be expecting data to be passed to ${o} during training`),n.push(Xs(e.loss[o]))}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var s=0;s<this.outputs.length;++s){var u=this.internalOutputShapes[s],l=this.outputNames[s];this.feedOutputNames.push(l),this.feedOutputShapes.push(u),this.feedLossFns.push(this.lossFunctions[s])}var c=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],gi("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===c.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var d=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError(`Type of metrics argument not understood. Expected an string,function, Array, or Object, found: ${e}`);n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r=[];for(var a of t){var i=n.hasOwnProperty(a)?n[a]:[];Array.isArray(i)||(i=[i]),r.push(i)}return r}(e.metrics,this.outputNames),f=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};gi("metric",(function(){for(var e=function(e){if(-1!==c.indexOf(e))return"continue";!function(n){var r,a,i;for(var o of n){if("string"===typeof o&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(o)){var s=t.internalOutputShapes[e];1===s[s.length-1]||t.lossFunctions[e]===js?-1!==["accuracy","acc"].indexOf(o)?a=Ys:-1!==["crossentropy","ce"].indexOf(o)&&(a=tu):t.lossFunctions[e]===Ws?-1!==["accuracy","acc"].indexOf(o)?a=nu:-1!==["crossentropy","ce"].indexOf(o)&&(a=au):-1!==["accuracy","acc"].indexOf(o)?a=Zs:-1!==["crossentropy","ce"].indexOf(o)&&(a=ru);var u=void 0;-1!==["accuracy","acc"].indexOf(o)?u="acc":-1!==["crossentropy","ce"].indexOf(o)&&(u="ce"),i=a,r=""+u}else{var l=ou(o);i=l,r=""+su(o)}var c=void 0;gi(r,(function(){c=i})),f(e,r,c)}}(d[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;Du(r);var a=this.standardizeUserDataXY(e,t,!0,r);try{var i=a[0].concat(a[1]);this.makeTestFunction();var o=this.testFunction;return Ba(this.testLoop(o,i,r,n.verbose,n.steps))}finally{Bu(a[0],e),Bu(a[1],t)}}},{key:"evaluateDataset",value:function(){var e=(0,xs.default)((function*(e,t){return this.makeTestFunction(),function(e,t,n){return Ou.apply(this,arguments)}(this,e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new Da(`If ${a} is set, batchSize must be null or undefined.Got batchSize = ${t}`)}else{if(null==e)throw new Da(`Either the input data should have a defined shape, or ${a} shoud be specified.`);r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new Da("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),i=new Mo;if(e instanceof R.Tensor&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new Da(`The number of inputs provided (${e.length}) does not match the number of inputs of this model (${this.inputs.length}).`);for(var o=0;o<this.inputs.length;++o)i.add(this.inputs[o],e[o])}else for(var s of this.inputs){var u=e[s.name];if(null==u)throw new Da(`No value is provided for the model's input ${s.name}`);i.add(s,u)}var l=Bo(a,i);return n?l:l[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t=Ma(null,e.length),n=e.length;for(var r of this.layers){for(var a=Array.isArray(r.output)?r.output:[r.output],i=a.map((function(e){return e.name})),o=0;o<e.length;++o){var s=i.indexOf(e[o]);if(-1!==s&&(t[o]=a[s],n--),0===n)break}if(0===n)break}if(n>0){var u=[];throw t.forEach((function(t,n){null==t&&u.push(e[n])})),new Da(`Cannot find SymbolicTensors for output name(s): ${JSON.stringify(u)}`)}return t}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return R.tidy((function(){var a=t.checkNumSamples(e);if(r)throw new Fa("Verbose predictLoop() is not implemented yet.");for(var i=Pu(a,n),o=t.outputs.map((function(e){return[]})),s=function(n){R.tidy((function(){var r=i[n][0],a=i[n][1],o=Fu(e,r,a),s=[];if(Array.isArray(o))for(var u=0;u<o.length;++u)s.push({key:t.inputs[u],value:o[u]});else s.push({key:t.inputs[0],value:o});var l=new Mo(s);return Bo(t.outputs,l)})).forEach((function(e,t){return o[t].push(e)}))},u=0;u<i.length;++u)s(u);return Ba(o.map((function(e){return R.concat(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=zu(e);qu(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return Du(r),this.predictLoop(n,r)}finally{Bu(n,e)}}},{key:"predictOnBatch",value:function(e){qu(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new Oa("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var i=this.feedOutputShapes[a];this.feedLossFns[a]===Ws?r.push(i.slice(0,i.length-1).concat([1])):r.push(i)}if(function(e,t,n){var r=Xa(e.map((function(e){return e.shape[0]})));r.sort();var a=Xa(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new Da(`All input Tensors (x) should have the same number of samples. Got array shapes: ${JSON.stringify(e.map((function(e){return e.shape})))}`);if(a.length>1)throw new Da(`All target Tensors (y) should have the same number of samples. Got array shapes: ${JSON.stringify(t.map((function(e){return e.shape})))}`);if(r.length>0&&a.length>0&&!R.util.arraysEqual(r,a))throw new Da(`Input Tensors should have the same number of samples as target Tensors. Found ${r[0]} input sample(s) and ${a[0]} target sample(s).`)}(e=ju(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=ju(t,this.feedOutputNames,r,!1,"target")),function(e,t,n){for(var r=[zs,js,Gs],a=0;a<e.length;++a){var i=e[a],o=t[a],s=n[a];if(null!=o){if(o===Gs&&1===i.shape[i.shape.length-1])throw new Da(`You are passing a target array of shape ${i.shape} while using a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].`);if(-1!==r.indexOf(o))for(var u=i.shape.slice(1),l=s.slice(1),c=0;c<u.length;++c){var d=u[c],f=l[c];if(null!=f&&d!==f)throw new Da(`A target Tensor with shape ${i.shape} was passed for an output of shape ${s}, while using a loss function that expects targets to have the same shape as the output.`)}}}}(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new Da(`In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size ${n}. Found: ${e[0].shape[0]} sample(s).`);return[e,t]}},{key:"standardizeUserData",value:function(){var e=(0,xs.default)((function*(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5?arguments[5]:void 0,o=this.standardizeUserDataXY(e,t,a,i),s=(0,A.default)(o,2),u=s[0],l=s[1];if(null!=n)throw new Error("sample weight is not supported yet.");var c=null;if(null!=r){var d=Su(r,this.outputNames);c=[];for(var f=0;f<d.length;++f)c.push(yield Tu(l[f],null,d[f]))}return[u,l,c]}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0;return R.tidy((function(){var o=r.checkNumSamples(t,n,i,"steps"),s=[];if(a>0)throw new Fa("Verbose mode is not implemented yet.");if(null!=i)throw new Fa("steps mode in testLoop() is not implemented yet");for(var u=Pu(o,n),l=(0,R.tensor1d)(Ci(0,o)),c=0;c<u.length;++c){var d=u[c][0],f=u[c][1],p=Ri(l,d,f-d),h=$u(t,p),m=e(h);if(0===c)for(var v=0;v<m.length;++v)s.push((0,R.scalar)(0));for(var g=0;g<m.length;++g){var y=m[g];s[g]=R.add(s[g],R.mul(f-d,y))}}for(var b=0;b<s.length;++b)s[b]=R.div(s[b],o);return s}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(za(e,r)>1)a+=`_${za(e.slice(0,n),r)}`;t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),o=[],s=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});for(var u,l=new Mo(t),c=Bo(e.outputs,l,{training:!0}),d=0;d<e.lossFunctions.length;++d){var f=(0,e.lossFunctions[d])(a[d],c[d]);null!=i[d]&&(f=Cu(f,i[d]));var p=R.mean(f);n.push(p),u=0===d?f:R.add(u,f)}for(var h=0;h<e.metricsTensors.length;++h){var m=void 0;if(e.outputs.length>1&&h<e.outputs.length)m=n[h];else{var v=e.metricsTensors[h][0],g=e.metricsTensors[h][1];m=R.mean(v(a[g],c[g]))}R.keep(m),o.push(m)}return u=R.mean(u),e.calculateLosses().forEach((function(e){u=R.add(u,e)})),u}),!0,s)].concat(o)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return R.tidy((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),i=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=[],s=0;s<e.inputs.length;++s)o.push({key:e.inputs[s],value:a[s]});for(var u=new Mo(o),l=Bo(e.outputs,u),c=0;c<e.lossFunctions.length;++c){var d=e.lossFunctions[c],f=R.mean(d(i[c],l[c]));n=0===c?f:R.add(n,f),r.push(n)}for(var p=0;p<e.metricsTensors.length;++p){var h=e.metricsTensors[p][0],m=e.metricsTensors[p][1],v=R.mean(h(i[m],l[m]));r.push(v)}return r}))}}},{key:"fit",value:function(){var e=(0,xs.default)((function*(e,t){return function(e,t,n){return Lu.apply(this,arguments)}(this,e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,xs.default)((function*(e,t){return function(e,t,n){return Ru.apply(this,arguments)}(this,e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,xs.default)((function*(e,t){var n=yield this.standardizeUserData(e,t),r=n[0],a=n[1],i=this.makeTrainFunction()(r.concat(a)),o=[];for(var s of i){var u=yield s.data();o.push(u[0])}return R.dispose(i),Bu(n[0],e),Bu(n[1],t),Ba(o)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),i=0;i<r.length;++i)n&&!r[i].trainable||t.push({name:r[i].originalName,tensor:a[i]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=R.memory().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-R.memory().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=Ua(this.loss);else if(Array.isArray(this.loss)){for(var t of this.loss)if("string"!==typeof t)throw new Error("Serialization of non-string loss is not supported.");e=this.loss.map((function(e){return Ua(e)}))}else{var n=Object.keys(this.loss);e={};var r=this.loss;for(var a of n){if("string"!==typeof r[a])throw new Error("Serialization of non-string loss is not supported.");e[a]=Ua(r[a])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[Ua(su(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return Ua(su(e))}));var e={};for(var t in this.metrics)e[t]=Ua(su(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=Ms(vu(e.optimizer_config));if("string"===typeof e.loss)t=Ga(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return Ga(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=Ga(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return Ga(e)}));else if(null!=e.metrics)for(var i in n={},e.metrics)n[i]=Ga(e.metrics[i]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=(0,xs.default)((function*(e,t){if("string"===typeof e){var n=R.io.getSaveHandlers(e);if(0===n.length)throw new Da(`Cannot find any save handlers for URL '${e}'`);if(n.length>1)throw new Da(`Found more than one (${n.length}) save handlers for URL '${e}'`);e=n[0]}if(null==e.save)throw new Da("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");var r=yield R.io.encodeWeights(this.getNamedWeights(t)),a={modelTopology:this.toJSON(null,!1),format:"layers-model",generatedBy:`TensorFlow.js tfjs-layers v${yu}`,convertedBy:null};if(null!=t&&t.includeOptimizer&&null!=this.optimizer){var i;a.trainingConfig=this.getTrainingConfig();var o=yield R.io.encodeWeights(yield this.optimizer.getWeights(),"optimizer"),s=o.data,u=o.specs;(i=r.specs).push.apply(i,(0,vr.default)(u)),r.data=R.io.concatenateArrayBuffers([r.data,s])}if(null!=this.userDefinedMetadata){lu(this.userDefinedMetadata,this.name,!0),a.userDefinedMetadata=this.userDefinedMetadata}return a.weightData=r.data,a.weightSpecs=r.specs,e.save(a)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){lu(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),n}(wu);Hu.className="Model",R.serialization.registerClass(Hu);var Ku=function(e){(0,Ea.default)(n,e);var t=Vu(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n)}(Hu);function Xu(e){var t=Yu();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Yu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yu=function(){return!!e})()}function Zu(e,t){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,xs.default)((function*(e,t){"modelTopology"in e||(e={modelTopology:e});var n=e.modelTopology;null!=n.model_config&&(n=n.model_config);var r=Ms(vu(n),t);if(null!=e.weightsManifest){var a=yield R.io.loadWeights(e.weightsManifest,e.pathPrefix,r.weights.map((function(e){return e.originalName}))),i={};for(var o of r.weights)i[o.originalName]=a[o.originalName];r.loadWeights(i),(0,R.dispose)(a)}return r})),Qu.apply(this,arguments)}function Ju(){return Ju=(0,xs.default)((function*(e,t){if(null==t&&(t={}),"string"===typeof e){var n=R.io.getLoadHandlers(e,t);if(0===n.length)n.push(R.io.browserHTTPRequest(e,t));else if(n.length>1)throw new Da(`Found more than one (${n.length}) load handlers for URL '${e}'`);e=n[0]}return function(e,t,n){return el.apply(this,arguments)}(e,void 0,t)})),Ju.apply(this,arguments)}function el(){return el=(0,xs.default)((function*(e,t,n){if(null==n&&(n={}),null==e.load)throw new Da("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var r=yield e.load(),a=r.modelTopology;null!=a.model_config&&(a=a.model_config);var i=null==n.strict||n.strict,o=null!=r.weightData&&null!=r.weightSpecs&&i,s=Ms(vu(a),t,o),u=r.trainingConfig;if(null!=u&&s.loadTrainingConfig(u),null!=r.userDefinedMetadata&&s.setUserDefinedMetadata(r.userDefinedMetadata),null!=r.weightData){if(null==r.weightSpecs)throw new Da("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");var l=function(e,t){var n=R.io.decodeWeights(e,t),r={},a=[];return t.forEach((function(e){"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]})),{modelWeights:r,optimizerWeights:a}}(r.weightData,r.weightSpecs),c=l.modelWeights,d=l.optimizerWeights;s.loadWeights(c,i),null!=s.optimizer&&d.length>0&&(yield s.optimizer.setWeights(d)),(0,R.dispose)(c),(0,R.dispose)(d.map((function(e){return e.tensor})))}return s})),el.apply(this,arguments)}Ku.className="Functional",R.serialization.registerClass(Ku);var tl=function(e){(0,Ea.default)(n,e);var t=Xu(n);function n(e){var r;if((0,xa.default)(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:ii("sequential_"),null!=e.layers)for(var a of e.layers)r.add(a);return r}return(0,Sa.default)(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new Da(`Negative dimension size caused by adding layer ${e.name} with input shape [${e.inboundNodes[0].inputTensors[0].shape}]`)}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof Hu;if(r){if(1!==(t=e).outputs.length)throw new Da("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new Da("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new Da("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=Po({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new Da(`A layer added to a Sequential model must not already be connected somewhere else. LayersModel received layer ${e.name} which has ${e.inboundNodes.length} pre-existing inbound connections.`);if(1!==e.inboundNodes[0].outputTensors.length)throw new Da("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=Oo(this.outputs[0])}this.inboundNodes=[],new _o({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:Ma(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var i=e.apply(this.outputs[0]);if(Array.isArray(i))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[i],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(yo(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Hu({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),(0,Ps.default)((0,Na.default)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),(0,Ps.default)((0,Na.default)(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new Oa("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=(0,xs.default)((function*(e,t){if(!this.built)throw new Oa("The model needs to be compiled before being used.");return this.model.evaluateDataset(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=(0,xs.default)((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new Oa("The model needs to be compiled before being used.");return this.model.fit(e,t,n)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,xs.default)((function*(e,t){if(!this.built)throw new Oa("The model needs to be compiled before being used.");return this.model.fitDataset(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,xs.default)((function*(e,t){return this.model.trainOnBatch(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new Da("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new Da("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e=[];for(var t of this.layers){var n={};n.className=t.getClassName(),n.config=t.getConfig(),e.push(n)}return{name:this.name,layers:e}}}],[{key:"fromConfig",value:function(e,t){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new Da("Legacy serialization format not supported yet.");r=t}else R.util.assert(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,i=t;var o=new e(i);if(!(o instanceof n))throw new Fa(`Sequential.fromConfig called on non-Sequential input: ${o}`);for(var s of r){var u=Ms(s,undefined,a);a&&u.setFastWeightInitDuringBuild(!0),o.add(u)}return o}}]),n}(Hu);function nl(e){return new Hu(e)}function rl(e){return new tl(e)}function al(e,t){return null==t&&(t={}),function(e,t){return Ju.apply(this,arguments)}(e,t)}function il(e){return Po(e)}function ol(e,t){Fs.registerCallbackConstructor(e,t)}function sl(e){var t=ul();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function ul(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ul=function(){return!!e})()}tl.className="Sequential",R.serialization.registerClass(tl);var ll=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"getConfig",value:function(){return{}}}]),n}(R.serialization.Serializable),cl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new Fa(`Support for alpha values other than 1 (${t}) is not implemented yet.`);return R.elu(e)}(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:1)}}]),n}(ll);cl.className="elu",R.serialization.registerClass(cl);var dl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return R.selu(e)}}]),n}(ll);dl.className="selu",R.serialization.registerClass(dl);var fl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return R.relu(e)}}]),n}(ll);fl.className="relu",R.serialization.registerClass(fl);var pl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return(0,R.tidy)((function(){return R.minimum(6,R.relu(e))}))}}]),n}(ll);pl.className="relu6",R.serialization.registerClass(pl);var hl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return e}}]),n}(ll);hl.className="linear",R.serialization.registerClass(hl);var ml=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return R.sigmoid(e)}}]),n}(ll);ml.className="sigmoid",R.serialization.registerClass(ml);var vl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return function(e){return(0,R.tidy)((function(){var t=R.add(.5,R.mul(.2,e));return R.clipByValue(t,0,1)}))}(e)}}]),n}(ll);vl.className="hardSigmoid",R.serialization.registerClass(vl);var gl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return R.softplus(e)}}]),n}(ll);gl.className="softplus",R.serialization.registerClass(gl);var yl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return function(e){return(0,R.tidy)((function(){return R.div(e,R.add(R.abs(e),1))}))}(e)}}]),n}(ll);yl.className="softsign",R.serialization.registerClass(yl);var bl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return R.tanh(e)}}]),n}(ll);bl.className="tanh",R.serialization.registerClass(bl);var kl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return R.softmax(e,t)}}]),n}(ll);kl.className="softmax",R.serialization.registerClass(kl);var wl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return R.logSoftmax(e,t)}}]),n}(ll);wl.className="logSoftmax",R.serialization.registerClass(wl);var xl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,R.tidy)((function(){return R.mul(R.sigmoid(R.mul(e,t)),e)}))}}]),n}(ll);xl.className="swish",R.serialization.registerClass(xl);var Sl=function(e){(0,Ea.default)(n,e);var t=sl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e){return(0,R.tidy)((function(){return R.mul(e,R.tanh(R.softplus(e)))}))}}]),n}(ll);function Tl(e){return e.getClassName()}function El(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ha(e,R.serialization.SerializationMap.getMap().classNameMap,t,"activation")}function Cl(e){if(null==e){var t={className:"linear",config:{}};return El(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},El(n)}return e instanceof ll?e:El(e)}function Nl(e){var t=Il();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Il(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Il=function(){return!!e})()}function _l(e){if(null!=e&&"object"!==typeof e)throw new Error(`Argument to L1L2 regularizer's constructor is expected to be an object, but received: ${e}`)}Sl.className="mish",R.serialization.registerClass(Sl);var Rl=function(e){(0,Ea.default)(n,e);var t=Nl(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n)}(R.serialization.Serializable),Al=function(e){(0,Ea.default)(n,e);var t=Nl(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this),_l(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return(0,Sa.default)(n,[{key:"apply",value:function(e){var t=this;return(0,R.tidy)((function(){var n=(0,R.zeros)([1]);return t.hasL1&&(n=(0,R.add)(n,(0,R.sum)(R.mul(t.l1,(0,R.abs)(e))))),t.hasL2&&(n=(0,R.add)(n,(0,R.sum)(R.mul(t.l2,zi(e))))),R.reshape(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(Rl);Al.className="L1L2",R.serialization.registerClass(Al);var Ol={l1l2:"L1L2"};function Dl(e){return ja(e)}function Fl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ha(e,R.serialization.SerializationMap.getMap().classNameMap,t,"regularizer")}function $l(e){return null==e?null:"string"===typeof e?Fl({className:e in Ol?Ol[e]:e,config:{}}):e instanceof Rl?e:Fl(e)}function Pl(e){var t=Ml();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Ml(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ml=function(){return!!e})()}var Ll=function(e){(0,Ea.default)(n,e);var t=Pl(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return(0,Sa.default)(n,[{key:"call",value:function(e,t){e=go(e);var n=(0,R.relu)(e);return null!=this.maxValue&&(n=(0,R.clipByValue)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Ll.className="ReLU",R.serialization.registerClass(Ll);var zl=function(e){(0,Ea.default)(n,e);var t=Pl(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var n=go(e);return(0,R.leakyRelu)(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);zl.className="LeakyReLU",R.serialization.registerClass(zl);var Bl=function(e){(0,Ea.default)(n,e);var t=Pl(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=ho(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=$l(e.alphaRegularizer),r.alphaConstraint=ts(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new Da(`Expected sharedAxes to be a number or an array of numbers, but got ${e.sharedAxes}`);r.sharedAxes=[e.sharedAxes]}return r}return(0,Sa.default)(n,[{key:"build",value:function(e){var t=(e=yo(e)).slice(1);if(null!=this.sharedAxes)for(var n of this.sharedAxes)t[n-1]=1;this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var r={};if(null!=this.sharedAxes)for(var a=1;a<e.length;++a)r[a]=e[a];this.inputSpec=[new Co({ndim:e.length,axes:r})],this.built=!0}},{key:"call",value:function(e,t){return e=go(e),(0,R.prelu)(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:po(this.alphaInitializer),alphaRegularizer:Dl(this.alphaRegularizer),alphaConstraint:Jo(this.alphaConstraint),sharedAxes:this.sharedAxes},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Bl.className="PReLU",R.serialization.registerClass(Bl);var Vl=function(e){(0,Ea.default)(n,e);var t=Pl(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new Fa(`Non-default alpha value (${e.alpha}) is not supported by the ELU layer yet.`);return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var n=go(e);return(0,R.elu)(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Vl.className="ELU",R.serialization.registerClass(Vl);var Ul=function(e){(0,Ea.default)(n,e);var t=Pl(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var n=go(e);return(0,R.mul)(n,(0,R.cast)((0,R.greater)(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Ul.className="ThresholdedReLU",R.serialization.registerClass(Ul);var Gl=function(e){(0,Ea.default)(n,e);var t=Pl(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new kl).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var n=go(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Gl.className="Softmax",R.serialization.registerClass(Gl);var Wl=n(4942);function jl(e,t,n){if("number"===typeof e)return Ma(e,t);if(e.length!==t)throw new Da(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${e.length} elements.`);for(var r=0;r<t;++r){var a=e[r];if((i=a)!==parseInt(i.toString(),10))throw new Da(`The ${n} argument must be an integer or tuple of ${t} integers. Received: ${JSON.stringify(e)} including a non-integer number ${a}`)}return e;var i}function ql(e,t,n,r){var a;return null==e?e:(a="same"===n?e:e-(t+(t-1)*((arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-1))+1,Math.floor((a+r-1)/r))}function Hl(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+Ei([n-t,0]);else{if("same"!==r)throw new Da(`Unsupport padding mode: ${r}.`);e*=t}return e}function Kl(e){var t=Xl();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Xl(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xl=function(){return!!e})()}function Yl(e,t){return(0,R.tidy)((function(){return fi(t),"channelsFirst"===t?R.transpose(e,[0,2,3,1]):e}))}function Zl(e,t){return(0,R.tidy)((function(){return fi(t),"channelsFirst"===t?R.transpose(e,[0,2,3,4,1]):e}))}function Ql(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return(0,R.tidy)((function(){if(null==i&&(i="channelsLast"),fi(i),3!==e.shape.length)throw new Da(`The input of a conv1dWithBias operation should be 3, but is ${e.shape.length} instead.`);if(3!==t.shape.length)throw new Da(`The kernel for a conv1dWithBias operation should be 3, but is ${t.shape.length} instead`);if(null!=n&&1!==n.shape.length)throw new Da(`The bias for a conv1dWithBias operation should be 1, but is ${t.shape.length} instead`);if("channelsFirst"===i&&(e=R.transpose(e,[0,2,1])),"causal"===a)throw new Fa("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=R.conv1d(e,t,r,"same"===a?"same":"valid","NWC",o);return null!=n&&(s=Vi(s,n)),s}))}function Jl(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return(0,R.tidy)((function(){if(null==i&&(i="channelsLast"),fi(i),3!==e.rank&&4!==e.rank)throw new Da(`conv2dWithBiasActivation expects input to be of rank 3 or 4, but received ${e.rank}.`);if(3!==t.rank&&4!==t.rank)throw new Da(`conv2dWithBiasActivation expects kernel to be of rank 3 or 4, but received ${e.rank}.`);var u=Yl(e,i);if("causal"===a)throw new Fa("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return u=R.fused.conv2d({x:u,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:o,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===i&&(u=R.transpose(u,[0,3,1,2])),u}))}function ec(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0;return(0,R.tidy)((function(){if(null==i&&(i="channelsLast"),fi(i),4!==e.rank&&5!==e.rank)throw new Da(`conv3dWithBias expects input to be of rank 4 or 5, but received ${e.rank}.`);if(4!==t.rank&&5!==t.rank)throw new Da(`conv3dWithBias expects kernel to be of rank 4 or 5, but received ${e.rank}.`);var s=Zl(e,i);if("causal"===a)throw new Fa("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=R.conv3d(s,t,r,"same"===a?"same":"valid","NDHWC",o),null!=n&&(s=Vi(s,n)),"channelsFirst"===i&&(s=R.transpose(s,[0,4,1,2,3])),s}))}var tc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e,r){var a;if((0,xa.default)(this,n),(a=t.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=e,Ja(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new Fa(`Convolution layer for rank other than 1, 2, or 3 (${a.rank}) is not implemented yet.`);if(a.kernelSize=jl(r.kernelSize,e,"kernelSize"),a.strides=jl(null==r.strides?1:r.strides,e,"strides"),a.padding=null==r.padding?"valid":r.padding,pi(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,fi(a.dataFormat),a.activation=Cl(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=ho(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=ts(r.biasConstraint),a.biasRegularizer=$l(r.biasRegularizer),a.activityRegularizer=$l(r.activityRegularizer),a.dilationRate=jl(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new Da(`dilationRate must be a number or an array of a single number for 1D convolution, but received ${JSON.stringify(a.dilationRate)}`);if(2===a.rank){if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new Da(`dilationRate must be a number or array of two numbers for 2D convolution, but received ${JSON.stringify(a.dilationRate)}`)}else if(3===a.rank)if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new Da(`dilationRate must be a number or array of three numbers for 3D convolution, but received ${JSON.stringify(a.dilationRate)}`);return a}return(0,Sa.default)(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:Tl(this.activation),useBias:this.useBias,biasInitializer:po(this.biasInitializer),biasRegularizer:Dl(this.biasRegularizer),activityRegularizer:Dl(this.activityRegularizer),biasConstraint:Jo(this.biasConstraint)},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(La("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!Qa(e.kernelSize,"number",1,3))throw new Da(`BaseConv expects config.kernelSize to be number or number[] with length 1, 2, or 3, but received ${JSON.stringify(e.kernelSize)}.`)}}]),n}(Ao),nc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this,e,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,Ja(a.filters,"filters"),a.kernelInitializer=ho(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=ts(r.kernelConstraint),a.kernelRegularizer=$l(r.kernelRegularizer),a}return(0,Sa.default)(n,[{key:"build",value:function(e){e=yo(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Da(`The channel dimension of the input should be defined. Found ${e[t]}`);var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(0,Wl.default)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var t;e=go(e);var r=null==n.bias?null:n.bias.read(),a=ti(n.activation.getClassName());if(null!=a&&2===n.rank)t=Jl(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=Ql(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=Jl(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new Fa("convolutions greater than 3D are not implemented yet.");t=ec(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=yo(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=ql(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var i=[e[0]];return"channelsLast"===this.dataFormat?(i=i.concat(t)).push(this.filters):(i.push(this.filters),i=i.concat(t)),i}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:po(this.kernelInitializer),kernelRegularizer:Dl(this.kernelRegularizer),kernelConstraint:Jo(this.kernelConstraint)},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new Da(`Convolution layer expected config.filters to be a 'number' > 0 but got ${JSON.stringify(e.filters)}`)}}]),n}(tc),rc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return(0,Sa.default)(n,[{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Qa(e.kernelSize,"number",1,2))throw new Da(`Conv2D expects config.kernelSize to be number or number[] with length 1 or 2, but received ${JSON.stringify(e.kernelSize)}.`)}}]),n}(nc);rc.className="Conv2D",R.serialization.registerClass(rc);var ac=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return(0,Sa.default)(n,[{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new Da(`Conv3D expects config.kernelSize to be number or [number, number, number], but received ${JSON.stringify(e.kernelSize)}.`)}}]),n}(nc);ac.className="Conv3D",R.serialization.registerClass(ac);var ic=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,e)).inputSpec=[new Co({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new Da(`Conv2DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${r.padding}`);return r}return(0,Sa.default)(n,[{key:"build",value:function(e){if(4!==(e=yo(e)).length)throw new Da("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Da("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Co({ndim:4,axes:(0,Wl.default)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return R.tidy((function(){var t=go(e);if(4!==t.shape.length)throw new Da(`Conv2DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);var r,a,i=t.shape,o=i[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=i[r],u=i[a],l=n.kernelSize[0],c=n.kernelSize[1],d=n.strides[0],f=n.strides[1],p=[o,Hl(s,d,l,n.padding),Hl(u,f,c,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=R.transpose(t,[0,2,3,1]));var h=R.conv2dTranspose(t,n.kernel.read(),p,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(h=R.transpose(h,[0,3,1,2])),null!=n.bias&&(h=Vi(h,n.bias.read(),n.dataFormat)),null!=n.activation&&(h=n.activation.apply(h)),h}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=yo(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var i=this.kernelSize[0],o=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return a[t]=this.filters,a[n]=Hl(a[n],s,i,this.padding),a[r]=Hl(a[r],u,o,this.padding),a}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(rc);ic.className="Conv2DTranspose",R.serialization.registerClass(ic);var oc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,e)).inputSpec=[new Co({ndim:5})],"same"!==r.padding&&"valid"!==r.padding)throw new Da(`Conv3DTranspose currently supports only padding modes 'same' and 'valid', but received padding mode ${r.padding}`);return r}return(0,Sa.default)(n,[{key:"build",value:function(e){if(5!==(e=yo(e)).length)throw new Da("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new Da("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new Co({ndim:5,axes:(0,Wl.default)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return R.tidy((function(){var t=go(e);if(5!==t.shape.length)throw new Da(`Conv3DTranspose.call() expects input tensor to be rank-4, but received a tensor of rank-${t.shape.length}`);var r,a,i,o=t.shape,s=o[0];"channelsFirst"===n.dataFormat?(i=2,r=3,a=4):(i=1,r=2,a=3);var u=o[i],l=o[r],c=o[a],d=n.kernelSize[0],f=n.kernelSize[1],p=n.kernelSize[2],h=n.strides[0],m=n.strides[1],v=n.strides[2],g=[s,Hl(u,h,d,n.padding),Hl(l,m,f,n.padding),Hl(c,v,p,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=R.transpose(t,[0,2,3,4,1]));var y=R.conv3dTranspose(t,n.kernel.read(),g,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(y=R.transpose(y,[0,4,1,2,3])),null!==n.bias&&(y=Vi(y,n.bias.read(),n.dataFormat)),null!==n.activation&&(y=n.activation.apply(y)),y}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a,i=(e=yo(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var o=this.kernelSize[0],s=this.kernelSize[1],u=this.kernelSize[2],l=this.strides[0],c=this.strides[1],d=this.strides[2];return i[t]=this.filters,i[n]=Hl(i[n],l,o,this.padding),i[r]=Hl(i[r],c,s,this.padding),i[a]=Hl(i[a],d,u,this.padding),i}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(ac);oc.className="Conv3DTranspose",R.serialization.registerClass(oc);var sc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e,r){var a;if((0,xa.default)(this,n),(a=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new Da("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new Da("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new Da(`SeparableConv${a.rank}D supports only padding modes: 'same' and 'valid', but received ${JSON.stringify(r.padding)}`);return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=ho(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=$l(r.depthwiseRegularizer),a.depthwiseConstraint=ts(r.depthwiseConstraint),a.pointwiseInitializer=ho(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=$l(r.pointwiseRegularizer),a.pointwiseConstraint=ts(r.pointwiseConstraint),a}return(0,Sa.default)(n,[{key:"build",value:function(e){if((e=yo(e)).length<this.rank+2)throw new Da(`Inputs to SeparableConv${this.rank}D should have rank ${this.rank+2}, but received input shape: ${JSON.stringify(e)}`);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new Da(`The channel dimension of the inputs should be defined, but found ${JSON.stringify(e[t])}`);for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],i=0;i<this.rank;++i)a.push(1);a.push(n*this.depthMultiplier,this.filters);var o=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,o,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,o,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,o,this.biasConstraint):this.bias=null,this.inputSpec=[new Co({ndim:this.rank+2,axes:(0,Wl.default)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var t;if(e=go(e),1===n.rank)throw new Fa("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=R.transpose(e,[0,2,3,1])),t=R.separableConv2d(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Vi(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=R.transpose(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=po(this.depthwiseInitializer),e.pointwiseInitializer=po(this.pointwiseInitializer),e.depthwiseRegularizer=Dl(this.depthwiseRegularizer),e.pointwiseRegularizer=Dl(this.pointwiseRegularizer),e.depthwiseConstraint=Jo(this.depthwiseConstraint),e.pointwiseConstraint=Jo(this.pointwiseConstraint),e}}]),n}(nc);sc.className="SeparableConv";var uc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){return(0,xa.default)(this,n),t.call(this,2,e)}return(0,Sa.default)(n)}(sc);uc.className="SeparableConv2D",R.serialization.registerClass(uc);var lc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return(0,Sa.default)(n,[{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Qa(e.kernelSize,"number",1,1))throw new Da(`Conv1D expects config.kernelSize to be number or number[] with length 1, but received ${JSON.stringify(e.kernelSize)}.`)}}]),n}(nc);lc.className="Conv1D",R.serialization.registerClass(lc);var cc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){var r;return(0,xa.default)(this,n),r=t.call(this,e),"number"===typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){if(e=go(e),"channelsLast"===n.dataFormat){var t=Oi(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return Oi(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=Oi(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return Oi(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);cc.className="Cropping2D",R.serialization.registerClass(cc);var dc=function(e){(0,Ea.default)(n,e);var t=Kl(n);function n(e){var r,a;return(0,xa.default)(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,fi(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,a=r.interpolation,Za(si,"InterpolationFormat",a),r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return R.tidy((function(){var t=go(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=R.transpose(t,[0,2,3,1]);var a=n.size[0]*r[2],i=n.size[1]*r[3],o="nearest"===n.interpolation?R.image.resizeNearestNeighbor(t,[a,i]):R.image.resizeBilinear(t,[a,i]);return R.transpose(o,[0,3,1,2])}var s=n.size[0]*r[1],u=n.size[1]*r[2];return"nearest"===n.interpolation?R.image.resizeNearestNeighbor(t,[s,u]):R.image.resizeBilinear(t,[s,u])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);function fc(e){var t=pc();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function pc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pc=function(){return!!e})()}dc.className="UpSampling2D",R.serialization.registerClass(dc);var hc=function(e){(0,Ea.default)(n,e);var t=fc(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=ho(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=ts(e.depthwiseConstraint),r.depthwiseRegularizer=$l(e.depthwiseRegularizer),r}return(0,Sa.default)(n,[{key:"build",value:function(e){if((e=yo(e)).length<4)throw new Da(`Inputs to DepthwiseConv2D should have rank 4. Received input shape: ${JSON.stringify(e)}.`);var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new Da(`The channel dimension of the inputs to DepthwiseConv2D should be defined, but is not (${e[t]}).`);var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;return(0,R.tidy)((function(){null==a&&(a="channelsLast"),fi(a);var o=Yl(e,a);if(4!==e.rank)throw new Da(`Input for depthwiseConv2d is required to be 4-D, but is instead ${e.rank}-D`);if(4!==t.rank)throw new Da(`depthwiseKernel is required to be 4-D, but is instead ${t.rank}-D`);return o=R.depthwiseConv2d(o,t,n,"same"===r?"same":"valid","NHWC",i),"channelsFirst"===a&&(o=R.transpose(o,[0,3,1,2])),o}))}(e=go(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Vi(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=yo(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=ql(t,this.kernelSize[0],this.padding,this.strides[0]),i=ql(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,i]:[e[0],a,i,r]}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=po(this.depthwiseInitializer),e.depthwiseRegularizer=Dl(this.depthwiseRegularizer),e.depthwiseConstraint=Jo(this.depthwiseRegularizer),e}}]),n}(tc);function mc(e){var t=vc();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function vc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vc=function(){return!!e})()}function gc(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new Da("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function yc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return R.tidy((function(){var u=t.shape.length;if(u<3)throw new Da(`Input should be at least 3D, but is ${u}D.`);var l=[1,0].concat(Ci(2,u));if(t=R.transpose(t,l),null!=i)throw new Fa("The rnn() functoin of the deeplearn.js backend does not support constants yet.");o&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=R.cast(R.cast(a,"bool"),"float32")).rank===u-1&&(a=R.expandDims(a,-1)),a=R.transpose(a,l)),r&&(t=R.reverse(t,0),null!=a&&(a=R.reverse(a,0)));var c,d,f=[],p=n,h=t.shape[0],m=R.unstack(t);null!=a&&(d=R.unstack(a));for(var v,g=function(t){var n=m[t],r=R.tidy((function(){return e(n,p)}));if(null==a)c=r[0],p=r[1];else{var i=R.tidy((function(){var e=d[t],n=R.sub(R.onesLike(e),e);return{output:R.add(R.mul(r[0],e),R.mul(p[0],n)),newStates:p.map((function(t,a){return R.add(R.mul(r[1][a],e),R.mul(t,n))}))}}));c=i.output,p=i.newStates}s&&f.push(c)},y=0;y<h;++y)g(y);if(s){v=R.stack(f,1)}return[c,v,p]}))}hc.className="DepthwiseConv2D",R.serialization.registerClass(hc);var bc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){var r,a;if((0,xa.default)(this,n),r=t.call(this,e),null==e.cell)throw new Da("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(e.cell)?new Nc({cells:e.cell}):e.cell).stateSize)throw new Da("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new Co({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return(0,Sa.default)(n,[{key:"getStates",value:function(){return null==this.states_?Ci(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){mo(e)&&(e=e[0]);var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a=[];for(var i of t)a.push([e[0],i]);return[n].concat(a)}return n}},{key:"computeMask",value:function(e,t){var n=this;return R.tidy((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new Fa("Constants support is not implemented in RNN yet.");mo(e)&&(e=e[0]);var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new Co({shape:[t,null].concat((0,vr.default)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!R.util.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new Da(`An initialState was passed that is not compatible with cell.stateSize. Received stateSpec=${this.stateSpec}; However cell.stateSize is ${this.cell.stateSize}`)}else this.stateSpec=r.map((function(e){return new Co({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,R.tidy)((function(){if(!t.stateful)throw new Aa("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new Da("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return R.zeros([r,e])})):t.states_=[R.zeros([r,t.cell.stateSize])];else if(null==e)R.dispose(t.states_),null!=t.keptStates&&(R.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return R.zeros([r,e])})):t.states_[0]=R.zeros([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Da(`Layer ${t.name} expects ${t.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);!0===n?t.keptStates.push(t.states_.slice()):R.dispose(t.states_);for(var a=0;a<t.states_.length;++a){var i=e[a],o=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,s=[r,o];if(!R.util.arraysEqual(i.shape,s))throw new Da(`State ${a} is incompatible with layer ${t.name}: expected shape=${s}, received shape=${i.shape}`);t.states_[a]=i}}t.states_=t.states_.map((function(e){return R.keep(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=gc(e,r,a,this.numConstants);e=i.inputs,r=i.initialState,a=i.constants;var o=[],s=[];if(null!=r){for(var u of(t.initialState=r,o=o.concat(r),this.stateSpec=[],r))this.stateSpec.push(new Co({shape:u.shape}));s=s.concat(this.stateSpec)}if(null!=a&&(t.constants=a,o=o.concat(a),this.numConstants=a.length),o[0]instanceof No){var l=[e].concat(o),c=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=c;var f=(0,Ps.default)((0,Na.default)(n.prototype),"apply",this).call(this,l,t);return this.inputSpec=d,f}return(0,Ps.default)((0,Na.default)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,i=null==t?null:t.initialState;e=go(e),null==i&&(i=n.stateful?n.states_:n.getInitialState(e));var o=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(i.length!==o)throw new Da(`RNN Layer has ${o} state(s) but was passed ${i.length} initial state(s).`);n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},u=yc((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,i,n.goBackwards,r,null,n.unroll,n.returnSequences),l=u[0],c=u[1],d=u[2];n.stateful&&n.resetStates(d,a);var f=n.returnSequences?c:l;return n.returnState?[f].concat(d):f}))}},{key:"getInitialState",value:function(e){var t=this;return(0,R.tidy)((function(){var n=R.zeros(e.shape);return n=_i(n=R.sum(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?$i(n,[1,e]):n})):t.cell.stateSize>1?[$i(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){(0,Ps.default)((0,Na.default)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ms(t.cell,n);return new e(Object.assign(t,{cell:r}))}}]),n}(Ao);bc.className="RNN",R.serialization.registerClass(bc);var kc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n)}(Ao),wc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,Ja(r.units,"units"),r.activation=Cl(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=ho(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ho(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ho(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=$l(e.kernelRegularizer),r.recurrentRegularizer=$l(e.recurrentRegularizer),r.biasRegularizer=$l(e.biasRegularizer),r.kernelConstraint=ts(e.kernelConstraint),r.recurrentConstraint=ts(e.recurrentConstraint),r.biasConstraint=ts(e.biasConstraint),r.dropout=Ti([1,Ei([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Ti([1,Ei([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Sa.default)(n,[{key:"build",value:function(e){e=yo(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){if(2!==e.length)throw new Da(`SimpleRNNCell expects 2 input Tensors, got ${e.length}.`);var r=e[1];e=e[0];var a,i=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ic({ones:function(){return R.onesLike(e)},rate:n.dropout,training:i,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ic({ones:function(){return R.onesLike(r)},rate:n.recurrentDropout,training:i,dropoutFunc:n.dropoutFunc}));var o=n.dropoutMask,s=n.recurrentDropoutMask;a=Mi(null!=o?R.mul(e,o):e,n.kernel.read()),null!=n.bias&&(a=Vi(a,n.bias.read())),null!=s&&(r=R.mul(r,s));var u=R.add(a,Mi(r,n.recurrentKernel.read()));return null!=n.activation&&(u=n.activation.apply(u)),[u,u]}))}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Tl(this.activation),useBias:this.useBias,kernelInitializer:po(this.kernelInitializer),recurrentInitializer:po(this.recurrentInitializer),biasInitializer:po(this.biasInitializer),kernelRegularizer:Dl(this.kernelRegularizer),recurrentRegularizer:Dl(this.recurrentRegularizer),biasRegularizer:Dl(this.biasRegularizer),activityRegularizer:Dl(this.activityRegularizer),kernelConstraint:Jo(this.kernelConstraint),recurrentConstraint:Jo(this.recurrentConstraint),biasConstraint:Jo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}]),n}(kc);wc.className="SimpleRNNCell",R.serialization.registerClass(wc);var xc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){return(0,xa.default)(this,n),e.cell=new wc(e),t.call(this,e)}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var r=this;return(0,R.tidy)((function(){null!=r.cell.dropoutMask&&(R.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(R.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return(0,Ps.default)((0,Na.default)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(bc);xc.className="SimpleRNN",R.serialization.registerClass(xc);var Sc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new Da("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,Ja(r.units,"units"),r.activation=Cl(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Cl(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=ho(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ho(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ho(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=$l(e.kernelRegularizer),r.recurrentRegularizer=$l(e.recurrentRegularizer),r.biasRegularizer=$l(e.biasRegularizer),r.kernelConstraint=ts(e.kernelConstraint),r.recurrentConstraint=ts(e.recurrentConstraint),r.biasConstraint=ts(e.biasConstraint),r.dropout=Ti([1,Ei([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Ti([1,Ei([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Sa.default)(n,[{key:"build",value:function(e){var t=(e=yo(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){if(2!==e.length)throw new Da(`GRUCell expects 2 input Tensors (inputs, h, c), got ${e.length}.`);var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ic({ones:function(){return R.onesLike(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ic({ones:function(){return R.onesLike(a)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var i,o,s,u=n.dropoutMask,l=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=R.mul(e,u[0]));var c=Mi(e,n.kernel.read());n.useBias&&(c=Vi(c,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=R.mul(a,l[0]));var d=n.recurrentKernel.read(),f=R.split(d,[2*n.units,n.units],d.rank-1),p=(0,A.default)(f,2),h=p[0],m=p[1],v=Mi(a,h),g=R.split(c,3,c.rank-1),y=(0,A.default)(g,3),b=y[0],k=y[1],w=y[2],x=R.split(v,2,v.rank-1),S=(0,A.default)(x,2),T=S[0],E=S[1];i=n.recurrentActivation.apply(R.add(b,T)),o=n.recurrentActivation.apply(R.add(k,E));var C=Mi(R.mul(o,a),m);s=n.activation.apply(R.add(w,C));var N=R.add(R.mul(i,a),R.mul(R.add(1,R.neg(i)),s));return[N,N]}))}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Tl(this.activation),recurrentActivation:Tl(this.recurrentActivation),useBias:this.useBias,kernelInitializer:po(this.kernelInitializer),recurrentInitializer:po(this.recurrentInitializer),biasInitializer:po(this.biasInitializer),kernelRegularizer:Dl(this.kernelRegularizer),recurrentRegularizer:Dl(this.recurrentRegularizer),biasRegularizer:Dl(this.biasRegularizer),activityRegularizer:Dl(this.activityRegularizer),kernelConstraint:Jo(this.kernelConstraint),recurrentConstraint:Jo(this.recurrentConstraint),biasConstraint:Jo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}]),n}(kc);Sc.className="GRUCell",R.serialization.registerClass(Sc);var Tc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){return(0,xa.default)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Sc(e),t.call(this,e)}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var r=this;return(0,R.tidy)((function(){null!=r.cell.dropoutMask&&(R.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(R.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return(0,Ps.default)((0,Na.default)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(bc);Tc.className="GRU",R.serialization.registerClass(Tc);var Ec=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,Ja(r.units,"units"),r.activation=Cl(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=Cl(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=ho(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=ho(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=ho(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=$l(e.kernelRegularizer),r.recurrentRegularizer=$l(e.recurrentRegularizer),r.biasRegularizer=$l(e.biasRegularizer),r.kernelConstraint=ts(e.kernelConstraint),r.recurrentConstraint=ts(e.recurrentConstraint),r.biasConstraint=ts(e.biasConstraint),r.dropout=Ti([1,Ei([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=Ti([1,Ei([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,Sa.default)(n,[{key:"build",value:function(e){var t,n,r=(e=yo(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,i=this.units;n=new(t=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){var n=a.apply([i]),r=(new Yi).apply([i]),o=a.apply([2*i]);return Fi(Fi(n,r),o)}}]),n}(Ki),t.className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var r=null!=t.training&&t.training;if(3!==e.length)throw new Da(`LSTMCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);var a=e[1],i=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ic({ones:function(){return R.onesLike(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ic({ones:function(){return R.onesLike(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var o,s,u,l,c=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=R.mul(e,c[0]));var f=Mi(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=R.mul(a,d[0])),f=R.add(f,Mi(a,n.recurrentKernel.read())),n.useBias&&(f=Vi(f,n.bias.read()));var p=R.split(f,4,f.rank-1),h=(0,A.default)(p,4),m=h[0],v=h[1],g=h[2],y=h[3];o=n.recurrentActivation.apply(m),s=n.recurrentActivation.apply(v),u=R.add(R.mul(s,i),R.mul(o,n.activation.apply(g))),l=n.recurrentActivation.apply(y);var b=R.mul(l,n.activation.apply(u));return[b,b,u]}))}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:Tl(this.activation),recurrentActivation:Tl(this.recurrentActivation),useBias:this.useBias,kernelInitializer:po(this.kernelInitializer),recurrentInitializer:po(this.recurrentInitializer),biasInitializer:po(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:Dl(this.kernelRegularizer),recurrentRegularizer:Dl(this.recurrentRegularizer),biasRegularizer:Dl(this.biasRegularizer),activityRegularizer:Dl(this.activityRegularizer),kernelConstraint:Jo(this.kernelConstraint),recurrentConstraint:Jo(this.recurrentConstraint),biasConstraint:Jo(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}]),n}(kc);Ec.className="LSTMCell",R.serialization.registerClass(Ec);var Cc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){return(0,xa.default)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Ec(e),t.call(this,e)}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var r=this;return(0,R.tidy)((function(){null!=r.cell.dropoutMask&&(R.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(R.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return(0,Ps.default)((0,Na.default)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(bc);Cc.className="LSTM",R.serialization.registerClass(Cc);var Nc=function(e){(0,Ea.default)(n,e);var t=mc(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).cells=e.cells,r}return(0,Sa.default)(n,[{key:"stateSize",get:function(){var e=[];for(var t of this.cells.slice().reverse())Array.isArray(t.stateSize)?e.push.apply(e,(0,vr.default)(t.stateSize)):e.push(t.stateSize);return e}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var r=e.slice(1),a=[];for(var i of n.cells.slice().reverse())Array.isArray(i.stateSize)?a.push(r.splice(0,i.stateSize.length)):a.push(r.splice(0,1));a.reverse();for(var o,s=[],u=0;u<n.cells.length;++u){var l=n.cells[u];r=a[u],o=0===u?[e[0]].concat(r):[o[0]].concat(r),o=l.call(o,t),s.push(o.slice(1))}for(var c of(r=[],s.slice().reverse())){var d;(d=r).push.apply(d,(0,vr.default)(c))}return[o[0]].concat(r)}))}},{key:"build",value:function(e){var t;mo(e)&&(e=e[0]),this.cells.forEach((function(n,r){gi(`RNNCell_${r}`,(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign({},e,t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e=[];for(var t of this.cells)e.push.apply(e,(0,vr.default)(t.trainableWeights));return e}},{key:"nonTrainableWeights",get:function(){var e=[];for(var t of this.cells)e.push.apply(e,(0,vr.default)(t.nonTrainableWeights));if(!this.trainable){var n=[];for(var r of this.cells)n.push.apply(n,(0,vr.default)(r.trainableWeights));return n.concat(e)}return e}},{key:"getWeights",value:function(){var e=[];for(var t of this.cells)e.push.apply(e,(0,vr.default)(t.weights));return xo(e)}},{key:"setWeights",value:function(e){var t=[];for(var n of this.cells)for(var r=n.weights.length,a=e.splice(r),i=0;i<n.weights.length;++i)t.push([n.weights[i],a[i]]);So(t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[];for(var a of t.cells)r.push(Ms(a,n));return new e({cells:r})}}]),n}(kc);function Ic(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,i=e.count,o=void 0===i?1:i,s=e.dropoutFunc,u=function(){return null!=s?s(t(),n):Ui(t(),n)},l=function(){return Gi(u,t,a)};return!o||o<=1?R.keep(l().clone()):Array(o).fill(void 0).map(l).map((function(e){return R.keep(e.clone())}))}function _c(e){var t=Rc();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Rc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rc=function(){return!!e})()}Nc.className="StackedRNNCells",R.serialization.registerClass(Nc);var Ac=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Oc=(function(e){(0,Ea.default)(n,e);var t=_c(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}(0,Sa.default)(n)}(kc),function(e){(0,Ea.default)(n,e);var t=_c(n);function n(e){var r;if((0,xa.default)(this,n),e.unroll)throw new Fa("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new Fa("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new Co({ndim:5})],r}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var r=this;return R.tidy((function(){if(null!=r.cell.dropoutMask&&(R.dispose(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(R.dispose(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new Da("ConvRNN2D cell does not support constants");var a=null==t?null:t.mask,i=null==t?null:t.training,o=null==t?null:t.initialState;return(0,Ps.default)((0,Na.default)(n.prototype),"call",r).call(r,e,{mask:a,training:i,initialState:o})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat((0,vr.default)(t.slice(2)))),this.returnState&&(t=[t].concat((0,vr.default)(Array(2).fill([e[0]].concat((0,vr.default)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return R.tidy((function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat((0,vr.default)(a.slice(2))),o=R.zeros(i);return Array.isArray(n)?Array(n.length).fill(o):[o]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];R.tidy((function(){if(!t.stateful)throw new Aa("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),i=[a[0]].concat((0,vr.default)(a.slice(2)));if(null==r[0])throw new Da("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return R.zeros(i)})):t.states_=[R.zeros(i)];else if(null==e)R.dispose(t.states_),null!=t.keptStates&&(R.dispose(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return R.zeros(i)})):t.states_[0]=R.zeros(i);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new Da(`Layer ${t.name} expects ${t.states_.length} state(s), but it received ${e.length} state value(s). Input received: ${e}`);n?t.keptStates.push(t.states_.slice()):R.dispose(t.states_);for(var o=0;o<t.states_.length;++o){var s=e[o],u=i;if(!R.util.arraysEqual(s.shape,u))throw new Da(`State ${o} is incompatible with layer ${t.name}: expected shape=${u}, received shape=${s.shape}`);t.states_[o]=s}}t.states_=t.states_.map((function(e){return R.keep(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,i=t.padding,o=t.strides,s=t.dilationRate,u="channelsFirst"===n,l=e[u?3:2],c=e[u?4:3],d=ql(l,a[0],i,o[0],s[0]),f=ql(c,a[1],i,o[1],s[1]);return[].concat((0,vr.default)(e.slice(0,2)),(0,vr.default)(u?[r,d,f]:[d,f,r]))}}]),n}(bc));Oc.className="ConvRNN2D";var Dc=function(e){(0,Ea.default)(n,e);var t=_c(n);function n(e){var r;(0,xa.default)(this,n);var a=e.filters,i=e.kernelSize,o=e.strides,s=e.padding,u=e.dataFormat,l=e.dilationRate;return(r=t.call(this,Object.assign({},e,{units:a}))).filters=a,Ja(r.filters,"filters"),r.kernelSize=jl(i,2,"kernelSize"),r.kernelSize.forEach((function(e){return Ja(e,"kernelSize")})),r.strides=jl(o||1,2,"strides"),r.strides.forEach((function(e){return Ja(e,"strides")})),r.padding=s||"valid",pi(r.padding),r.dataFormat=u||"channelsLast",fi(r.dataFormat),r.dilationRate=jl(l||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return Ja(e,"dilationRate")})),r}return(0,Sa.default)(n,[{key:"build",value:function(e){var t;e=yo(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new Da(`The channel dimension of the input should be defined. Found ${e[n]}`);var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var i=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",i,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var o;if(this.unitForgetBias){var s=this.biasInitializer,u=this.filters;o=new(t=function(e){(0,Ea.default)(n,e);var t=_c(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"apply",value:function(e,t){return Di([s.apply([u]),R.ones([u]),s.apply([2*u])])}}]),n}(Ki),t.className="CustomInit",t)}else o=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,o,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return R.tidy((function(){if(3!==e.length)throw new Da(`ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got ${e.length}.`);var r=t.training||!1,a=e[0],i=e[1],o=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=Ic({ones:function(){return R.onesLike(a)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var s=n.dropoutMask,u=function(e,t,n){return t&&t[n]?R.mul(t[n],e):e},l=u(a,s,0),c=u(a,s,1),d=u(a,s,2),f=u(a,s,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=Ic({ones:function(){return R.onesLike(i)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var p=n.recurrentDropoutMask,h=u(i,p,0),m=u(i,p,1),v=u(i,p,2),g=u(i,p,3),y=R.split(n.kernel.read(),4,3),b=(0,A.default)(y,4),k=b[0],w=b[1],x=b[2],S=b[3],T=n.useBias?R.split(n.bias.read(),4):[null,null,null,null],E=(0,A.default)(T,4),C=E[0],N=E[1],I=E[2],_=E[3];l=n.inputConv(l,k,C,n.padding),c=n.inputConv(c,w,N,n.padding),d=n.inputConv(d,x,I,n.padding),f=n.inputConv(f,S,_,n.padding);var O=R.split(n.recurrentKernel.read(),4,3),D=(0,A.default)(O,4),F=D[0],$=D[1],P=D[2],M=D[3];h=n.recurrentConv(h,F),m=n.recurrentConv(m,$),v=n.recurrentConv(v,P),g=n.recurrentConv(g,M);var L=n.recurrentActivation.apply(R.add(l,h)),z=n.recurrentActivation.apply(R.add(c,m)),B=R.add(R.mul(z,o),R.mul(L,n.activation.apply(R.add(d,v)))),V=R.mul(n.recurrentActivation.apply(R.add(f,g)),n.activation.apply(B));return[V,V,B]}))}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t=(e.units,Ac(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},t,r)}},{key:"inputConv",value:function(e,t,n,r){var a=R.conv2d(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?Vi(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return R.conv2d(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(Ec);Dc.className="ConvLSTM2DCell",R.serialization.registerClass(Dc);var Fc=function(e){(0,Ea.default)(n,e);var t=_c(n);function n(e){(0,xa.default)(this,n);var r=new Dc(e);return t.call(this,Object.assign({},e,{cell:r}))}return(0,Sa.default)(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(Oc);function $c(e){var t=Pc();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Pc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pc=function(){return!!e})()}Fc.className="ConvLSTM2D",R.serialization.registerClass(Fc);var Mc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return(0,Sa.default)(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,i=n.getNoiseShape(r);return Gi((function(){return Ui(r,n.rate,i,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return(0,Ps.default)((0,Na.default)(n.prototype),"dispose",this).call(this)}}]),n}(Ao);Mc.className="Dropout",R.serialization.registerClass(Mc);var Lc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return(0,Sa.default)(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}(Mc);Lc.className="SpatialDropout1D",R.serialization.registerClass(Lc);var zc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var a=null;null!=e.batchSize&&(a=e.batchSize),r.batchInputShape=[a,e.inputDim]}return r.units=e.units,Ja(r.units,"units"),r.activation=Cl(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=ho(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=ho(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=ts(e.kernelConstraint),r.biasConstraint=ts(e.biasConstraint),r.kernelRegularizer=$l(e.kernelRegularizer),r.biasRegularizer=$l(e.biasRegularizer),r.activityRegularizer=$l(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return(0,Sa.default)(n,[{key:"build",value:function(e){var t=(e=yo(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(0,Wl.default)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=yo(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r,a=go(e),i=ti(n.activation.getClassName());return null!=i?r=Mi(a,n.kernel.read(),i,n.bias?n.bias.read():null):(r=Mi(a,n.kernel.read()),null!=n.bias&&(r=Vi(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:Tl(this.activation),useBias:this.useBias,kernelInitializer:po(this.kernelInitializer),biasInitializer:po(this.biasInitializer),kernelRegularizer:Dl(this.kernelRegularizer),biasRegularizer:Dl(this.biasRegularizer),activityRegularizer:Dl(this.activityRegularizer),kernelConstraint:Jo(this.kernelConstraint),biasConstraint:Jo(this.biasConstraint)},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);zc.className="Dense",R.serialization.registerClass(zc);var Bc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;return(0,xa.default)(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){for(var t of(e=yo(e)).slice(1))if(null==t)throw new Da(`The shape of the input to "Flatten" is not fully defined (got ${e.slice(1)}). Make sure to pass a complete "input_shape" or "batch_input_shape" argument to the first layer in your model.`);return[e[0],Si(e,1)]}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],i=2;i<r.rank;++i)a.push(i);a.push(1),r=(0,R.transpose)(r,a)}return function(e){if(e.rank<=1)throw new Da(`batchFlatten requires a minimum rank of 2. Got rank: ${e.rank}.`);var t=[e.shape[0],Si(e.shape,1)];return R.reshape(e,t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Bc.className="Flatten",R.serialization.registerClass(Bc);var Vc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=Cl(e.activation),r}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:Tl(this.activation)},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Vc.className="Activation",R.serialization.registerClass(Vc);var Uc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){return e=go(e),t=e,r=n.n,(0,R.tidy)((function(){if(2!==t.shape.length)throw new Da(`repeat() expects a rank-2 tensor, but received a rank-${t.shape.length} tensor.`);return $i(_i(t,1),[1,r,1])}));var t,r}))}},{key:"getConfig",value:function(){var e={n:this.n},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Uc.className="RepeatVector",R.serialization.registerClass(Uc);var Gc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;(0,xa.default)(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return(0,Sa.default)(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,i=null,o=0;o<r.length;++o){var s=r[o];if(this.isUnknown(s)){if(null!==i)throw new Da("Can only specifiy one unknown dimension.");i=o}else a*=s}var u=Si(e);if(null!==i){if(0===a||u%a!==0)throw new Da(n);r[i]=u/a}else if(u!==a)throw new Da(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e),a=r.shape,i=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return(0,R.reshape)(r,i)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Gc.className="Reshape",R.serialization.registerClass(Gc);var Wc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;if((0,xa.default)(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error(`Permute constructor requires \`dims\` to be an Array, but received ${e.dims} instead.`);var a=Ci(1,e.dims.length+1);if(!R.util.arraysEqual(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new Co({ndim:r.dims.length+1})],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){var t=(e=yo(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return(0,R.transpose)(go(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);Wc.className="Permute",R.serialization.registerClass(Wc);var jc=function(e){(0,Ea.default)(n,e);var t=$c(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=go(e);return(0,R.any)((0,R.notEqual)(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e),a=(0,R.any)((0,R.notEqual)(r,n.maskValue),-1,!0);return(0,R.mul)(r,(0,R.cast)(a,r.dtype))}))}}]),n}(Ao);function qc(e){var t=Hc();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Hc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hc=function(){return!!e})()}jc.className="Masking",R.serialization.registerClass(jc);var Kc=function(e){(0,Ea.default)(n,e);var t=qc(n);function n(e){var r;if((0,xa.default)(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),null==e.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat(Va(e.inputLength))}return r.inputDim=e.inputDim,Ja(r.inputDim,"inputDim"),r.outputDim=e.outputDim,Ja(r.outputDim,"outputDim"),r.embeddingsInitializer=ho(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=$l(e.embeddingsRegularizer),r.activityRegularizer=$l(e.activityRegularizer),r.embeddingsConstraint=ts(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,r}return(0,Sa.default)(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return(0,R.tidy)((function(){return n.maskZero?(e=go(e),(0,R.notEqual)(e,(0,R.zerosLike)(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=yo(e),null==this.inputLength)return[].concat((0,vr.default)(e),[this.outputDim]);var t=Va(this.inputLength);if(t.length!==e.length-1)throw new Da(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);for(var n=0,r=0;r<t.length;++r){var a=t[r],i=e[r+1];if(null!=a&&null!=i&&a!==i)throw new Da(`"inputLength" is ${this.inputLength}, but received input shape has shape ${e}`);null==a&&(t[n]=i),n++}return[e[0]].concat((0,vr.default)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e);"int32"!==r.dtype&&(r=Ii(r,"int32"));var a=Li(n.embeddings.read(),(0,R.reshape)(r,[r.size]));return(0,R.reshape)(a,yo(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:po(this.embeddingsInitializer),embeddingsRegularizer:Dl(this.embeddingsRegularizer),activityRegularizer:Dl(this.activityRegularizer),embeddingsConstraint:Jo(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);function Xc(e){var t=Yc();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Yc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yc=function(){return!!e})()}Kc.className="Embedding",R.serialization.registerClass(Kc);var Zc=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return(0,Sa.default)(n,[{key:"mergeFunction",value:function(e){throw new Fa}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],i=t[r];if(null==a||null==i||a<0||i<0)n.push(null);else if(1===a)n.push(i);else if(1===i)n.push(a);else{if(a!==i)throw new Da("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[yo(e)]),e.length<2)throw new Da(`A merge layer should be called on an Array of at least 2 inputs. Got ${e.length} input(s).`);var t=[];for(var n of e)null!=n&&null!==n[0]&&t.push(n[0]);if((t=Xa(t)).length>1)throw new Da(`Can not merge tensors with different batch sizes. Got tensors with shapes: ${JSON.stringify(e)}.`);for(var r=null==e[0]?null:e[0].slice(1),a=1;a<e.length;++a){var i=null==e[a]?null:e[a].slice(1);r=this.computeElementwiseOpOutputShape(r,i)}var o=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===Xa(o).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){if(n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var a=Ei(r);for(var i of e){for(var o=i.rank,s=0;s<a-o;++s)i=_i(i,1);t.push(i)}return n.mergeFunction(t)}var u=!1;for(var l of e){var c=l.rank;if(null==c){var d=l.shape,f=d[0],p=d.slice(1).concat([f]),h=R.reshape(l,[f].concat(Si(d.slice(1))));h=R.transpose(h,[1,0]),h=R.reshape(h,p),t.push(h),u=!0}else if(c>1){var m=Ci(1,c).concat([0]);t.push(R.transpose(l,m)),u=!0}else t.push(l)}var v=n.mergeFunction(t),g=v.rank;if(u)if(null==g){var y=v.shape,b=y[y.length-1],k=[b].concat(y.slice(0,y.length-1));v=R.reshape(R.transpose(R.reshape(v,[-1,b]),[1,0]),k)}else if(g>1){var w=[g-1].concat(Ci(0,g-1));v=R.transpose(v,w)}return v}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==e[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a=[];for(var i of e)null!=i&&null!==i[0]&&a.push(i[0]);return t=1===(a=Xa(a)).length?a.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return R.tidy((function(){if(null==t)return null;if(!Array.isArray(t))throw new Da("`mask` should be an Array");if(!Array.isArray(e))throw new Da("`inputs` should be an Array");if(t.length!==e.length)throw new Da(`The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths (${e.length} vs ${t.length})`);if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:R.expandDims(e,0)})))[0],r=1;r<t.length-1;++r)n=R.logicalAnd(n,t[r]);return n}))}}]),n}(Ao),Qc=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"mergeFunction",value:function(e){return(0,R.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=R.add(t,e[n]);return t}))}}]),n}(Zc);Qc.className="Add",R.serialization.registerClass(Qc);var Jc=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"mergeFunction",value:function(e){return(0,R.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=R.mul(t,e[n]);return t}))}}]),n}(Zc);Jc.className="Multiply",R.serialization.registerClass(Jc);var ed=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"mergeFunction",value:function(e){return(0,R.tidy)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=R.add(t,e[n]);return R.mul(1/e.length,t)}))}}]),n}(Zc);ed.className="Average",R.serialization.registerClass(ed);var td=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"mergeFunction",value:function(e){return(0,R.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=R.maximum(t,e[n]);return t}))}}]),n}(Zc);td.className="Maximum",R.serialization.registerClass(td);var nd=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"mergeFunction",value:function(e){return(0,R.tidy)((function(){for(var t=e[0],n=1;n<e.length;++n)t=R.minimum(t,e[n]);return t}))}}]),n}(Zc);nd.className="Minimum",R.serialization.registerClass(nd);var rd=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,Sa.default)(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new Da("A `Concatenate` layer should be called on a list of at least 2 inputs");var t=!0;for(var n of e)if(null!=n){t=!1;break}if(!t){for(var r=[],a=0;a<e.length;++a){var i=e[a].slice();i.splice(this.axis,1);var o=!1;for(var s of r)if(R.util.arraysEqual(s,i)){o=!0;break}o||r.push(i)}if(r.length>1)throw new Da("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return(0,R.tidy)((function(){return Di(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new Da("A `Concatenate` layer should be called on a list of inputs.");var t=e,n=t[0].slice(),r=this.axis<0?n.length+this.axis:this.axis;for(var a of t.slice(1)){if(null==n[r]||null==a[r]){n[r]=null;break}n[r]+=a[r]}return n}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new Da("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new Da("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new Da(`Mismatch in the length of mask (${t.length}) and the legnth of inputs (${e.length})`);return R.tidy((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],i=0;i<e.length;++i)null==t[i]?a.push(R.cast(R.onesLike(e[i]),"bool")):t[i].rank<e[i].rank?a.push(R.expandDims(t[i],-1)):a.push(t[i]);var o=R.concat(a,n.axis);return R.all(o,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Zc);function ad(e,t){for(;e<0;)e+=t;return e}rd.className="Concatenate",R.serialization.registerClass(rd);var id=function(e){(0,Ea.default)(n,e);var t=Xc(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,Sa.default)(n,[{key:"build",value:function(e){R.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new Fa("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new Da(`Dimension incompatibility: ${t[r[0]]} !== ${n[r[1]]}`)}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new Da(`A \`Dot\` layer must be called on exactly 2 inputs, but received ${e.length} input(s).`);var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return ad(t,e[n].shape.length)})):[ad(this.axes,n.shape.length),ad(this.axes,r.shape.length)],this.normalize&&(n=Ls(n,t[0]),r=Ls(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new Fa("batchDot is not implemented for tensors of 4D or higher rank yet");if(R.util.assert(e.shape.length>=2,(function(){return`batchDot requires the rank of x to be >= 2, but got ${e.shape.length}`})),R.util.assert(e.shape.length>=2,(function(){return`batchDot requires the rank of y to be >= 2, but got ${t.shape.length}`})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new Fa("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var i=n;return R.tidy((function(){var n,o;if(r>a){n=r-a;for(var s=[],u=0;u<n;++u)s.push(1);t=R.reshape(t,t.shape.concat(s))}else if(a>r){n=a-r;for(var l=[],c=0;c<n;++c)l.push(1);e=R.reshape(e,e.shape.concat(l))}else n=0;if(2===e.shape.length&&2===t.shape.length)o=i[0]===i[1]?R.sum(R.mul(e,t),i[0]):R.sum(R.mul(R.transpose(e,[1,0]),t),i[1]);else{var d=i[0]!==e.shape.length-1,f=i[1]===t.shape.length-1;o=R.matMul(e,t,d,f)}if(n>0){for(var p,h=[],m=p=r>a?r+a-3:r-1;m<p+n;++m)h.push(m);o=R.squeeze(o,h)}return 1===o.shape.length&&(o=R.expandDims(o,1)),o}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[ad(this.axes,e.length),ad(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){R.util.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new Fa("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Zc);function od(e){var t=sd();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function sd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sd=function(){return!!e})()}id.className="Dot",R.serialization.registerClass(id);var ud=function(e){(0,Ea.default)(n,e);var t=od(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e);return Gi((function(){return(0,R.add)(Pi(r.shape,0,n.stddev),r)}),(function(){return r}),t.training||!1)}))}}]),n}(Ao);ud.className="GaussianNoise",R.serialization.registerClass(ud);var ld=function(e){(0,Ea.default)(n,e);var t=od(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t);var r=go(e);if(n.rate>0&&n.rate<1){return Gi((function(){var e=Math.sqrt(n.rate/(1-n.rate));return(0,R.mul)(r,Pi(r.shape,1,e))}),(function(){return r}),t.training||!1)}return r}))}}]),n}(Ao);ld.className="GaussianDropout",R.serialization.registerClass(ld);var cd=function(e){(0,Ea.default)(n,e);var t=od(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return(0,Sa.default)(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||go(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return Gi((function(){var t=go(e),a=-1.7580993408473766,i=(0,R.greaterEqual)((0,R.randomUniform)(r),n.rate);i=Ii(i,"float32");var o=((1-n.rate)*(1+n.rate*a**2))**-.5,s=-o*a*n.rate,u=(0,R.add)((0,R.mul)(t,i),(0,R.mul)((0,R.add)(i,-1),a));return(0,R.add)((0,R.mul)(u,o),s)}),(function(){return go(e)}),t.training||!1)}return e}))}}]),n}(Ao);function dd(e){var t=fd();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function fd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(fd=function(){return!!e})()}function pd(e,t,n,r,a){var i,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)i=R.batchNorm2d(e,t,n,r,a,o);else if(3===e.rank)i=R.batchNorm3d(e,t,n,r,a,o);else{if(4!==e.rank)throw new Fa(`batchNormalization is not implemented for array of rank ${e.rank} yet`);i=R.batchNorm4d(e,t,n,r,a,o)}return i}function hd(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return R.util.arraysEqual(r.slice().sort(),Ci(0,e.rank-1))?function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return(0,R.tidy)((function(){var i=R.moments(e,r),o=i.mean,s=i.variance;return[pd(e,o,s,n,t,a),o,s]}))}(e,t,n,r,a):function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return(0,R.tidy)((function(){var i=R.moments(e,r),o=i.mean,s=i.variance,u=[];for(var l of Ci(0,e.rank))-1!==r.indexOf(l)?u.push(1):u.push(e.shape[l]);var c=(0,R.reshape)(o,u),d=(0,R.reshape)(s,u),f=null==t?null:(0,R.reshape)(t,u),p=null==n?null:(0,R.reshape)(n,u);return[pd(e,c,d,p,f,a),o,s]}))}(e,t,n,r,a)}cd.className="AlphaDropout",R.serialization.registerClass(cd);var md=function(e){(0,Ea.default)(n,e);var t=dd(n);function n(e){var r;return(0,xa.default)(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=ho(e.betaInitializer||"zeros"),r.gammaInitializer=ho(e.gammaInitializer||"ones"),r.movingMeanInitializer=ho(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=ho(e.movingVarianceInitializer||"ones"),r.betaConstraint=ts(e.betaConstraint),r.gammaConstraint=ts(e.gammaConstraint),r.betaRegularizer=$l(e.betaRegularizer),r.gammaRegularizer=$l(e.gammaRegularizer),r}return(0,Sa.default)(n,[{key:"build",value:function(e){e=yo(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new Da(`Axis ${t} of input tensor should have a defined dimension but the layer received an input with shape ${JSON.stringify(e)}.`);this.inputSpec=[new Co({ndim:e.length,axes:(0,Wl.default)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var r=null!=t.training&&t.training,a=go(e),i=a.shape,o=i.length,s=Ci(0,o),u=n.axis>=0?n.axis:n.axis+o;s.splice(u,1);var l=Ma(1,o);l[u]=i[u];var c=s.slice();c.sort();var d=!R.util.arraysEqual(c,Ci(0,o).slice(0,o-1));if(!r)return function(){if(d){var e=(0,R.reshape)(n.movingMean.read(),l),t=(0,R.reshape)(n.movingVariance.read(),l),r=n.center?(0,R.reshape)(n.beta.read(),l):null,i=n.scale?(0,R.reshape)(n.gamma.read(),l):null;return pd(a,e,t,r,i,n.epsilon)}return pd(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var f=hd(a,n.gamma.read(),n.beta.read(),s,n.epsilon),p=(0,A.default)(f,3),h=p[0],m=p[1],v=p[2],g=function(e,t,n){R.tidy((function(){var r=1-n,a=e.read(),i=R.mul(R.sub(a,t),r);e.write(R.sub(a,i))}))};return g(n.movingMean,m,n.momentum),g(n.movingVariance,v,n.momentum),h}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:po(this.betaInitializer),gammaInitializer:po(this.gammaInitializer),movingMeanInitializer:po(this.movingMeanInitializer),movingVarianceInitializer:po(this.movingVarianceInitializer),betaRegularizer:Dl(this.betaRegularizer),gammaRegularizer:Dl(this.gammaRegularizer),betaConstraint:Jo(this.betaConstraint),gammaConstraint:Jo(this.gammaConstraint)},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);md.className="BatchNormalization",R.serialization.registerClass(md);var vd=function(e){(0,Ea.default)(n,e);var t=dd(n);function n(e){var r;if((0,xa.default)(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error(`Expected axis to be an integer, but received ${r.axis}`)}else{if(!Array.isArray(r.axis))throw new Error(`Expected axis to be an integer or an array of integers, but received ${JSON.stringify(r.axis)}`);for(var a of r.axis)if(!Number.isInteger(a))throw new Error(`Expected axis to be an array of integers, but received ${JSON.stringify(r.axis)}`)}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=ho(e.betaInitializer||"zeros"),r.gammaInitializer=ho(e.gammaInitializer||"ones"),r.betaRegularizer=$l(e.betaRegularizer),r.gammaRegularizer=$l(e.gammaRegularizer),r.supportsMasking=!0,r}return(0,Sa.default)(n,[{key:"build",value:function(e){var t=(e=yo(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);for(var r of this.axis)if(r<0||r>=t)throw new Error(`Invalid axis: ${r}`);if(this.axis.length!==Xa(this.axis).length)throw new Error(`Found duplicate axes in: ${this.axis}`);var a=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",a,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",a,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=go(e),a=r.shape,i=a.length;return(0,R.tidy)((function(){var e=(0,R.moments)(r,n.axis,!0),t=e.mean,o=e.variance,s=Ma(1,i);for(var u of n.axis)s[u]=a[u];for(var l=function(e){return null!=e&&e.shape.length!==i?R.reshape(e,s):e},c=n.scale?l(n.gamma.read()):null,d=n.center?l(n.beta.read()):null,f=[],p=[],h=0;h<i;++h)-1!==n.axis.indexOf(h)?(f.push(a[h]),p.push(1)):(f.push(1),p.push(a[h]));return t=R.tile(t,f),o=R.tile(o,f),null!=c&&(c=R.tile(c,p)),null!=d&&(d=R.tile(d,p)),pd(r,t,o,d,c,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:po(this.betaInitializer),gammaInitializer:po(this.gammaInitializer),betaRegularizer:Dl(this.betaRegularizer),gammaRegularizer:Dl(this.gammaRegularizer)},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);function gd(e){var t=yd();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function yd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yd=function(){return!!e})()}vd.className="LayerNormalization",R.serialization.registerClass(vd);var bd=function(e){(0,Ea.default)(n,e);var t=gd(n);function n(e){var r;if((0,xa.default)(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new Da(`ZeroPadding2D expects padding to be a length-2 array, but received a length-${e.padding.length} array.`);var a,i;if("number"===typeof e.padding[0])a=[e.padding[0],e.padding[0]],i=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new Da(`ZeroPadding2D expects height padding to be a length-2 array, but received a length-${e.padding[0].length} array.`);if(a=e.padding[0],2!==e.padding[1].length)throw new Da(`ZeroPadding2D expects width padding to be a length-2 array, but received a length-${e.padding[1].length} array.`);i=e.padding[1]}r.padding=[a,i]}return r.inputSpec=[new Co({ndim:4})],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=yo(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){return t=go(e),r=n.padding,a=n.dataFormat,(0,R.tidy)((function(){if(4!==t.rank)throw new Da(`temporalPadding expects input tensor to be 4-D, but received a ${t.rank}-D tensor.`);if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new Da("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new Da(`Unknown data format: ${a}. Supported data formats are 'channelsLast' and 'channelsFirst.`);var e;return e="channelsFirst"===a?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],R.pad(t,e)}));var t,r,a}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao);function kd(e){var t=wd();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function wd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wd=function(){return!!e})()}function xd(e,t,n,r,a,i){return(0,R.tidy)((function(){var o;fi(a),hi(i),pi(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=Yl(e,a);var s="same"===r?"same":"valid";return o="max"===i?R.maxPool(e,t,n,s):R.avgPool(e,t,n,s),"channelsFirst"===a&&(o=R.transpose(o,[0,3,1,2])),o}))}function Sd(e,t,n,r,a,i){return(0,R.tidy)((function(){var o;fi(a),hi(i),pi(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==i&&(i="max"),e=Zl(e,a);var s="same"===r?"same":"valid";return o="max"===i?R.maxPool3d(e,t,n,s):R.avgPool3d(e,t,n,s),"channelsFirst"===a&&(o=R.transpose(o,[0,4,1,2,3])),o}))}bd.className="ZeroPadding2D",R.serialization.registerClass(bd);var Td=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){var r;if((0,xa.default)(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"===typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new Da(`poolSize for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.poolSize)}`);r.poolSize=e.poolSize}if(Ja(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"===typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new Da(`strides for 1D convolutional layer must be a number or an Array of a single number, but received ${JSON.stringify(e.strides)}`);r.strides=e.strides}return Ja(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,pi(r.padding),r.inputSpec=[new Co({ndim:3})],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){var t=ql((e=yo(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){n.invokeCallHook(e,t),e=_i(go(e),2);var r=n.poolingFunction(go(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return R.squeeze(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao),Ed=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return fi(a),pi(r),xd(e,t,n,r,a,"max")}}]),n}(Td);Ed.className="MaxPooling1D",R.serialization.registerClass(Ed);var Cd=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return fi(a),pi(r),xd(e,t,n,r,a,"avg")}}]),n}(Td);Cd.className="AveragePooling1D",R.serialization.registerClass(Cd);var Nd=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){var r;if((0,xa.default)(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new Da(`If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length ${e.strides.length}.`);r.strides=e.strides}else r.strides=[e.strides,e.strides];return Ja(r.poolSize,"poolSize"),Ja(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,fi(r.dataFormat),pi(r.padding),r.inputSpec=[new Co({ndim:4})],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){e=yo(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=ql(t,this.poolSize[0],this.padding,this.strides[0]),n=ql(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(go(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao),Id=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return fi(a),pi(r),xd(e,t,n,r,a,"max")}}]),n}(Nd);Id.className="MaxPooling2D",R.serialization.registerClass(Id);var _d=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return fi(a),pi(r),xd(e,t,n,r,a,"avg")}}]),n}(Nd);_d.className="AveragePooling2D",R.serialization.registerClass(_d);var Rd=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){var r;if((0,xa.default)(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new Da(`If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length ${e.strides.length}.`);r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return Ja(r.poolSize,"poolSize"),Ja(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,fi(r.dataFormat),pi(r.padding),r.inputSpec=[new Co({ndim:5})],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){e=yo(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=ql(t,this.poolSize[0],this.padding,this.strides[0]),n=ql(n,this.poolSize[1],this.padding,this.strides[1]),r=ql(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){return n.invokeCallHook(e,t),n.poolingFunction(go(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao),Ad=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return fi(a),pi(r),Sd(e,t,n,r,a,"max")}}]),n}(Rd);Ad.className="MaxPooling3D",R.serialization.registerClass(Ad);var Od=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e)}return(0,Sa.default)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return fi(a),pi(r),Sd(e,t,n,r,a,"avg")}}]),n}(Rd);Od.className="AveragePooling3D",R.serialization.registerClass(Od);var Dd=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).inputSpec=[new Co({ndim:3})],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new Fa}}]),n}(Ao),Fd=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e||{})}return(0,Sa.default)(n,[{key:"call",value:function(e,t){return(0,R.tidy)((function(){var t=go(e);return R.mean(t,1)}))}}]),n}(Dd);Fd.className="GlobalAveragePooling1D",R.serialization.registerClass(Fd);var $d=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){return(0,xa.default)(this,n),t.call(this,e||{})}return(0,Sa.default)(n,[{key:"call",value:function(e,t){return(0,R.tidy)((function(){var t=go(e);return R.max(t,1)}))}}]),n}(Dd);$d.className="GlobalMaxPooling1D",R.serialization.registerClass($d);var Pd=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,fi(r.dataFormat),r.inputSpec=[new Co({ndim:4})],r}return(0,Sa.default)(n,[{key:"computeOutputShape",value:function(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new Fa}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(Ao),Md=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var t=go(e);return"channelsLast"===n.dataFormat?R.mean(t,[1,2]):R.mean(t,[2,3])}))}}]),n}(Pd);Md.className="GlobalAveragePooling2D",R.serialization.registerClass(Md);var Ld=function(e){(0,Ea.default)(n,e);var t=kd(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var t=go(e);return"channelsLast"===n.dataFormat?R.max(t,[1,2]):R.max(t,[2,3])}))}}]),n}(Pd);function zd(e){var t=Bd();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Bd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Bd=function(){return!!e})()}Ld.className="GlobalMaxPooling2D",R.serialization.registerClass(Ld);var Vd=function(e){(0,Ea.default)(n,e);var t=zd(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).layer=e.layer,r}return(0,Sa.default)(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){(0,Ps.default)((0,Na.default)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ms(t.layer,n);delete t.layer;var a={layer:r};return Object.assign(a,t),new e(a)}}]),n}(Ao),Ud=function(e){(0,Ea.default)(n,e);var t=zd(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return(0,Sa.default)(n,[{key:"build",value:function(e){if((e=yo(e)).length<3)throw new Da(`TimeDistributed layer expects an input shape >= 3D, but received input shape ${JSON.stringify(e)}`);this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),(0,Ps.default)((0,Na.default)(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=yo(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){return yc((function(e,r){return[go(n.layer.call(e,t)),[]]}),e=go(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(Vd);Ud.className="TimeDistributed",R.serialization.registerClass(Ud);var Gd=function(e){(0,Ea.default)(n,e);var t=zd(n);function n(e){var r;(0,xa.default)(this,n),r=t.call(this,e);var a=e.layer.getConfig(),i={};i.className=e.layer.getClassName(),i.config=a,r.forwardLayer=Ms(i),a.goBackwards=!0!==a.goBackwards;var o,s={};if(s.className=e.layer.getClassName(),s.config=a,r.backwardLayer=Ms(s),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,o=r.mergeMode,Za(ci,"BidirectionalMergeMode",o),e.weights)throw new Fa("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return(0,Sa.default)(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):Ba(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var i=gc(e,r,a,this.numConstants);if(e=i.inputs,r=i.initialState,a=i.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return(0,Ps.default)((0,Na.default)(n.prototype),"apply",this).call(this,e,t);var o=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new Da("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,o.push.apply(o,(0,vr.default)(r));var l=r.map((function(e){return new Co({shape:e.shape})}));this.forwardLayer.stateSpec=l.slice(0,u/2),this.backwardLayer.stateSpec=l.slice(u/2),s.push.apply(s,(0,vr.default)(l))}if(null!=a)throw new Fa("Support for constants in Bidirectional layers is not implemented yet.");var c=o[0]instanceof No;for(var d of o)if(d instanceof No!==c)throw new Da("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors");if(c){var f=[e].concat(o),p=this.inputSpec.concat(s),h=this.inputSpec;this.inputSpec=p;var m=(0,Ps.default)((0,Na.default)(n.prototype),"apply",this).call(this,f,t);return this.inputSpec=h,m}return(0,Ps.default)((0,Na.default)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return(0,R.tidy)((function(){var r,a,i,o,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var u=s.slice(0,s.length/2),l=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:u})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:l}))}return n.returnState&&(Array.isArray(r)&&(i=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=R.reverse(a,1)),"concat"===n.mergeMode?o=Di([r,a]):"sum"===n.mergeMode?o=R.add(r,a):"ave"===n.mergeMode?o=R.mul(.5,R.add(r,a)):"mul"===n.mergeMode?o=R.mul(r,a):null==n.mergeMode&&(o=[r,a]),n.returnState?null==n.mergeMode?o.concat(i):[o].concat(i):o}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;gi(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),gi(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){(0,Ps.default)((0,Na.default)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=(0,Ps.default)((0,Na.default)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=Ms(t.layer);if(delete t.layer,null!=t.numConstants)throw new Fa("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(Vd);function Wd(e){return new $o(e)}function jd(e){return new Vl(e)}function qd(e){return new Ll(e)}function Hd(e){return new zl(e)}function Kd(e){return new Bl(e)}function Xd(e){return new Gl(e)}function Yd(e){return new Ul(e)}function Zd(e){return new lc(e)}function Qd(e){return new rc(e)}function Jd(e){return new ic(e)}function ef(e){return new ac(e)}function tf(e){return new oc(e)}function nf(e){return new uc(e)}function rf(e){return new cc(e)}function af(e){return new dc(e)}function of(e){return new hc(e)}function sf(e){return new Vc(e)}function uf(e){return new zc(e)}function lf(e){return new Mc(e)}function cf(e){return new Lc(e)}function df(e){return new Bc(e)}function ff(e){return new Uc(e)}function pf(e){return new Gc(e)}function hf(e){return new Wc(e)}function mf(e){return new Kc(e)}function vf(e){return new Qc(e)}function gf(e){return new ed(e)}function yf(e){return new rd(e)}function bf(e){return new td(e)}function kf(e){return new nd(e)}function wf(e){return new Jc(e)}function xf(e){return new id(e)}function Sf(e){return new md(e)}function Tf(e){return new vd(e)}function Ef(e){return new bd(e)}function Cf(e){return new Cd(e)}function Nf(e){return Cf(e)}function If(e){return Cf(e)}function _f(e){return new _d(e)}function Rf(e){return _f(e)}function Af(e){return _f(e)}function Of(e){return new Od(e)}function Df(e){return Of(e)}function Ff(e){return Of(e)}function $f(e){return new Fd(e)}function Pf(e){return new Md(e)}function Mf(e){return new $d(e)}function Lf(e){return new Ld(e)}function zf(e){return new Ed(e)}function Bf(e){return new Id(e)}function Vf(e){return new Ad(e)}function Uf(e){return new Tc(e)}function Gf(e){return new Sc(e)}function Wf(e){return new Cc(e)}function jf(e){return new Ec(e)}function qf(e){return new xc(e)}function Hf(e){return new wc(e)}function Kf(e){return new Fc(e)}function Xf(e){return new Dc(e)}function Yf(e){return new bc(e)}function Zf(e){return new Nc(e)}function Qf(e){return new Gd(e)}function Jf(e){return new Ud(e)}Gd.className="Bidirectional",R.serialization.registerClass(Gd);var ep=Mf,tp=Lf,np=zf,rp=Bf;function ap(e){return new ud(e)}function ip(e){return new ld(e)}function op(e){return new cd(e)}function sp(e){return new jc(e)}function up(e,t){return Ys(e,t)}function lp(e,t){return tu(e,t)}function cp(e,t){return nu(e,t)}function dp(e,t){return Zs(e,t)}function fp(e,t){return ru(e,t)}function pp(e,t){return Js(e,t)}function hp(e,t){return eu(e,t)}function mp(e,t){return Hs(e,t)}function vp(e,t){return Bs(e,t)}function gp(e,t){return Vs(e,t)}function yp(e,t){return Vs(e,t)}function bp(e,t){return Vs(e,t)}function kp(e,t){return zs(e,t)}function wp(e,t){return zs(e,t)}function xp(e,t){return zs(e,t)}function Sp(e){return new Al(e)}function Tp(e){return _l(t=e),new Al({l1:null!=t?t.l1:null,l2:0});var t}function Ep(e){return _l(t=e),new Al({l2:null!=t?t.l2:null,l1:0});var t}function Cp(e){var t=Np();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Np(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Np=function(){return!!e})()}var Ip=function(e){(0,Ea.default)(n,e);var t=Cp(n);function n(){var e;return(0,xa.default)(this,n),(e=t.apply(this,arguments)).model=null,e}return(0,Sa.default)(n,[{key:"setModel",value:function(e){if(!(e instanceof Hu))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}]),n}(Is);function _p(e,t){return e<t}function Rp(e,t){return e>t}var Ap=function(e){(0,Ea.default)(n,e);var t=Cp(n);function n(e){var r;if((0,xa.default)(this,n),r=t.call(this),null==e&&(e={}),e.restoreBestWeights)throw new Fa("restoreBestWeights = True is not implemented in EarlyStopping yet.");return r.monitor=e.monitor||"val_loss",r.minDelta=Math.abs(e.minDelta||0),r.patience=e.patience||0,r.verbose=e.verbose||0,r.mode=e.mode||"auto",r.baseline=e.baseline,-1===["auto","min","max"].indexOf(r.mode)&&(console.warn(`EarlyStopping mode '${r.mode}' is invalid. Falling back to mode 'auto'.`),r.mode="auto"),"min"===r.mode?r.monitorFunc=_p:"max"===r.mode||-1!==r.monitor.indexOf("acc")?r.monitorFunc=Rp:r.monitorFunc=_p,r.monitorFunc===_p&&(r.minDelta*=-1),r}return(0,Sa.default)(n,[{key:"onTrainBegin",value:function(){var e=(0,xs.default)((function*(e){this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===_p?1/0:-1/0}));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,xs.default)((function*(e,t){yield Ss(t);var n=this.getMonitorValue(t);null!=n&&(this.monitorFunc(n-this.minDelta,this.best)?(this.best=n,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=e,this.model.stopTraining=!0)))}));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,xs.default)((function*(e){this.stoppedEpoch>0&&this.verbose&&console.log(`Epoch ${this.stoppedEpoch}: early stopping.`)}));return function(t){return e.apply(this,arguments)}}()},{key:"getMonitorValue",value:function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn(`Metric for EarlyStopping ${this.monitor} is not available. Available metrics are: ${Object.keys(e)}`),t}}]),n}(Ip);var Op,Dp,Fp={earlyStopping:function(e){return new Ap(e)}};(0,R.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(Op||(Op={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(Dp||(Dp={}));var $p={};function Pp(e,t){var n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};$p[e]=n}function Mp(e){return $p[e]}function Lp(e){delete $p[e]}function zp(e,t,n,r,a){var i=t.inputParams[e];if(i&&void 0!==i.inputIndexStart){var o=i.inputIndexStart,s=0===i.inputIndexEnd?void 0:void 0===i.inputIndexEnd?o+1:i.inputIndexEnd;if("tensor"===i.type)return Bp(t.inputNames[i.inputIndexStart],n,r,a);if("tensors"===i.type)return t.inputNames.slice(o,s).map((function(e){return Bp(e,n,r,a)}));var u=Bp(t.inputNames.slice(o)[0],n,r,a),l=u.dataSync();return"number"===i.type?l[0]:R.util.toNestedArray(u.shape,l)}var c=t.attrParams[e];return c&&c.value}function Bp(e,t,n,r){var a=Gp(e),i=(0,A.default)(a,2),o=i[0],s=i[1];if(null!=r){var u=r.getHashTableHandleByName(o);if(null!=u)return u}var l=n.currentContextIds.find((function(e){return!!t[Up(o,e)]}));return void 0!==l?t[Up(o,l)][s]:void 0}function Vp(e,t){var n=Gp(e),r=(0,A.default)(n,3),a=r[0],i=r[1],o=r[2];return[Up(a,t&&t.currentContextId),i,o]}function Up(e,t){return t?`${e}-${t}`:e}function Gp(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function Wp(e,t,n){var r=zp("pad",e,t,n);if("explicit"===r){r=zp("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],i=0;i<4;i++)a[i][0]=r[2*i],a[i][1]=r[2*i+1];return a}return r}function jp(e){return e.kept?e:(0,R.clone)(e)}var qp=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Hp=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Kp=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],Xp=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],Yp=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Zp=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Qp=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Jp=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],eh=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],th=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],nh=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],rh=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],ah=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],ih=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],oh=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],sh=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],uh=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],lh=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],ch=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],dh=function(){function e(){var t;(0,xa.default)(this,e);var n=[l,c,d,f,p,h,m,v,g,y,b,k,w,x,S,T,E,C,N],r=(t=[]).concat.apply(t,(0,vr.default)(n.map((function(e){return e.json}))));this.opMappers=r.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,Sa.default)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,a=[],i=[],o=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?i.push(e[n.name]):null!=n.input&&0!==n.input.length||o.push(e[n.name]),e}),{}),u=[],l=[],c={},d={};null!=n&&(c=this.mapSignatureEntries(n.inputs),d=this.mapSignatureEntries(n.outputs));var f=Object.keys(s);f.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=Vp(e),a=(0,A.default)(r,3),i=a[0],o=a[2],u=s[i];if(null!=u.outputs){var l=u.outputs.indexOf(o);if(-1!==l){var c=`${i}:${l}`;t.inputNames[n]=c}}t.inputs.push(u),u.children.push(t)}))})),0===Object.keys(d).length?f.forEach((function(e){var t=s[e];0===t.children.length&&l.push(t)})):Object.keys(d).forEach((function(e){var t=Vp(e),n=(0,A.default)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=d[e],l.push(r))})),Object.keys(c).length>0?Object.keys(c).forEach((function(e){var t=Vp(e),n=(0,A.default)(t,1)[0],r=s[n];r&&(r.signatureKey=c[e],u.push(r))})):u=a;var p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:s,inputs:u,outputs:l,weights:i,placeholders:a,signature:n,functions:p};return o.length>0&&(h.initNodes=o),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=Mp(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=ph(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=ph(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=Sh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Sh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=mh(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=mh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=xh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=xh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=hh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=hh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=Eh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Eh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=wh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=wh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=Th(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Th(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=yh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=yh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=bh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=bh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=gh(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=gh(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],a={};null!=n&&(a=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var i=[],o=[];e.signature.inputArg.forEach((function(e){var t=Vp(e.name),n=(0,A.default)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:vh(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,i.push(r),a[n]=r})),Object.keys(a).forEach((function(e){var t=a[e];t.inputNames.forEach((function(e,n){var r=Vp(e),i=(0,A.default)(r,3),o=i[0],s=i[2],u=a[o];if(null!=u.outputs){var l=u.outputs.indexOf(s);if(-1!==l){var c=`${o}:${l}`;t.inputNames[n]=c}}t.inputs.push(u),u.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=Vp(s[e.name]),n=(0,A.default)(t,2),r=n[0],i=n[1],u=a[r];null!=u&&(u.defaultOutput=i,o.push(u))}));var u=this.mapArgsToSignature(e);return{nodes:a,inputs:i,outputs:o,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function fh(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=(0,R.env)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function ph(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?fh(a.s,r):n}function hh(e,t,n){var r=e[t];return r?r.b:n}function mh(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function vh(e){switch("string"===typeof e&&(e=Op[e]),e){case Op.DT_FLOAT:case Op.DT_HALF:return"float32";case Op.DT_INT32:case Op.DT_INT64:case Op.DT_INT8:case Op.DT_UINT8:return"int32";case Op.DT_BOOL:return"bool";case Op.DT_DOUBLE:return"float32";case Op.DT_STRING:return"string";default:return null}}function gh(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function yh(e,t,n){var r=e[t];return r&&r.type?vh(r.type):n}function bh(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return vh(e)})):n}function kh(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function wh(e,t,n){var r=e[t];return r&&r.shape?kh(r.shape):n}function xh(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function Sh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return fh(e,r)})):n}function Th(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return kh(e)})):n}function Eh(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var Ch=function(){function e(t,n,r){var a=this;(0,xa.default)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return(0,Sa.default)(e,[{key:"getInput",value:function(e){return Bp(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return Bp(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return mh(this.node.rawAttrs,e,t);if(null!=n.s)return ph(this.node.rawAttrs,e,t);if(null!=n.b)return hh(this.node.rawAttrs,e,t);if(null!=n.shape)return wh(this.node.rawAttrs,e,t);if(null!=n.type)return yh(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return xh(this.node.rawAttrs,e,t);if(null!=n.list.s)return Sh(this.node.rawAttrs,e,t);if(null!=n.list.shape)return Th(this.node.rawAttrs,e,t);if(null!=n.list.b)return Eh(this.node.rawAttrs,e,t);if(null!=n.list.type)return bh(this.node.rawAttrs,e,t)}return t}}]),e}(),Nh=n(2477);function Ih(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){R.util.assert(e.length===t.length,(function(){return n+` Shapes ${e} and ${t} must match`}));for(var r=0;r<e.length;r++){var a=e[r],i=t[r];R.util.assert(a<0||i<0||a===i,(function(){return n+` Shapes ${e} and ${t} must match`}))}}}function _h(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function Rh(e,t,n){var r=Ah(e,n),a=!_h(r);if(a&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&t.forEach((function(e){r=Ah(e.shape,r)})),!_h(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function Ah(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);for(var n=[],r=0;r<e.length;++r){var a=e[r],i=t[r];if(a>=0&&i>=0&&a!==i)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=a>=0?a:i}return n}var Oh=function(){function e(t,n,r,a,i,o,s){(0,xa.default)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=(0,R.scalar)(0),(0,R.keep)(this.idTensor)}return(0,Sa.default)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);var t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Ih(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,(0,R.keep)(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return(0,R.tensor)([],[0].concat(this.elementShape));var r=this.readMany(e);return Ih(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),(0,R.stack)(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return(0,R.tensor)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return Ih(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),(0,R.concat)(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);var n=Math.max.apply(Math,(0,vr.default)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,(0,R.unstack)(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);var i=0===r?0:t.size/r,o=[];(0,R.tidy)((function(){t=(0,R.reshape)(t,[1,r,i]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:a[s-1],0],l=[1,e[s],i];o[s]=(0,R.reshape)((0,R.slice)(t,u,l),n.elementShape)}return o}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,o)}}]),e}(),Dh=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,xa.default)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${e.dtype}`);Ih(n,e.shape,"TensorList shape mismatch: "),(0,R.keep)(e)})),this.idTensor=(0,R.scalar)(0),this.maxNumElements=a,(0,R.keep)(this.idTensor)}return(0,Sa.default)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,vr.default)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==r&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Ih(e,this.elementShape,"TensorList shape mismatch: ");var a=Rh(this.elementShape,this.tensors,e);return(0,R.tidy)((function(){var e=n.tensors.map((function(e){return(0,R.reshape)(e,a)}));return(0,R.stack)(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=Rh(this.elementShape,this.tensors,e),r=this.tensors.pop();return r.kept=!1,Ih(r.shape,e,"TensorList shape mismatch: "),(0,R.reshape)(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Ih(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,R.keep)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${t}`);if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error(`TensorListResize input size ${t} is greater maxNumElement ${this.maxNumElements}.`);var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);Ih(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=Rh(this.elementShape,this.tensors,t);return(0,R.reshape)(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Ih(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,R.keep)(t),null!=this.tensors[e]&&(this.tensors[e].kept=!1),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);Ih(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=Rh(this.elementShape,this.tensors,n);return 0===e.length?(0,R.tensor)([],[0].concat(a)):(0,R.tidy)((function(){var t=e.map((function(e){return(0,R.reshape)(r.tensors[e],a)}));return(0,R.stack)(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Ih(this.elementShape,t,"TensorList shape mismatch: ");var r=Rh(this.elementShape,this.tensors,t);return 0===this.size()?(0,R.tensor)([],[0].concat(r)):(0,R.tidy)((function(){var e=n.tensors.map((function(e){return(0,R.reshape)(e,r)}));return(0,R.concat)(e,0)}))}}]),e}();var Fh=function(){var e=(0,xs.default)((function*(e,t,n){switch(e.op){case"If":case"StatelessIf":var r=zp("thenBranch",e,t,n),a=zp("elseBranch",e,t,n),i=zp("cond",e,t,n),o=zp("args",e,t,n);return(yield i.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap);case"While":case"StatelessWhile":var s=yield*function*(){var r=zp("body",e,t,n),a=zp("cond",e,t,n),i=zp("args",e,t,n),o=yield n.functionMap[a].executeFunctionAsync(i,n.tensorArrayMap,n.tensorListMap),s=i.map((function(e){return e.id})),u=yield o[0].data();o.forEach((function(e){e.kept||-1!==s.indexOf(e.id)||e.dispose()}));for(var l=i,c=function*(){var e=l,t=(l=yield n.functionMap[r].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap)).map((function(e){return e.id}));e.forEach((function(e){e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));var i=yield n.functionMap[a].executeFunctionAsync(l,n.tensorArrayMap,n.tensorListMap);u=yield i[0].data(),i.forEach((function(e){e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))};u[0];)yield*c();return{v:l}}();if("object"===typeof s)return s.v;case"LoopCond":return[jp(zp("pred",e,t,n))];case"Switch":var u=zp("pred",e,t,n),l=zp("data",e,t,n);return l.kept||(l=jp(l)),(yield u.data())[0]?[void 0,l]:[l,void 0];case"Merge":var c=e.inputNames.find((function(e){return void 0!==Bp(e,t,n)}));return c?[jp(Bp(c,t,n))]:void 0;case"Enter":var d=zp("frameName",e,t,n),f=zp("tensor",e,t,n);return n.enterFrame(d),[jp(f)];case"Exit":var p=zp("tensor",e,t,n);return n.exitFrame(),[jp(p)];case"NextIteration":var h=zp("tensor",e,t,n);return n.nextIteration(),[jp(h)];case"TensorArrayV3":var m=zp("size",e,t,n),v=zp("dtype",e,t,n),g=zp("elementShape",e,t,n),y=zp("dynamicSize",e,t,n),b=zp("clearAfterRead",e,t,n),k=zp("identicalElementShapes",e,t,n),w=zp("name",e,t,n),x=new Oh(w,v,m,g,k,y,b);return n.addTensorArray(x),[x.idTensor,(0,R.scalar)(1)];case"TensorArrayWriteV3":var S=zp("tensorArrayId",e,t,n),T=zp("index",e,t,n),E=zp("tensor",e,t,n),C=n.getTensorArray(S.id);return C.write(T,E),[C.idTensor];case"TensorArrayReadV3":var N=zp("tensorArrayId",e,t,n),I=zp("index",e,t,n);return[n.getTensorArray(N.id).read(I)];case"TensorArrayGatherV3":var _=zp("tensorArrayId",e,t,n),A=zp("indices",e,t,n),O=zp("dtype",e,t,n);return[n.getTensorArray(_.id).gather(A,O)];case"TensorArrayScatterV3":var D=zp("tensorArrayId",e,t,n),F=zp("indices",e,t,n),$=zp("tensor",e,t,n),P=n.getTensorArray(D.id);return P.scatter(F,$),[P.idTensor];case"TensorArrayConcatV3":var M=zp("tensorArrayId",e,t,n),L=n.getTensorArray(M.id),z=zp("dtype",e,t,n);return[L.concat(z)];case"TensorArraySplitV3":var B=zp("tensorArrayId",e,t,n),V=zp("tensor",e,t,n),U=zp("lengths",e,t,n),G=n.getTensorArray(B.id);return G.split(U,V),[G.idTensor];case"TensorArraySizeV3":var W=zp("tensorArrayId",e,t,n),j=n.getTensorArray(W.id);return[(0,R.scalar)(j.size(),"int32")];case"TensorArrayCloseV3":var q=zp("tensorArrayId",e,t,n),H=n.getTensorArray(q.id);return H.clearAndClose(),[H.idTensor];case"TensorListSetItem":var K=zp("tensorListId",e,t,n),X=zp("index",e,t,n),Y=zp("tensor",e,t,n),Z=n.getTensorList(K.id);return Z.setItem(X,Y),[Z.idTensor];case"TensorListGetItem":var Q=zp("tensorListId",e,t,n),J=zp("index",e,t,n),ee=zp("elementShape",e,t,n),te=zp("elementDType",e,t,n);return[n.getTensorList(Q.id).getItem(J,ee,te)];case"TensorListScatterV2":case"TensorListScatter":var ne=zp("indices",e,t,n),re=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);var a=Math.max.apply(Math,(0,vr.default)(t));if(null!=r&&-1!==r&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);var i=new Dh([],n,e.dtype,r),o=(0,R.unstack)(e,0);return t.forEach((function(e,t){i.setItem(e,o[t])})),i}(zp("tensor",e,t,n),ne,zp("elementShape",e,t,n),zp("numElements",e,t,n));return n.addTensorList(re),[re.idTensor];case"TensorListReserve":case"EmptyTensorList":var ae=zp("elementShape",e,t,n),ie=zp("elementDType",e,t,n),oe=zp("TensorListReserve"===e.op?"numElements":"maxNumElements",e,t,n),se=function(e,t,n,r){return new Dh([],e,t,r)}(ae,ie,0,"TensorListReserve"===e.op?-1:oe);return n.addTensorList(se),[se.idTensor];case"TensorListGather":var ue=zp("tensorListId",e,t,n),le=zp("indices",e,t,n),ce=zp("elementShape",e,t,n),de=zp("elementDType",e,t,n);return[n.getTensorList(ue.id).gather(le,de,ce)];case"TensorListStack":var fe=zp("tensorListId",e,t,n),pe=zp("elementShape",e,t,n),he=zp("elementDType",e,t,n),me=zp("numElements",e,t,n);return[n.getTensorList(fe.id).stack(pe,he,me)];case"TensorListFromTensor":var ve=function(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);Ih(e.shape.slice(1),t,"TensorList shape mismatch: ");var a=(0,R.unstack)(e);return new Dh(a,t,r)}(zp("tensor",e,t,n),zp("elementShape",e,t,n),zp("elementDType",e,t,n));return n.addTensorList(ve),[ve.idTensor];case"TensorListConcat":case"TensorListConcatV2":var ge=zp("tensorListId",e,t,n),ye=n.getTensorList(ge.id),be=zp("dtype",e,t,n),ke=zp("elementShape",e,t,n);return[ye.concat(be,ke)];case"TensorListPushBack":var we=zp("tensorListId",e,t,n),xe=zp("tensor",e,t,n),Se=n.getTensorList(we.id);return Se.pushBack(xe),[Se.idTensor];case"TensorListPopBack":var Te=zp("tensorListId",e,t,n),Ee=zp("elementShape",e,t,n),Ce=zp("elementDType",e,t,n);return[n.getTensorList(Te.id).popBack(Ee,Ce)];case"TensorListSplit":var Ne=zp("tensor",e,t,n),Ie=zp("elementShape",e,t,n),_e=function(e,t,n){var r=0,a=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);for(var i=Ah(e.shape.slice(1),n),o=0===r?0:e.size/r,s=(0,R.tidy)((function(){var n=[];e=(0,R.reshape)(e,[1,r,o]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:a[s-1],0],l=[1,t[s],o];n[s]=(0,R.reshape)((0,R.slice)(e,u,l),i)}return e.dispose(),n})),u=new Dh([],n,e.dtype,t.length),l=0;l<s.length;l++)u.setItem(l,s[l]);return u}(Ne,zp("lengths",e,t,n),Ie);return n.addTensorList(_e),[_e.idTensor];case"TensorListLength":var Re=zp("tensorListId",e,t,n),Ae=n.getTensorList(Re.id);return[(0,R.scalar)(Ae.size(),"int32")];case"TensorListResize":var Oe=zp("tensorListId",e,t,n),De=zp("size",e,t,n),Fe=n.getTensorList(Oe.id).resize(De);return n.addTensorList(Fe),[Fe.idTensor];default:throw TypeError(`Node type ${e.op} is not implemented`)}}));return function(t,n,r){return e.apply(this,arguments)}}();function $h(e,t,n){var r=zp("fusedOps",e,t,n),a=(0,A.default)(r,2),i=a[0],o=a[1],s="biasadd"===i,u=!s,l="prelu"===o,c="fusedbatchnorm"===i,d=zp("numArgs",e,t,n);if(s){if(l&&2!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&s&&1!==d)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var f=zp("strides",e,t,n),p=Wp(e,t,n),h=zp("dataFormat",e,t,n).toUpperCase(),m=zp("dilations",e,t,n),v=zp("args",e,t,n),g=(0,A.default)(v,2),y=g[0],b=g[1];return u&&(b=y,y=void 0),{stride:f,pad:p,dataFormat:h,dilations:m,biasArg:y,preluArg:b,activationFunc:o,leakyreluAlpha:zp("leakyreluAlpha",e,t,n)}}function Ph(e,t,n){return{boxes:zp("boxes",e,t,n),scores:zp("scores",e,t,n),maxOutputSize:zp("maxOutputSize",e,t,n),iouThreshold:zp("iouThreshold",e,t,n),scoreThreshold:zp("scoreThreshold",e,t,n),softNmsSigma:zp("softNmsSigma",e,t,n)}}var Mh=function(){var e=(0,xs.default)((function*(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:I;switch(e.op){case"NonMaxSuppressionV5":var i=Ph(e,t,n),o=i.boxes,s=i.scores,u=i.maxOutputSize,l=i.iouThreshold,c=i.scoreThreshold,d=i.softNmsSigma,f=yield a.image.nonMaxSuppressionWithScoreAsync(o,s,u,l,c,d);return[f.selectedIndices,f.selectedScores];case"NonMaxSuppressionV4":var p=Ph(e,t,n),h=p.boxes,m=p.scores,v=p.maxOutputSize,g=p.iouThreshold,y=p.scoreThreshold,b=zp("padToMaxOutputSize",e,t,n),k=yield a.image.nonMaxSuppressionPaddedAsync(h,m,v,g,y,b);return[k.selectedIndices,k.validOutputs];case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":var w=Ph(e,t,n),x=w.boxes,S=w.scores,T=w.maxOutputSize,E=w.iouThreshold,C=w.scoreThreshold;return[yield a.image.nonMaxSuppressionAsync(x,S,T,E,C)];case"Where":var N=a.cast(zp("condition",e,t,n),"bool"),_=[yield a.whereAsync(N)];return N.dispose(),_;case"ListDiff":return a.setdiff1dAsync(zp("x",e,t,n),zp("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}}));return function(t,n,r,a){return e.apply(this,arguments)}}(),Lh=function(){function e(t,n){(0,xa.default)(this,e),this.keyDType=t,this.valueDType=n,this.handle=(0,R.scalar)(0),this.tensorMap=new Map,(0,R.keep)(this.handle)}return(0,Sa.default)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return z.scalar(this.size(),"int32")}},{key:"import",value:function(){var e=(0,xs.default)((function*(e,t){var n=this;this.checkKeyAndValueTensor(e,t);var r=yield e.data();return this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),(0,R.tidy)((function(){var e=(0,R.unstack)(t),a=r.length,i=e.length;R.util.assert(a===i,(function(){return`The number of elements doesn't match, keys has ${a} elements, the values has ${i} elements.`}));for(var o=0;o<a;o++){var s=r[o],u=e[o];(0,R.keep)(u),n.tensorMap.set(s,u)}return n.handle}))}));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,xs.default)((function*(e,t){var n=this;this.checkKeyAndValueTensor(e,t);var r=yield e.data();return(0,R.tidy)((function(){for(var e=[],a=0;a<r.length;a++){var i=r[a],o=n.findWithDefault(i,t);e.push(o)}return(0,R.stack)(e)}))}));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}]),e}(),zh=function(){var e=(0,xs.default)((function*(e,t,n,r){switch(e.op){case"HashTable":case"HashTableV2":var a=zp("keyDType",e,t,n),i=zp("valueDType",e,t,n),o=new Lh(a,i);return r.addHashTable(e.name,o),[o.handle];case"LookupTableImport":case"LookupTableImportV2":var s=zp("tableHandle",e,t,n,r),u=zp("keys",e,t,n),l=zp("values",e,t,n),c=r.getHashTableById(s.id);return[yield c.import(u,l)];case"LookupTableFind":case"LookupTableFindV2":var d=zp("tableHandle",e,t,n,r),f=zp("keys",e,t,n),p=zp("defaultValue",e,t,n),h=r.getHashTableById(d.id);return[yield h.find(f,p)];case"LookupTableSize":case"LookupTableSizeV2":var m=zp("tableHandle",e,t,n,r);return[r.getHashTableById(m.id).tensorSize()];default:throw TypeError(`Node type ${e.op} is not implemented`)}}));return function(t,n,r,a){return e.apply(this,arguments)}}();function Bh(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:R.tidy,i=function(e,t,n){switch(e.category){case"arithmetic":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(zp("a",e,t,n),zp("b",e,t,n))];case"AddN":return[r.addN(zp("tensors",e,t,n))];case"FloorMod":case"Mod":return[r.mod(zp("a",e,t,n),zp("b",e,t,n))];case"Mul":return[r.mul(zp("a",e,t,n),zp("b",e,t,n))];case"RealDiv":case"Div":return[r.div(zp("a",e,t,n),zp("b",e,t,n))];case"DivNoNan":return[r.divNoNan(zp("a",e,t,n),zp("b",e,t,n))];case"FloorDiv":return[r.floorDiv(zp("a",e,t,n),zp("b",e,t,n))];case"Sub":return[r.sub(zp("a",e,t,n),zp("b",e,t,n))];case"Minimum":return[r.minimum(zp("a",e,t,n),zp("b",e,t,n))];case"Maximum":return[r.maximum(zp("a",e,t,n),zp("b",e,t,n))];case"Pow":return[r.pow(zp("a",e,t,n),zp("b",e,t,n))];case"SquaredDifference":return[r.squaredDifference(zp("a",e,t,n),zp("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"basic_math":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"Abs":case"ComplexAbs":return[r.abs(zp("x",e,t,n))];case"Acos":return[r.acos(zp("x",e,t,n))];case"Acosh":return[r.acosh(zp("x",e,t,n))];case"Asin":return[r.asin(zp("x",e,t,n))];case"Asinh":return[r.asinh(zp("x",e,t,n))];case"Atan":return[r.atan(zp("x",e,t,n))];case"Atan2":return[r.atan2(zp("x",e,t,n),zp("y",e,t,n))];case"Atanh":return[r.atanh(zp("x",e,t,n))];case"Ceil":return[r.ceil(zp("x",e,t,n))];case"Complex":return[r.complex(zp("real",e,t,n),zp("imag",e,t,n))];case"Cos":return[r.cos(zp("x",e,t,n))];case"Cosh":return[r.cosh(zp("x",e,t,n))];case"Elu":return[r.elu(zp("x",e,t,n))];case"Erf":return[r.erf(zp("x",e,t,n))];case"Exp":return[r.exp(zp("x",e,t,n))];case"Expm1":return[r.expm1(zp("x",e,t,n))];case"Floor":return[r.floor(zp("x",e,t,n))];case"Log":return[r.log(zp("x",e,t,n))];case"Log1p":return[r.log1p(zp("x",e,t,n))];case"Imag":return[r.imag(zp("x",e,t,n))];case"Neg":return[r.neg(zp("x",e,t,n))];case"Reciprocal":return[r.reciprocal(zp("x",e,t,n))];case"Real":return[r.real(zp("x",e,t,n))];case"Relu":return[r.relu(zp("x",e,t,n))];case"Round":return[r.round(zp("x",e,t,n))];case"Selu":return[r.selu(zp("x",e,t,n))];case"Sigmoid":return[r.sigmoid(zp("x",e,t,n))];case"Sin":return[r.sin(zp("x",e,t,n))];case"Sign":return[r.sign(zp("x",e,t,n))];case"Sinh":return[r.sinh(zp("x",e,t,n))];case"Softplus":return[r.softplus(zp("x",e,t,n))];case"Sqrt":return[r.sqrt(zp("x",e,t,n))];case"Square":return[r.square(zp("x",e,t,n))];case"Tanh":return[r.tanh(zp("x",e,t,n))];case"Tan":return[r.tan(zp("x",e,t,n))];case"ClipByValue":return[r.clipByValue(zp("x",e,t,n),zp("clipValueMin",e,t,n),zp("clipValueMax",e,t,n))];case"Relu6":return[r.relu6(zp("x",e,t,n))];case"Rsqrt":return[r.rsqrt(Bp(e.inputNames[0],t,n))];case"Prod":return[r.prod(zp("x",e,t,n),zp("axes",e,t,n))];case"LeakyRelu":return[r.leakyRelu(zp("x",e,t,n),zp("alpha",e,t,n))];case"Prelu":return[r.prelu(zp("x",e,t,n),zp("alpha",e,t,n))];case"IsNan":return[r.isNaN(Bp(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"control":return Fh(e,t,n);case"convolution":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"Conv1D":var a=zp("stride",e,t,n),i=zp("pad",e,t,n),o=zp("dataFormat",e,t,n).toUpperCase(),s=zp("dilation",e,t,n);return[r.conv1d(zp("x",e,t,n),zp("filter",e,t,n),a,i,o,s)];case"Conv2D":var u=zp("strides",e,t,n),l=Wp(e,t,n),c=zp("dataFormat",e,t,n).toUpperCase(),d=zp("dilations",e,t,n);return[r.conv2d(zp("x",e,t,n),zp("filter",e,t,n),[u[1],u[2]],l,c,[d[1],d[2]])];case"_FusedConv2D":var f=$h(e,t,n),p=f.stride,h=f.pad,m=f.dataFormat,v=f.dilations,g=f.biasArg,y=f.preluArg,b=f.activationFunc,k=f.leakyreluAlpha;return[r.fused.conv2d({x:zp("x",e,t,n),filter:zp("filter",e,t,n),strides:[p[1],p[2]],pad:h,dataFormat:m,dilations:[v[1],v[2]],bias:g,activation:b,preluActivationWeights:y,leakyreluAlpha:k})];case"FusedDepthwiseConv2dNative":var w=$h(e,t,n),x=w.stride,S=w.pad,T=w.dataFormat,E=w.dilations,C=w.biasArg,N=w.preluArg,_=w.activationFunc,R=w.leakyreluAlpha;return[r.fused.depthwiseConv2d({x:zp("x",e,t,n),filter:zp("filter",e,t,n),strides:[x[1],x[2]],pad:S,dataFormat:T,dilations:[E[1],E[2]],bias:C,activation:_,preluActivationWeights:N,leakyreluAlpha:R})];case"Conv2DBackpropInput":case"Conv2dTranspose":var A=zp("outputShape",e,t,n),O=zp("strides",e,t,n),D=Wp(e,t,n);return[r.conv2dTranspose(zp("x",e,t,n),zp("filter",e,t,n),A,[O[1],O[2]],D)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var F=zp("strides",e,t,n),$=Wp(e,t,n),P=zp("dilations",e,t,n),M=zp("dataFormat",e,t,n).toUpperCase();return[r.depthwiseConv2d(zp("input",e,t,n),zp("filter",e,t,n),[F[1],F[2]],$,M,[P[1],P[2]])];case"Conv3D":var L=zp("strides",e,t,n),z=zp("pad",e,t,n),B=zp("dataFormat",e,t,n).toUpperCase(),V=zp("dilations",e,t,n);return[r.conv3d(zp("x",e,t,n),zp("filter",e,t,n),[L[1],L[2],L[3]],z,B,[V[1],V[2],V[3]])];case"AvgPool":var U=zp("strides",e,t,n),G=zp("pad",e,t,n),W=zp("kernelSize",e,t,n);return[r.avgPool(zp("x",e,t,n),[W[1],W[2]],[U[1],U[2]],G)];case"MaxPool":var j=zp("strides",e,t,n),q=zp("pad",e,t,n),H=zp("kernelSize",e,t,n);return[r.maxPool(zp("x",e,t,n),[H[1],H[2]],[j[1],j[2]],q)];case"MaxPoolWithArgmax":var K=zp("strides",e,t,n),X=zp("pad",e,t,n),Y=zp("kernelSize",e,t,n),Z=zp("includeBatchInIndex",e,t,n),Q=r.maxPoolWithArgmax(zp("x",e,t,n),[Y[1],Y[2]],[K[1],K[2]],X,Z);return[Q.result,Q.indexes];case"AvgPool3D":var J=zp("strides",e,t,n),ee=zp("pad",e,t,n),te=zp("kernelSize",e,t,n);return[r.avgPool3d(zp("x",e,t,n),[te[1],te[2],te[3]],[J[1],J[2],J[3]],ee)];case"MaxPool3D":var ne=zp("strides",e,t,n),re=zp("pad",e,t,n),ae=zp("kernelSize",e,t,n);return[r.maxPool3d(zp("x",e,t,n),[ae[1],ae[2],ae[3]],[ne[1],ne[2],ne[3]],re)];case"Dilation2D":var ie=zp("strides",e,t,n),oe=zp("pad",e,t,n),se=zp("dilations",e,t,n),ue=ie[1],le=ie[2],ce=se[1],de=se[2];return[r.dilation2d(zp("x",e,t,n),zp("filter",e,t,n),[ue,le],oe,[ce,de],"NHWC")];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"creation":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"Fill":var a=zp("shape",e,t,n),i=zp("dtype",e,t,n),o=zp("value",e,t,n);return[r.fill(a,o,i)];case"LinSpace":var s=zp("start",e,t,n),u=zp("stop",e,t,n),l=zp("num",e,t,n);return[r.linspace(s,u,l)];case"Multinomial":var c=zp("logits",e,t,n),d=zp("numSamples",e,t,n),f=zp("seed",e,t,n);return[r.multinomial(c,d,f)];case"OneHot":var p=zp("indices",e,t,n),h=zp("depth",e,t,n),m=zp("onValue",e,t,n),v=zp("offValue",e,t,n),g=zp("dtype",e,t,n);return[r.oneHot(p,h,m,v,g)];case"Ones":return[r.ones(zp("shape",e,t,n),zp("dtype",e,t,n))];case"OnesLike":return[r.onesLike(zp("x",e,t,n))];case"RandomStandardNormal":return[r.randomStandardNormal(zp("shape",e,t,n),zp("dtype",e,t,n),zp("seed",e,t,n))];case"RandomUniform":return[r.randomUniform(zp("shape",e,t,n),zp("minval",e,t,n),zp("maxval",e,t,n),zp("dtype",e,t,n))];case"Range":var y=zp("start",e,t,n),b=zp("stop",e,t,n),k=zp("step",e,t,n);return[r.range(y,b,k,zp("dtype",e,t,n))];case"TruncatedNormal":var w=zp("shape",e,t,n),x=zp("mean",e,t,n),S=zp("stdDev",e,t,n),T=zp("seed",e,t,n);return[r.truncatedNormal(w,x,S,zp("dtype",e,t,n),T)];case"Zeros":return[r.zeros(zp("shape",e,t,n),zp("dtype",e,t,n))];case"ZerosLike":return[r.zerosLike(zp("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"dynamic":return Mh(e,t,n);case"evaluation":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"LowerBound":var a=zp("sortedSequence",e,t,n),i=zp("values",e,t,n);return[r.lowerBound(a,i)];case"TopKV2":var o=zp("x",e,t,n),s=zp("k",e,t,n),u=zp("sorted",e,t,n),l=r.topk(o,s,u);return[l.values,l.indices];case"UpperBound":var c=zp("sortedSequence",e,t,n),d=zp("values",e,t,n);return[r.upperBound(c,d)];case"Unique":var f=zp("x",e,t,n),p=r.unique(f);return[p.values,p.indices];case"UniqueV2":var h=zp("x",e,t,n),m=zp("axis",e,t,n),v=r.unique(h,m);return[v.values,v.indices];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"image":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"ResizeBilinear":var a=zp("images",e,t,n),i=zp("size",e,t,n),o=zp("alignCorners",e,t,n),s=zp("halfPixelCenters",e,t,n);return[r.image.resizeBilinear(a,[i[0],i[1]],o,s)];case"ResizeNearestNeighbor":var u=zp("images",e,t,n),l=zp("size",e,t,n),c=zp("alignCorners",e,t,n),d=zp("halfPixelCenters",e,t,n);return[r.image.resizeNearestNeighbor(u,[l[0],l[1]],c,d)];case"CropAndResize":var f=zp("image",e,t,n),p=zp("boxes",e,t,n),h=zp("boxInd",e,t,n),m=zp("cropSize",e,t,n),v=zp("method",e,t,n),g=zp("extrapolationValue",e,t,n);return[r.image.cropAndResize(f,p,h,m,v,g)];case"ImageProjectiveTransformV3":var y=zp("images",e,t,n),b=zp("transforms",e,t,n),k=zp("outputShape",e,t,n),w=zp("fillValue",e,t,n),x=zp("interpolation",e,t,n),S=zp("fillMode",e,t,n);return[r.image.transform(y,b,x.toLowerCase(),S.toLowerCase(),w,k)];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"graph":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var a=zp("default",e,t,n);return[Bp(e.name,t,n)||a];case"Placeholder":return[Bp(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[jp(zp("x",e,t,n))];case"IdentityN":return zp("x",e,t,n).map((function(e){return jp(e)}));case"Shape":return[r.tensor1d(zp("x",e,t,n).shape,"int32")];case"ShapeN":return zp("x",e,t,n).map((function(e){return r.tensor1d(e.shape)}));case"Size":return[r.scalar(zp("x",e,t,n).size,"int32")];case"Rank":return[r.scalar(zp("x",e,t,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":var i=zp("x",e,t,n),o=zp("data",e,t,n),s=zp("message",e,t,n),u=zp("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(s);for(var l=0;l<o.length;l++)console.log(Array.prototype.slice.call(o[l].dataSync()).slice(0,u));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"logical":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"Equal":return[r.equal(zp("a",e,t,n),zp("b",e,t,n))];case"NotEqual":return[r.notEqual(zp("a",e,t,n),zp("b",e,t,n))];case"Greater":return[r.greater(zp("a",e,t,n),zp("b",e,t,n))];case"GreaterEqual":return[r.greaterEqual(zp("a",e,t,n),zp("b",e,t,n))];case"Less":return[r.less(zp("a",e,t,n),zp("b",e,t,n))];case"LessEqual":return[r.lessEqual(zp("a",e,t,n),zp("b",e,t,n))];case"LogicalAnd":return[r.logicalAnd(zp("a",e,t,n),zp("b",e,t,n))];case"LogicalNot":return[r.logicalNot(zp("a",e,t,n))];case"LogicalOr":return[r.logicalOr(zp("a",e,t,n),zp("b",e,t,n))];case"Select":case"SelectV2":return[r.where(zp("condition",e,t,n),zp("a",e,t,n),zp("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"matrices":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(zp("a",e,t,n),zp("b",e,t,n),zp("transposeA",e,t,n),zp("transposeB",e,t,n))];case"Einsum":return[r.einsum.apply(r,[zp("equation",e,t,n)].concat((0,vr.default)(zp("tensors",e,t,n))))];case"Transpose":return[r.transpose(zp("x",e,t,n),zp("perm",e,t,n))];case"_FusedMatMul":var a=zp("fusedOps",e,t,n),i=(0,A.default)(a,2),o=i[0],s=i[1],u="biasadd"===o,l="prelu"===s,c=zp("numArgs",e,t,n),d=zp("leakyreluAlpha",e,t,n);if(u){if(l&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!l&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var f=zp("args",e,t,n),p=(0,A.default)(f,2),h=p[0],m=p[1];return[r.fused.matMul({a:zp("a",e,t,n),b:zp("b",e,t,n),transposeA:zp("transposeA",e,t,n),transposeB:zp("transposeB",e,t,n),bias:h,activation:s,preluActivationWeights:m,leakyreluAlpha:d})];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"normalization":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"EuclideanNorm":return[r.euclideanNorm(zp("x",e,t,n),zp("axis",e,t,n),zp("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[r.batchNorm(zp("x",e,t,n),zp("mean",e,t,n),zp("variance",e,t,n),zp("offset",e,t,n),zp("scale",e,t,n),zp("epsilon",e,t,n))];case"LRN":return[r.localResponseNormalization(zp("x",e,t,n),zp("radius",e,t,n),zp("bias",e,t,n),zp("alpha",e,t,n),zp("beta",e,t,n))];case"Softmax":return[r.softmax(zp("x",e,t,n))];case"LogSoftmax":return[r.logSoftmax(zp("x",e,t,n))];case"SparseToDense":return[r.sparseToDense(zp("sparseIndices",e,t,n),zp("outputShape",e,t,n),zp("sparseValues",e,t,n),zp("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"reduction":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"Max":var a=zp("axis",e,t,n),i=zp("keepDims",e,t,n);return[r.max(zp("x",e,t,n),a,i)];case"Mean":var o=zp("axis",e,t,n),s=zp("keepDims",e,t,n);return[r.mean(zp("x",e,t,n),o,s)];case"Min":var u=zp("axis",e,t,n),l=zp("keepDims",e,t,n);return[r.min(zp("x",e,t,n),u,l)];case"Sum":var c=zp("axis",e,t,n),d=zp("keepDims",e,t,n);return[r.sum(zp("x",e,t,n),c,d)];case"All":var f=zp("axis",e,t,n),p=zp("keepDims",e,t,n);return[r.all(zp("x",e,t,n),f,p)];case"Any":var h=zp("axis",e,t,n),m=zp("keepDims",e,t,n);return[r.any(zp("x",e,t,n),h,m)];case"ArgMax":var v=zp("axis",e,t,n);return[r.argMax(zp("x",e,t,n),v)];case"ArgMin":var g=zp("axis",e,t,n);return[r.argMin(zp("x",e,t,n),g)];case"Prod":var y=zp("axis",e,t,n),b=zp("keepDims",e,t,n);return[r.prod(zp("x",e,t,n),y,b)];case"Cumprod":var k=zp("axis",e,t,n),w=zp("exclusive",e,t,n),x=zp("reverse",e,t,n);return[r.cumprod(zp("x",e,t,n),k,w,x)];case"Cumsum":var S=zp("axis",e,t,n),T=zp("exclusive",e,t,n),E=zp("reverse",e,t,n);return[r.cumsum(zp("x",e,t,n),S,T,E)];case"Bincount":var C=zp("x",e,t,n),N=zp("weights",e,t,n),_=zp("size",e,t,n);return[r.bincount(C,N,_)];case"DenseBincount":var R=zp("x",e,t,n),A=zp("weights",e,t,n),O=zp("size",e,t,n),D=zp("binaryOutput",e,t,n);return[r.denseBincount(R,A,O,D)];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"slice_join":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"ConcatV2":case"Concat":var a=zp("n",e,t,n),i=zp("axis",e,t,n),o=zp("tensors",e,t,n);return o=o.slice(0,a),[r.concat(o,i)];case"Gather":var s=zp("x",e,t,n),u=zp("indices",e,t,n);return[r.gather(s,r.cast(u,"int32"),0)];case"GatherV2":var l=zp("axis",e,t,n),c=zp("batchDims",e,t,n),d=zp("x",e,t,n),f=zp("indices",e,t,n);return[r.gather(d,r.cast(f,"int32"),l,c)];case"Reverse":for(var p=zp("dims",e,t,n),h=[],m=0;m<p.length;m++)p[m]&&h.push(m);var v=zp("x",e,t,n);return[r.reverse(v,h)];case"ReverseV2":var g=zp("axis",e,t,n),y=zp("x",e,t,n);return[r.reverse(y,g)];case"Slice":var b=zp("begin",e,t,n),k=zp("size",e,t,n);return[r.slice(zp("x",e,t,n),b,k)];case"StridedSlice":var w=zp("begin",e,t,n),x=zp("end",e,t,n),S=zp("strides",e,t,n),T=zp("beginMask",e,t,n),E=zp("endMask",e,t,n),C=zp("ellipsisMask",e,t,n),N=zp("newAxisMask",e,t,n),_=zp("shrinkAxisMask",e,t,n),A=zp("x",e,t,n);return[r.stridedSlice(A,w,x,S,T,E,C,N,_)];case"Pack":return(0,R.tidy)((function(){var a=zp("axis",e,t,n),i=zp("tensors",e,t,n),o=i[0].shape,s=r.squeeze(i[0]).shape,u=i.map((function(e){var t=R.util.arraysEqual(e.shape,o);if(!t&&!R.util.arraysEqual(r.squeeze(e).shape,s))throw new Error("the input tensors shape does not match");return t?e:r.reshape(e,o)}));return[r.stack(u,a)]}));case"Unpack":var O=zp("axis",e,t,n),D=zp("tensor",e,t,n);return r.unstack(D,O);case"Tile":var F=zp("reps",e,t,n);return[r.tile(zp("x",e,t,n),F)];case"Split":case"SplitV":var $=zp("axis",e,t,n),P=zp("numOrSizeSplits",e,t,n),M=zp("x",e,t,n);return r.split(M,P,$);case"ScatterNd":var L=zp("indices",e,t,n),z=zp("values",e,t,n),B=zp("shape",e,t,n);return[r.scatterND(L,z,B)];case"GatherNd":var V=zp("x",e,t,n),U=zp("indices",e,t,n);return[r.gatherND(V,U)];case"SparseToDense":var G=zp("sparseIndices",e,t,n),W=zp("outputShape",e,t,n),j=zp("sparseValues",e,t,n),q=zp("defaultValue",e,t,n);return[r.sparseToDense(G,j,W,j.dtype===q.dtype?q:r.cast(q,j.dtype))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"sparse":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"SparseFillEmptyRows":var a=r.sparse.sparseFillEmptyRows(zp("indices",e,t,n),zp("values",e,t,n),zp("denseShape",e,t,n),zp("defaultValue",e,t,n));return[a.outputIndices,a.outputValues,a.emptyRowIndicator,a.reverseIndexMap];case"SparseReshape":var i=r.sparse.sparseReshape(zp("inputIndices",e,t,n),zp("inputShape",e,t,n),zp("newShape",e,t,n));return[i.outputIndices,i.outputShape];case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(zp("data",e,t,n),zp("indices",e,t,n),zp("segmentIds",e,t,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(zp("data",e,t,n),zp("indices",e,t,n),zp("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"spectral":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"FFT":return[r.fft(zp("x",e,t,n))];case"IFFT":return[r.ifft(zp("x",e,t,n))];case"RFFT":return[r.rfft(zp("x",e,t,n))];case"IRFFT":return[r.irfft(zp("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"string":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"StringNGrams":var a=r.string.stringNGrams(zp("data",e,t,n),zp("dataSplits",e,t,n),zp("separator",e,t,n),zp("nGramWidths",e,t,n),zp("leftPad",e,t,n),zp("rightPad",e,t,n),zp("padWidth",e,t,n),zp("preserveShortSequences",e,t,n));return[a.nGrams,a.nGramsSplits];case"StringSplit":var i=r.string.stringSplit(zp("input",e,t,n),zp("delimiter",e,t,n),zp("skipEmpty",e,t,n));return[i.indices,i.values,i.shape];case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(zp("input",e,t,n),zp("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"transformation":return a((function(){return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I;switch(e.op){case"Cast":return[r.cast(zp("x",e,t,n),zp("dtype",e,t,n))];case"ExpandDims":var a=zp("axis",e,t,n);return[r.expandDims(zp("x",e,t,n),a)];case"Squeeze":var i=zp("axis",e,t,n);return[r.squeeze(zp("x",e,t,n),i)];case"Reshape":return[r.reshape(zp("x",e,t,n),zp("shape",e,t,n))];case"MirrorPad":return[r.mirrorPad(zp("x",e,t,n),zp("padding",e,t,n),zp("mode",e,t,n))];case"PadV2":case"Pad":return[r.pad(zp("x",e,t,n),zp("padding",e,t,n),zp("constantValue",e,t,n))];case"SpaceToBatchND":var o=zp("blockShape",e,t,n),s=zp("paddings",e,t,n);return[r.spaceToBatchND(zp("x",e,t,n),o,s)];case"BatchToSpaceND":var u=zp("blockShape",e,t,n),l=zp("crops",e,t,n);return[r.batchToSpaceND(zp("x",e,t,n),u,l)];case"DepthToSpace":var c=zp("blockSize",e,t,n),d=zp("dataFormat",e,t,n).toUpperCase();return[r.depthToSpace(zp("x",e,t,n),c,d)];case"BroadcastTo":return[r.broadcastTo(zp("x",e,t,n),zp("shape",e,t,n))];case"BroadcastArgs":return[r.broadcastArgs(zp("s0",e,t,n),zp("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}}(e,t,n)}));case"hash_table":return zh(e,t,n,r);case"custom":var i=Mp(e.op);if(i&&i.customExecutor)return i.customExecutor(new Ch(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}}(e,t,n);return R.util.isPromise(i)?i.then((function(e){return[].concat(e)})):[].concat(i)}var Vh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,xa.default)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,Sa.default)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function Uh(e,t,n,r){var a=new Set,i=[],o=null,s=null,u=new Set,l=Object.keys(e).map((function(e){return Gp(e)[0]})),c=[];null!=r&&(c=r.map((function(e){return Gp(e.name)[0]})));for(var d=(0,vr.default)(t);d.length>0;){var f=d.pop();(qh(f)||Hh(f)||Kh(f))&&null==o&&(s=(o=f).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(f.name),null==n[f.name]&&(-1===l.indexOf(f.name)&&-1===c.indexOf(f.name)&&(0!==f.inputs.length?f.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),d.push(e))})):i.push(f.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:i,dynamicNode:o,syncInputs:s}}var Gh=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Wh=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],jh=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function qh(e){return Gh.indexOf(e.op)>=0}function Hh(e){return Wh.indexOf(e.op)>=0}function Kh(e){return jh.indexOf(e.op)>=0}var Xh=function(){function e(t,n){var r=this;(0,xa.default)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,Sa.default)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,vr.default)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=Uh(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,i=n.syncInputs;if(null!=a)throw new Error(`This execution contains the node '${a.name}', which has the dynamic op '${a.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${i}]`);if(r.length>0){var o=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error(`Cannot compute the outputs [${o}] from the provided inputs [${s}]. Missing the following inputs: [${r}]`)}return function(e,t,n){var r=n.usedNodes,a=n.inputs,i=[],o=Object.keys(a).map((function(e){return Gp(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;o.forEach((function(e){r.has(e.name)&&i.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&i.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&i.push(e)}));for(var u=new Set,l=[];i.length>0;){var c=i.pop();u.add(c.name),t[c.name]||l.push(c),c.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&i.push(e)}))}return l}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[Gp(e)[0]]})),i=t.map((function(e){return Gp(e)[0]})),o=i.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);var s=this.getCompilationKey(a,o),u=this.compiledMap.get(s);null==u&&(u=this.compile(e,o),this.compiledMap.set(s,u));var l={},c={};return(0,R.tidy)((function(){var r=new Vh(n.weightMap,l,c,n.functionExecutorMap),a=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=Gp(t),r=(0,A.default)(n,2),i=r[0],o=[];o[r[1]]=e[t],a[i]=o}));for(var o=n.getFrozenTensorIds(a),s={},d=0;d<u.length;d++){var f=u[d];if(!a[f.name]){var p=Bh(f,a,r,n._resourceManager);if(R.util.isPromise(p))throw new Error(`The execution of the op '${f.op}' returned a promise. Please use model.executeAsync() instead.`);a[f.name]=p,n.checkTensorForDisposal(f.name,f,a,r,o,i,s)}}return null==n.parent&&r.dispose(o),t.map((function(e){return Bp(e,a,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,a,i,o){var s=this;"control"!==t.category&&-1===i.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(o[e.id]=(o[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var i=function(e,t,n){return t[Up(e,n.currentContextId)]}(e.name,n,r);null!=i&&i.forEach((function(e){if(e&&!e.kept&&!a.has(e.id)){var n=o[e.id];if(1===n){if(s.keepTensorForDebug){var i=Vp(t.name,r),u=(0,A.default)(i,2),l=u[0],c=u[1];s.intermediateTensors[l]||(s.intermediateTensors[l]=[]),s.intermediateTensors[l][c]=e}else e.dispose();delete o[e.id]}else null!=n&&o[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=(0,xs.default)((function*(e,t){return this._executeAsync(e,t)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=(0,xs.default)((function*(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=(0,R.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(c){console.warn(c.message)}this.resetIntermediateTensors();var o=new Vh(this.weightMap,a,i,this.functionExecutorMap);this.tensorsMap=yield this.executeWithControlFlow(e,o,t,r);var s=t.map((function(e){return Bp(e,n.tensorsMap,o)})),u=s.map((function(e){return e.id})),l=Object.keys(e).map((function(t){return e[t].id}));return this.keepIds=new Set([].concat((0,vr.default)(u),(0,vr.default)(l),(0,vr.default)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),s}));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=(0,xs.default)((function*(e,t,n){var r=this,a=e.reduce((function(e,t,n){return e[r.inputs[n].name]=t,e}),{});return this._executeAsync(a,this.outputNodes,!0,t,n)}));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=(0,xs.default)((function*(e,t,n,r){var a=this,i=Object.keys(e),o=i.map((function(e){return a.graph.nodes[Gp(e)[0]]})),s=n.map((function(e){return Gp(e)[0]})),u=s.map((function(e){return a.graph.nodes[e]}));0===u.length&&(u=this._outputs);var l=Uh(e,u,this.weightMap,this._initNodes),c=l.usedNodes,d=l.missingInputs,f=l.dynamicNode,p=l.syncInputs,h=[].concat((0,vr.default)(o),(0,vr.default)(this.graph.weights),(0,vr.default)(this._initNodes||[])).map((function(e){return{node:e,contexts:t.currentContext}})),m=Object.assign({},this.weightMap);Object.keys(e).forEach((function(t){var n=Gp(t),r=(0,A.default)(n,2),a=r[0],i=[];i[r[1]]=e[t],m[a]=i}));for(var v={},g=this.getFrozenTensorIds(m),y={};h.length>0;){var b=this.processStack(o,h,t,m,y,g,s,v,c);yield Promise.all(b)}null!=f||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");var k=u.filter((function(e){return!qh(e)&&!Bp(e.name,m,t)})).map((function(e){return e.name}));if(k.length>0){var w="";throw null!=f&&(w=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${p}]`),new Error(`Cannot compute the outputs [${k}] from the provided inputs [${i}]. Consider providing the following inputs: [${d}]. ${w}`)}return m}));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,a,i,o,s,u){for(var l=this,c=[],d=function(){var e=t.pop();n.currentContext=e.contexts;var d="";if("Enter"===e.node.op&&zp("isConstant",e.node,r,n)){var f=Vp(e.node.name,n),p=(0,A.default)(f,1);d=p[0]}if(null==r[e.node.name]){var h=Bh(e.node,r,n,l._resourceManager);if(!d){var m=Vp(e.node.name,n),v=(0,A.default)(m,1);d=v[0]}var g=n.currentContext;R.util.isPromise(h)?c.push(h.then((function(c){return r[d]=c,n.currentContext=g,l.checkTensorForDisposal(d,e.node,r,n,i,o,s),l.processChildNodes(e.node,t,n,r,a,u),c}))):(r[d]=h,l.checkTensorForDisposal(d,e.node,r,n,i,o,s),l.processChildNodes(e.node,t,n,r,a,u))}else l.processChildNodes(e.node,t,n,r,a,u)};t.length>0;)d();return c}},{key:"processChildNodes",value:function(e,t,n,r,a,i){e.children.forEach((function(e){var o=Vp(e.name,n),s=(0,A.default)(o,1)[0];!a[s]&&i.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!Bp(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!Bp(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=Gp(n),i=(0,A.default)(a,1)[0],o=t.graph.nodes[i];if(o.attrParams.shape&&o.attrParams.shape.value){var s=o.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));R.util.assert(u,(function(){return`The shape of dict['${o.name}'] provided in model.execute(dict) must be [${s}], but was [${r.shape}]`}))}o.attrParams.dtype&&o.attrParams.dtype.value&&R.util.assert(r.dtype===o.attrParams.dtype.value,(function(){return`The dtype of dict['${o.name}'] provided in model.execute(dict) must be ${o.attrParams.dtype.value}, but was ${r.dtype}`}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=Gp(e),r=(0,A.default)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=Gp(e),r=(0,A.default)(n,1)[0];if(!t.graph.nodes[r])throw new Error(`The output '${e}' is not found in the graph`)}))}}]),e}(),Yh=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,xa.default)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,Sa.default)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),Zh="?tfjs-format=file",Qh="model.json",Jh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.io;(0,xa.default)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",this.io=r,null==n&&(this.loadOptions={}),this.resourceManager=new Yh}return(0,Sa.default)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"modelStructuredOutputKeys",get:function(){return this.structuredOutputKeys}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{var t=this.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}},{key:"load",value:function(){var e=this;if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");var t=this.handler.load();return R.util.isPromise(t)?t.then((function(t){return e.loadSync(t)})):this.loadSync(t)}},{key:"loadSync",value:function(e){this.artifacts=e;var t=this.artifacts.modelTopology,n=this.artifacts.signature;if(null!=this.artifacts.userDefinedMetadata){var r=this.artifacts.userDefinedMetadata;null!=r.signature&&(n=r.signature),null!=r.structuredOutputKeys&&(this.structuredOutputKeys=r.structuredOutputKeys)}this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;var a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Xh(dh.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var i=dh.Instance.transformGraph(e.modelInitializer);this.initializer=new Xh(i),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=(0,xs.default)((function*(e,t){if("string"===typeof e){var n=this.io.getSaveHandlers(e);if(0===n.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(n.length>1)throw new Error(`Found more than one (${n.length}) save handlers for URL '${e}'`);e=n[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){var n=this,r=this.execute(e,this.outputNodes);if(this.structuredOutputKeys){var a=r instanceof R.Tensor?[r]:r,i={};return a.forEach((function(e,t){return i[n.structuredOutputKeys[t]]=e})),i}return r}},{key:"normalizeInputs",value:function(e){if(!(e instanceof R.Tensor)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=(0,xs.default)((function*(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=yield this.executor.executeAsync(e,t);return n.length>1?n:n[0]}));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function em(e){return tm.apply(this,arguments)}function tm(){return tm=(0,xs.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:R.io;if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&"string"===typeof e&&(e=function(e){e.endsWith("/")||(e+="/");return`${e}${Qh}${Zh}`}(e));var r=new Jh(e,t,n);return yield r.load(),r})),tm.apply(this,arguments)}function nm(e){if(null==e)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide a url or an IOHandler that loads the model");if(!e.load)throw new Error(`modelUrl IO Handler ${e} has no load function`);var t=new Jh(e);return t.load(),t}var rm="3.20.0",am=n(4838);function im(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(dm(e)){var i=Array.isArray(e)?[]:{};for(var o in r.add(e),e){var s=im(e[o],t,n,r);i[o]=s}return r.delete(e),e.__proto__&&(i.__proto__=e.__proto__),i}throw new Error(`Can't recurse into non-iterable type: ${e}`)}return n.set(e,a.value),a.value}function om(e){return sm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:um)}function sm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(dm(r)){var i=Array.isArray(r)?[]:{};n.add(r);var o=function(r){var a=sm(e.map((function(e){return e[r]})),t,n);i[r]=a};for(var s in r)o(s);return n.delete(r),i}throw new Error(`Can't recurse into non-iterable type: ${r}`)}return a.value}function um(e){return null===e?null:dm(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function lm(e,t){return cm.apply(this,arguments)}function cm(){return cm=(0,xs.default)((function*(e,t){var n=new Map;for(var r of(im(e,t,n),Array.from(n.keys()))){var a=n.get(r);if(R.util.isPromise(a)){var i=yield a;n.set(r,i)}}return im(e,t,n)})),cm.apply(this,arguments)}function dm(e){var t=!1;R.env().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(4977).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof R.Tensor)&&!(e instanceof Promise)&&!t)}function fm(e){return function(e,t){return im(e,t)}(e,pm)}function pm(e){return e instanceof R.Tensor?{value:e.clone(),recurse:!1}:dm(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var hm=function(){function e(t){if((0,xa.default)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return(0,Sa.default)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){for(var t of e)this.push(t)}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}();function mm(e){var t=vm();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function vm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vm=function(){return!!e})()}var gm=function(e){(0,Ea.default)(n,e);var t=mm(n);function n(){return(0,xa.default)(this,n),t.call(this,n.INITIAL_CAPACITY)}return(0,Sa.default)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){(0,Ps.default)((0,Na.default)(n.prototype),"isFull",this).call(this)&&this.expand(),(0,Ps.default)((0,Na.default)(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){(0,Ps.default)((0,Na.default)(n.prototype),"isFull",this).call(this)&&this.expand(),(0,Ps.default)((0,Na.default)(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(hm);function ym(e){var t=bm();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function bm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(bm=function(){return!!e})()}function km(e){return new Em(e)}function wm(e){return new Cm(e)}function xm(e,t){return new Mm(e,t)}gm.INITIAL_CAPACITY=32;var Sm,Tm=function(){function e(){(0,xa.default)(this,e)}return(0,Sa.default)(e,[{key:"toArray",value:function(){var e=(0,xs.default)((function*(){for(var e=[],t=yield this.next();!t.done;)e.push(t.value),t=yield this.next();return e}));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,xs.default)((function*(){for(var e=this.prefetch(100),t=[],n=yield e.next();!n.done;)t.push(n.value),n=yield e.next();return t}));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=(0,xs.default)((function*(){for(var e=yield this.next();!e.done;)e=yield this.next()}));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=(0,xs.default)((function*(e){for(var t=yield this.next(),n=e(t.value);!t.done&&n;)n=e((t=yield this.next()).value)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new Dm(this,e)}},{key:"filter",value:function(e){return new Am(this,e)}},{key:"map",value:function(e){return new Om(this,e)}},{key:"mapAsync",value:function(e){return new Fm(this,e)}},{key:"serialMapAsync",value:function(e){return new Fm(this,e).serial()}},{key:"flatmap",value:function(e){return new Pm(this,e)}},{key:"forEachAsync",value:function(){var e=(0,xs.default)((function*(e){return this.map(e).resolveFully()}));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=(0,xs.default)((function*(e){return this.serialMapAsync(e).resolveWhile((function(e){return!0===e}))}));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){return new Rm(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:um;return this.rowMajorBatch(e,t).map((function(e){return om(e,n)}))}},{key:"concatenate",value:function(e,t){return new Mm(km([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new _m(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new Im(this,e)}},{key:"prefetch",value:function(e){return new zm(this,e)}},{key:"shuffle",value:function(e,t){return new Bm(this,e,t)}},{key:"serial",value:function(){return new Nm(this)}}]),e}(),Em=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).items=e,r.trav=0,r}return(0,Sa.default)(n,[{key:"summary",value:function(){return`Array of ${this.items.length} items`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){if(this.trav>=this.items.length)return{value:null,done:!0};var e=this.items[this.trav];return this.trav++,{value:fm(e),done:!1}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Cm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).nextFn=e,r}return(0,Sa.default)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=(0,xs.default)((function*(){try{return this.nextFn()}catch(e){throw e.message=`Error thrown while iterating through a dataset: ${e.message}`,e}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Nm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Serial`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,xs.default)((function*(){return this.upstream.next()}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Im=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Skip`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,xs.default)((function*(){for(;this.count++<this.maxCount;){var e=yield this.upstream.next();if(e.done)return e;R.dispose(e.value)}return this.upstream.next()}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),_m=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Take`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){return this.count++>=this.maxCount?{value:null,done:!0}:this.upstream.next()}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Rm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.batchSize=r,a.enableSmallLastBatch=i,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> RowMajorBatch`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,xs.default)((function*(){for(var e=[];e.length<this.batchSize;){var t=yield this.upstream.next();if(t.done)return this.enableSmallLastBatch&&e.length>0?{value:e,done:!1}:{value:null,done:!0};e.push(t.value)}return{value:e,done:!1}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Am=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Filter`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,xs.default)((function*(){for(;;){var e=yield this.upstream.next();if(e.done||this.predicate(e.value))return e;R.dispose(e.value)}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Om=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Map`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=yield this.upstream.next();if(e.done)return{value:null,done:!0};var t=R.tensor_util.getTensorsInContainer(e.value),n=this.transform(e.value),r=R.tensor_util.getTensorsInContainer(n);for(var a of t)R.tensor_util.isTensorInList(a,r)||a.dispose();return{value:n,done:!1}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Dm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> handleErrors`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,xs.default)((function*(){for(;;)try{return yield this.upstream.next()}catch(e){if(!this.handler(e))return{value:null,done:!0}}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Fm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> AsyncMap`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=yield this.upstream.next();if(e.done)return{value:null,done:!0};var t=R.tensor_util.getTensorsInContainer(e.value),n=yield this.transform(e.value),r=R.tensor_util.getTensorsInContainer(n);for(var a of t)R.tensor_util.isTensorInList(a,r)||a.dispose();return{value:n,done:!1}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),$m=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(){var e;return(0,xa.default)(this,n),(e=t.call(this)).outputQueue=new gm,e.lastRead=Promise.resolve({value:null,done:!1}),e}return(0,Sa.default)(n,[{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,xs.default)((function*(){for(;0===this.outputQueue.length();)if(!(yield this.pump()))return{value:null,done:!0};return{value:this.outputQueue.shift(),done:!1}}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),Pm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Flatmap`}},{key:"pump",value:function(){var e=(0,xs.default)((function*(){var e=yield this.upstream.next();if(e.done)return!1;var t=R.tensor_util.getTensorsInContainer(e.value),n=this.transform(e.value),r=R.tensor_util.getTensorsInContainer(n);for(var a of(this.outputQueue.pushAll(n),t))R.tensor_util.isTensorInList(a,r)||a.dispose();return!0}));return function(){return e.apply(this,arguments)}}()}]),n}($m),Mm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=e,a}return(0,Sa.default)(n,[{key:"summary",value:function(){return"TODO: fill in upstream of chained summaries -> Chained"}},{key:"next",value:function(){var e=(0,xs.default)((function*(){return this.lastRead=this.readFromChain(this.lastRead),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=(0,xs.default)((function*(e){if(yield e,null==this.iterator){var t=yield this.moreIterators.next();if(t.done)return{value:null,done:!0};this.iterator=t.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler))}var n=yield this.iterator.next();return n.done?(this.iterator=null,this.readFromChain(e)):n}));return function(t){return e.apply(this,arguments)}}()}]),n}(Tm);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(Sm||(Sm={}));var Lm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sm.FAIL;return(0,xa.default)(this,n),(r=t.call(this)).iterators=e,r.mismatchMode=a,r.count=0,r.currentPromise=null,r}return(0,Sa.default)(n,[{key:"summary",value:function(){return"{TODO: fill in upstream of zip summaries} -> Zip"}},{key:"nextState",value:function(){var e=(0,xs.default)((function*(e){yield e;var t=0,n=0;var r=yield lm(this.iterators,(function(e){return e instanceof Tm?{value:e.next().then((function(e){return t++,e.done&&n++,e.value})),recurse:!1}:{value:null,recurse:!0}}));if(t===n)return{value:null,done:!0};if(n>0)switch(this.mismatchMode){case Sm.FAIL:throw new Error(`Zipped streams should have the same length. Mismatched at element ${this.count}.`);case Sm.SHORTEST:return{value:null,done:!0};case Sm.LONGEST:}return this.count++,{value:r,done:!1}}));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,xs.default)((function*(){return this.currentPromise=this.nextState(this.currentPromise),this.currentPromise}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm),zm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.bufferSize=r,a.buffer=new hm(r),a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Prefetch`}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(Tm),Bm=function(e){(0,Ea.default)(n,e);var t=ym(n);function n(e,r,a){var i;return(0,xa.default)(this,n),(i=t.call(this,e,r)).upstream=e,i.windowSize=r,i.upstreamExhausted=!1,i.random=am.alea(a||R.util.now().toString()),i.lastRead=Promise.resolve({value:null,done:!1}),i}return(0,Sa.default)(n,[{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;return this.lastRead=this.lastRead.then((function(){return e.serialNext()})),this.lastRead}));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=(0,xs.default)((function*(){for(this.upstreamExhausted||this.refill();!this.buffer.isEmpty();){var e=this.chooseIndex(),t=yield this.buffer.shuffleExcise(e);if(!t.done)return this.refill(),t;this.upstreamExhausted=!0}return{value:null,done:!0}}));return function(){return e.apply(this,arguments)}}()}]),n}(zm);function Vm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vm=function(){return!!e})()}var Um=function(){function e(){(0,xa.default)(this,e),this.size=null}return(0,Sa.default)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return R.util.assert(e>0,(function(){return`batchSize needs to be positive, but it is\n      ${e}`})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),Gm((0,xs.default)((function*(){return(yield r.iterator()).columnMajorBatch(e,n,qm)})),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,Gm((0,xs.default)((function*(){return(yield n.iterator()).concatenate(yield e.iterator())})),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,Gm((0,xs.default)((function*(){return(yield n.iterator()).filter((function(t){return R.tidy((function(){return e(t)}))}))})),t)}},{key:"forEachAsync",value:function(){var e=(0,xs.default)((function*(e){return(yield this.iterator()).forEachAsync(e)}));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return Gm((0,xs.default)((function*(){return(yield t.iterator()).map((function(t){return R.tidy((function(){return e(t)}))}))})),this.size)}},{key:"mapAsync",value:function(e){var t=this;return Gm((0,xs.default)((function*(){return(yield t.iterator()).mapAsync(e)})),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return Gm((0,xs.default)((function*(){return(yield t.iterator()).prefetch(e)})),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,Gm((0,xs.default)((function*(){return xm(wm((0,xs.default)((function*(){return{value:yield n.iterator(),done:!1}}))).take(e))})),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,Gm((0,xs.default)((function*(){return(yield n.iterator()).skip(e)})),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError(`\`Dataset.shuffle()\` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for \`tf.Tensor\`s), consider setting bufferSize to the dataset size (${this.size} elements)`);var r=this,a=am.alea(t||R.util.now().toString());return Gm((0,xs.default)((function*(){var t=a.int32();return n&&(t+=a.int32()),(yield r.iterator()).shuffle(e,t.toString())})),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,Gm((0,xs.default)((function*(){return(yield n.iterator()).take(e)})),t)}},{key:"toArray",value:function(){var e=(0,xs.default)((function*(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(yield this.iterator()).toArray()}));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,xs.default)((function*(){if(this.size===1/0)throw new Error("Can not convert infinite data stream to array.");return(yield this.iterator()).toArrayForTest()}));return function(){return e.apply(this,arguments)}}()}]),e}();function Gm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){(0,Ea.default)(a,n);var r=function(e){var t=Vm();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}(a);function a(){var e;return(0,xa.default)(this,a),(e=r.apply(this,arguments)).size=t,e}return(0,Sa.default)(a,[{key:"iterator",value:function(){var t=(0,xs.default)((function*(){return e()}));return function(){return t.apply(this,arguments)}}()}]),a}(Um))}function Wm(e){return Gm((0,xs.default)((function*(){return km(e)})),e.length)}function jm(e){if(!dm(e))throw new Error("The argument to zip() must be an object or array.");var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(var r in e)t=null==t?e[r].size:Math.min(t,e[r].size);return Gm((0,xs.default)((function*(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sm.FAIL;return new Lm(e,t)}(yield lm(e,(function(e){if(e instanceof Um)return{value:e.iterator(),recurse:!1};if(dm(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")})),Sm.SHORTEST)})),t)}function qm(e){return null===e?null:function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof R.Tensor||R.util.isTypedArray(e);var t}(e[0])?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof R.Tensor?R.stack(e):R.tensor(e)}(e),recurse:!1}:{value:null,recurse:!0}}function Hm(e){var t=Km();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Km(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Km=function(){return!!e})()}Um.MAX_BUFFER_SIZE=1e4;var Xm=function(e){(0,Ea.default)(n,e);var t=Hm(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).input=e,r}return(0,Sa.default)(n,[{key:"iterator",value:function(){var e=(0,xs.default)((function*(){return(yield this.input.iterator()).decodeUTF8().split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e}))}));return function(){return e.apply(this,arguments)}}()}]),n}(Um);function Ym(e){var t=Zm();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Zm(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zm=function(){return!!e})()}var Qm='"',Jm=Symbol("out"),ev=Symbol("field"),tv=Symbol("quote"),nv=Symbol("quoteafterquote"),rv=Symbol("quoteinquote"),av=function(e){(0,Ea.default)(n,e);var t=Ym(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).input=e,a.hasHeader=!0,a.fullColumnNames=null,a.columnNamesValidated=!1,a.columnConfigs=null,a.configuredColumnsOnly=!1,a.delimiter=",",a.delimWhitespace=!1,a.base=new Xm(e),r||(r={}),a.hasHeader=!1!==r.hasHeader,a.fullColumnNames=r.columnNames,a.columnConfigs=r.columnConfigs,a.configuredColumnsOnly=r.configuredColumnsOnly,r.delimWhitespace?(R.util.assert(null==r.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),a.delimWhitespace=!0,a.delimiter=" "):a.delimiter=r.delimiter?r.delimiter:",",a}return(0,Sa.default)(n,[{key:"columnNames",value:function(){var e=(0,xs.default)((function*(){return this.columnNamesValidated||(yield this.setColumnNames()),this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames}));return function(){return e.apply(this,arguments)}}()},{key:"setColumnNames",value:function(){var e=(0,xs.default)((function*(){var e=this,t=yield this.maybeReadHeaderLine();if(!this.fullColumnNames&&!t)throw new Error("Column names must be provided if there is no header line.");this.fullColumnNames&&t&&R.util.assert(t.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+e.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."})),this.fullColumnNames||(this.fullColumnNames=t);var n=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),r=Object.keys(n).filter((function(e){return n[e]>1}));if(R.util.assert(0===r.length,(function(){return"Duplicate column names found: "+r.toString()})),this.columnConfigs)for(var a of Object.keys(this.columnConfigs)){if(-1===this.fullColumnNames.indexOf(a))throw new Error('The key "'+a+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").")}this.columnNamesValidated=!0}));return function(){return e.apply(this,arguments)}}()},{key:"maybeReadHeaderLine",value:function(){var e=(0,xs.default)((function*(){if(this.hasHeader){var e=yield this.base.iterator(),t=yield e.next();if(t.done)throw new Error("No data was found for CSV parsing.");var n=t.value;return this.parseRow(n,!1)}return null}));return function(){return e.apply(this,arguments)}}()},{key:"iterator",value:function(){var e=(0,xs.default)((function*(){var e=this;this.columnNamesValidated||(yield this.setColumnNames());var t=yield this.base.iterator();return this.hasHeader&&(t=t.skip(1)),t.map((function(t){return e.makeDataElement(t)}))}));return function(){return e.apply(this,arguments)}}()},{key:"makeDataElement",value:function(e){for(var t=this.parseRow(e),n={},r={},a=0;a<this.fullColumnNames.length;a++){var i=this.fullColumnNames[a],o=this.columnConfigs?this.columnConfigs[i]:null;if(!this.configuredColumnsOnly||o){var s=t[a],u=null;if(""===s)if(o&&void 0!==o.default)u=o.default;else{if(o&&(o.required||o.isLabel))throw new Error(`Required column ${i} is empty in this line: ${e}`);u=void 0}else{var l=Number(s);if(isNaN(l))u=o&&"bool"===o.dtype?this.getBoolean(s):s;else if(o&&o.dtype)switch(o.dtype){case"float32":default:u=l;break;case"int32":u=Math.floor(l);break;case"bool":u=this.getBoolean(s)}else u=l}o&&o.isLabel?r[i]=u:n[i]=u}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}},{key:"getBoolean",value:function(e){return"1"===e||"true"===e.toLowerCase()?1:0}},{key:"parseRow",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0,a=e.length,i=Jm,o=0;o<a;o++)switch(i){case Jm:switch(e.charAt(o)){case Qm:r=o+1,i=tv;break;case this.delimiter:if(r=o+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),i=Jm;break;default:i=ev,r=o}break;case ev:if(e.charAt(o)===this.delimiter)n.push(e.substring(r,o)),i=Jm,r=o+1;break;case tv:if(e.charAt(o)===Qm)i=nv;break;case nv:switch(e.charAt(o)){case this.delimiter:n.push(e.substring(r,o-1)),i=Jm,r=o+1;break;case Qm:i=tv;break;default:i=rv}break;case rv:if(e.charAt(o)===Qm)i=tv}if(i===nv?n.push(e.substring(r,a-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error(`Invalid row in csv file. Should have ${this.fullColumnNames.length} elements in a row, but got ${n}`);return n}}]),n}(Um);function iv(e){var t=ov();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function ov(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ov=function(){return!!e})()}var sv=function(e){(0,Ea.default)(n,e);var t=iv(n);function n(e){var r;(0,xa.default)(this,n),(r=t.call(this)).microphoneConfig=e,r.isClosed=!1,r.fftSize=e.fftSize||1024;var a=Math.log2(r.fftSize);if(r.fftSize<0||a<4||a>14||!Number.isInteger(a))throw new Error(`Invalid fftSize: it must be a power of 2 between 2 to 4 and 2 to 14, but got ${r.fftSize}`);if(r.numFrames=e.numFramesPerSpectrogram||43,r.sampleRateHz=e.sampleRateHz,r.columnTruncateLength=e.columnTruncateLength||r.fftSize,r.audioTrackConstraints=e.audioTrackConstraints,r.smoothingTimeConstant=e.smoothingTimeConstant||0,r.includeSpectrogram=!1!==e.includeSpectrogram,r.includeWaveform=!0===e.includeWaveform,!r.includeSpectrogram&&!r.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return r}return(0,Sa.default)(n,[{key:"summary",value:function(){return"microphone"}},{key:"start",value:function(){var e=(0,xs.default)((function*(){try{this.stream=yield navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1})}catch(n){throw new Error(`Error thrown while initializing video stream: ${n.message}`)}if(!this.stream)throw new Error("Could not obtain audio from microphone.");var e=window.AudioContext||window.webkitAudioContext;if(this.audioContext=new e,this.sampleRateHz){if(this.audioContext.sampleRate!==this.sampleRateHz)throw new Error(`Mismatch in sampling rate: Expected: ${this.sampleRateHz}; Actual: ${this.audioContext.sampleRate}`)}else this.sampleRateHz=this.audioContext.sampleRate;var t=this.audioContext.createMediaStreamSource(this.stream);this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,t.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize)}));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,xs.default)((function*(){if(this.isClosed)return{value:null,done:!0};var e,t,n=yield this.getAudioData();if(this.includeSpectrogram){var r=this.flattenQueue(n.freqDataQueue);e=this.getTensorFromAudioDataArray(r,[this.numFrames,this.columnTruncateLength,1])}if(this.includeWaveform){var a=this.flattenQueue(n.timeDataQueue);t=this.getTensorFromAudioDataArray(a,[this.numFrames*this.fftSize,1])}return{value:{spectrogram:e,waveform:t},done:!1}}));return function(){return e.apply(this,arguments)}}()},{key:"capture",value:function(){var e=(0,xs.default)((function*(){return(yield this.next()).value}));return function(){return e.apply(this,arguments)}}()},{key:"getAudioData",value:function(){var e=(0,xs.default)((function*(){var e=this,t=[],n=[],r=0;return new Promise((function(a){var i=setInterval((function(){e.includeSpectrogram&&(e.analyser.getFloatFrequencyData(e.freqData),e.freqData[0]===-1/0&&a({freqDataQueue:t,timeDataQueue:n}),t.push(e.freqData.slice(0,e.columnTruncateLength))),e.includeWaveform&&(e.analyser.getFloatTimeDomainData(e.timeData),n.push(e.timeData.slice())),++r===e.numFrames&&(clearInterval(i),a({freqDataQueue:t,timeDataQueue:n}))}),e.fftSize/e.sampleRateHz*1e3)}))}));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}},{key:"toArray",value:function(){throw new Error("Can not convert infinite audio stream to array.")}},{key:"getSampleRate",value:function(){return this.sampleRateHz}},{key:"flattenQueue",value:function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n}},{key:"getTensorFromAudioDataArray",value:function(e,t){var n=new Float32Array(R.util.sizeFromShape(t));return n.set(e,n.length-e.length),(0,R.tensor)(n,t)}}],[{key:"create",value:function(){var e=(0,xs.default)((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!(0,R.env)().get("IS_BROWSER"))throw new Error("microphone API is only supported in browser environment.");var t=new n(e);return yield t.start(),t}));return function(){return e.apply(this,arguments)}}()}]),n}(Tm);function uv(e){var t=lv();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function lv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lv=function(){return!!e})()}var cv=function(e){(0,Ea.default)(n,e);var t=uv(n);function n(e,r){var a;if((0,xa.default)(this,n),(a=t.call(this)).webcamVideoElement=e,a.webcamConfig=r,a.isClosed=!0,a.resize=!1,a.needToResize())if(a.resize=!0,a.cropSize=[a.webcamConfig.resizeHeight,a.webcamConfig.resizeWidth],a.cropBoxInd=(0,R.tensor1d)([0],"int32"),a.webcamConfig.centerCrop){var i=1*a.webcamConfig.resizeWidth/a.webcamVideoElement.width,o=1*a.webcamConfig.resizeHeight/a.webcamVideoElement.height,s=(1-i)/2,u=(1-o)/2,l=s+i,c=o+u;a.cropBox=(0,R.tensor2d)([u,s,c,l],[1,4])}else a.cropBox=(0,R.tensor2d)([0,0,1,1],[1,4]);return a}return(0,Sa.default)(n,[{key:"summary",value:function(){return"webcam"}},{key:"start",value:function(){var e=(0,xs.default)((function*(){var e=this;this.webcamConfig.facingMode&&R.util.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return`Invalid webcam facing mode: ${e.webcamConfig.facingMode}. Please provide 'user' or 'environment'`}));try{this.stream=yield navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}})}catch(t){throw t.message=`Error thrown while initializing video stream: ${t.message}`,t}if(!this.stream)throw new Error("Could not obtain video from webcam.");try{this.webcamVideoElement.srcObject=this.stream}catch(n){console.log(n),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,new Promise((function(t){e.webcamVideoElement.onloadedmetadata=function(){t()}}))}));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,xs.default)((function*(){if(this.isClosed)return{value:null,done:!0};var e;try{e=R.browser.fromPixels(this.webcamVideoElement)}catch(t){throw new Error(`Error thrown converting video to pixels: ${JSON.stringify(t)}`)}if(!this.resize)return{value:e,done:!1};try{return{value:this.cropAndResizeFrame(e),done:!1}}catch(t){throw new Error(`Error thrown cropping the video: ${t.message}`)}finally{e.dispose()}}));return function(){return e.apply(this,arguments)}}()},{key:"needToResize",value:function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}},{key:"cropAndResizeFrame",value:function(e){var t=this;return(0,R.tidy)((function(){var n,r=(0,R.expandDims)((0,R.cast)(e,"float32"),0),a=(n=R.image.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return(0,R.reshape)(n,a.slice(1))}))}},{key:"capture",value:function(){var e=(0,xs.default)((function*(){return(yield this.next()).value}));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0}},{key:"toArray",value:function(){throw new Error("Can not convert infinite video stream to array.")}}],[{key:"create",value:function(){var e=(0,xs.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(0,R.env)().get("IS_BROWSER"))throw new Error("tf.data.webcam is only supported in browser environment.");if(!e){if(e=document.createElement("video"),!t.resizeWidth||!t.resizeHeight)throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");e.width=t.resizeWidth,e.height=t.resizeHeight}var r=new n(e,t);return yield r.start(),r}));return function(t){return e.apply(this,arguments)}}()}]),n}(Tm),dv=(0,Sa.default)((function e(){(0,xa.default)(this,e)}));function fv(e){var t=pv();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function pv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pv=function(){return!!e})()}var hv=function(e){(0,Ea.default)(n,e);var t=fv(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"split",value:function(e){return new mv(this,e)}}]),n}(Tm),mv=function(e){(0,Ea.default)(n,e);var t=fv(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.impl=new vv(e,r),a}return(0,Sa.default)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,xs.default)((function*(){return this.impl.next()}));return function(){return e.apply(this,arguments)}}()}]),n}(hv),vv=function(e){(0,Ea.default)(n,e);var t=fv(n);function n(e,r){var a;return(0,xa.default)(this,n),(a=t.call(this)).upstream=e,a.separator=r,a.carryover="",a}return(0,Sa.default)(n,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Split('${this.separator}')`}},{key:"pump",value:function(){var e=(0,xs.default)((function*(){var e=yield this.upstream.next();if(e.done)return""!==this.carryover&&(this.outputQueue.push(this.carryover),this.carryover="",!0);var t=e.value.split(this.separator);for(var n of(t[0]=this.carryover+t[0],t.slice(0,-1)))this.outputQueue.push(n);return this.carryover=t[t.length-1],!0}));return function(){return e.apply(this,arguments)}}()}]),n}($m);function gv(e){var t=yv();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function yv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yv=function(){return!!e})()}var bv=function(e){(0,Ea.default)(n,e);var t=gv(n);function n(){return(0,xa.default)(this,n),t.apply(this,arguments)}return(0,Sa.default)(n,[{key:"decodeUTF8",value:function(){return new kv(this)}}]),n}(Tm),kv=function(e){(0,Ea.default)(n,e);var t=gv(n);function n(e){var r;return(0,xa.default)(this,n),(r=t.call(this)).upstream=e,r.impl=new wv(e),r}return(0,Sa.default)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,xs.default)((function*(){return this.impl.next()}));return function(){return e.apply(this,arguments)}}()}]),n}(hv),wv=function(e){(0,Ea.default)(r,e);var t=gv(r);function r(e){var a;if((0,xa.default)(this,r),(a=t.call(this)).upstream=e,(0,R.env)().get("IS_BROWSER"))a.decoder=new TextDecoder("utf-8");else{var i=n(1601).StringDecoder;a.decoder=new i("utf8")}return a}return(0,Sa.default)(r,[{key:"summary",value:function(){return`${this.upstream.summary()} -> Utf8`}},{key:"pump",value:function(){var e=(0,xs.default)((function*(){var e,t,n=yield this.upstream.next();return!n.done&&(e=n.value,t=(0,R.env)().get("IS_BROWSER")?this.decoder.decode(e,{stream:!0}):this.decoder.write(Buffer.from(e.buffer)),this.outputQueue.push(t),!0)}));return function(){return e.apply(this,arguments)}}()}]),r}($m);function xv(e){var t=Sv();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Sv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Sv=function(){return!!e})()}var Tv=function(e){(0,Ea.default)(n,e);var t=xv(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,xa.default)(this,n),(r=t.call(this)).file=e,r.options=a,R.util.assert(e instanceof Uint8Array||!!(0,R.env)().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=a.offset||0,r.chunkSize=a.chunkSize||1048576,r}return(0,Sa.default)(n,[{key:"summary",value:function(){return`FileChunks ${this.file}`}},{key:"next",value:function(){var e=(0,xs.default)((function*(){var e=this;if(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))return{value:null,done:!0};var t=new Promise((function(t,n){var r=e.offset+e.chunkSize;if(e.file instanceof Uint8Array)t(new Uint8Array(e.file.slice(e.offset,r)));else{var a=new FileReader;a.onload=function(e){var r=a.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return n(new TypeError("FileReader returned unknown type."));t(r)},a.onabort=function(e){return n(new Error("Aborted"))},a.onerror=function(e){return n(new Error(e.type))};var i=e.file.slice(e.offset,r);a.readAsArrayBuffer(i)}e.offset=r}));return{value:yield t,done:!1}}));return function(){return e.apply(this,arguments)}}()}]),n}(bv);function Ev(){return Ev=(0,xs.default)((function*(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;"string"===typeof e?t=e:(t=e.url,n=Cv(e));var i=yield(a||R.util.fetch)(t,n);if(i.ok){var o=new Uint8Array(yield i.arrayBuffer());return new Tv(o,r)}throw new Error(i.statusText)})),Ev.apply(this,arguments)}var Cv=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function Nv(e){return"string"===typeof e&&"file://"===e.slice(0,7)}function Iv(e){var t=_v();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function _v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_v=function(){return!!e})()}var Rv=function(e){(0,Ea.default)(r,e);var t=Iv(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,xa.default)(this,r),(n=t.call(this)).input=e,n.options=a,n}return(0,Sa.default)(r,[{key:"iterator",value:function(){var e=(0,xs.default)((function*(){if(Nv(this.input)&&(0,R.env)().get("IS_NODE")){var e=n(7792);this.input=e.readFileSync(this.input.slice(7))}return new Tv(this.input,this.options)}));return function(){return e.apply(this,arguments)}}()}]),r}(dv);function Av(e){var t=Ov();return function(){var n,r=(0,Na.default)(e);if(t){var a=(0,Na.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,Ca.default)(this,n)}}function Ov(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ov=function(){return!!e})()}var Dv=function(e){(0,Ea.default)(n,e);var t=Av(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,xa.default)(this,n),(r=t.call(this)).url=e,r.fileOptions=a,r}return(0,Sa.default)(n,[{key:"iterator",value:function(){var e=(0,xs.default)((function*(){return Nv(this.url)?new Rv(this.url,this.fileOptions).iterator():function(e){return Ev.apply(this,arguments)}(this.url,this.fileOptions)}));return function(){return e.apply(this,arguments)}}()}]),n}(dv);function Fv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new av(new Dv(e),t)}function $v(e){var t=wm(e);return Gm((0,xs.default)((function*(){return t})))}function Pv(e){return Gm((0,xs.default)((function*(){var t=yield e();return wm((function(){return t.next()}))})))}function Mv(e,t){return Lv.apply(this,arguments)}function Lv(){return(Lv=(0,xs.default)((function*(e,t){return cv.create(e,t)}))).apply(this,arguments)}function zv(e){return Bv.apply(this,arguments)}function Bv(){return(Bv=(0,xs.default)((function*(e){return sv.create(e)}))).apply(this,arguments)}var Vv="3.20.0",Uv=n(354),Gv=n(2236),Wv={"tfjs-core":R.version_core,"tfjs-backend-cpu":Uv.version_cpu,"tfjs-backend-webgl":Gv.version_webgl,"tfjs-data":Vv,"tfjs-layers":yu,"tfjs-converter":rm,tfjs:"3.20.0"}},8738:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Asset:()=>N});var r=n(5861),a=n(5671),i=n(3144),o=n(1222),s=n(8945),u=n(4942),l=n(8007),c=n.n(l),d=n(1647),f=n(5021),p=n.n(f);function h(e){var t=m.pickScale(e.scales,d.default.get()),n=1===t?"":"@"+t+"x",r=e.type?`.${e.type}`:"";return e.httpServerLocation.replace(/\.\.\//g,"_")+"/"+e.name+n+r}var m=function(){function e(t,n,r){(0,a.default)(this,e),this.serverUrl=t||"https://expo.dev",this.jsbundleUrl=null,this.asset=r}return(0,i.default)(e,[{key:"isLoadedFromServer",value:function(){return!0}},{key:"isLoadedFromFileSystem",value:function(){return!1}},{key:"defaultAsset",value:function(){return this.assetServerURL()}},{key:"assetServerURL",value:function(){var e=new URL(h(this.asset),this.serverUrl);return e.searchParams.set("platform",o.Platform.OS),e.searchParams.set("hash",this.asset.hash),this.fromSource(e.toString().replace(e.origin,""))}},{key:"fromSource",value:function(t){var n,r;return{__packager_asset:!0,width:null!=(n=this.asset.width)?n:void 0,height:null!=(r=this.asset.height)?r:void 0,uri:t,scale:e.pickScale(this.asset.scales,d.default.get())}}}],[{key:"pickScale",value:function(e,t){for(var n=0;n<e.length;n++)if(e[n]>=t)return e[n];return e[e.length-1]||1}}]),e}(),v=null;function g(){return(g=(0,r.default)((function*(e,t,n,r){return e}))).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k,w={}.assetMapOverride;function x(e){if(!v)return e;if(""!==new(p())(e).protocol)return e;var t=new(p())(v),n=e.startsWith("/")?e:c().join(t.pathname,e);return t.set("pathname",n),t.href}function S(e){var t=new(p())(e,{}).pathname;return t.substring(t.lastIndexOf("/")+1)}function T(e){var t=S(e),n=t.lastIndexOf(".");return n>0?t.substring(n):""}function E(e){k=e}function C(e){if("object"===typeof e)return e;var t=(0,s.getAssetByID)(e);if(t){var n=new m("https://expo.dev",null,t);return k?k(n):n.defaultAsset()}}Object.defineProperty(C,"setCustomSourceTransformer",{get:function(){return E}});m.pickScale;var N=function(){function e(t){var n=t.name,r=t.type,i=t.hash,s=void 0===i?null:i,u=t.uri,l=t.width,c=t.height;(0,a.default)(this,e),this.hash=null,this.localUri=null,this.width=null,this.height=null,this.downloading=!1,this.downloaded=!1,this._downloadCallbacks=[],this.name=n,this.type=r,this.hash=s,this.uri=u,"number"===typeof l&&(this.width=l),"number"===typeof c&&(this.height=c),s&&(this.localUri=null,this.localUri&&(this.downloaded=!0)),"web"===o.Platform.OS&&(n||(this.name=S(u)),r||(this.type=T(u)))}return(0,i.default)(e,[{key:"downloadAsync",value:function(){var e=(0,r.default)((function*(){var e,t,n=this;if(this.downloaded)return this;if(this.downloading)return yield new Promise((function(e,t){n._downloadCallbacks.push({resolve:e,reject:t})})),this;this.downloading=!0;try{if("web"===o.Platform.OS)if(t=this.type,/^(jpeg|jpg|gif|png|bmp|webp|heic)$/i.test(t)){var r=yield(e=this.uri,o.Platform.isDOMAvailable?new Promise((function(t,n){var r=new Image;r.onerror=n,r.onload=function(){t({name:S(e),width:r.naturalWidth,height:r.naturalHeight})},r.src=e})):Promise.resolve({name:S(e),width:0,height:0})),a=r.width,i=r.height,s=r.name;this.width=a,this.height=i,this.name=s}else this.name=S(this.uri);this.localUri=yield function(e,t,n,r){return g.apply(this,arguments)}(this.uri,this.hash,this.type,this.name),this.downloaded=!0,this._downloadCallbacks.forEach((function(e){return(0,e.resolve)()}))}catch(u){throw this._downloadCallbacks.forEach((function(e){return(0,e.reject)(u)})),u}finally{this.downloading=!1,this._downloadCallbacks=[]}return this}));return function(){return e.apply(this,arguments)}}()}],[{key:"loadAsync",value:function(t){var n=Array.isArray(t)?t:[t];return Promise.all(n.map((function(t){return e.fromModule(t).downloadAsync()})))}},{key:"fromModule",value:function(t){if("string"===typeof t)return e.fromURI(t);var n=(0,s.getAssetByID)(t);if(!n)throw new Error(`Module "${t}" is missing from the asset registry`);var r=C(t).uri,a=new e({name:n.name,type:n.type,hash:n.hash,uri:r,width:n.width,height:n.height});return"android"!==o.Platform.OS||r.includes(":")||!n.width&&!n.height||(a.localUri=a.uri,a.downloaded=!0),e.byHash[n.hash]=a,a}},{key:"fromMetadata",value:function(t){var n=t.hash;if(e.byHash[n])return e.byHash[n];var r=function(e){var t,n;w&&w.hasOwnProperty(e.hash)&&(e=b(b({},e),w[e.hash]));var r=m.pickScale(e.scales,d.default.get()),a=e.scales.findIndex((function(e){return e===r})),i=e.fileHashes?e.fileHashes[a]||e.fileHashes[0]:e.hash,s=e.fileUris?e.fileUris[a]||e.fileUris[0]:e.uri;if(s)return{uri:x(s),hash:i};var u={}.assetUrlOverride;if(u)return{uri:x(c().join(u,i)),hash:i};var l=1===r?"":`@${r}x`,f=e.type?`.${encodeURIComponent(e.type)}`:"",h=`/${encodeURIComponent(e.name)}${l}${f}?platform=${encodeURIComponent(o.Platform.OS)}&hash=${encodeURIComponent(e.hash)}`;if(/^https?:\/\//.test(e.httpServerLocation))return{uri:e.httpServerLocation+h,hash:i};var v={};if(null!=v&&null!=(t=v.extra)&&null!=(n=t.expoGo)&&n.developer){var g=new(p())(`http://${v.extra.expoGo.debuggerHost}`);return g.set("pathname",e.httpServerLocation+h),{uri:g.href,hash:i}}if({}.developer){var y=new(p())({}.bundleUrl);return y.set("pathname",e.httpServerLocation+h),{uri:y.href,hash:i}}return{uri:`https://classic-assets.eascdn.net/~assets/${encodeURIComponent(i)}`,hash:i}}(t),a=r.uri,i=r.hash,s=new e({name:t.name,type:t.type,hash:i,uri:a,width:t.width,height:t.height});return e.byHash[n]=s,s}},{key:"fromURI",value:function(t){if(e.byUri[t])return e.byUri[t];var n="";if(t.indexOf(";base64")>-1)n=t.split(";")[0].split("/")[1];else{var r=T(t);n=r.startsWith(".")?r.substring(1):r}var a=new e({name:"",type:n,hash:null,uri:t});return e.byUri[t]=a,a}}]),e}();N.byHash={},N.byUri={}},3528:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Constants:()=>We,default:()=>Ge,getCameraPermissionsAsync:()=>He,getMicrophonePermissionsAsync:()=>Xe,getPermissionsAsync:()=>je,requestCameraPermissionsAsync:()=>Ke,requestMicrophonePermissionsAsync:()=>Ye,requestPermissionsAsync:()=>qe});var r,a,i,o,s,u,l,c,d,f=n(4942),p=n(5861),h=n(5671),m=n(3144),v=n(136),g=n(6215),y=n(1120),b=n(1222),k=n(5004),w=n(9512),x=n(5987),S=n(6792),T=n(9385),E=n(7339);!function(e){e.front="front",e.back="back"}(r||(r={})),function(e){e.on="on",e.off="off",e.auto="auto",e.torch="torch"}(a||(a={})),function(e){e.on="on",e.off="off",e.auto="auto",e.singleShot="singleShot"}(i||(i={})),function(e){e.auto="auto",e.sunny="sunny",e.cloudy="cloudy",e.shadow="shadow",e.incandescent="incandescent",e.fluorescent="fluorescent",e.continuous="continuous",e.manual="manual"}(o||(o={})),function(e){e.png="png",e.jpg="jpg"}(s||(s={})),function(e){e.H264="avc1",e.HEVC="hvc1",e.JPEG="jpeg",e.AppleProRes422="apcn",e.AppleProRes4444="ap4h"}(u||(u={})),function(e){e.off="off",e.standard="standard",e.cinematic="cinematic",e.auto="auto"}(l||(l={})),function(e){e["2160p"]="2160p",e["1080p"]="1080p",e["720p"]="720p",e["480p"]="480p",e["4:3"]="4:3"}(c||(c={})),function(e){e[e.portrait=1]="portrait",e[e.portraitUpsideDown=2]="portraitUpsideDown",e[e.landscapeLeft=3]="landscapeLeft",e[e.landscapeRight=4]="landscapeRight"}(d||(d={}));var C=n(885);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){return(_=(0,p.default)((function*(e){var t=function(e){return{optional:[{sourceId:e}]}},n=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null},r=yield new Promise((function(e){return MediaStreamTrack.getSources((function(t){return e(t)}))})),a=null,i=null;r.forEach((function(e){"audio"===e.kind?a=e.id:"video"===e.kind&&(i=e.id)}));var o=n(e.audioConstraints);o&&(a=o);var s=n(e.videoConstraints);return s&&(i=s),[t(a),t(i)]}))).apply(this,arguments)}function R(e,t,n){return A.apply(this,arguments)}function A(){return(A=(0,p.default)((function*(e,t,n){var r={video:"undefined"===typeof n||n};return e||(r.audio="undefined"===typeof t||t),yield D(r)}))).apply(this,arguments)}function O(){return O=(0,p.default)((function*(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(P())return yield R(t,e.audio,e.video);var n=yield function(e){return _.apply(this,arguments)}(e),r=(0,C.default)(n,2),a=r[0],i=r[1];return yield R(t,a,i)})),O.apply(this,arguments)}function D(e){return F.apply(this,arguments)}function F(){return F=(0,p.default)((function*(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return yield function(e){return $.apply(this,arguments)}(I(I({},e),{},{video:t||e.video}))}catch(n){if(!t&&"ConstraintNotSatisfiedError"===n.name)return yield D(e,!0);throw n}})),F.apply(this,arguments)}function $(){return($=(0,p.default)((function*(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var t=navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia;return new Promise((function(n,r){return t.call(navigator,e,n,r)}))}))).apply(this,arguments)}function P(){return b.Platform.isDOMAvailable&&!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia)}function M(e){return L.apply(this,arguments)}function L(){return(L=(0,p.default)((function*(e){return yield V(["front","user","facetime"],"user",e)}))).apply(this,arguments)}function z(e){return B.apply(this,arguments)}function B(){return(B=(0,p.default)((function*(e){return yield V(["back","rear"],"environment",e)}))).apply(this,arguments)}function V(e,t,n){return U.apply(this,arguments)}function U(){return(U=(0,p.default)((function*(e,t,n){if(!n){if(!navigator.mediaDevices.enumerateDevices)return null;n=yield navigator.mediaDevices.enumerateDevices()}var r=n.filter((function(e){return"videoinput"===e.kind})),a=r.filter((function(t){return e.some((function(e){return t.label.toLowerCase().includes(e)}))})),i=(0,C.default)(a,1)[0],o=r.filter((function(e){if(!("getCapabilities"in e))return null;var n=e.getCapabilities();return n.facingMode?n.facingMode.find((function(e){return t})):null})),s=(0,C.default)(o,1)[0];return(null==s?void 0:s.deviceId)||(null==i?void 0:i.deviceId)||null}))).apply(this,arguments)}function G(e){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices.getUserMedia(e);var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||function(){var e=new Error("Permission unimplemented");throw e.code=0,e.name="NotAllowedError",e};return new Promise((function(n,r){t.call(navigator,e,n,r)}))}function W(e){return"Permission dismissed"===e.message?{status:b.PermissionStatus.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1}:{status:b.PermissionStatus.DENIED,expires:"never",canAskAgain:!0,granted:!1}}function j(){return q.apply(this,arguments)}function q(){return(q=(0,p.default)((function*(){try{return yield G({video:!0}),{status:b.PermissionStatus.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch(e){return W({message:e.message})}}))).apply(this,arguments)}function H(e){return K.apply(this,arguments)}function K(){return(K=(0,p.default)((function*(e){var t,n;if(null==(t=navigator)||null==(n=t.permissions)||!n.query)throw new b.UnavailabilityError("expo-camera","navigator.permissions API is not available");switch((yield navigator.permissions.query({name:e})).state){case"prompt":return{status:b.PermissionStatus.UNDETERMINED,expires:"never",canAskAgain:!0,granted:!1};case"granted":return{status:b.PermissionStatus.GRANTED,expires:"never",canAskAgain:!0,granted:!0};case"denied":return{status:b.PermissionStatus.DENIED,expires:"never",canAskAgain:!0,granted:!1}}}))).apply(this,arguments)}const X={get name(){return"ExponentCameraManager"},get Type(){return{back:"back",front:"front"}},get FlashMode(){return{on:"on",off:"off",auto:"auto",torch:"torch"}},get AutoFocus(){return{on:"on",off:"off",auto:"auto",singleShot:"singleShot"}},get WhiteBalance(){return{auto:"auto",continuous:"continuous",manual:"manual"}},get VideoQuality(){return{}},get VideoStabilization(){return{}},isAvailableAsync:function(){var e=(0,p.default)((function*(){return P()}));return function(){return e.apply(this,arguments)}}(),takePicture:function(){var e=(0,p.default)((function*(e,t){return yield t.takePicture(e)}));return function(t,n){return e.apply(this,arguments)}}(),pausePreview:function(){var e=(0,p.default)((function*(e){yield e.pausePreview()}));return function(t){return e.apply(this,arguments)}}(),resumePreview:function(){var e=(0,p.default)((function*(e){return yield e.resumePreview()}));return function(t){return e.apply(this,arguments)}}(),getAvailableCameraTypesAsync:function(){var e=(0,p.default)((function*(){if(!P()||!navigator.mediaDevices.enumerateDevices)return[];var e=yield navigator.mediaDevices.enumerateDevices();return(yield Promise.all([(yield M(e))&&r.front,(yield z())&&r.back])).filter(Boolean)}));return function(){return e.apply(this,arguments)}}(),getAvailablePictureSizes:function(){var e=(0,p.default)((function*(e,t){return yield t.getAvailablePictureSizes(e)}));return function(t,n){return e.apply(this,arguments)}}(),getPermissionsAsync:function(){var e=(0,p.default)((function*(){return H("camera")}));return function(){return e.apply(this,arguments)}}(),requestPermissionsAsync:function(){var e=(0,p.default)((function*(){return j()}));return function(){return e.apply(this,arguments)}}(),getCameraPermissionsAsync:function(){var e=(0,p.default)((function*(){return H("camera")}));return function(){return e.apply(this,arguments)}}(),requestCameraPermissionsAsync:function(){var e=(0,p.default)((function*(){return j()}));return function(){return e.apply(this,arguments)}}(),getMicrophonePermissionsAsync:function(){var e=(0,p.default)((function*(){return H("microphone")}));return function(){return e.apply(this,arguments)}}(),requestMicrophonePermissionsAsync:function(){var e=(0,p.default)((function*(){try{return yield G({audio:!0}),{status:b.PermissionStatus.GRANTED,expires:"never",canAskAgain:!0,granted:!0}}catch(e){return W({message:e.message})}}));return function(){return e.apply(this,arguments)}}()};var Y,Z,Q=n(9590),J=n.n(Q);function ee(e){return"torch"===e}function te(e){switch(e){case"on":case"auto":return"continuous";case"off":return"none";case"singleShot":return"single-shot";default:return}}function ne(e){switch(e){case"on":case"auto":return"continuous";case"off":return"manual";case"singleShot":return"single-shot";default:return}}var re=Object.keys({"3840x2160":3840/2160,"1920x1080":1920/1080,"1280x720":1280/720,"640x480":640/480,"352x288":352/288}),ae=(Y={},(0,f.default)(Y,s.jpg,"image/jpeg"),(0,f.default)(Y,s.png,"image/png"),Y),ie={audio:!1,video:!0},oe=(Z={},(0,f.default)(Z,r.front,"user"),(0,f.default)(Z,r.back,"environment"),Z),se={user:r.front,environment:r.back};var ue=.92;function le(e,t){var n=t.scale,r=void 0===n?1:n,a=t.isImageMirror,i=void 0!==a&&a,o=function(e,t,n){var r=e*n;return{width:r,height:t/(e/r)}}(e.videoWidth,e.videoHeight,r),s=o.width,u=o.height,l=document.createElement("canvas");l.width=s,l.height=u;var c=l.getContext("2d",{alpha:!1});if(!c)throw new Error("Context is not defined");return i&&c.setTransform(-1,0,0,1,l.width,0),c.drawImage(e,0,0,s,u),l}function ce(e,t){var n=function(e){var t={scale:1,imageType:s.png,isImageMirror:!1};for(var n in e)n in e&&void 0!==e[n]&&n in t&&(t[n]=e[n]);return t}(t),r=le(e,n),a=n.imageType,i=n.quality;return function(e,t,n){J()(Object.values(s).includes(t),`expo-camera: ${t} is not a valid ImageType. Expected a string from: ${Object.values(s).join(", ")}`);var r=ae[t];return t===s.jpg?(J()(n<=1&&n>=0,`expo-camera: ${n} is not a valid image quality. Expected a number from 0...1`),e.toDataURL(r,n)):e.toDataURL(r)}(r,a,void 0===i?ue:i)}function de(e,t,n){var a={audio:!1,video:{}};if(function(e,t,n){return void 0!==e&&void 0!==t&&void 0!==n}(e,t,n))return ie;var i,o=navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints?navigator.mediaDevices.getSupportedConstraints():null;if(!o||!o.facingMode||!o.width||!o.height)return ie;if(e&&Object.values(r).includes(e)){var s=oe[e];if(/WebKit/.test(navigator.userAgent)&&!/Edg/.test(navigator.userAgent)){var u="user"===s?"exact":"ideal";a.video.facingMode=(0,f.default)({},u,s)}else a.video.facingMode={ideal:oe[e]}}return(i=a.video)&&"boolean"!==typeof i.video&&(a.video.width=t,a.video.height=n),a}function fe(){return(fe=(0,p.default)((function*(e,t,n){try{return yield pe(e,t,n)}catch(i){if(i instanceof OverconstrainedError&&"facingMode"===i.constraint){var a=e===r.back?r.front:r.back;return yield pe(a,t,n)}throw i}}))).apply(this,arguments)}function pe(e,t,n){return he.apply(this,arguments)}function he(){return he=(0,p.default)((function*(e,t,n){var r=de(e,t,n),a=yield function(e){return O.apply(this,arguments)}(r);return a})),he.apply(this,arguments)}function me(e,t){return ve.apply(this,arguments)}function ve(){return ve=(0,p.default)((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&t.getVideoTracks&&(yield Promise.all(t.getVideoTracks().map((function(t){return function(e,t){return ge.apply(this,arguments)}(e,t,n)}))))})),ve.apply(this,arguments)}function ge(){return ge=(0,p.default)((function*(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.getCapabilities(),a={};for(var i of["exposureCompensation","colorTemperature","iso","brightness","contrast","saturation","sharpness","focusDistance","zoom"])r[i]&&(a[i]=ke(r[i],n[i]));function o(t,a,i){return function(e){var t=e.constraintKey,n=e.settingsKey,r=e.convertedSetting,a=e.capabilities,i=e.settings;e.cameraType,i[n];if(Array.isArray(a[t])&&r&&!a[t].includes(r))return void 0;return r}({constraintKey:t,settingsKey:a,convertedSetting:i(n[a]),capabilities:r,settings:n,cameraType:e})}r.focusMode&&void 0!==n.autoFocus&&(a.focusMode=o("focusMode","autoFocus",ne)),r.torch&&void 0!==n.flashMode&&(a.torch=o("torch","flashMode",ee)),r.whiteBalanceMode&&void 0!==n.whiteBalance&&(a.whiteBalanceMode=o("whiteBalanceMode","whiteBalance",te));try{yield t.applyConstraints({advanced:[a]})}catch(s){0}})),ge.apply(this,arguments)}function ye(e){e&&(e.getAudioTracks&&e.getAudioTracks().forEach((function(e){return e.stop()})),e.getVideoTracks&&e.getVideoTracks().forEach((function(e){return e.stop()})),"function"===typeof e.stop&&e.stop())}function be(e,t){var n,r=null!=(n=window.URL.createObjectURL)?n:window.webkitURL.createObjectURL;if("undefined"!==typeof e.srcObject?e.srcObject=t:"undefined"!==typeof e.mozSrcObject?e.mozSrcObject=t:t&&r&&(e.src=r(t)),!t){var a,i,o,s=null!=(a=window.URL.revokeObjectURL)?a:window.webkitURL.revokeObjectURL,u=null!=(i=null!=(o=e.src)?o:e.srcObject)?i:e.mozSrcObject;s&&"string"===typeof u&&s(u)}}function ke(e,t){if(t){var n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,1];return(e-n[0])*(t[1]-t[0])/(n[1]-n[0])+t[0]}(t,[e.min,e.max]);return Math.min(e.max,Math.max(e.min,n))}}function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=["autoFocus","flashMode","exposureCompensation","colorTemperature","iso","brightness","contrast","saturation","sharpness","focusDistance","whiteBalance","zoom"];function Te(e,t,n,r){var a=r.onCameraReady,i=r.onMountError,o=k.useRef(!1),s=k.useRef([]),u=k.useRef({autoFocus:"continuous",flashMode:"off",whiteBalance:"continuous",zoom:1}),l=k.useState(null),c=(0,C.default)(l,2),d=c[0],f=c[1],h=k.useMemo((function(){return d?d.getTracks()[0].getSettings():null}),[d]),m=k.useMemo((function(){if(!h)return null;var e=h.facingMode;return se[void 0===e?"user":e]}),[h]),v=k.useCallback((0,p.default)((function*(){try{return yield function(e,t,n){return fe.apply(this,arguments)}(t)}catch(e){return i&&i({nativeEvent:e}),null}})),[t,i]),g=k.useCallback((0,p.default)((function*(){var e=yield v();return function(e,t){if(!e||!t)return!1;var n=e.getTracks()[0].getSettings(),r=t.getTracks()[0].getSettings();return n.deviceId===r.deviceId}(e,d)||(s.current.some((function(t){return t.id===(null==e?void 0:e.id)}))||s.current.push(e),f(e),a&&a()),!1})),[v,f,a,d,s.current]);return k.useEffect((function(){o.current||(o.current=!0,g().then((function(e){o.current=e})).catch((function(){o.current=!1})))}),[t]),k.useEffect((function(){var e={};for(var r of Object.keys(n))if(Se.includes(r)){var a=n[r];a!==u.current[r]&&(e[r]=a)}var i=!!Object.keys(e).length,o=xe(xe({},u.current),e);i&&me(t,d,e),u.current=o}),[n.autoFocus,n.flashMode,n.exposureCompensation,n.colorTemperature,n.iso,n.brightness,n.contrast,n.saturation,n.sharpness,n.focusDistance,n.whiteBalance,n.zoom]),k.useEffect((function(){e.current&&be(e.current,d)}),[e.current,d]),k.useEffect((function(){return function(){for(var t of s.current)ye(t);e.current&&be(e.current,d)}}),[]),function(e,t){k.useEffect((function(){e&&e.addEventListener("loadedmetadata",(function(){requestAnimationFrame((function(){t()}))}))}),[e])}(e.current,(function(){me(t,d,u.current)})),{type:m,mediaTrackSettings:h}}var Ee=function(e,t){var n=[`self.func = ${e.toString()};`,"self.onmessage = (e) => {","  const result = self.func(e.data);","  self.postMessage(result);","};"];t.length>0&&n.unshift(`importScripts(${t.map((function(e){return`'${e}'`})).join(", ")});`);var r=new Blob(n,{type:"text/javascript"}),a=new Worker(URL.createObjectURL(r)),i=[];return a.onmessage=function(e){var t;return null==(t=i.shift())?void 0:t.resolve(e.data)},function(e){return new Promise((function(t,n){i.push({resolve:t,reject:n}),a.postMessage(e)}))}}((function(e){var t,n,r=e.data,a=e.width,i=e.height,o=self.jsQR(r,a,i,{inversionAttempts:"attemptBoth"});try{n=JSON.parse(o)}catch(u){n=o}if(null!=(t=n)&&t.data){var s={type:"qr",data:n.data,cornerPoints:[],bounds:{origin:{x:0,y:0},size:{width:0,height:0}}};return n.location&&(s.cornerPoints=[n.location.topLeftCorner,n.location.bottomLeftCorner,n.location.topRightCorner,n.location.bottomRightCorner]),s}return n}),["https://cdn.jsdelivr.net/npm/jsqr@1.2.0/dist/jsQR.min.js"]);function Ce(e,t){var n=t.isEnabled,r=t.captureOptions,a=t.interval,i=t.onScanned,o=t.onError,s=k.useRef(!1),u=k.useRef(void 0);function l(){return c.apply(this,arguments)}function c(){return c=(0,p.default)((function*(){if(s.current&&i)try{var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e.readyState!==e.HAVE_ENOUGH_DATA)return null;var n=le(e,t),r=n.getContext("2d",{alpha:!1});return r&&n.width&&n.height?r.getImageData(0,0,n.width,n.height):null}(e.current,r);if(t){var n=yield Ee(t);null!=n&&n.data&&i({nativeEvent:n})}}catch(f){o&&o({nativeEvent:f})}finally{if(0===a)return void d();var c=!a||a<0?16:a;u.current=setTimeout((function(){l()}),c)}else d()})),c.apply(this,arguments)}function d(){s.current=!1,clearTimeout(u.current)}k.useEffect((function(){return n&&(s.current=!0,l()),function(){n&&d()}}),[n])}var Ne=["type","pictureSize","poster"];function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Re=k.forwardRef((function(e,t){var n,a,i=e.type,o=(e.pictureSize,e.poster),s=(0,x.default)(e,Ne),u=k.useRef(null),l=Te(u,i,s,{onCameraReady:function(){s.onCameraReady&&s.onCameraReady()},onMountError:s.onMountError}),c=k.useMemo((function(){var e,t;return!(null==(e=s.barCodeScannerSettings)||null==(t=e.barCodeTypes)||!t.includes("qr")||!s.onBarCodeScanned)}),[null==(n=s.barCodeScannerSettings)?void 0:n.barCodeTypes,s.onBarCodeScanned]);Ce(u,{interval:null==(a=s.barCodeScannerSettings)?void 0:a.interval,isEnabled:c,captureOptions:{scale:1,isImageMirror:l.type===r.front},onScanned:function(e){s.onBarCodeScanned&&s.onBarCodeScanned(e)}}),k.useImperativeHandle(t,(function(){return{getAvailablePictureSizes:function(){var e=(0,p.default)((function*(e){return re}));return function(t){return e.apply(this,arguments)}}(),takePicture:function(){var e=(0,p.default)((function*(e){var t,n;if(!u.current||(null==(t=u.current)?void 0:t.readyState)!==(null==(n=u.current)?void 0:n.HAVE_ENOUGH_DATA))throw new b.CodedError("ERR_CAMERA_NOT_READY","HTMLVideoElement does not have enough camera data to construct an image yet.");var r=l.mediaTrackSettings;if(!r)throw new b.CodedError("ERR_CAMERA_NOT_READY","MediaStream is not ready yet.");return function(e,t,n){var r=ce(e,n),a={uri:r,base64:r,width:0,height:0};if(t){var i=t.width,o=void 0===i?0:i,s=t.height,u=void 0===s?0:s;a.width=o,a.height=u,a.exif=t}return n.onPictureSaved&&n.onPictureSaved(a),a}(u.current,r,_e(_e({},e),{},{onPictureSaved:function(t){e.onPictureSaved&&e.onPictureSaved(t),s.onPictureSaved&&s.onPictureSaved({nativeEvent:{data:t,id:-1}})}}))}));return function(t){return e.apply(this,arguments)}}(),resumePreview:function(){var e=(0,p.default)((function*(){u.current&&u.current.play()}));return function(){return e.apply(this,arguments)}}(),pausePreview:function(){var e=(0,p.default)((function*(){u.current&&u.current.pause()}));return function(){return e.apply(this,arguments)}}()}}),[l.mediaTrackSettings,s.onPictureSaved]);var d=k.useMemo((function(){var e=l.type===X.Type.front;return[S.default.absoluteFill,Oe.video,{transform:e?[{scaleX:-1}]:void 0}]}),[l.type]);return k.createElement(T.default,{pointerEvents:"box-none",style:[Oe.videoWrapper,s.style]},k.createElement(Ae,{autoPlay:!0,playsInline:!0,muted:!0,poster:o,pointerEvents:s.pointerEvents,ref:u,style:d}),s.children)}));var Ae=k.forwardRef((function(e,t){return(0,E.default)("video",_e(_e({},e),{},{ref:t}))})),Oe=S.default.create({videoWrapper:{flex:1,alignItems:"stretch"},video:{width:"100%",height:"100%",objectFit:"cover"}}),De={type:X.Type,flashMode:X.FlashMode,autoFocus:X.AutoFocus,whiteBalance:X.WhiteBalance};function Fe(e){var t=function(e){if(!e||"object"!==typeof e)return{};var t={};for(var n of Object.entries(e)){var r=(0,C.default)(n,2),a=r[0],i=r[1];"string"===typeof i&&De[a]?t[a]=De[a][i]:t[a]=i}return t}(e);return t.onBarCodeScanned&&(t.barCodeScannerEnabled=!0),t.onFacesDetected&&(t.faceDetectorEnabled=!0),"android"!==b.Platform.OS&&(delete t.ratio,delete t.useCamera2Api),"web"!==b.Platform.OS&&delete t.poster,t}function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Me(e){var t=Le();return function(){var n,r=(0,y.default)(e);if(t){var a=(0,y.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,g.default)(this,n)}}function Le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Le=function(){return!!e})()}var ze={},Be=1;function Ve(e){var t=e||{};return t&&"object"===typeof t?"string"===typeof t.quality&&(t.quality=Ge.Constants.VideoQuality[t.quality]):t={},t}function Ue(e){var t=e.nativeEvent,n=t.id,r=t.data,a=ze[n];a&&(a(r),delete ze[n])}var Ge=function(e){(0,v.default)(n,e);var t=Me(n);function n(){var e;(0,h.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._lastEvents={},e._lastEventsTimes={},e._onCameraReady=function(){e.props.onCameraReady&&e.props.onCameraReady()},e._onMountError=function(t){var n=t.nativeEvent;e.props.onMountError&&e.props.onMountError(n)},e._onResponsiveOrientationChanged=function(t){var n=t.nativeEvent;e.props.onResponsiveOrientationChanged&&e.props.onResponsiveOrientationChanged(n)},e._onObjectDetected=function(t){return function(n){var r=n.nativeEvent,a=r.type;e._lastEvents[a]&&e._lastEventsTimes[a]&&JSON.stringify(r)===e._lastEvents[a]&&(new Date).getTime()-e._lastEventsTimes[a].getTime()<500||t&&(t(r),e._lastEventsTimes[a]=new Date,e._lastEvents[a]=JSON.stringify(r))}},e._setReference=function(t){t?(e._cameraRef=t,"web"===b.Platform.OS?e._cameraHandle=t:e._cameraHandle=(0,w.default)(t)):(e._cameraRef=null,e._cameraHandle=null)},e}return(0,m.default)(n,[{key:"takePictureAsync",value:function(){var e=(0,p.default)((function*(e){var t=function(e){var t=e&&"object"===typeof e?e:{};if(t.quality||(t.quality=1),t.onPictureSaved){var n=Be++;ze[n]=t.onPictureSaved,t.id=n,t.fastMode=!0}return t}(e);return yield X.takePicture(t,this._cameraHandle)}));return function(t){return e.apply(this,arguments)}}()},{key:"getSupportedRatiosAsync",value:function(){var e=(0,p.default)((function*(){if(!X.getSupportedRatios)throw new b.UnavailabilityError("Camera","getSupportedRatiosAsync");return yield X.getSupportedRatios(this._cameraHandle)}));return function(){return e.apply(this,arguments)}}()},{key:"getAvailablePictureSizesAsync",value:function(){var e=(0,p.default)((function*(e){if(!X.getAvailablePictureSizes)throw new b.UnavailabilityError("Camera","getAvailablePictureSizesAsync");return yield X.getAvailablePictureSizes(e,this._cameraHandle)}));return function(t){return e.apply(this,arguments)}}()},{key:"recordAsync",value:function(){var e=(0,p.default)((function*(e){if(!X.record)throw new b.UnavailabilityError("Camera","recordAsync");var t=Ve(e);return yield X.record(t,this._cameraHandle)}));return function(t){return e.apply(this,arguments)}}()},{key:"stopRecording",value:function(){if(!X.stopRecording)throw new b.UnavailabilityError("Camera","stopRecording");X.stopRecording(this._cameraHandle)}},{key:"pausePreview",value:function(){if(!X.pausePreview)throw new b.UnavailabilityError("Camera","pausePreview");X.pausePreview(this._cameraHandle)}},{key:"resumePreview",value:function(){if(!X.resumePreview)throw new b.UnavailabilityError("Camera","resumePreview");X.resumePreview(this._cameraHandle)}},{key:"render",value:function(){var e=Fe(this.props),t=this.props.onBarCodeScanned?this._onObjectDetected(this.props.onBarCodeScanned):void 0,n=this._onObjectDetected(this.props.onFacesDetected);return k.createElement(Re,Pe(Pe({},e),{},{ref:this._setReference,onCameraReady:this._onCameraReady,onMountError:this._onMountError,onBarCodeScanned:t,onFacesDetected:n,onPictureSaved:Ue,onResponsiveOrientationChanged:this._onResponsiveOrientationChanged}))}}],[{key:"isAvailableAsync",value:function(){var e=(0,p.default)((function*(){if(!X.isAvailableAsync)throw new b.UnavailabilityError("expo-camera","isAvailableAsync");return yield X.isAvailableAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"getAvailableCameraTypesAsync",value:function(){var e=(0,p.default)((function*(){if(!X.getAvailableCameraTypesAsync)throw new b.UnavailabilityError("expo-camera","getAvailableCameraTypesAsync");return yield X.getAvailableCameraTypesAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"getAvailableVideoCodecsAsync",value:function(){var e=(0,p.default)((function*(){if(!X.getAvailableVideoCodecsAsync)throw new b.UnavailabilityError("Camera","getAvailableVideoCodecsAsync");return yield X.getAvailableVideoCodecsAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"getPermissionsAsync",value:function(){var e=(0,p.default)((function*(){return console.warn('"getPermissionsAsync()" is now deprecated. Please use "getCameraPermissionsAsync()" or "getMicrophonePermissionsAsync()" instead.'),X.getPermissionsAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"requestPermissionsAsync",value:function(){var e=(0,p.default)((function*(){return console.warn('"requestPermissionsAsync()" is now deprecated. Please use "requestCameraPermissionsAsync()" or "requestMicrophonePermissionsAsync()" instead.'),X.requestPermissionsAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"getCameraPermissionsAsync",value:function(){var e=(0,p.default)((function*(){return X.getCameraPermissionsAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"requestCameraPermissionsAsync",value:function(){var e=(0,p.default)((function*(){return X.requestCameraPermissionsAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"getMicrophonePermissionsAsync",value:function(){var e=(0,p.default)((function*(){return X.getMicrophonePermissionsAsync()}));return function(){return e.apply(this,arguments)}}()},{key:"requestMicrophonePermissionsAsync",value:function(){var e=(0,p.default)((function*(){return X.requestMicrophonePermissionsAsync()}));return function(){return e.apply(this,arguments)}}()}]),n}(k.Component);Ge.Constants={Type:X.Type,FlashMode:X.FlashMode,AutoFocus:X.AutoFocus,WhiteBalance:X.WhiteBalance,VideoQuality:X.VideoQuality,VideoStabilization:X.VideoStabilization||{},VideoCodec:X.VideoCodec},Ge.ConversionTables=De,Ge.defaultProps={zoom:0,ratio:"4:3",focusDepth:0,faceDetectorSettings:{},type:X.Type.back,autoFocus:X.AutoFocus.on,flashMode:X.FlashMode.off,whiteBalance:X.WhiteBalance.auto},Ge.useCameraPermissions=(0,b.createPermissionHook)({getMethod:Ge.getCameraPermissionsAsync,requestMethod:Ge.requestCameraPermissionsAsync}),Ge.useMicrophonePermissions=(0,b.createPermissionHook)({getMethod:Ge.getMicrophonePermissionsAsync,requestMethod:Ge.requestMicrophonePermissionsAsync});var We=Ge.Constants,je=Ge.getPermissionsAsync,qe=Ge.requestPermissionsAsync,He=Ge.getCameraPermissionsAsync,Ke=Ge.requestCameraPermissionsAsync,Xe=Ge.getMicrophonePermissionsAsync,Ye=Ge.requestMicrophonePermissionsAsync},1222:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CodedError:()=>E,DeviceEventEmitter:()=>r.default,EventEmitter:()=>p,NativeModulesProxy:()=>h,PermissionStatus:()=>R,Platform:()=>x,RCTDeviceEventEmitter:()=>G,SyntheticPlatformEmitter:()=>r.default,UnavailabilityError:()=>I,createPermissionHook:()=>U,deprecate:()=>F,requireNativeModule:()=>P,requireNativeViewManager:()=>_});var r=n(7301),a=n(4942),i=n(5671),o=n(3144),s=n(9590),u=n.n(s),l=n(3652),c=n(5791),d=n(2152),f="@@nativeEmitterSubscription@@",p=function(){function e(t){(0,i.default)(this,e),this._listenerCount=0,t.__expo_module_name__&&c.default.EXReactNativeEventEmitter&&(t.addListener=function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=c.default.EXReactNativeEventEmitter).addProxiedListener.apply(e,[t.__expo_module_name__].concat(r))},t.removeListeners=function(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=c.default.EXReactNativeEventEmitter).removeProxiedListeners.apply(e,[t.__expo_module_name__].concat(r))}),this._nativeModule=t,this._eventEmitter=new l.default(t)}return(0,o.default)(e,[{key:"addListener",value:function(e,t){var n,r=this;!this._listenerCount&&"ios"!==d.default.OS&&this._nativeModule.startObserving&&this._nativeModule.startObserving(),this._listenerCount++;var i=this._eventEmitter.addListener(e,t),o=(n={},(0,a.default)(n,f,i),(0,a.default)(n,"remove",(function(){r.removeSubscription(o)})),n);return o}},{key:"removeAllListeners",value:function(e){var t=this._eventEmitter.listenerCount?this._eventEmitter.listenerCount(e):this._eventEmitter.listeners(e).length;this._eventEmitter.removeAllListeners(e),this._listenerCount-=t,u()(this._listenerCount>=0,"EventEmitter must have a non-negative number of listeners"),!this._listenerCount&&"ios"!==d.default.OS&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving()}},{key:"removeSubscription",value:function(e){var t=e[f];t&&("remove"in t?t.remove():"removeSubscription"in this._eventEmitter&&this._eventEmitter.removeSubscription(t),this._listenerCount--,delete e[f],e.remove=function(){},!this._listenerCount&&"ios"!==d.default.OS&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving())}},{key:"emit",value:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];(t=this._eventEmitter).emit.apply(t,[e].concat(r))}}]),e}();const h={};var m,v=n(136),g=n(6215),y=n(1120),b="undefined"!==typeof window&&!(null==(m=window.document)||!m.createElement),k=b&&!(!window.addEventListener&&!window.attachEvent),w=b&&!!window.screen;const x={OS:d.default.OS,select:d.default.select,isDOMAvailable:b,canUseEventListeners:k,canUseViewport:w,isAsyncDebugging:!1};function S(e){var t=T();return function(){var n,r=(0,y.default)(e);if(t){var a=(0,y.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,g.default)(this,n)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(T=function(){return!!e})()}var E=function(e){(0,v.default)(n,e);var t=S(n);function n(e,r){var a;return(0,i.default)(this,n),(a=t.call(this,r)).code=e,a}return(0,o.default)(n)}((0,n(2407).default)(Error));function C(e){var t=N();return function(){var n,r=(0,y.default)(e);if(t){var a=(0,y.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,g.default)(this,n)}}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(N=function(){return!!e})()}var I=function(e){(0,v.default)(n,e);var t=C(n);function n(e,r){return(0,i.default)(this,n),t.call(this,"ERR_UNAVAILABLE",`The method or property ${e}.${r} is not available on ${x.OS}, are you sure you've linked all the native dependencies properly?`)}return(0,o.default)(n)}(E);function _(e){throw new I("expo-modules-core","requireNativeViewManager")}h.ExpoModulesCoreErrorManager;globalThis.ExpoModulesCore_CodedError=E;var R,A=n(3619),O=n.n(A),D={};function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.currentVersion,a=n.versionToRemove,i=n.replacement,o=function(e){var t=e.replace(/[-.]/g,"_").toUpperCase();return t}(e),s=`${o}:${t}:${i}`;if(D[s]||(D[s]=!0),!r||!a||O()(r,a)>=0){var u=`\`${t}\` has been removed`;throw a&&(u=`${u} as of version "${a}"`),i&&i.length&&(u=`${u} please migrate to: \`${i}\``),new E("ERR_DEPRECATED_API",$(e,u))}var l=`\`${t}\` has been deprecated`;i&&i.length&&(l=`${l} in favor of \`${i}\``),a&&a.length&&(l=`${l} and will be removed in version "${a}"`),console.warn($(e,l))}function $(e,t){return`${e}: ${t}`}function P(e){var t,n,r,a,i,o=null!=(t=null!=(n=null==(r=globalThis.expo)||null==(a=r.modules)?void 0:a[e])?n:null==(i=globalThis.ExpoModules)?void 0:i[e])?t:h[e];if(!o)throw new Error(`Cannot find native module '${e}'`);return o}!function(e){e.GRANTED="granted",e.UNDETERMINED="undetermined",e.DENIED="denied"}(R||(R={}));var M=n(5861),L=n(5987),z=n(885),B=n(5004),V=["get","request"];function U(e){return function(t){return function(e,t){var n=(0,B.useRef)(!0),r=(0,B.useState)(null),a=(0,z.default)(r,2),i=a[0],o=a[1],s=t||{},u=s.get,l=void 0===u||u,c=s.request,d=void 0!==c&&c,f=(0,L.default)(s,V),p=(0,B.useCallback)((0,M.default)((function*(){var t=yield e.getMethod(Object.keys(f).length>0?f:void 0);return n.current&&o(t),t})),[e.getMethod]),h=(0,B.useCallback)((0,M.default)((function*(){var t=yield e.requestMethod(Object.keys(f).length>0?f:void 0);return n.current&&o(t),t})),[e.requestMethod]);return(0,B.useEffect)((function(){d&&h(),!d&&l&&p()}),[l,d,h,p]),(0,B.useEffect)((function(){return n.current=!0,function(){n.current=!1}}),[]),[i,h,p]}(e,t)}}var G=r.default},3426:(e,t,n)=>{"use strict";function r(e){return null}n.r(t),n.d(t,{default:()=>r})},9774:()=>{0},3787:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(9774);var r=n(5004),a=n(8275),i=n(2152),o=n(5976);function s(e){var t=e;if("web"!==i.default.OS)a.default.registerComponent("main",(function(){return t}));else if("undefined"!==typeof document){var n=document.getElementById("root");if(n||(n=document.getElementById("main")),!n)throw new Error('Required HTML element with id "root" was not found in the document HTML. This is required for mounting the root React component.');(0,o.createRoot)(n).render(r.createElement(t))}}},585:function(e,t,n){"use strict";var r=n(7424),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withExpoSnack=void 0;var i=a(n(5004)),o=n(1145),s=n(9184),u={},l=!1;function c(e){var t=e.children;return"web"===o.Platform.OS&&l?i.default.createElement(i.default.Fragment,null,i.default.createElement("script",{id:"tailwind-cdn",type:"text/javascript",src:"https://cdn.tailwindcss.com"}),t):i.default.createElement(i.default.Fragment,null,t)}t.withExpoSnack=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l||(s.NativeWindStyleSheet.setDangerouslyCompileStyles((function(e,n){var a=JSON.stringify(t),i=`${e=e.replace(/\s+/g," ").trim()}${a}`;e&&(u[i]||fetch(`https://nativewind-demo-compiler.vercel.app/api/compile?css=${e}&theme=${a}`).then((function(e){return e.json()})).then((function(t){var a=t.body;for(var o of(u[i]=!0,n.create(a),e.split(/\s+/)))delete n.snapshot[o];for(var s of Object.keys(n.snapshot))if(s.includes(e)){delete n.snapshot[s];var l=s.split("."),c=r(l,2)[1];n.prepare(e,{baseBit:Number.parseInt(c)})}n.notify()})).catch((function(e){console.error(e)})))})),s.NativeWindStyleSheet.setOutput({default:"native"})),function(){return i.default.createElement(c,null,i.default.createElement(e,null))}}},4702:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var a=Object.getOwnPropertyDescriptor(t,n);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,a)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.withExpoSnack=t.useColorScheme=t.NativeWindStyleSheet=void 0,a(n(4229),t),a(n(789),t),a(n(5846),t),a(n(939),t);var i=n(9184);Object.defineProperty(t,"NativeWindStyleSheet",{enumerable:!0,get:function(){return i.NativeWindStyleSheet}});var o=n(7568);Object.defineProperty(t,"useColorScheme",{enumerable:!0,get:function(){return o.useColorScheme}});var s=n(585);Object.defineProperty(t,"withExpoSnack",{enumerable:!0,get:function(){return s.withExpoSnack}})},5568:(e,t,n)=>{"use strict";var r=n(6690),a=n(9728);Object.defineProperty(t,"__esModule",{value:!0}),t.ColorSchemeStore=void 0;var i=n(1145),o=function(){function e(){var t=this;r(this,e),this.colorSchemeListeners=new Set,this.colorScheme=i.Appearance.getColorScheme()||"light",this.colorSchemeSystem="system",this.subscribeColorScheme=function(e){return t.colorSchemeListeners.add(e),function(){return t.colorSchemeListeners.delete(e)}},this.getColorScheme=function(){return t.colorScheme},this.setColorScheme=function(e){var n=t.colorScheme;t.colorSchemeSystem=e,t.colorScheme="system"===t.colorSchemeSystem?i.Appearance.getColorScheme()||"light":t.colorSchemeSystem,n!==t.colorScheme&&(t.notifyMedia(["colorScheme"]),t.notifyColorScheme())},this.toggleColorScheme=function(){var e="system"===t.colorSchemeSystem?i.Appearance.getColorScheme()||"light":t.colorScheme;t.colorScheme="light"===e?"dark":"light",t.colorSchemeSystem=e,t.notifyMedia(["colorScheme"]),t.notifyColorScheme()};try{if("undefined"!==typeof localStorage){var n=window.matchMedia("(prefers-color-scheme: dark)").matches;"dark"===localStorage.theme||!("theme"in localStorage)&&n?(document.documentElement.classList.add("dark"),this.colorScheme="dark"):(document.documentElement.classList.remove("dark"),this.colorScheme="light"),this.subscribeColorScheme((function(){localStorage.theme=t.colorScheme}))}}catch(a){}}return a(e,[{key:"notifyColorScheme",value:function(){for(var e of this.colorSchemeListeners)e()}}]),e}();t.ColorSchemeStore=o},9184:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoreContext=t.NativeWindStyleSheet=t.StyleSheetRuntime=void 0;var r=n(5004),a=n(3458),i=n(3458);Object.defineProperty(t,"StyleSheetRuntime",{enumerable:!0,get:function(){return i.StyleSheetRuntime}});var o=new a.StyleSheetRuntime;t.NativeWindStyleSheet={create:o.create.bind(o),setDimensions:o.setDimensions.bind(o),setAppearance:o.setAppearance.bind(o),setPlatform:o.setPlatform.bind(o),setOutput:o.setOutput.bind(o),setColorScheme:o.setColorScheme.bind(o),platformSelect:o.platformSelect.bind(o),platformColor:o.platformColor.bind(o),hairlineWidth:o.hairlineWidth.bind(o),pixelRatio:o.pixelRatio.bind(o),fontScale:o.fontScale.bind(o),getPixelSizeForLayoutSize:o.getPixelSizeForLayoutSize.bind(o),roundToNearestPixel:o.roundToNearestPixel.bind(o),setDangerouslyCompileStyles:o.setDangerouslyCompileStyles.bind(o)},t.StoreContext=(0,r.createContext)(o)},5829:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchChildAtRule=t.matchAtRule=void 0;var r=n(6833),a=n(1145);t.matchAtRule=function(e){var t=e.rule,n=e.params,i=e.width,o=e.height,s=e.orientation;return!("media"!==t||!n)&&(0,r.match)(n,{type:a.Platform.OS,"aspect-ratio":i/o,"device-aspect-ratio":i/o,width:i,height:o,"device-width":i,"device-height":i,orientation:s})},t.matchChildAtRule=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=n.nthChild,a=void 0===r?-1:r,i=n.parentHover,o=void 0!==i&&i,s=n.parentFocus,u=void 0!==s&&s,l=n.parentActive,c=void 0!==l&&l;if("selector"===e&&"(> *:not(:first-child))"===t&&a>1)return!0;if("selector"===e&&"(> *)"===t)return!0;if("parent"===e)switch(t){case"hover":return o;case"focus":return u;case"active":return c;default:return!1}return!1}},3458:function(e,t,n){"use strict";var r=n(7424),a=n(861),i=n(8416),o=n(6690),s=n(9728),u=n(1655),l=n(4993),c=n(3808);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=h();return function(){var n,r=c(e);if(t){var a=c(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}var m=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StyleSheetRuntime=void 0;var v=n(1145),g=n(5829),y=n(9835),b=m(n(6160)),k=m(n(7600)),w=n(5568),x=Object.assign([],{mask:0}),S={vw:k.default,vh:b.default},T=function(e){u(n,e);var t=p(n);function n(){var e;return o(this,n),(e=t.call(this)).snapshot={"":x},e.listeners=new Set,e.atRuleListeners=new Set,e.styles={},e.atRules={},e.transforms={},e.topics={},e.childClasses={},e.masks={},e.units={},e.preprocessed=!1,e.platform=v.Platform.OS,e.window=v.Dimensions.get("window"),e.orientation="portrait",e.getSnapshot=function(){return e.snapshot},e.subscribe=function(t){return e.listeners.add(t),function(){return e.listeners.delete(t)}},e.platformSelect=v.Platform.select,e.getPixelSizeForLayoutSize=v.PixelRatio.getPixelSizeForLayoutSize,e.roundToNearestPixel=v.PixelRatio.getPixelSizeForLayoutSize,e.setDimensions(v.Dimensions),e.setAppearance(v.Appearance),e.setPlatform(v.Platform.OS),e.setOutput({web:"number"!==typeof v.StyleSheet.create({test:{}}).test?"css":"native",default:"native"}),e}return s(n,[{key:"setDimensions",value:function(e){var t,n=this;this.window=e.get("window"),this.orientation=this.window.height>=this.window.width?"portrait":"landscape",null===(t=this.dimensionListener)||void 0===t||t.remove(),this.dimensionListener=e.addEventListener("change",(function(e){var t=e.window,r=["window"];t.width!==n.window.width&&r.push("width"),t.height!==n.window.height&&r.push("height"),n.window=t;var a=t.height>=t.width?"portrait":"landscape";a!==n.orientation&&r.push("orientation"),n.orientation=a,n.notifyMedia(r)}))}},{key:"setAppearance",value:function(e){var t,n=this;null===(t=this.appearanceListener)||void 0===t||t.remove(),this.appearanceListener=e.addChangeListener((function(e){var t=e.colorScheme;"system"===n.colorSchemeSystem&&(n.colorScheme=t||"light",n.notifyMedia(["colorScheme"]))}))}},{key:"setPlatform",value:function(e){this.platform=e}},{key:"setOutput",value:function(e){this.preprocessed="css"===v.Platform.select(e)}},{key:"setDangerouslyCompileStyles",value:function(e){this.dangerouslyCompileStyles=e}},{key:"getServerSnapshot",value:function(){return this.snapshot}},{key:"destroy",value:function(){var e,t;null===(e=this.dimensionListener)||void 0===e||e.remove(),null===(t=this.appearanceListener)||void 0===t||t.remove()}},{key:"notify",value:function(){for(var e of this.listeners)e()}},{key:"subscribeMedia",value:function(e){var t=this;return this.atRuleListeners.add(e),function(){return t.atRuleListeners.delete(e)}}},{key:"notifyMedia",value:function(e){for(var t of this.atRuleListeners)t(e);this.notify()}},{key:"isEqual",value:function(e,t){return e.length===t.length&&e.every((function(e,n){return Object.is(e,t[n])}))}},{key:"prepare",value:function(e){var t,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)return"";if(this.preprocessed)return this.preparePreprocessed(e,r);var o=`(${e}).${(0,y.getStateBit)(r)}`;if(this.snapshot[o])return o;null===(t=this.dangerouslyCompileStyles)||void 0===t||t.call(this,e,this);var s=e.split(/\s+/),u=new Set;for(var l of s)if(this.topics[l])for(var c of this.topics[l])u.add(c);var d=[],p=function(){var e=[],t=[];e.mask=0;var u=(0,y.getStateBit)(f(f({},r),{},{darkMode:"dark"===n.colorScheme,rtl:v.I18nManager.isRTL,platform:v.Platform.OS}));for(var l of s){var c=n.masks[l]||0;if(e.mask|=c,(0,y.matchesMask)(u,c)){var p=n.upsertAtomicStyle(l);if(n.transforms[l])for(var h of p)t.push.apply(t,a(h.transform));else e.push.apply(e,a(p));p.childClassNames&&d.push.apply(d,a(p.childClassNames))}}t.length>0&&e.push({transform:t}),e.length>0||d.length>0?(d.length>0&&(e.childClassNames=d),n.snapshot=f(f({},n.snapshot),{},i({},o,e))):0===e.mask?n.snapshot=f(f({},n.snapshot),{},i({},o,x)):n.snapshot=f(f({},n.snapshot),{},i({},o,e))};return p(),u.size>0&&this.subscribeMedia((function(e){e.some((function(e){return u.has(e)}))&&p()})),o}},{key:"preparePreprocessed",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isolateGroupActive,r=void 0!==n&&n,a=t.isolateGroupFocus,o=void 0!==a&&a,s=t.isolateGroupHover,u=void 0!==s&&s;if(this.snapshot[e])return e;var l=[e];r&&l.push("group-isolate-active"),o&&l.push("group-isolate-focus"),u&&l.push("group-isolate-hover");var c=[i({$$css:!0},e,l.join(" "))];return this.snapshot=f(f({},this.snapshot),{},i({},e,c)),e}},{key:"getStyleArray",value:function(e){var t=this.styles[e];if((this.units[e]||this.transforms[e])&&(t=f({},"number"===typeof t?v.StyleSheet.flatten(t):t)),this.units[e])for(var n of Object.entries(t)){var a=r(n,2),i=a[0],o=a[1],s=this.units[e][i]?S[this.units[e][i]]:void 0;s&&(t[i]=s(o))}var u=t?[t]:[];return this.childClasses[e]&&(u.childClassNames=this.childClasses[e]),u}},{key:"upsertAtomicStyle",value:function(e){var t,n=this;if(this.snapshot[e])return this.snapshot[e];var o=this.getStyleArray(e),s=this.atRules[e];if(!s)return this.snapshot=o.length>0||(null===(t=o.childClassNames)||void 0===t?void 0:t.length)?f(f({},this.snapshot),{},i({},e,o)):f(f({},this.snapshot),{},i({},e,x)),o;var u=function(){var t,u=a(o);for(var l of s.entries()){var c=r(l,2),d=c[0];if(c[1].every((function(e){var t=r(e,2),a=t[0],i=t[1];return"selector"!==a&&(0,g.matchAtRule)({rule:a,params:i,width:n.window.width,height:n.window.height,orientation:n.orientation})}))){var p=(0,y.createAtRuleSelector)(e,d);u.push(n.styles[p])}}return n.snapshot=u.length>0||(null===(t=u.childClassNames)||void 0===t?void 0:t.length)?f(f({},n.snapshot),{},i({},e,u)):f(f({},n.snapshot),{},i({},e,x)),u};if(this.topics[e]){var l=new Set(this.topics[e]);this.subscribeMedia((function(e){e.some((function(e){return l.has(e)}))&&u()}))}return u()}},{key:"getChildStyles",value:function(e,t){if(e.childClassNames){var n=[],o=new Set;for(var s of e.childClassNames)for(var u of this.atRules[s].entries()){var l=r(u,2),c=l[0],d=l[1].every((function(e){var n=r(e,2),a=n[0],i=n[1];return(0,g.matchChildAtRule)(a,i,t)})),p=(0,y.createAtRuleSelector)(s,c),h=this.styles[p];d&&h&&(o.add(s),n.push(h))}if(0!==n.length){var m=`${a(o).join(" ")}.child`;return this.snapshot[m]||(this.snapshot=f(f({},this.snapshot),{},i({},m,n))),this.snapshot[m]}}}},{key:"create",value:function(e){var t=e.styles,n=e.atRules,r=e.masks,a=e.topics,i=e.units,o=e.childClasses,s=e.transforms;if(n&&Object.assign(this.atRules,n),r&&Object.assign(this.masks,r),a&&Object.assign(this.topics,a),o&&Object.assign(this.childClasses,o),i&&Object.assign(this.units,i),s&&Object.assign(this.transforms,s),t)for(var u of(Object.assign(this.styles,v.StyleSheet.create(t)),Object.keys(t)))this.upsertAtomicStyle(u)}},{key:"platformColor",value:function(e){return v.PlatformColor?(0,v.PlatformColor)(e):e}},{key:"hairlineWidth",value:function(){return v.StyleSheet.hairlineWidth}},{key:"pixelRatio",value:function(e){var t,n=v.PixelRatio.get();return"number"===typeof e?n*e:null!==(t=e[n])&&void 0!==t?t:n}},{key:"fontScale",value:function(e){var t,n=v.PixelRatio.getFontScale();return"number"===typeof e?n*e:null!==(t=e[n])&&void 0!==t?t:n}}]),n}(w.ColorSchemeStore);t.StyleSheetRuntime=T},6160:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1145);t.default=function(e){var t="number"===typeof e?e:Number.parseFloat(e);return r.Dimensions.get("window").height*(t/100)}},7600:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1145);t.default=function(e){var t="number"===typeof e?e:Number.parseFloat(e);return r.Dimensions.get("window").width*(t/100)}},789:function(e,t,n){"use strict";var r=n(8416),a=n(215),i=["component"];function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StyledComponent=void 0;var l=u(n(5004)),c=n(4229);t.StyledComponent=l.default.forwardRef((function(e,t){var n=e.component,r=a(e,i),o=l.default.useMemo((function(){return(0,c.styled)(n)}),[n]);return l.default.createElement(o,s(s({},r),{},{ref:t}))}))},9828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsolateGroupContext=t.GroupContext=void 0;var r=n(5004);t.GroupContext=(0,r.createContext)({groupHover:!1,groupFocus:!1,groupActive:!1}),t.IsolateGroupContext=(0,r.createContext)({isolateGroupHover:!1,isolateGroupFocus:!1,isolateGroupActive:!1})},4229:(e,t,n)=>{"use strict";var r=n(8416),a=n(7424),i=n(215),o=["className","tw","style","children"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.styled=void 0;var l=n(5004),c=n(5386),d=n(137),f=n(5534),p=n(5846),h=n(9184),m=n(9828),v=n(7981),g=n(9835);t.styled=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r="object"===typeof t?t:n,s=r.props,y=r.classProps,b="string"===typeof t?t:null===n||void 0===n?void 0:n.baseClassName;function k(t,n){var r=t.className,k=void 0===r?"":r,w=t.tw,x=t.style,S=t.children,T=i(t,o),E=(0,l.useContext)(h.StoreContext),C=(0,l.useContext)(m.GroupContext),N=(0,l.useContext)(m.IsolateGroupContext),I=b?`${b} ${null!==w&&void 0!==w?w:k}`:null!==w&&void 0!==w?w:k,_=(0,v.useComponentState)(),R=a(_,2),A=R[0],O=R[1],D=(0,f.withStyledProps)({className:I,preprocessed:E.preprocessed,propsToTransform:s,classProps:y,componentProps:T}),F=D.styledProps,$=D.mask,P=D.className,M=(0,p.useTailwind)(u(u(u({className:P,inlineStyles:x},A),C),N)),L=(M.mask||0)|$,z=(0,c.useInteraction)(O,L,T),B=(0,d.withStyledChildren)({componentChildren:S,componentState:A,mask:L,store:E,stylesArray:M}),V=(0,l.createElement)(e,u(u(u(u({},T),z),F),{},{style:M.length>0?M:void 0,children:B,ref:n}));return(0,g.matchesMask)(L,g.GROUP)&&(V=(0,l.createElement)(m.GroupContext.Provider,{children:V,value:{groupHover:C.groupHover||A.hover,groupFocus:C.groupFocus||A.focus,groupActive:C.groupActive||A.active}})),(0,g.matchesMask)(L,g.GROUP_ISO)&&(V=(0,l.createElement)(m.IsolateGroupContext.Provider,{children:V,value:{isolateGroupHover:A.hover,isolateGroupFocus:A.focus,isolateGroupActive:A.active}})),V}return"string"!==typeof e&&(k.displayName=`NativeWind.${e.displayName||e.name||"NoName"}`),(0,l.forwardRef)(k)}},7981:(e,t,n)=>{"use strict";var r=n(8416);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.useComponentState=void 0;var o=n(5004),s={hover:!1,active:!1,focus:!1};function u(e,t){switch(t.type){case"hover":return i(i({},e),{},{hover:t.value});case"active":return i(i({},e),{},{active:t.value});case"focus":return i(i({},e),{},{focus:t.value});default:throw new Error("Unknown action")}}t.useComponentState=function(){return(0,o.useReducer)(u,s)}},5386:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useInteraction=void 0;var r=n(5004),a=n(1145),i=n(9835);t.useInteraction=function(e,t,n){var o=(0,r.useRef)(n);return o.current=n,(0,r.useMemo)((function(){var n=(0,i.matchesMask)(t,i.PARENT)||(0,i.matchesMask)(t,i.GROUP),r={};return(n||(0,i.matchesMask)(t,i.ACTIVE))&&("web"===a.Platform.OS?(r.onMouseDown=function(t){o.current.onMouseDown&&o.current.onMouseDown(t),e({type:"active",value:!0})},r.onMouseUp=function(t){o.current.onMouseUp&&o.current.onMouseUp(t),e({type:"active",value:!1})}):(r.onPressIn=function(t){o.current.onPressIn&&o.current.onPressIn(t),e({type:"active",value:!0})},r.onPressOut=function(t){o.current.onPressOut&&o.current.onPressOut(t),e({type:"active",value:!1})})),(n||(0,i.matchesMask)(t,i.HOVER))&&(r.onHoverIn=function(t){o.current.onHoverIn&&o.current.onHoverIn(t),e({type:"hover",value:!0})},r.onHoverOut=function(t){o.current.onHoverIn&&o.current.onHoverIn(t),e({type:"hover",value:!0})}),(n||(0,i.matchesMask)(t,i.FOCUS))&&(r.onFocus=function(t){o.current.onFocus&&o.current.onFocus(t),e({type:"focus",value:!0})},r.onBlur=function(t){o.current.onBlur&&o.current.onBlur(t),e({type:"focus",value:!1})}),r}),[t])}},5846:(e,t,n)=>{"use strict";var r=n(861),a=n(7424);Object.defineProperty(t,"__esModule",{value:!0}),t.useTailwind=void 0;var i=n(5004),o=n(1145),s=n(6494),u=n(9184);t.useTailwind=function(e){var t=e.className,n=e.inlineStyles,l=e.additionalStyles,c=e.hover,d=e.focus,f=e.active,p=e.isolateGroupHover,h=e.isolateGroupFocus,m=e.isolateGroupActive,v=e.groupHover,g=e.groupFocus,y=e.groupActive,b=e.flatten,k=(0,i.useContext)(u.StoreContext),w=(0,i.useMemo)((function(){var e=k.prepare(t,{hover:c,focus:d,active:f,isolateGroupHover:p,isolateGroupFocus:h,isolateGroupActive:m,groupHover:v,groupFocus:g,groupActive:y});return[k.subscribe,k.getSnapshot,function(t){return t[e]}]}),[k,t,c,d,f,p,h,m,v,g,y]),x=a(w,3),S=x[0],T=x[1],E=x[2],C=(0,s.useSyncExternalStoreWithSelector)(S,T,T,E);return(0,i.useMemo)((function(){var e=[];if(C&&(e.push.apply(e,r(C)),e.childClassNames=C.childClassNames),l&&e.push.apply(e,r(l)),n&&e.push(n),b){var t=[o.StyleSheet.flatten(e)];return t.mask=null===C||void 0===C?void 0:C.mask,t}return e.mask=null===C||void 0===C?void 0:C.mask,e}),[C,n,l,b])}},137:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withStyledChildren=void 0;var r=n(5004),a=n(4480),i=n(9835);t.withStyledChildren=function(e){var t=e.componentChildren,n=e.componentState,o=e.mask,s=e.store,u=e.stylesArray,l=(0,i.matchesMask)(o,i.PARENT);if(!u.childClassNames&&!l)return t;var c=(0,a.isFragment)(t)?t.props.children:t;return r.Children.toArray(c).filter(Boolean).map((function(e,t){if(!(0,r.isValidElement)(e))return e;var a=s.getChildStyles(u,{nthChild:t+1,parentHover:n.hover,parentFocus:n.focus,parentActive:n.active});return a&&0!==a.length?e.props.style?(0,r.cloneElement)(e,{style:[e.props.style,a]}):(0,r.cloneElement)(e,{style:a}):e}))}},5534:(e,t,n)=>{"use strict";var r=n(7424),a=n(8416);Object.defineProperty(t,"__esModule",{value:!0}),t.withStyledProps=void 0;var i=n(5846);t.withStyledProps=function(e){var t=e.propsToTransform,n=e.componentProps,o=e.classProps,s=e.preprocessed,u=e.className,l={},c=0;if(o)if(s)for(var d of o)l[d]=void 0,u+=` ${n[d]}`;else for(var f of o){var p=(0,i.useTailwind)({className:n[f],flatten:!0});p.mask&&(c|=p.mask),Object.assign(l,a({},f,void 0),p[0])}if(t&&!s)for(var h of Object.entries(t)){var m=r(h,2),v=m[0],g=m[1],y=(0,i.useTailwind)({className:n[v],flatten:!0!==g});0!==y.length&&(y.mask&&(c|=y.mask),l[v]="boolean"===typeof g?y:y[0][g])}return{styledProps:l,mask:c,className:u}}},939:(e,t)=>{"use strict";function n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return`__${JSON.stringify({name:e,args:n})}`}Object.defineProperty(t,"__esModule",{value:!0}),t.roundToNearestPixel=t.getPixelSizeForLayoutSize=t.fontScale=t.pixelRatio=t.hairlineWidth=t.platformColor=t.platformSelect=void 0;t.platformSelect=function(e){return n("platformSelect",e)};t.platformColor=function(e){return n("platformColor",e)};t.hairlineWidth=function(){return n("hairlineWidth")};t.pixelRatio=function(e){return n("pixelRatio",e)};t.fontScale=function(e){return n("fontScale",e)};t.getPixelSizeForLayoutSize=function(e){return n("getPixelSizeForLayoutSize",e)};t.roundToNearestPixel=function(e){return n("roundToNearestPixel",e)}},7568:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useColorScheme=void 0;var r=n(5004),a=n(4249),i=n(9184);t.useColorScheme=function(){var e=(0,r.useContext)(i.StoreContext);return{colorScheme:(0,a.useSyncExternalStore)(e.subscribeColorScheme,e.getColorScheme),setColorScheme:e.setColorScheme,toggleColorScheme:e.toggleColorScheme}}},9835:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectorMask=t.matchesMask=t.createAtRuleSelector=t.getStateBit=t.normalizeCssSelector=t.hasDarkPseudoClass=t.DARK_MODE=t.IOS=t.ANDROID=t.WEB=t.WINDOWS=t.OSX=t.RTL=t.ACTIVE=t.HOVER=t.FOCUS=t.GROUP=t.GROUP_ISO=t.PARENT=t.GROUP_ACTIVE=t.GROUP_HOVER=t.GROUP_FOCUS=t.ISO_GROUP_ACTIVE=t.ISO_GROUP_HOVER=t.ISO_GROUP_FOCUS=t.PARENT_ACTIVE=t.PARENT_HOVER=t.PARENT_FOCUS=void 0,t.PARENT_FOCUS=2097152,t.PARENT_HOVER=1048576,t.PARENT_ACTIVE=524288,t.ISO_GROUP_FOCUS=262144,t.ISO_GROUP_HOVER=131072,t.ISO_GROUP_ACTIVE=65536,t.GROUP_FOCUS=32768,t.GROUP_HOVER=16384,t.GROUP_ACTIVE=8192,t.PARENT=4096,t.GROUP_ISO=2048,t.GROUP=1024,t.FOCUS=512,t.HOVER=256,t.ACTIVE=128,t.RTL=64,t.OSX=32,t.WINDOWS=16,t.WEB=8,t.ANDROID=4,t.IOS=2,t.DARK_MODE=1;var n=function(e){var t=new RegExp(`\\S+::${e}(:|\\s|$)`);return t.test.bind(t)},r=n("hover"),a=n("active"),i=n("focus"),o=n("group-hover"),s=n("group-active"),u=n("group-focus"),l=RegExp.prototype.test.bind(/(:|\s|^)group-isolate(:|\s|^)/gi),c=n("group-isolate-hover"),d=n("group-isolate-active"),f=n("group-isolate-focus"),p=RegExp.prototype.test.bind(/(:|\s|^)parent(:|\s|$)/gi),h=n("parent-hover"),m=n("parent-active"),v=n("parent-focus"),g=n("ios"),y=n("android"),b=n("windows"),k=n("macos"),w=n("web");function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.baseBit||0;return e.darkMode&&(n|=t.DARK_MODE),"ios"===e.platform&&(n|=t.IOS),"android"===e.platform&&(n|=t.ANDROID),"web"===e.platform&&(n|=t.WEB),"windows"===e.platform&&(n|=t.WINDOWS),"macos"===e.platform&&(n|=t.OSX),e.rtl&&(n|=t.RTL),e.active&&(n|=t.ACTIVE),e.hover&&(n|=t.HOVER),e.focus&&(n|=t.FOCUS),e.group&&(n|=t.GROUP),e.groupActive&&(n|=t.GROUP_ACTIVE),e.groupHover&&(n|=t.GROUP_HOVER),e.groupFocus&&(n|=t.GROUP_FOCUS),e.isolateGroup&&(n|=t.GROUP_ISO),e.isolateGroupActive&&(n|=t.ISO_GROUP_ACTIVE),e.isolateGroupHover&&(n|=t.ISO_GROUP_HOVER),e.isolateGroupFocus&&(n|=t.ISO_GROUP_FOCUS),e.parent&&(n|=t.PARENT),e.parentActive&&(n|=t.PARENT_ACTIVE),e.parentHover&&(n|=t.PARENT_HOVER),e.parentFocus&&(n|=t.PARENT_FOCUS),n}t.hasDarkPseudoClass=n("dark"),t.normalizeCssSelector=function(e){return e=(e=(e=e.trim().replace(/^\.|\\/g,"")).split("::")[0]).split(" ").pop()},t.getStateBit=x,t.createAtRuleSelector=function(e,t){return`${e}@${t}`},t.matchesMask=function(e,t){return(e&t)===t},t.getSelectorMask=function(e){return x({rtl:arguments.length>1&&void 0!==arguments[1]&&arguments[1],hover:r(e),active:a(e),focus:i(e),groupHover:o(e),groupActive:s(e),groupFocus:u(e),isolateGroup:l(e),isolateGroupHover:c(e),isolateGroupActive:d(e),isolateGroupFocus:f(e),parent:p(e),parentHover:h(e),parentActive:m(e),parentFocus:v(e),darkMode:(0,t.hasDarkPseudoClass)(e),platform:g(e)?"ios":y(e)?"android":b(e)?"windows":k(e)?"macos":w(e)?"web":void 0})}},8025:(e,t,n)=>{"use strict";var r=n(8416);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=n(1145).NativeModules.RNFSManager,s=new(0,n(1145).NativeEventEmitter)(o),u=n(1058),l=n(382),c="ios"===n(1145).Platform.OS,d=o.RNFSFileTypeRegular,f=o.RNFSFileTypeDirectory,p=0,h=function(){return p+=1},m=function(e){return e.startsWith("file://")?e.slice(7):e};function v(e,t,n){var r={encoding:"utf8"};return t&&("string"===typeof t?r.encoding=t:"object"===typeof t&&(r=t)),n(m(e)).then((function(e){var t;if("utf8"===r.encoding)t=l.decode(u.decode(e));else if("ascii"===r.encoding)t=u.decode(e);else{if("base64"!==r.encoding)throw new Error('Invalid encoding type "'+String(r.encoding)+'"');t=e}return t}))}function g(e,t){return t(m(e)).then((function(e){return e.map((function(e){return{ctime:e.ctime&&new Date(1e3*e.ctime)||null,mtime:e.mtime&&new Date(1e3*e.mtime)||null,name:e.name,path:e.path,size:e.size,isFile:function(){return e.type===d},isDirectory:function(){return e.type===f}}}))}))}var y={mkdir:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.mkdir(m(e),t).then((function(){}))},moveFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.moveFile(m(e),m(t),n).then((function(){}))},copyFile:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.copyFile(m(e),m(t),n).then((function(){}))},pathForBundle:function(e){return o.pathForBundle(e)},pathForGroup:function(e){return o.pathForGroup(e)},getFSInfo:function(){return o.getFSInfo()},getAllExternalFilesDirs:function(){return o.getAllExternalFilesDirs()},unlink:function(e){return o.unlink(m(e)).then((function(){}))},exists:function(e){return o.exists(m(e))},stopDownload:function(e){o.stopDownload(e)},resumeDownload:function(e){o.resumeDownload(e)},isResumable:function(e){return o.isResumable(e)},stopUpload:function(e){o.stopUpload(e)},completeHandlerIOS:function(e){return o.completeHandlerIOS(e)},readDir:function(e){return g(e,o.readDir)},readDirAssets:function(e){if(!o.readDirAssets)throw new Error("readDirAssets is not available on this platform");return g(e,o.readDirAssets)},existsAssets:function(e){if(!o.existsAssets)throw new Error("existsAssets is not available on this platform");return o.existsAssets(e)},existsRes:function(e){if(!o.existsRes)throw new Error("existsRes is not available on this platform");return o.existsRes(e)},readdir:function(e){return y.readDir(m(e)).then((function(e){return e.map((function(e){return e.name}))}))},setReadable:function(e,t,n){return o.setReadable(e,t,n).then((function(e){return e}))},stat:function(e){return o.stat(m(e)).then((function(t){return{path:e,ctime:new Date(1e3*t.ctime),mtime:new Date(1e3*t.mtime),size:t.size,mode:t.mode,originalFilepath:t.originalFilepath,isFile:function(){return t.type===d},isDirectory:function(){return t.type===f}}}))},readFile:function(e,t){return v(e,t,o.readFile)},read:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,a={encoding:"utf8"};return r&&("string"===typeof r?a.encoding=r:"object"===typeof r&&(a=r)),o.read(m(e),t,n).then((function(e){var t;if("utf8"===a.encoding)t=l.decode(u.decode(e));else if("ascii"===a.encoding)t=u.decode(e);else{if("base64"!==a.encoding)throw new Error('Invalid encoding type "'+String(a.encoding)+'"');t=e}return t}))},readFileAssets:function(e,t){if(!o.readFileAssets)throw new Error("readFileAssets is not available on this platform");return v(e,t,o.readFileAssets)},readFileRes:function(e,t){if(!o.readFileRes)throw new Error("readFileRes is not available on this platform");return v(e,t,o.readFileRes)},hash:function(e,t){return o.hash(m(e),t)},copyFileAssets:function(e,t){if(!o.copyFileAssets)throw new Error("copyFileAssets is not available on this platform");return o.copyFileAssets(m(e),m(t)).then((function(){}))},copyFileRes:function(e,t){if(!o.copyFileRes)throw new Error("copyFileRes is not available on this platform");return o.copyFileRes(e,m(t)).then((function(){}))},copyAssetsFileIOS:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"contain";return o.copyAssetsFileIOS(e,t,n,r,a,i,s)},copyAssetsVideoIOS:function(e,t){return o.copyAssetsVideoIOS(e,t)},writeFile:function(e,t,n){var r,a={encoding:"utf8"};if(n&&("string"===typeof n?a.encoding=n:"object"===typeof n&&(a=i(i({},a),n))),"utf8"===a.encoding)r=u.encode(l.encode(t));else if("ascii"===a.encoding)r=u.encode(t);else{if("base64"!==a.encoding)throw new Error('Invalid encoding type "'+a.encoding+'"');r=t}return o.writeFile(m(e),r,a).then((function(){}))},appendFile:function(e,t,n){var r,a={encoding:"utf8"};if(n&&("string"===typeof n?a.encoding=n:"object"===typeof n&&(a=n)),"utf8"===a.encoding)r=u.encode(l.encode(t));else if("ascii"===a.encoding)r=u.encode(t);else{if("base64"!==a.encoding)throw new Error('Invalid encoding type "'+a.encoding+'"');r=t}return o.appendFile(m(e),r)},write:function(e,t,n,r){var a,i={encoding:"utf8"};if(r&&("string"===typeof r?i.encoding=r:"object"===typeof r&&(i=r)),"utf8"===i.encoding)a=u.encode(l.encode(t));else if("ascii"===i.encoding)a=u.encode(t);else{if("base64"!==i.encoding)throw new Error('Invalid encoding type "'+i.encoding+'"');a=t}return void 0===n&&(n=-1),o.write(m(e),a,n).then((function(){}))},downloadFile:function(e){if("object"!==typeof e)throw new Error("downloadFile: Invalid value for argument `options`");if("string"!==typeof e.fromUrl)throw new Error("downloadFile: Invalid value for property `fromUrl`");if("string"!==typeof e.toFile)throw new Error("downloadFile: Invalid value for property `toFile`");if(e.headers&&"object"!==typeof e.headers)throw new Error("downloadFile: Invalid value for property `headers`");if(e.background&&"boolean"!==typeof e.background)throw new Error("downloadFile: Invalid value for property `background`");if(e.progressDivider&&"number"!==typeof e.progressDivider)throw new Error("downloadFile: Invalid value for property `progressDivider`");if(e.progressInterval&&"number"!==typeof e.progressInterval)throw new Error("downloadFile: Invalid value for property `progressInterval`");if(e.readTimeout&&"number"!==typeof e.readTimeout)throw new Error("downloadFile: Invalid value for property `readTimeout`");if(e.connectionTimeout&&"number"!==typeof e.connectionTimeout)throw new Error("downloadFile: Invalid value for property `connectionTimeout`");if(e.backgroundTimeout&&"number"!==typeof e.backgroundTimeout)throw new Error("downloadFile: Invalid value for property `backgroundTimeout`");var t=h(),n=[];e.begin&&n.push(s.addListener("DownloadBegin",(function(n){n.jobId===t&&e.begin(n)}))),e.progress&&n.push(s.addListener("DownloadProgress",(function(n){n.jobId===t&&e.progress(n)}))),e.resumable&&n.push(s.addListener("DownloadResumable",(function(n){n.jobId===t&&e.resumable(n)})));var r={jobId:t,fromUrl:e.fromUrl,toFile:m(e.toFile),headers:e.headers||{},background:!!e.background,progressDivider:e.progressDivider||0,progressInterval:e.progressInterval||0,readTimeout:e.readTimeout||15e3,connectionTimeout:e.connectionTimeout||5e3,backgroundTimeout:e.backgroundTimeout||36e5,hasBeginCallback:e.begin instanceof Function,hasProgressCallback:e.progress instanceof Function,hasResumableCallback:e.resumable instanceof Function};return{jobId:t,promise:o.downloadFile(r).then((function(e){return n.forEach((function(e){return e.remove()})),e})).catch((function(e){return Promise.reject(e)}))}},uploadFiles:function(e){if(!o.uploadFiles)return{jobId:-1,promise:Promise.reject(new Error("`uploadFiles` is unsupported on this platform"))};var t=h(),n=[];if("object"!==typeof e)throw new Error("uploadFiles: Invalid value for argument `options`");if("string"!==typeof e.toUrl)throw new Error("uploadFiles: Invalid value for property `toUrl`");if(!Array.isArray(e.files))throw new Error("uploadFiles: Invalid value for property `files`");if(e.headers&&"object"!==typeof e.headers)throw new Error("uploadFiles: Invalid value for property `headers`");if(e.fields&&"object"!==typeof e.fields)throw new Error("uploadFiles: Invalid value for property `fields`");if(e.method&&"string"!==typeof e.method)throw new Error("uploadFiles: Invalid value for property `method`");e.begin?n.push(s.addListener("UploadBegin",e.begin)):e.beginCallback&&n.push(s.addListener("UploadBegin",e.beginCallback)),e.progress?n.push(s.addListener("UploadProgress",e.progress)):e.progressCallback&&n.push(s.addListener("UploadProgress",e.progressCallback));var r={jobId:t,toUrl:e.toUrl,files:e.files,binaryStreamOnly:e.binaryStreamOnly||!1,headers:e.headers||{},fields:e.fields||{},method:e.method||"POST",hasBeginCallback:e.begin instanceof Function||e.beginCallback instanceof Function,hasProgressCallback:e.progress instanceof Function||e.progressCallback instanceof Function};return{jobId:t,promise:o.uploadFiles(r).then((function(e){return n.forEach((function(e){return e.remove()})),e}))}},touch:function(e,t,n){if(n&&!(n instanceof Date))throw new Error("touch: Invalid value for argument `ctime`");if(t&&!(t instanceof Date))throw new Error("touch: Invalid value for argument `mtime`");var r=0;return c&&(r=n&&n.getTime()),o.touch(m(e),t&&t.getTime(),r)},scanFile:function(e){return o.scanFile(e)},MainBundlePath:o.RNFSMainBundlePath,CachesDirectoryPath:o.RNFSCachesDirectoryPath,ExternalCachesDirectoryPath:o.RNFSExternalCachesDirectoryPath,DocumentDirectoryPath:o.RNFSDocumentDirectoryPath,DownloadDirectoryPath:o.RNFSDownloadDirectoryPath,ExternalDirectoryPath:o.RNFSExternalDirectoryPath,ExternalStorageDirectoryPath:o.RNFSExternalStorageDirectoryPath,TemporaryDirectoryPath:o.RNFSTemporaryDirectoryPath,LibraryDirectoryPath:o.RNFSLibraryDirectoryPath,PicturesDirectoryPath:o.RNFSPicturesDirectoryPath,FileProtectionKeys:o.RNFSFileProtectionKeys};e.exports=y},8275:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(5671),a=n(3144),i=(n(1413),n(9676)),o=n.n(i),s=n(9078),u=n(7462),l=n(5004),c=n(6792),d=n(9385),f=l.createContext(null),p=l.forwardRef((function(e,t){var n=e.children,r=e.WrapperComponent,a=l.createElement(d.default,{children:n,key:1,style:m.appContainer});return r&&(a=l.createElement(r,null,a)),l.createElement(f.Provider,{value:e.rootTag},l.createElement(d.default,{ref:t,style:m.appContainer},a))}));p.displayName="AppContainer";const h=p;var m=c.default.create({appContainer:{flex:1,pointerEvents:"box-none"}}),v=n(2559);var g,y={},b={},k=function(e){return e()},w=function(){function e(){(0,r.default)(this,e)}return(0,a.default)(e,null,[{key:"getAppKeys",value:function(){return Object.keys(b)}},{key:"getApplication",value:function(e,t){return o()(b[e]&&b[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),b[e].getApplication(t)}},{key:"registerComponent",value:function(e,t){return b[e]={getApplication:function(e){return n=k(t),r=e?e.initialProps:y,a=g&&g(e),{element:l.createElement(h,{WrapperComponent:a,rootTag:{}},l.createElement(n,r)),getStyleElement:function(e){var t=c.default.getSheet();return l.createElement("style",(0,u.default)({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,r,a},run:function(e){return function(e,t,n,r){var a=r.hydrate,i=r.initialProps,s=r.mode,u=r.rootTag,c=a?"concurrent"===s?v.hydrate:v.hydrateLegacy:"concurrent"===s?v.render:v.default;return o()(u,"Expect to have a valid rootTag, instead got ",u),c(l.createElement(h,{WrapperComponent:t,ref:n,rootTag:u},l.createElement(e,i)),u)}(k(t),g&&g(e),e.callback,{hydrate:e.hydrate||!1,initialProps:e.initialProps||y,mode:e.mode||"concurrent",rootTag:e.rootTag})}},e}},{key:"registerConfig",value:function(t){t.forEach((function(t){var n=t.appKey,r=t.component,a=t.run;a?e.registerRunnable(n,a):(o()(r,"No component provider passed in"),e.registerComponent(n,r))}))}},{key:"registerRunnable",value:function(e,t){return b[e]={run:t},e}},{key:"runApplication",value:function(e,t){return o()(b[e]&&b[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),b[e].run(t)}},{key:"setComponentProviderInstrumentationHook",value:function(e){k=e}},{key:"setWrapperComponentProvider",value:function(e){g=e}},{key:"unmountApplicationComponentAtRootTag",value:function(e){(0,s.default)(e)}}]),e}()},7301:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(5852).default},4584:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(5671),a=n(3144),i=n(9676),o=n.n(i),s=n(2647),u={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},l={},c=s.default;function d(){if(s.default){var e,t,n=window;if(n.visualViewport){var r=n.visualViewport;e=Math.round(r.height*r.scale),t=Math.round(r.width*r.scale)}else{var a=n.document.documentElement;e=a.clientHeight,t=a.clientWidth}u.window={fontScale:1,height:e,scale:n.devicePixelRatio||1,width:t},u.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function f(){d(),Array.isArray(l.change)&&l.change.forEach((function(e){return e(u)}))}var p=function(){function e(){(0,r.default)(this,e)}return(0,a.default)(e,null,[{key:"get",value:function(e){return c&&(c=!1,d()),o()(u[e],"No dimension set for key "+e),u[e]}},{key:"set",value:function(e){e&&(s.default?o()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(u.screen=e.screen),null!=e.window&&(u.window=e.window)))}},{key:"addEventListener",value:function(e,t){var n=this;return l[e]=l[e]||[],l[e].push(t),{remove:function(){n.removeEventListener(e,t)}}}},{key:"removeEventListener",value:function(e,t){Array.isArray(l[e])&&(l[e]=l[e].filter((function(e){return e!==t})))}}]),e}();s.default&&(window.visualViewport?window.visualViewport.addEventListener("resize",f,!1):window.addEventListener("resize",f,!1))},3652:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(3676).default},5791:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={UIManager:n(4913).default}},1647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(5671),a=n(3144),i=n(4584),o=function(){function e(){(0,r.default)(this,e)}return(0,a.default)(e,null,[{key:"get",value:function(){return i.default.get("window").scale}},{key:"getFontScale",value:function(){return i.default.get("window").fontScale||e.get()}},{key:"getPixelSizeForLayoutSize",value:function(t){return Math.round(t*e.get())}},{key:"roundToNearestPixel",value:function(t){var n=e.get();return Math.round(t*n)/n}}]),e}()},2152:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r={OS:"web",select:function(e){return"web"in e?e.web:e.default},get isTesting(){return!1}}},3547:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const r=function(e){return"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(")};var a=n(4029);const i=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&r(e))return e;var n=(0,a.default)(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}}},3678:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},a=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){a.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));const i=r;var o=n(3547),s={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function u(e,t){var n=e;return null!=t&&i[t]||"number"!==typeof e?null!=t&&s[t]&&(n=(0,o.default)(e)):n=e+"px",n}},8750:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createSheet:()=>m});var r=n(2647);function a(e,t,n){if(r.default){var a=null!=t?t:document,i=a.getElementById(e);if(null==i)if((i=document.createElement("style")).setAttribute("id",e),"string"===typeof n&&i.appendChild(document.createTextNode(n)),a instanceof ShadowRoot)a.insertBefore(i,a.firstChild);else{var o=a.head;o&&o.insertBefore(i,o.firstChild)}return i.sheet}return null}var i=Array.prototype.slice;function o(e){var t,n={},r={};null!=e&&i.call(e.cssRules).forEach((function(e,a){var i=e.cssText;if(i.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(s)[1])}(e),n[t]={start:a,rules:[i]};else{var o=c(i);null!=o&&(r[o]=!0,n[t].rules.push(i))}}));function a(e,t,r){var a=u(n),i=a.indexOf(t)+1,o=a[i],s=null!=o&&null!=n[o].start?n[o].start:e.cssRules.length,l=function(e,t,n){try{return e.insertRule(t,n),!0}catch(r){return!1}}(e,r,s);if(l){null==n[t].start&&(n[t].start=s);for(var c=i;c<a.length;c+=1){var d=a[c],f=n[d].start||0;n[d].start=f+1}}return l}var o={getTextContent:function(){return u(n).map((function(e){var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")})).join("\n")},insert:function(t,i){var o=Number(i);if(null==n[o]){var s=function(e){return'[stylesheet-group="'+e+'"]{}'}(o);n[o]={start:null,rules:[s]},null!=e&&a(e,o,s)}var u=c(t);null!=u&&null==r[u]&&(r[u]=!0,n[o].rules.push(t),null!=e&&(a(e,o,t)||n[o].rules.pop()))}};return o}var s=/["']/g;function u(e){return Object.keys(e).map(Number).sort((function(e,t){return e>t?1:-1}))}var l=/\s*([,])\s*/g;function c(e){var t=e.split("{")[0].trim();return""!==t?t.replace(l,"$1"):null}var d="react-native-stylesheet",f=new WeakMap,p=[],h=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function m(e,t){var n;if(void 0===t&&(t=d),r.default){var i=null!=e?e.getRootNode():document;if(0===p.length)n=o(a(t)),h.forEach((function(e){n.insert(e,0)})),f.set(i,p.length),p.push(n);else{var s=f.get(i);if(null==s){var u=p[0],l=null!=u?u.getTextContent():"";n=o(a(t,i,l)),f.set(i,p.length),p.push(n)}else n=p[s]}}else 0===p.length?(n=o(a(t)),h.forEach((function(e){n.insert(e,0)})),p.push(n)):n=p[0];return{getTextContent:function(){return n.getTextContent()},id:t,insert:function(e,t){p.forEach((function(n){n.insert(e,t)}))}}}},6792:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Te});var r=n(1413),a=n(3366),i=n(2982),o=n(4942),s=n(3678),u=n(2647),l={},c=!u.default||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),d='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',f={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};const p=function(e,t){if(!e)return l;var n={},r=function(){var r=e[a];if(null==r)return"continue";if("backgroundClip"===a)"text"===r&&(n.backgroundClip=r,n.WebkitBackgroundClip=r);else if("flex"===a)-1===r?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=r;else if("font"===a)n[a]=r.replace("System",d);else if("fontFamily"===a)if(r.indexOf("System")>-1){var i=r.split(/,\s*/);i[i.indexOf("System")]=d,n[a]=i.join(",")}else n[a]="monospace"===r?"monospace,monospace":r;else if("textDecorationLine"===a)c?n.textDecorationLine=r:n.textDecoration=r;else if("writingDirection"===a)n.direction=r;else{var o=(0,s.default)(e[a],a),u=f[a];t&&"inset"===a?(null==e.insetInline&&(n.left=o,n.right=o),null==e.insetBlock&&(n.top=o,n.bottom=o)):t&&"margin"===a?(null==e.marginInline&&(n.marginLeft=o,n.marginRight=o),null==e.marginBlock&&(n.marginTop=o,n.marginBottom=o)):t&&"padding"===a?(null==e.paddingInline&&(n.paddingLeft=o,n.paddingRight=o),null==e.paddingBlock&&(n.paddingTop=o,n.paddingBottom=o)):u?u.forEach((function(t,r){null==e[t]&&(n[t]=o)})):n[a]=o}};for(var a in e)r();return n};const h=function(e){return function(e,t){for(var n,r=e.length,a=t^r,i=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(n>>>16)&65535)<<16),a=1540483477*(65535&a)+((1540483477*(a>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++i;switch(r){case 3:a^=(255&e.charCodeAt(i+2))<<16;case 2:a^=(255&e.charCodeAt(i+1))<<8;case 1:a=1540483477*(65535&(a^=255&e.charCodeAt(i)))+((1540483477*(a>>>16)&65535)<<16)}return a=1540483477*(65535&(a^=a>>>13))+((1540483477*(a>>>16)&65535)<<16),(a^=a>>>15)>>>0}(e,1).toString(36)};var m=/[A-Z]/g,v=/^ms-/,g={};function y(e){return"-"+e.toLowerCase()}const b=function(e){if(e in g)return g[e];var t=e.replace(m,y);return g[e]=v.test(t)?"-"+t:t};var k=n(127),w=n(5472),x=n(315),S=n(536),T=n(2995),E=n(7782),C=n(5569),N=n(4538),I=n(2882),_=n(3355),R=["Webkit"],A=["Webkit","ms"];const O={plugins:[w.default,x.default,S.default,T.default,E.default,C.default,N.default,I.default,_.default],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:A,textEmphasis:A,textEmphasisStyle:A,textEmphasisColor:A,boxDecorationBreak:A,clipPath:R,maskImage:A,maskMode:A,maskRepeat:A,maskPosition:A,maskClip:A,maskOrigin:A,maskSize:A,maskComposite:A,mask:A,maskBorderSource:A,maskBorderMode:A,maskBorderSlice:A,maskBorderWidth:A,maskBorderOutset:A,maskBorderRepeat:A,maskBorder:A,maskType:A,textDecorationStyle:R,textDecorationSkip:R,textDecorationLine:R,textDecorationColor:R,filter:R,breakAfter:R,breakBefore:R,breakInside:R,columnCount:R,columnFill:R,columnGap:R,columnRule:R,columnRuleColor:R,columnRuleStyle:R,columnRuleWidth:R,columns:R,columnSpan:R,columnWidth:R,backdropFilter:R,hyphens:R,flowInto:R,flowFrom:R,regionFragment:R,textOrientation:R,tabSize:["Moz"],fontKerning:R,textSizeAdjust:R}};const D=(0,k.default)(O);var F,$=["animationKeyframes"],P=new Map,M={},L=1,z=3,B={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},V="borderTopLeftRadius",U="borderTopRightRadius",G="borderBottomLeftRadius",W="borderBottomRightRadius",j="borderLeftColor",q="borderLeftStyle",H="borderLeftWidth",K="borderRightColor",X="borderRightStyle",Y="borderRightWidth",Z="right",Q="marginLeft",J="marginRight",ee="paddingLeft",te="paddingRight",ne="left",re=(F={},(0,o.default)(F,V,U),(0,o.default)(F,U,V),(0,o.default)(F,G,W),(0,o.default)(F,W,G),(0,o.default)(F,j,K),(0,o.default)(F,q,X),(0,o.default)(F,H,Y),(0,o.default)(F,K,j),(0,o.default)(F,X,q),(0,o.default)(F,Y,H),(0,o.default)(F,ne,Z),(0,o.default)(F,Q,J),(0,o.default)(F,J,Q),(0,o.default)(F,ee,te),(0,o.default)(F,te,ee),(0,o.default)(F,Z,ne),F),ae={borderStartStartRadius:V,borderStartEndRadius:U,borderEndStartRadius:G,borderEndEndRadius:W,borderInlineStartColor:j,borderInlineStartStyle:q,borderInlineStartWidth:H,borderInlineEndColor:K,borderInlineEndStyle:X,borderInlineEndWidth:Y,insetInlineEnd:Z,insetInlineStart:ne,marginInlineStart:Q,marginInlineEnd:J,paddingInlineStart:ee,paddingInlineEnd:te},ie=["clear","float","textAlign"];function oe(e){var t={$$css:!0},n=[];function r(e,t,r){var a,u=function(e,t){var n=(0,s.default)(e,t);return"string"!==typeof n?JSON.stringify(n||""):n}(r,t),l=t+u,c=P.get(l);if(null!=c)a=c[0],n.push(c[1]);else{a=ue("r",e,e!==t?l:u);var d=B[e]||z,f=function(e,t,n){var r=[],a="."+e;switch(t){case"animationKeyframes":var s=le(n),u=s[0],l=s[1],c=se({animationName:u.join(",")});r.push.apply(r,[""+a+c].concat((0,i.default)(l)));break;case"placeholderTextColor":var d=se({color:n,opacity:1});r.push(a+"::-webkit-input-placeholder"+d,a+"::-moz-placeholder"+d,a+":-ms-input-placeholder"+d,a+"::placeholder"+d);break;case"pointerEvents":var f=n;if("auto"===n||"box-only"===n){if(f="auto!important","box-only"===n){var p=se({pointerEvents:"none"});r.push(a+">*"+p)}}else if(("none"===n||"box-none"===n)&&(f="none!important","box-none"===n)){var h=se({pointerEvents:"auto"});r.push(a+">*"+h)}var m=se({pointerEvents:f});r.push(""+a+m);break;case"scrollbarWidth":"none"===n&&r.push(a+"::-webkit-scrollbar{display:none}");var v=se({scrollbarWidth:n});r.push(""+a+v);break;default:var g=se((0,o.default)({},t,n));r.push(""+a+g)}return r}(a,t,r),p=[f,d];n.push(p),P.set(l,[a,p])}return a}return Object.keys(e).sort().forEach((function(n){var a=e[n];if(null!=a){var o;if(ie.indexOf(n)>-1){var s=r(n,n,"left"),u=r(n,n,"right");"start"===a?o=[s,u]:"end"===a&&(o=[u,s])}var l=ae[n];if(null!=l){var c=r(n,l,a),d=r(n,re[l],a);o=[c,d]}if("transitionProperty"===n){for(var f=Array.isArray(a)?a:[a],p=[],h=0;h<f.length;h++){var m=f[h];"string"===typeof m&&null!=ae[m]&&p.push(h)}if(p.length>0){var v=(0,i.default)(f),g=(0,i.default)(f);p.forEach((function(e){var t=v[e];if("string"===typeof t){var a=ae[t],i=re[a];v[e]=a,g[e]=i;var s=r(n,n,v),u=r(n,n,g);o=[s,u]}}))}}null==o?o=r(n,n,a):t.$$css$localize=!0,t[n]=o}})),[t,n]}function se(e){var t=D(p(e));return"{"+Object.keys(t).map((function(e){var n=t[e],r=b(e);return Array.isArray(n)?n.map((function(e){return r+":"+e})).join(";"):r+":"+n})).sort().join(";")+";}"}function ue(e,t,n){return e+"-"+h(t+n)}function le(e){if("number"===typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach((function(e){if("string"===typeof e)t.push(e);else{var r=function(e){var t=ue("r","animation",JSON.stringify(e)),n="{"+Object.keys(e).map((function(t){return""+t+se(e[t])})).join("")+"}",r=["-webkit-",""].map((function(e){return"@"+e+"keyframes "+t+n}));return[t,r]}(e),a=r[0],o=r[1];t.push(a),n.push.apply(n,(0,i.default)(o))}})),[t,n]}var ce=n(8750),de=n(5204),fe=n(391),pe=n(7598),he=["writingDirection"],me=new WeakMap,ve=(0,ce.createSheet)(),ge={shadow:!0,textShadow:!0};function ye(e){e.forEach((function(e){var t=e[0],n=e[1];null!=ve&&t.forEach((function(e){ve.insert(e,n)}))}))}function be(e,t){var n=function(e,t){var n,o={$$css:!0},s=[],u=e.animationKeyframes,l=(0,a.default)(e,$),c=ue("css",t,JSON.stringify(e)),d="."+c;if(null!=u){var f=le(u),p=f[0],h=f[1];n=p.join(","),s.push.apply(s,(0,i.default)(h))}var m=se((0,r.default)((0,r.default)({},l),{},{animationName:n}));return s.push(""+d+m),o[c]=c,[o,[[s,L]]]}(e,t),o=n[0];return ye(n[1]),o}var ke={position:"absolute",left:0,right:0,top:0,bottom:0},we=xe({x:(0,r.default)({},ke)}).x;function xe(e){return Object.keys(e).forEach((function(t){var n,r=e[t];null!=r&&!0!==r.$$css&&(n=t.indexOf("$raw")>-1?be(r,t.split("$raw")[0]):function(e){var t=oe((0,fe.preprocess)(e,ge)),n=t[0];return ye(t[1]),n}(r),me.set(r,n))})),e}function Se(e,t){void 0===t&&(t={});var n="rtl"===t.writingDirection,i=function(e,t){void 0===t&&(t={});var n=t,i=n.writingDirection,o=(0,a.default)(n,he),s="rtl"===i;return pe.styleq.factory({transform:function(e){var t=me.get(e);return null!=t?(0,de.localizeStyle)(t,s):(0,fe.preprocess)(e,(0,r.default)((0,r.default)({},ge),o))}})(e)}(e,t);return Array.isArray(i)&&null!=i[1]&&(i[1]=function(e,t){var n=e||M,r={},a={},i=function(){var e=n[o],i=o,s=e;if(!Object.prototype.hasOwnProperty.call(n,o)||null==e)return"continue";ie.indexOf(o)>-1&&("start"===e?s=t?"right":"left":"end"===e&&(s=t?"left":"right"));var u=ae[o];if(null!=u&&(i=t?re[u]:u),"transitionProperty"===o){var l=Array.isArray(e)?e:[e];l.forEach((function(e,n){if("string"===typeof e){var r=ae[e];null!=r&&(l[n]=t?re[r]:r,s=l.join(" "))}}))}r[i]||(a[i]=s),i===o&&(r[i]=!0)};for(var o in n)i();return p(a,!0)}(i[1],n)),i}Se.absoluteFill=we,Se.absoluteFillObject=ke,Se.create=xe,Se.compose=function(e,t){return[e,t]},Se.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),a={},i=0;i<r.length;i++){var o=r[i];null!=o&&"object"===typeof o&&Object.assign(a,o)}return a},Se.getSheet=function(){return{id:ve.id,textContent:ve.getTextContent()}},Se.hairlineWidth=1,u.default&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=Se.flatten);const Te=Se},391:(e,t,n)=>{"use strict";n.r(t),n.d(t,{createBoxShadowValue:()=>u,createTextShadowValue:()=>l,createTransformValue:()=>d,default:()=>m,preprocess:()=>h});var r=n(3547),a=n(3678),i=n(4936),o={},s={height:0,width:0},u=function(e){var t=e.shadowColor,n=e.shadowOffset,i=e.shadowOpacity,o=e.shadowRadius,u=n||s,l=u.height,c=u.width,d=(0,a.default)(c),f=(0,a.default)(l),p=(0,a.default)(o||0),h=(0,r.default)(t||"black",i);if(null!=h&&null!=d&&null!=f&&null!=p)return d+" "+f+" "+p+" "+h},l=function(e){var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,i=n||s,o=i.height,u=i.width,l=r||0,c=(0,a.default)(u),d=(0,a.default)(o),f=(0,a.default)(l),p=(0,a.default)(t,"textShadowColor");if(p&&(0!==o||0!==u||0!==l)&&null!=c&&null!=d&&null!=f)return c+" "+d+" "+f+" "+p},c=function(e){var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+(0,a.default)(n,t)+")"},d=function(e){return e.map(c).join(" ")},f={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},p={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},h=function(e,t){void 0===t&&(t={});var n=e||o,r={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,i.warnOnce)("shadowStyles",'"shadow*" style props are deprecated. Use "boxShadow".');var a=u(n);if(null!=a&&null==r.boxShadow){var s=n.boxShadow,c=s?s+", "+a:a;r.boxShadow=c}}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,i.warnOnce)("textShadowStyles",'"textShadow*" style props are deprecated. Use "textShadow".');var h=l(n);if(null!=h&&null==r.textShadow){var m=n.textShadow,v=m?m+", "+h:h;r.textShadow=v}}for(var g in n)if(null==p[g]&&"shadowColor"!==g&&"shadowOffset"!==g&&"shadowOpacity"!==g&&"shadowRadius"!==g&&"textShadowColor"!==g&&"textShadowOffset"!==g&&"textShadowRadius"!==g){var y=n[g],b=f[g]||g,k=y;!Object.prototype.hasOwnProperty.call(n,g)||b!==g&&null!=n[b]||("aspectRatio"===b&&"number"===typeof k?r[b]=k.toString():"fontVariant"===b?(Array.isArray(k)&&k.length>0&&((0,i.warnOnce)("fontVariant",'"fontVariant" style array value is deprecated. Use space-separated values.'),k=k.join(" ")),r[b]=k):"textAlignVertical"===b?((0,i.warnOnce)("textAlignVertical",'"textAlignVertical" style is deprecated. Use "verticalAlign".'),null==n.verticalAlign&&(r.verticalAlign="center"===k?"middle":k)):"transform"===b?(Array.isArray(k)&&(k=d(k)),r.transform=k):r[b]=k)}return r};const m=h},3958:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(5004).createContext)(!1)},1054:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(1413),a=n(3366),i=n(5004),o=n(7339),s=n(9383),u=n(7316),l=n(7732),c=n(3733),d=n(5715),f=n(9627),p=n(6792),h=n(3958),m=n(1014),v=n(4936),g=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],y=Object.assign({},s.defaultProps,s.accessibilityProps,s.clickProps,s.focusProps,s.keyboardProps,s.mouseProps,s.touchProps,s.styleProps,{href:!0,lang:!0,pointerEvents:!0}),b=i.forwardRef((function(e,t){var n=e.hrefAttrs,r=e.numberOfLines,s=e.onClick,p=e.onLayout,b=e.onPress,k=e.onMoveShouldSetResponder,x=e.onMoveShouldSetResponderCapture,S=e.onResponderEnd,T=e.onResponderGrant,E=e.onResponderMove,C=e.onResponderReject,N=e.onResponderRelease,I=e.onResponderStart,_=e.onResponderTerminate,R=e.onResponderTerminationRequest,A=e.onScrollShouldSetResponder,O=e.onScrollShouldSetResponderCapture,D=e.onSelectionChangeShouldSetResponder,F=e.onSelectionChangeShouldSetResponderCapture,$=e.onStartShouldSetResponder,P=e.onStartShouldSetResponderCapture,M=e.selectable,L=(0,a.default)(e,g);null!=M&&(0,v.warnOnce)("selectable","selectable prop is deprecated. Use styles.userSelect.");var z=i.useContext(h.default),B=i.useRef(null),V=(0,m.useLocaleContext)().direction;(0,l.default)(B,p),(0,f.default)(B,{onMoveShouldSetResponder:k,onMoveShouldSetResponderCapture:x,onResponderEnd:S,onResponderGrant:T,onResponderMove:E,onResponderReject:C,onResponderRelease:N,onResponderStart:I,onResponderTerminate:_,onResponderTerminationRequest:R,onScrollShouldSetResponder:A,onScrollShouldSetResponderCapture:O,onSelectionChangeShouldSetResponder:D,onSelectionChangeShouldSetResponderCapture:F,onStartShouldSetResponder:$,onStartShouldSetResponderCapture:P});var U=i.useCallback((function(e){null!=s?s(e):null!=b&&(e.stopPropagation(),b(e))}),[s,b]),G=z?"span":"div",W=null!=e.lang?(0,m.getLocaleDirection)(e.lang):null,j=e.dir||W,q=j||V,H=function(e){return(0,u.default)(e,y)}(L);if(H.dir=j,z||(H.dir=null!=j?j:"auto"),(s||b)&&(H.onClick=U),H.style=[null!=r&&r>1&&{WebkitLineClamp:r},!0===z?w.textHasAncestor$raw:w.text$raw,1===r&&w.textOneLine,null!=r&&r>1&&w.textMultiLine,e.style,!0===M&&w.selectable,!1===M&&w.notSelectable,b&&w.pressable],null!=e.href&&(G="a",null!=n)){var K=n.download,X=n.rel,Y=n.target;null!=K&&(H.download=K),null!=X&&(H.rel=X),"string"===typeof Y&&(H.target="_"!==Y.charAt(0)?"_"+Y:Y)}var Z=(0,d.default)(H),Q=(0,c.default)(B,Z,t);H.ref=Q;var J=(0,o.default)(G,H,{writingDirection:q});return z?J:i.createElement(h.default.Provider,{value:!0},J)}));b.displayName="Text";var k={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},w=p.default.create({text$raw:k,textHasAncestor$raw:(0,r.default)((0,r.default)({},k),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const x=b},736:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});var r=n(7462),a=n(3366),i=n(5004),o=n(3733),s=n(6531),u=n(6792),l=n(9385),c=n(4936),d=["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"];function f(e,t){return{child:{opacity:null!==e&&void 0!==e?e:.85},underlay:{backgroundColor:void 0===t?"black":t}}}function p(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}var h=u.default.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),m=i.memo(i.forwardRef((function(e,t){(0,c.warnOnce)("TouchableHighlight","TouchableHighlight is deprecated. Please use Pressable.");var n=e.activeOpacity,u=e.children,m=e.delayPressIn,v=e.delayPressOut,g=e.delayLongPress,y=e.disabled,b=e.focusable,k=e.onHideUnderlay,w=e.onLongPress,x=e.onPress,S=e.onPressIn,T=e.onPressOut,E=e.onShowUnderlay,C=e.rejectResponderTermination,N=e.style,I=e.testOnly_pressed,_=e.underlayColor,R=(0,a.default)(e,d),A=(0,i.useRef)(null),O=(0,o.default)(t,A),D=(0,i.useState)(!0===I?f(n,_):null),F=D[0],$=D[1],P=(0,i.useCallback)((function(){p(e)&&($(f(n,_)),null!=E&&E())}),[n,E,e,_]),M=(0,i.useCallback)((function(){!0!==I&&p(e)&&($(null),null!=k&&k())}),[k,e,I]),L=(0,i.useMemo)((function(){return{cancelable:!C,disabled:y,delayLongPress:g,delayPressStart:m,delayPressEnd:v,onLongPress:w,onPress:x,onPressStart:function(e){P(),null!=S&&S(e)},onPressEnd:function(e){M(),null!=T&&T(e)}}}),[g,m,v,y,w,x,S,T,C,P,M]),z=(0,s.default)(A,L),B=i.Children.only(u);return i.createElement(l.default,(0,r.default)({},R,z,{accessibilityDisabled:y,focusable:!y&&!1!==b,pointerEvents:y?"box-none":void 0,ref:O,style:[h.root,N,!y&&h.actionable,F&&F.underlay]}),i.cloneElement(B,{style:[B.props.style,F&&F.child]}))})));m.displayName="TouchableHighlight";const v=m},5288:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(7462),a=n(3366),i=n(5004),o=n(3733),s=n(6531),u=n(6792),l=n(9385),c=n(4936),d=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];var f=u.default.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),p=i.memo(i.forwardRef((function(e,t){(0,c.warnOnce)("TouchableOpacity","TouchableOpacity is deprecated. Please use Pressable.");var n=e.activeOpacity,u=e.delayPressIn,p=e.delayPressOut,h=e.delayLongPress,m=e.disabled,v=e.focusable,g=e.onLongPress,y=e.onPress,b=e.onPressIn,k=e.onPressOut,w=e.rejectResponderTermination,x=e.style,S=(0,a.default)(e,d),T=(0,i.useRef)(null),E=(0,o.default)(t,T),C=(0,i.useState)("0s"),N=C[0],I=C[1],_=(0,i.useState)(null),R=_[0],A=_[1],O=(0,i.useCallback)((function(e,t){A(e),I(t?t/1e3+"s":"0s")}),[A,I]),D=(0,i.useCallback)((function(e){O(null!==n&&void 0!==n?n:.2,e)}),[n,O]),F=(0,i.useCallback)((function(e){O(null,e)}),[O]),$=(0,i.useMemo)((function(){return{cancelable:!w,disabled:m,delayLongPress:h,delayPressStart:u,delayPressEnd:p,onLongPress:g,onPress:y,onPressStart:function(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;D(t?0:150),null!=b&&b(e)},onPressEnd:function(e){F(250),null!=k&&k(e)}}}),[h,u,p,m,g,y,b,k,w,D,F]),P=(0,s.default)(T,$);return i.createElement(l.default,(0,r.default)({},S,P,{accessibilityDisabled:m,focusable:!m&&!1!==v,pointerEvents:m?"box-none":void 0,ref:E,style:[f.root,!m&&f.actionable,x,null!=R&&{opacity:R},{transitionDuration:N}]}))})));p.displayName="TouchableOpacity";const h=p},4913:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},a=["ms","Moz","O","Webkit"];Object.keys(r).forEach((function(e){a.forEach((function(t){r[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=r[e]}))}));const i=r;const o=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||i.hasOwnProperty(e)&&i[e]?(""+t).trim():t+"px"};const s=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var a=0===r.indexOf("--"),i=o(r,t[r],a);"float"===r&&(r="cssFloat"),a?n.setProperty(r,i):n[r]=i}};var u=function(e){var t=e.offsetHeight,n=e.offsetWidth,r=e.offsetLeft,a=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)r+=e.offsetLeft+e.clientLeft-e.scrollLeft,a+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:n,height:t,top:a-=window.scrollY,left:r-=window.scrollX}},l=function(e,t,n){var r=t||e&&e.parentNode;e&&r&&setTimeout((function(){if(e.isConnected&&r.isConnected){var t=u(r),a=u(e),i=a.height,o=a.left,s=a.top,l=a.width,c=o-t.left,d=s-t.top;n(c,d,l,i,o,s)}}),0)},c={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};const d={blur:function(e){try{e.blur()}catch(t){}},focus:function(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==c[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(n){}},measure:function(e,t){l(e,null,t)},measureInWindow:function(e,t){e&&setTimeout((function(){var n=u(e),r=n.height,a=n.left,i=n.top,o=n.width;t(a,i,o,r)}),0)},measureLayout:function(e,t,n,r){l(e,t,r)},updateView:function(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":s(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation:function(e,t){t()},setLayoutAnimationEnabledExperimental:function(){}}},9385:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(3366),a=n(5004),i=n(7339),o=n(9383),s=n(7316),u=n(7732),l=n(3733),c=n(5715),d=n(9627),f=n(6792),p=n(3958),h=n(1014),m=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],v=Object.assign({},o.defaultProps,o.accessibilityProps,o.clickProps,o.focusProps,o.keyboardProps,o.mouseProps,o.touchProps,o.styleProps,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),g=a.forwardRef((function(e,t){var n=e.hrefAttrs,o=e.onLayout,f=e.onMoveShouldSetResponder,g=e.onMoveShouldSetResponderCapture,b=e.onResponderEnd,k=e.onResponderGrant,w=e.onResponderMove,x=e.onResponderReject,S=e.onResponderRelease,T=e.onResponderStart,E=e.onResponderTerminate,C=e.onResponderTerminationRequest,N=e.onScrollShouldSetResponder,I=e.onScrollShouldSetResponderCapture,_=e.onSelectionChangeShouldSetResponder,R=e.onSelectionChangeShouldSetResponderCapture,A=e.onStartShouldSetResponder,O=e.onStartShouldSetResponderCapture,D=(0,r.default)(e,m);var F=a.useContext(p.default),$=a.useRef(null),P=(0,h.useLocaleContext)().direction;(0,u.default)($,o),(0,d.default)($,{onMoveShouldSetResponder:f,onMoveShouldSetResponderCapture:g,onResponderEnd:b,onResponderGrant:k,onResponderMove:w,onResponderReject:x,onResponderRelease:S,onResponderStart:T,onResponderTerminate:E,onResponderTerminationRequest:C,onScrollShouldSetResponder:N,onScrollShouldSetResponderCapture:I,onSelectionChangeShouldSetResponder:_,onSelectionChangeShouldSetResponderCapture:R,onStartShouldSetResponder:A,onStartShouldSetResponderCapture:O});var M="div",L=null!=e.lang?(0,h.getLocaleDirection)(e.lang):null,z=e.dir||L,B=z||P,V=function(e){return(0,s.default)(e,v)}(D);if(V.dir=z,V.style=[y.view$raw,F&&y.inline,e.style],null!=e.href&&(M="a",null!=n)){var U=n.download,G=n.rel,W=n.target;null!=U&&(V.download=U),null!=G&&(V.rel=G),"string"===typeof W&&(V.target="_"!==W.charAt(0)?"_"+W:W)}var j=(0,c.default)(V),q=(0,l.default)($,j,t);return V.ref=q,(0,i.default)(M,V,{writingDirection:B})}));g.displayName="View";var y=f.default.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});const b=g},7339:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(8585),a=n(1413),i=n(3366),o=n(6792),s=n(4936),u=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],l={},c=Object.prototype.hasOwnProperty,d=Array.isArray,f=/[A-Z]/g;function p(e){return"-"+e.toLowerCase()}function h(e){return d(e)?e.join(" "):e}var m=o.default.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});const v=function(e,t,n){t||(t=l);var d=t,v=d["aria-activedescendant"],g=d.accessibilityActiveDescendant,y=d["aria-atomic"],b=d.accessibilityAtomic,k=d["aria-autocomplete"],w=d.accessibilityAutoComplete,x=d["aria-busy"],S=d.accessibilityBusy,T=d["aria-checked"],E=d.accessibilityChecked,C=d["aria-colcount"],N=d.accessibilityColumnCount,I=d["aria-colindex"],_=d.accessibilityColumnIndex,R=d["aria-colspan"],A=d.accessibilityColumnSpan,O=d["aria-controls"],D=d.accessibilityControls,F=d["aria-current"],$=d.accessibilityCurrent,P=d["aria-describedby"],M=d.accessibilityDescribedBy,L=d["aria-details"],z=d.accessibilityDetails,B=d["aria-disabled"],V=d.accessibilityDisabled,U=d["aria-errormessage"],G=d.accessibilityErrorMessage,W=d["aria-expanded"],j=d.accessibilityExpanded,q=d["aria-flowto"],H=d.accessibilityFlowTo,K=d["aria-haspopup"],X=d.accessibilityHasPopup,Y=d["aria-hidden"],Z=d.accessibilityHidden,Q=d["aria-invalid"],J=d.accessibilityInvalid,ee=d["aria-keyshortcuts"],te=d.accessibilityKeyShortcuts,ne=d["aria-label"],re=d.accessibilityLabel,ae=d["aria-labelledby"],ie=d.accessibilityLabelledBy,oe=d["aria-level"],se=d.accessibilityLevel,ue=d["aria-live"],le=d.accessibilityLiveRegion,ce=d["aria-modal"],de=d.accessibilityModal,fe=d["aria-multiline"],pe=d.accessibilityMultiline,he=d["aria-multiselectable"],me=d.accessibilityMultiSelectable,ve=d["aria-orientation"],ge=d.accessibilityOrientation,ye=d["aria-owns"],be=d.accessibilityOwns,ke=d["aria-placeholder"],we=d.accessibilityPlaceholder,xe=d["aria-posinset"],Se=d.accessibilityPosInSet,Te=d["aria-pressed"],Ee=d.accessibilityPressed,Ce=d["aria-readonly"],Ne=d.accessibilityReadOnly,Ie=d["aria-required"],_e=d.accessibilityRequired,Re=(d.role,d.accessibilityRole),Ae=d["aria-roledescription"],Oe=d.accessibilityRoleDescription,De=d["aria-rowcount"],Fe=d.accessibilityRowCount,$e=d["aria-rowindex"],Pe=d.accessibilityRowIndex,Me=d["aria-rowspan"],Le=d.accessibilityRowSpan,ze=d["aria-selected"],Be=d.accessibilitySelected,Ve=d["aria-setsize"],Ue=d.accessibilitySetSize,Ge=d["aria-sort"],We=d.accessibilitySort,je=d["aria-valuemax"],qe=d.accessibilityValueMax,He=d["aria-valuemin"],Ke=d.accessibilityValueMin,Xe=d["aria-valuenow"],Ye=d.accessibilityValueNow,Ze=d["aria-valuetext"],Qe=d.accessibilityValueText,Je=d.dataSet,et=d.focusable,tt=d.id,nt=d.nativeID,rt=d.pointerEvents,at=d.style,it=d.tabIndex,ot=d.testID,st=(0,i.default)(d,u);null!=V&&(0,s.warnOnce)("accessibilityDisabled","accessibilityDisabled is deprecated.");var ut=B||V,lt=r.default.propsToAriaRole(t);null!=g&&(0,s.warnOnce)("accessibilityActiveDescendant","accessibilityActiveDescendant is deprecated. Use aria-activedescendant.");var ct=null!=v?v:g;null!=ct&&(st["aria-activedescendant"]=ct),null!=b&&(0,s.warnOnce)("accessibilityAtomic","accessibilityAtomic is deprecated. Use aria-atomic.");var dt=null!=y?v:b;null!=dt&&(st["aria-atomic"]=dt),null!=w&&(0,s.warnOnce)("accessibilityAutoComplete","accessibilityAutoComplete is deprecated. Use aria-autocomplete.");var ft=null!=k?k:w;null!=ft&&(st["aria-autocomplete"]=ft),null!=S&&(0,s.warnOnce)("accessibilityBusy","accessibilityBusy is deprecated. Use aria-busy.");var pt=null!=x?x:S;null!=pt&&(st["aria-busy"]=pt),null!=E&&(0,s.warnOnce)("accessibilityChecked","accessibilityChecked is deprecated. Use aria-checked.");var ht=null!=T?T:E;null!=ht&&(st["aria-checked"]=ht),null!=N&&(0,s.warnOnce)("accessibilityColumnCount","accessibilityColumnCount is deprecated. Use aria-colcount.");var mt=null!=C?C:N;null!=mt&&(st["aria-colcount"]=mt),null!=_&&(0,s.warnOnce)("accessibilityColumnIndex","accessibilityColumnIndex is deprecated. Use aria-colindex.");var vt=null!=I?I:_;null!=vt&&(st["aria-colindex"]=vt),null!=A&&(0,s.warnOnce)("accessibilityColumnSpan","accessibilityColumnSpan is deprecated. Use aria-colspan.");var gt=null!=R?R:A;null!=gt&&(st["aria-colspan"]=gt),null!=D&&(0,s.warnOnce)("accessibilityControls","accessibilityControls is deprecated. Use aria-controls.");var yt=null!=O?O:D;null!=yt&&(st["aria-controls"]=h(yt)),null!=$&&(0,s.warnOnce)("accessibilityCurrent","accessibilityCurrent is deprecated. Use aria-current.");var bt=null!=F?F:$;null!=bt&&(st["aria-current"]=bt),null!=M&&(0,s.warnOnce)("accessibilityDescribedBy","accessibilityDescribedBy is deprecated. Use aria-describedby.");var kt=null!=P?P:M;null!=kt&&(st["aria-describedby"]=h(kt)),null!=z&&(0,s.warnOnce)("accessibilityDetails","accessibilityDetails is deprecated. Use aria-details.");var wt=null!=L?L:z;null!=wt&&(st["aria-details"]=wt),!0===ut&&(st["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(st.disabled=!0)),null!=G&&(0,s.warnOnce)("accessibilityErrorMessage","accessibilityErrorMessage is deprecated. Use aria-errormessage.");var xt=null!=U?U:G;null!=xt&&(st["aria-errormessage"]=xt),null!=j&&(0,s.warnOnce)("accessibilityExpanded","accessibilityExpanded is deprecated. Use aria-expanded.");var St=null!=W?W:j;null!=St&&(st["aria-expanded"]=St),null!=H&&(0,s.warnOnce)("accessibilityFlowTo","accessibilityFlowTo is deprecated. Use aria-flowto.");var Tt=null!=q?q:H;null!=Tt&&(st["aria-flowto"]=h(Tt)),null!=X&&(0,s.warnOnce)("accessibilityHasPopup","accessibilityHasPopup is deprecated. Use aria-haspopup.");var Et=null!=K?K:X;null!=Et&&(st["aria-haspopup"]=Et),null!=Z&&(0,s.warnOnce)("accessibilityHidden","accessibilityHidden is deprecated. Use aria-hidden.");var Ct=null!=Y?Y:Z;!0===Ct&&(st["aria-hidden"]=Ct),null!=J&&(0,s.warnOnce)("accessibilityInvalid","accessibilityInvalid is deprecated. Use aria-invalid.");var Nt=null!=Q?Q:J;null!=Nt&&(st["aria-invalid"]=Nt),null!=te&&(0,s.warnOnce)("accessibilityKeyShortcuts","accessibilityKeyShortcuts is deprecated. Use aria-keyshortcuts.");var It=null!=ee?ee:te;null!=It&&(st["aria-keyshortcuts"]=h(It)),null!=re&&(0,s.warnOnce)("accessibilityLabel","accessibilityLabel is deprecated. Use aria-label.");var _t=null!=ne?ne:re;null!=_t&&(st["aria-label"]=_t),null!=ie&&(0,s.warnOnce)("accessibilityLabelledBy","accessibilityLabelledBy is deprecated. Use aria-labelledby.");var Rt=null!=ae?ae:ie;null!=Rt&&(st["aria-labelledby"]=h(Rt)),null!=se&&(0,s.warnOnce)("accessibilityLevel","accessibilityLevel is deprecated. Use aria-level.");var At=null!=oe?oe:se;null!=At&&(st["aria-level"]=At),null!=le&&(0,s.warnOnce)("accessibilityLiveRegion","accessibilityLiveRegion is deprecated. Use aria-live.");var Ot=null!=ue?ue:le;null!=Ot&&(st["aria-live"]="none"===Ot?"off":Ot),null!=de&&(0,s.warnOnce)("accessibilityModal","accessibilityModal is deprecated. Use aria-modal.");var Dt=null!=ce?ce:de;null!=Dt&&(st["aria-modal"]=Dt),null!=pe&&(0,s.warnOnce)("accessibilityMultiline","accessibilityMultiline is deprecated. Use aria-multiline.");var Ft=null!=fe?fe:pe;null!=Ft&&(st["aria-multiline"]=Ft),null!=me&&(0,s.warnOnce)("accessibilityMultiSelectable","accessibilityMultiSelectable is deprecated. Use aria-multiselectable.");var $t=null!=he?he:me;null!=$t&&(st["aria-multiselectable"]=$t),null!=ge&&(0,s.warnOnce)("accessibilityOrientation","accessibilityOrientation is deprecated. Use aria-orientation.");var Pt=null!=ve?ve:ge;null!=Pt&&(st["aria-orientation"]=Pt),null!=be&&(0,s.warnOnce)("accessibilityOwns","accessibilityOwns is deprecated. Use aria-owns.");var Mt=null!=ye?ye:be;null!=Mt&&(st["aria-owns"]=h(Mt)),null!=we&&(0,s.warnOnce)("accessibilityPlaceholder","accessibilityPlaceholder is deprecated. Use aria-placeholder.");var Lt=null!=ke?ke:we;null!=Lt&&(st["aria-placeholder"]=Lt),null!=Se&&(0,s.warnOnce)("accessibilityPosInSet","accessibilityPosInSet is deprecated. Use aria-posinset.");var zt=null!=xe?xe:Se;null!=zt&&(st["aria-posinset"]=zt),null!=Ee&&(0,s.warnOnce)("accessibilityPressed","accessibilityPressed is deprecated. Use aria-pressed.");var Bt=null!=Te?Te:Ee;null!=Bt&&(st["aria-pressed"]=Bt),null!=Ne&&(0,s.warnOnce)("accessibilityReadOnly","accessibilityReadOnly is deprecated. Use aria-readonly.");var Vt=null!=Ce?Ce:Ne;null!=Vt&&(st["aria-readonly"]=Vt,"input"!==e&&"select"!==e&&"textarea"!==e||(st.readOnly=!0)),null!=_e&&(0,s.warnOnce)("accessibilityRequired","accessibilityRequired is deprecated. Use aria-required.");var Ut=null!=Ie?Ie:_e;null!=Ut&&(st["aria-required"]=Ut,"input"!==e&&"select"!==e&&"textarea"!==e||(st.required=_e)),null!=Re&&(0,s.warnOnce)("accessibilityRole","accessibilityRole is deprecated. Use role."),null!=lt&&(st.role="none"===lt?"presentation":lt),null!=Oe&&(0,s.warnOnce)("accessibilityRoleDescription","accessibilityRoleDescription is deprecated. Use aria-roledescription.");var Gt=null!=Ae?Ae:Oe;null!=Gt&&(st["aria-roledescription"]=Gt),null!=Fe&&(0,s.warnOnce)("accessibilityRowCount","accessibilityRowCount is deprecated. Use aria-rowcount.");var Wt=null!=De?De:Fe;null!=Wt&&(st["aria-rowcount"]=Wt),null!=Pe&&(0,s.warnOnce)("accessibilityRowIndex","accessibilityRowIndex is deprecated. Use aria-rowindex.");var jt=null!=$e?$e:Pe;null!=jt&&(st["aria-rowindex"]=jt),null!=Le&&(0,s.warnOnce)("accessibilityRowSpan","accessibilityRowSpan is deprecated. Use aria-rowspan.");var qt=null!=Me?Me:Le;null!=qt&&(st["aria-rowspan"]=qt),null!=Be&&(0,s.warnOnce)("accessibilitySelected","accessibilitySelected is deprecated. Use aria-selected.");var Ht=null!=ze?ze:Be;null!=Ht&&(st["aria-selected"]=Ht),null!=Ue&&(0,s.warnOnce)("accessibilitySetSize","accessibilitySetSize is deprecated. Use aria-setsize.");var Kt=null!=Ve?Ve:Ue;null!=Kt&&(st["aria-setsize"]=Kt),null!=We&&(0,s.warnOnce)("accessibilitySort","accessibilitySort is deprecated. Use aria-sort.");var Xt=null!=Ge?Ge:We;null!=Xt&&(st["aria-sort"]=Xt),null!=qe&&(0,s.warnOnce)("accessibilityValueMax","accessibilityValueMax is deprecated. Use aria-valuemax.");var Yt=null!=je?je:qe;null!=Yt&&(st["aria-valuemax"]=Yt),null!=Ke&&(0,s.warnOnce)("accessibilityValueMin","accessibilityValueMin is deprecated. Use aria-valuemin.");var Zt=null!=He?He:Ke;null!=Zt&&(st["aria-valuemin"]=Zt),null!=Ye&&(0,s.warnOnce)("accessibilityValueNow","accessibilityValueNow is deprecated. Use aria-valuenow.");var Qt=null!=Xe?Xe:Ye;null!=Qt&&(st["aria-valuenow"]=Qt),null!=Qe&&(0,s.warnOnce)("accessibilityValueText","accessibilityValueText is deprecated. Use aria-valuetext.");var Jt=null!=Ze?Ze:Qe;if(null!=Jt&&(st["aria-valuetext"]=Jt),null!=Je)for(var en in Je)if(c.call(Je,en)){var tn=en.replace(f,p),nn=Je[en];null!=nn&&(st["data-"+tn]=nn)}0===it||"0"===it||-1===it||"-1"===it?st.tabIndex=it:(null!=et&&(0,s.warnOnce)("focusable","focusable is deprecated."),!1===et&&(st.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==et&&!0!==V||(st.tabIndex="-1"):"button"===lt||"checkbox"===lt||"link"===lt||"radio"===lt||"textbox"===lt||"switch"===lt?!1!==et&&(st.tabIndex="0"):!0===et&&(st.tabIndex="0")),null!=rt&&(0,s.warnOnce)("pointerEvents","props.pointerEvents is deprecated. Use style.pointerEvents");var rn=(0,o.default)([at,rt&&m[rt]],(0,a.default)({writingDirection:"ltr"},n)),an=rn[0],on=rn[1];an&&(st.className=an),on&&(st.style=on),null!=nt&&(0,s.warnOnce)("nativeID","nativeID is deprecated. Use id.");var sn=null!=tt?tt:nt;return null!=sn&&(st.id=sn),null!=ot&&(st["data-testid"]=ot),null==st.type&&"button"===e&&(st.type="button"),st};var g=n(5004),y=n(1014);const b=function(e,t,n){var a;e&&e.constructor===String&&(a=r.default.propsToAccessibilityComponent(t));var i=a||e,o=v(i,t,n),s=g.createElement(i,o);return o.dir?g.createElement(y.LocaleProvider,{children:s,direction:o.dir,locale:o.lang}):s}},9512:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(9153);const a=function(e){var t;try{t=(0,r.findDOMNode)(e)}catch(n){}return t}},4029:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(7098),a=n.n(r);const i=function(e){if(void 0===e||null===e)return e;var t=a()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0}},2559:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,hydrate:()=>s,hydrateLegacy:()=>l,render:()=>u});var r=n(9153),a=n(5976),i=n(9078),o=n(8750);function s(e,t){return(0,o.createSheet)(t),(0,a.hydrateRoot)(t,e)}function u(e,t){(0,o.createSheet)(t);var n=(0,a.createRoot)(t);return n.render(e),n}function l(e,t,n){return(0,o.createSheet)(t),(0,r.hydrate)(e,t,n),{unmount:function(){return(0,i.default)(t)}}}function c(e,t,n){return(0,o.createSheet)(t),(0,r.render)(e,t,n),{unmount:function(){return(0,i.default)(t)}}}},9078:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(9153).unmountComponentAtNode},1145:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessibilityInfo:()=>h,ActivityIndicator:()=>Di,Alert:()=>g,Animated:()=>za,AppRegistry:()=>Ga.default,AppState:()=>Za,Appearance:()=>Ua,BackHandler:()=>Ja,Button:()=>Mi,CheckBox:()=>Vi,Clipboard:()=>ti,DeviceEventEmitter:()=>Xu.default,Dimensions:()=>z.default,Easing:()=>pa,FlatList:()=>bt,I18nManager:()=>ni,Image:()=>nr,ImageBackground:()=>ji,InteractionManager:()=>Te,Keyboard:()=>ri,KeyboardAvoidingView:()=>Xi,LayoutAnimation:()=>si,Linking:()=>di,LogBox:()=>Ku,Modal:()=>xo,NativeEventEmitter:()=>fi.default,NativeModules:()=>u.default,PanResponder:()=>Ti,Picker:()=>No,PixelRatio:()=>Gn.default,Platform:()=>b.default,Pressable:()=>ys,ProgressBar:()=>xs,RefreshControl:()=>L,SafeAreaView:()=>Ns,ScrollView:()=>oe,SectionList:()=>pr,Share:()=>Ei,StatusBar:()=>Rs,StyleSheet:()=>I.default,Switch:()=>Vs,Text:()=>mr.default,TextInput:()=>Qs,Touchable:()=>Fu,TouchableHighlight:()=>$u.default,TouchableNativeFeedback:()=>Vu,TouchableOpacity:()=>Fi.default,TouchableWithoutFeedback:()=>Wu,UIManager:()=>B.default,Vibration:()=>Ni,View:()=>N.default,VirtualizedList:()=>ju,YellowBox:()=>Hu,findNodeHandle:()=>a.default,processColor:()=>i.default,render:()=>o.default,unmountComponentAtNode:()=>s.default,unstable_createElement:()=>r.default,useColorScheme:()=>Yu,useLocaleContext:()=>Zu,useWindowDimensions:()=>Qu});var r=n(7339),a=n(9512),i=n(4029),o=n(2559),s=n(9078),u=n(5791),l=n(2647);function c(){return new Promise((function(e,t){e(!0)}))}var d=l.default&&"function"===typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null;var f={},p={isScreenReaderEnabled:c,isReduceMotionEnabled:function(){return new Promise((function(e,t){e(!d||d.matches)}))},fetch:c,addEventListener:function(e,t){if("reduceMotionChanged"===e){if(!d)return;var n=function(e){t(e.matches)};r=n,null!=d&&(null!=d.addEventListener?d.addEventListener("change",r):d.addListener(r)),f[t]=n}var r;return{remove:function(){return p.removeEventListener(e,t)}}},setAccessibilityFocus:function(e){},announceForAccessibility:function(e){},removeEventListener:function(e,t){if("reduceMotionChanged"===e){var n=f[t];if(!n||!d)return;r=n,null!=d&&(null!=d.removeEventListener?d.removeEventListener("change",r):d.removeListener(r))}var r}};const h=p;var m=n(5671),v=n(3144);const g=function(){function e(){(0,m.default)(this,e)}return(0,v.default)(e,null,[{key:"alert",value:function(){}}]),e}();var y=n(1413),b=n(2152),k=n(7462),w=n(5004),x=n.t(w,2),S=n(136),T=n(6215),E=n(1120),C=n(3366),N=n(9385),I=n(6792);const _=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"===typeof t&&"function"===typeof n)return!1;if("object"!==typeof t||null===t)return t!==n;if("object"!==typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var a=t.length;if(n.length!==a)return!0;for(var i=0;i<a;i++)if(e(t[i],n[i],r-1))return!0}else{for(var o in t)if(e(t[o],n[o],r-1))return!0;for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!0}return!1};var R=n(9676),A=n.n(R),O=n(2982),D=n(4942),F=n(7326),$=n(181);function P(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=(0,$.default)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var M=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];const L=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var t=(0,C.default)(e,M);return w.createElement(N.default,t)};var z=n(4584),B=n(4913);const V={_currentlyFocusedNode:null,currentlyFocusedField:function(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput:function(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&B.default.focus(e))},blurTextInput:function(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&B.default.blur(e))}};const U=function(){V.blurTextInput(V.currentlyFocusedField())};var G=n(1899),W=n(3733),j=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function q(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var H=w.forwardRef((function(e,t){var n=e.onScroll,r=e.onTouchMove,a=e.onWheel,i=e.scrollEnabled,o=void 0===i||i,s=e.scrollEventThrottle,u=void 0===s?0:s,l=e.showsHorizontalScrollIndicator,c=e.showsVerticalScrollIndicator,d=e.style,f=(0,C.default)(e,j),p=w.useRef({isScrolling:!1,scrollLastTick:0}),h=w.useRef(null),m=w.useRef(null);function v(e){return function(t){o&&e&&e(t)}}function g(e){p.current.scrollLastTick=Date.now(),n&&n(q(e))}var y=!1===l||!1===c;return w.createElement(N.default,(0,k.default)({},f,{onScroll:function(e){e.stopPropagation(),e.target===m.current&&(e.persist(),null!=h.current&&clearTimeout(h.current),h.current=setTimeout((function(){!function(e){p.current.isScrolling=!1,n&&n(q(e))}(e)}),100),p.current.isScrolling?function(e,t){var n=Date.now()-e;return t>0&&n>=t}(p.current.scrollLastTick,u)&&g(e):function(e){p.current.isScrolling=!0,g(e)}(e))},onTouchMove:v(r),onWheel:v(a),ref:(0,W.default)(m,t),style:[d,!o&&K.scrollDisabled,y&&K.hideScrollbar]}))})),K=I.default.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const X=H;var Y=n(2465),Z=n.n(Y);function Q(e){var t=J();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function J(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(J=function(){return!!e})()}var ee=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],te={},ne=function(e){(0,S.default)(n,e);var t=Q(n);function n(){var e;return(0,m.default)(this,n),(e=t.apply(this,arguments))._scrollNodeRef=null,e._innerViewRef=null,e.isTouching=!1,e.lastMomentumScrollBeginTime=0,e.lastMomentumScrollEndTime=0,e.observedScrollSinceBecomingResponder=!1,e.becameResponderWhileAnimating=!1,e.scrollResponderHandleScrollShouldSetResponder=function(){return e.isTouching},e.scrollResponderHandleStartShouldSetResponderCapture=function(t){return e.scrollResponderIsAnimating()},e.scrollResponderHandleTerminationRequest=function(){return!e.observedScrollSinceBecomingResponder},e.scrollResponderHandleTouchEnd=function(t){var n=t.nativeEvent;e.isTouching=0!==n.touches.length,e.props.onTouchEnd&&e.props.onTouchEnd(t)},e.scrollResponderHandleResponderRelease=function(t){e.props.onResponderRelease&&e.props.onResponderRelease(t);var n=V.currentlyFocusedField();e.props.keyboardShouldPersistTaps||null==n||t.target===n||e.observedScrollSinceBecomingResponder||e.becameResponderWhileAnimating||(e.props.onScrollResponderKeyboardDismissed&&e.props.onScrollResponderKeyboardDismissed(t),V.blurTextInput(n))},e.scrollResponderHandleScroll=function(t){e.observedScrollSinceBecomingResponder=!0,e.props.onScroll&&e.props.onScroll(t)},e.scrollResponderHandleResponderGrant=function(t){e.observedScrollSinceBecomingResponder=!1,e.props.onResponderGrant&&e.props.onResponderGrant(t),e.becameResponderWhileAnimating=e.scrollResponderIsAnimating()},e.scrollResponderHandleScrollBeginDrag=function(t){e.props.onScrollBeginDrag&&e.props.onScrollBeginDrag(t)},e.scrollResponderHandleScrollEndDrag=function(t){e.props.onScrollEndDrag&&e.props.onScrollEndDrag(t)},e.scrollResponderHandleMomentumScrollBegin=function(t){e.lastMomentumScrollBeginTime=Date.now(),e.props.onMomentumScrollBegin&&e.props.onMomentumScrollBegin(t)},e.scrollResponderHandleMomentumScrollEnd=function(t){e.lastMomentumScrollEndTime=Date.now(),e.props.onMomentumScrollEnd&&e.props.onMomentumScrollEnd(t)},e.scrollResponderHandleTouchStart=function(t){e.isTouching=!0,e.props.onTouchStart&&e.props.onTouchStart(t)},e.scrollResponderHandleTouchMove=function(t){e.props.onTouchMove&&e.props.onTouchMove(t)},e.scrollResponderIsAnimating=function(){return Date.now()-e.lastMomentumScrollEndTime<16||e.lastMomentumScrollEndTime<e.lastMomentumScrollBeginTime},e.scrollResponderScrollTo=function(t,n,r){if("number"===typeof t)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var a=t||te;t=a.x,n=a.y,r=a.animated}var i=e.getScrollableNode(),o=t||0,s=n||0;null!=i&&("function"===typeof i.scroll?i.scroll({top:s,left:o,behavior:r?"smooth":"auto"}):(i.scrollLeft=o,i.scrollTop=s))},e.scrollResponderZoomTo=function(e,t){"ios"!==b.default.OS&&A()("zoomToRect is not implemented")},e.scrollResponderScrollNativeHandleToKeyboard=function(t,n,r){e.additionalScrollOffset=n||0,e.preventNegativeScrollOffset=!!r,B.default.measureLayout(t,e.getInnerViewNode(),e.scrollResponderTextInputFocusError,e.scrollResponderInputMeasureAndScrollToKeyboard)},e.scrollResponderInputMeasureAndScrollToKeyboard=function(t,n,r,a){var i=z.default.get("window").height;e.keyboardWillOpenTo&&(i=e.keyboardWillOpenTo.endCoordinates.screenY);var o=n-i+a+e.additionalScrollOffset;e.preventNegativeScrollOffset&&(o=Math.max(0,o)),e.scrollResponderScrollTo({x:0,y:o,animated:!0}),e.additionalOffset=0,e.preventNegativeScrollOffset=!1},e.scrollResponderKeyboardWillShow=function(t){e.keyboardWillOpenTo=t,e.props.onKeyboardWillShow&&e.props.onKeyboardWillShow(t)},e.scrollResponderKeyboardWillHide=function(t){e.keyboardWillOpenTo=null,e.props.onKeyboardWillHide&&e.props.onKeyboardWillHide(t)},e.scrollResponderKeyboardDidShow=function(t){t&&(e.keyboardWillOpenTo=t),e.props.onKeyboardDidShow&&e.props.onKeyboardDidShow(t)},e.scrollResponderKeyboardDidHide=function(t){e.keyboardWillOpenTo=null,e.props.onKeyboardDidHide&&e.props.onKeyboardDidHide(t)},e.flashScrollIndicators=function(){e.scrollResponderFlashScrollIndicators()},e.getScrollResponder=function(){return(0,F.default)(e)},e.getScrollableNode=function(){return e._scrollNodeRef},e.getInnerViewRef=function(){return e._innerViewRef},e.getInnerViewNode=function(){return e._innerViewRef},e.getNativeScrollRef=function(){return e._scrollNodeRef},e.scrollTo=function(t,n,r){if("number"===typeof t)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var a=t||te;n=a.x,t=a.y,r=a.animated}e.scrollResponderScrollTo({x:n||0,y:t||0,animated:!1!==r})},e.scrollToEnd=function(t){var n=!1!==(t&&t.animated),r=e.props.horizontal,a=e.getScrollableNode(),i=r?a.scrollWidth:0,o=r?0:a.scrollHeight;e.scrollResponderScrollTo({x:i,y:o,animated:n})},e._handleContentOnLayout=function(t){var n=t.nativeEvent.layout,r=n.width,a=n.height;e.props.onContentSizeChange(r,a)},e._handleScroll=function(t){"on-drag"===e.props.keyboardDismissMode&&U(),e.scrollResponderHandleScroll(t)},e._setInnerViewRef=function(t){e._innerViewRef=t},e._setScrollNodeRef=function(t){e._scrollNodeRef=t,null!=t&&(t.getScrollResponder=e.getScrollResponder,t.getInnerViewNode=e.getInnerViewNode,t.getInnerViewRef=e.getInnerViewRef,t.getNativeScrollRef=e.getNativeScrollRef,t.getScrollableNode=e.getScrollableNode,t.scrollTo=e.scrollTo,t.scrollToEnd=e.scrollToEnd,t.flashScrollIndicators=e.flashScrollIndicators,t.scrollResponderZoomTo=e.scrollResponderZoomTo,t.scrollResponderScrollNativeHandleToKeyboard=e.scrollResponderScrollNativeHandleToKeyboard),(0,G.default)(e.props.forwardedRef)(t)},e}return(0,v.default)(n,[{key:"scrollResponderHandleStartShouldSetResponder",value:function(){return!1}},{key:"scrollResponderHandleResponderReject",value:function(){Z()(!1,"ScrollView doesn't take rejection well - scrolls anyway")}},{key:"scrollResponderFlashScrollIndicators",value:function(){}},{key:"scrollResponderTextInputFocusError",value:function(e){console.error("Error measuring text field: ",e)}},{key:"render",value:function(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,r=e.onContentSizeChange,a=e.refreshControl,i=e.stickyHeaderIndices,o=e.pagingEnabled,s=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),u=(0,C.default)(e,ee),l={};r&&(l={onLayout:this._handleContentOnLayout});var c=!n&&Array.isArray(i),d=c||o?w.Children.map(this.props.children,(function(e,t){var n=c&&i.indexOf(t)>-1;return null!=e&&(n||o)?w.createElement(N.default,{style:[n&&ae.stickyHeader,o&&ae.pagingEnabledChild]},e):e})):this.props.children,f=w.createElement(N.default,(0,k.default)({},l,{children:d,collapsable:!1,ref:this._setInnerViewRef,style:[n&&ae.contentContainerHorizontal,s&&ae.contentContainerCenterContent,t]})),p=n?ae.baseHorizontal:ae.baseVertical,h=n?ae.pagingEnabledHorizontal:ae.pagingEnabledVertical,m=(0,y.default)((0,y.default)({},u),{},{style:[p,o&&h,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),v=X;A()(void 0!==v,"ScrollViewClass must not be undefined");var g=w.createElement(v,(0,k.default)({},m,{ref:this._setScrollNodeRef}),f);return a?w.cloneElement(a,{style:m.style},g):g}}]),n}(w.Component),re={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},ae=I.default.create({baseVertical:(0,y.default)((0,y.default)({},re),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:(0,y.default)((0,y.default)({},re),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),ie=w.forwardRef((function(e,t){return w.createElement(ne,(0,k.default)({},e,{forwardedRef:t}))}));ie.displayName="ScrollView";const oe=ie;var se=function(){function e(t){(0,m.default)(this,e);var n=t.onMoreTasks;this._onMoreTasks=n,this._queueStack=[{tasks:[],popable:!0}]}return(0,v.default)(e,[{key:"enqueue",value:function(e){this._getCurrentQueue().push(e)}},{key:"enqueueTasks",value:function(e){var t=this;e.forEach((function(e){return t.enqueue(e)}))}},{key:"cancelTasks",value:function(e){this._queueStack=this._queueStack.map((function(t){return(0,y.default)((0,y.default)({},t),{},{tasks:t.tasks.filter((function(t){return-1===e.indexOf(t)}))})})).filter((function(e,t){return e.tasks.length>0||0===t}))}},{key:"hasTasksToProcess",value:function(){return this._getCurrentQueue().length>0}},{key:"processNext",value:function(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{"object"===typeof t&&t.gen?this._genPromise(t):"object"===typeof t&&t.run?t.run():(A()("function"===typeof t,"Expected Function, SimpleTask, or PromiseTask, but got:\n"+JSON.stringify(t,null,2)),t())}catch(n){throw n.message="TaskQueue: Error with task "+(t.name||"")+": "+n.message,n}}}},{key:"_getCurrentQueue",value:function(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}},{key:"_genPromise",value:function(e){var t=this,n=this._queueStack.push({tasks:[],popable:!1})-1,r=this._queueStack[n];e.gen().then((function(){r.popable=!0,t.hasTasksToProcess()&&t._onMoreTasks()})).catch((function(t){setTimeout((function(){throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t}),0)}))}}]),e}();const ue=se;var le=n(623),ce=l.default&&"undefined"!==typeof window.requestIdleCallback,de=ce?window.requestIdleCallback:function(e,t){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)};ce&&window.cancelIdleCallback;const fe=de;var pe=new le.default,he={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions:function(e){var t=[],n=new Promise((function(n){xe(),e&&t.push(e),t.push({run:n,name:"resolve "+(e&&e.name||"?")}),ye.enqueueTasks(t)}));return{then:n.then.bind(n),done:n.then.bind(n),cancel:function(){ye.cancelTasks(t)}}},createInteractionHandle:function(){xe();var e=++ke;return ve.add(e),e},clearInteractionHandle:function(e){A()(!!e,"Must provide a handle to clear."),xe(),ve.delete(e),ge.add(e)},addListener:pe.addListener.bind(pe),setDeadline:function(e){we=e}},me=new Set,ve=new Set,ge=new Set,ye=new ue({onMoreTasks:xe}),be=0,ke=0,we=-1;function xe(){be||(be=we>0?setTimeout(Se):fe(Se))}function Se(){be=0;var e=me.size;ve.forEach((function(e){return me.add(e)})),ge.forEach((function(e){return me.delete(e)}));var t=me.size;if(0!==e&&0===t?pe.emit(he.Events.interactionComplete):0===e&&0!==t&&pe.emit(he.Events.interactionStart),0===t)for(var n=Date.now();ye.hasTasksToProcess();)if(ye.processNext(),we>0&&Date.now()-n>=we){xe();break}ve.clear(),ge.clear()}const Te=he;const Ee=function(){function e(t,n){(0,m.default)(this,e),this._delay=n,this._callback=t}return(0,v.default)(e,[{key:"dispose",value:function(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}},{key:"schedule",value:function(){var e=this;if(!this._taskHandle){var t=setTimeout((function(){e._taskHandle=Te.runAfterInteractions((function(){e._taskHandle=null,e._callback()}))}),this._delay);this._taskHandle={cancel:function(){return clearTimeout(t)}}}}}]),e}();var Ce=n(9309),Ne=n.n(Ce);const Ie=function(){var e;return(e=console).log.apply(e,arguments)};var _e=function(){function e(t){(0,m.default)(this,e),A()(t>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=t,this._regions=0===t?[]:[{first:0,last:t-1,isSpacer:!0}]}return(0,v.default)(e,[{key:"enumerateRegions",value:function(){return this._regions}},{key:"addCells",value:function(e){var t;if(A()(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var n=this._findRegion(e.first),r=n[0],a=n[1],i=this._findRegion(e.last),o=i[0],s=i[1];if(a!==s||r.isSpacer){var u=[],l=[],c=(0,y.default)((0,y.default)({},e),{},{isSpacer:!1});r.first<c.first&&(r.isSpacer?u.push({first:r.first,last:c.first-1,isSpacer:!0}):c.first=r.first),o.last>c.last&&(o.isSpacer?l.push({first:c.last+1,last:o.last,isSpacer:!0}):c.last=o.last);var d=[].concat(u,[c],l),f=s-a+1;(t=this._regions).splice.apply(t,[a,f].concat((0,O.default)(d)))}}}},{key:"numCells",value:function(){return this._numCells}},{key:"equals",value:function(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((function(t,n){return t.first===e._regions[n].first&&t.last===e._regions[n].last&&t.isSpacer===e._regions[n].isSpacer}))}},{key:"_findRegion",value:function(e){for(var t=0,n=this._regions.length-1;t<=n;){var r=Math.floor((t+n)/2),a=this._regions[r];if(e>=a.first&&e<=a.last)return[a,r];e<a.first?n=r-1:e>a.last&&(t=r+1)}A()(!1,"A region was not found containing cellIdx "+e)}}]),e}(),Re=function(){function e(){(0,m.default)(this,e),this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}return(0,v.default)(e,[{key:"add",value:function(e,t){var n;A()(!this._childrenToCellKey.has(e),"Trying to add already present child list");var r=null!==(n=this._cellKeyToChildren.get(t))&&void 0!==n?n:new Set;r.add(e),this._cellKeyToChildren.set(t,r),this._childrenToCellKey.set(e,t)}},{key:"remove",value:function(e){var t=this._childrenToCellKey.get(e);A()(null!=t,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var n=this._cellKeyToChildren.get(t);A()(n,"_cellKeyToChildren should contain cellKey"),n.delete(e),0===n.size&&this._cellKeyToChildren.delete(t)}},{key:"forEach",value:function(e){for(var t,n=P(this._cellKeyToChildren.values());!(t=n()).done;)for(var r,a=P(t.value);!(r=a()).done;){e(r.value)}}},{key:"forEachInCell",value:function(e,t){for(var n,r,a=P(null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[]);!(r=a()).done;){t(r.value)}}},{key:"anyInCell",value:function(e,t){for(var n,r,a=P(null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[]);!(r=a()).done;){if(t(r.value))return!0}return!1}},{key:"size",value:function(){return this._childrenToCellKey.size}}]),e}(),Ae=(0,v.default)((function e(){(0,m.default)(this,e),this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0})),Oe=[],De=10,Fe=null;const $e=function(){function e(t){(0,m.default)(this,e),this._anyBlankStartTime=null,this._enabled=!1,this._info=new Ae,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=t,this._enabled=(Fe||0)>Math.random(),this._resetData()}return(0,v.default)(e,[{key:"activate",value:function(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=n.g.performance.now())}},{key:"deactivateAndFlush",value:function(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<De)this._resetData();else{var t=n.g.performance.now()-e,r=(0,y.default)((0,y.default)({},this._info),{},{total_time_spent:t});Oe.forEach((function(e){return e(r)})),this._resetData()}}}},{key:"computeBlankness",value:function(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||t.last<t.first||null==this._samplesStartTime)return 0;var a=r.dOffset,i=r.offset,o=r.velocity,s=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(a));var u=Math.round(1e3*Math.abs(o)),l=n.g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=l-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=l-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var c=0,d=t.first,f=this._getFrameMetrics(d,e);d<=t.last&&(!f||!f.inLayout);)f=this._getFrameMetrics(d,e),d++;f&&d>0&&(c=Math.min(s,Math.max(0,f.offset-i)));for(var p=0,h=t.last,m=this._getFrameMetrics(h,e);h>=t.first&&(!m||!m.inLayout);)m=this._getFrameMetrics(h,e),h--;if(m&&h<e.getItemCount(e.data)-1){var v=m.offset+m.length;p=Math.min(s,Math.max(0,i+s-v))}var g=Math.round(c+p),y=g/s;return y>0?(this._anyBlankStartTime=l,this._info.any_blank_speed_sum+=u,this._info.any_blank_count++,this._info.pixels_blank+=g,y>.5&&(this._mostlyBlankStartTime=l,this._info.mostly_blank_count++)):(u<.01||Math.abs(a)<1)&&this.deactivateAndFlush(),y}},{key:"enabled",value:function(){return this._enabled}},{key:"_resetData",value:function(){this._anyBlankStartTime=null,this._info=new Ae,this._mostlyBlankStartTime=null,this._samplesStartTime=null}}],[{key:"addListener",value:function(e){return null===Fe&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),Oe.push(e),{remove:function(){Oe=Oe.filter((function(t){return e!==t}))}}}},{key:"setSampleRate",value:function(e){Fe=e}},{key:"setMinSampleCount",value:function(e){De=e}}]),e}();var Pe=n(1752);function Me(e){var t=Le();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Le(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Le=function(){return!!e})()}var ze=function(e){(0,S.default)(n,e);var t=Me(n);function n(e){var r;return(0,m.default)(this,n),(r=t.call(this,e))._inAsyncStateUpdate=!1,r._installSetStateHooks(),r}return(0,v.default)(n,[{key:"setState",value:function(e,t){var r=this;"function"===typeof e?(0,Pe.default)((0,E.default)(n.prototype),"setState",this).call(this,(function(t,n){var a;r._inAsyncStateUpdate=!0;try{a=e(t,n)}catch(i){throw i}finally{r._inAsyncStateUpdate=!1}return a}),t):(0,Pe.default)((0,E.default)(n.prototype),"setState",this).call(this,e,t)}},{key:"_installSetStateHooks",value:function(){var e=this,t=this.props,n=this.state;Object.defineProperty(this,"props",{get:function(){return A()(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t},set:function(e){t=e}}),Object.defineProperty(this,"state",{get:function(){return A()(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n},set:function(e){n=e}})}}]),n}(w.PureComponent);function Be(e,t,n,r,a,i){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,a))return!0;var o=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,a);return 100*(e?o/a:o/i)>=t}const Ve=function(){function e(t){(0,m.default)(this,e),void 0===t&&(t={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=t}return(0,v.default)(e,[{key:"dispose",value:function(){this._timers.forEach(clearTimeout)}},{key:"computeViewableItems",value:function(e,t,n,r,a){var i=e.getItemCount(e.data),o=this._config,s=o.itemVisiblePercentThreshold,u=o.viewAreaCoveragePercentThreshold,l=null!=u,c=l?u:s;A()(null!=c&&null!=s!==(null!=u),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var d=[];if(0===i)return d;var f=-1,p=a||{first:0,last:i-1},h=p.first,m=p.last;if(m>=i)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:a,itemCount:i})),[];for(var v=h;v<=m;v++){var g=r(v,e);if(g){var y=g.offset-t,b=y+g.length;if(y<n&&b>0)f=v,Be(l,c,y,b,n,g.length)&&d.push(v);else if(f>=0)break}}return d}},{key:"onUpdate",value:function(e,t,n,r,a,i,o){var s=this,u=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==u&&r(0,e)){var l=[];if(u&&(l=this.computeViewableItems(e,t,n,r,o)),this._viewableIndices.length!==l.length||!this._viewableIndices.every((function(e,t){return e===l[t]})))if(this._viewableIndices=l,this._config.minimumViewTime){var c=setTimeout((function(){s._timers.delete(c),s._onUpdateSync(e,l,i,a)}),this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(e,l,i,a)}}},{key:"resetViewableIndices",value:function(){this._viewableIndices=[]}},{key:"recordInteraction",value:function(){this._hasInteracted=!0}},{key:"_onUpdateSync",value:function(e,t,n,r){var a=this;t=t.filter((function(e){return a._viewableIndices.includes(e)}));for(var i,o=this._viewableItems,s=new Map(t.map((function(t){var n=r(t,!0,e);return[n.key,n]}))),u=[],l=P(s);!(i=l()).done;){var c=i.value,d=c[0],f=c[1];o.has(d)||u.push(f)}for(var p,h=P(o);!(p=h()).done;){var m=p.value,v=m[0],g=m[1];s.has(v)||u.push((0,y.default)((0,y.default)({},g),{},{isViewable:!1}))}u.length>0&&(this._viewableItems=s,n({viewableItems:Array.from(s.values()),changed:u,viewabilityConfig:this._config}))}}]),e}();var Ue=w.createContext(null);function Ge(e){var t=e.children,n=e.value,r=(0,w.useMemo)((function(){return{cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return w.createElement(Ue.Provider,{value:r},t)}function We(e){var t=e.cellKey,n=e.children,r=(0,w.useContext)(Ue),a=(0,w.useMemo)((function(){return null==r?null:(0,y.default)((0,y.default)({},r),{},{cellKey:t})}),[r,t]);return w.createElement(Ue.Provider,{value:a},n)}function je(e){var t=qe();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function qe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(qe=function(){return!!e})()}var He=function(e){(0,S.default)(n,e);var t=je(n);function n(){var e;return(0,m.default)(this,n),(e=t.apply(this,arguments)).state={separatorProps:{highlighted:!1,leadingItem:e.props.item}},e._separators={highlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!0})},unhighlight:function(){var t=e.props,n=t.cellKey,r=t.prevCellKey;e.props.onUpdateSeparators([n,r],{highlighted:!1})},updateProps:function(t,n){var r=e.props,a=r.cellKey,i=r.prevCellKey;e.props.onUpdateSeparators(["leading"===t?i:a],n)}},e._onLayout=function(t){e.props.onCellLayout&&e.props.onCellLayout(t,e.props.cellKey,e.props.index)},e}return(0,v.default)(n,[{key:"updateSeparatorProps",value:function(e){this.setState((function(t){return{separatorProps:(0,y.default)((0,y.default)({},t.separatorProps),e)}}))}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.props.cellKey)}},{key:"_renderElement",value:function(e,t,n,r){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?w.createElement(t,{item:n,index:r,separators:this._separators}):e?e({item:n,index:r,separators:this._separators}):void A()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}},{key:"render",value:function(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.ListItemComponent,a=e.cellKey,i=e.horizontal,o=e.item,s=e.index,u=e.inversionStyle,l=e.onCellFocusCapture,c=e.onCellLayout,d=e.renderItem,f=this._renderElement(d,r,o,s),p=w.isValidElement(n)?n:n&&w.createElement(n,this.state.separatorProps),h=u?i?[Ke.rowReverse,u]:[Ke.columnReverse,u]:i?[Ke.row,u]:u,m=t?w.createElement(t,(0,k.default)({cellKey:a,index:s,item:o,style:h,onFocusCapture:l},c&&{onLayout:this._onLayout}),f,p):w.createElement(N.default,(0,k.default)({style:h,onFocusCapture:l},c&&{onLayout:this._onLayout}),f,p);return w.createElement(We,{cellKey:this.props.cellKey},m)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return{separatorProps:(0,y.default)((0,y.default)({},t.separatorProps),{},{leadingItem:e.item})}}}]),n}(w.Component),Ke=I.default.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}});function Xe(e,t,n,r,a,i){var o=e.getItemCount(e.data);if(0===o)return{first:0,last:-1};var s=i.offset,u=i.velocity,l=i.visibleLength,c=i.zoomScale,d=void 0===c?1:c,f=Math.max(0,s),p=f+l,h=(n-1)*l,m=u>1?"after":u<-1?"before":"none",v=Math.max(0,f-.5*h),g=Math.max(0,p+.5*h);if(a(o-1,e).offset*d<v)return{first:Math.max(0,o-1-t),last:o-1};var y=function(e,t,n,r){void 0===r&&(r=1);for(var a=t.getItemCount(t.data),i=[],o=0;o<e.length;o++)for(var s=e[o],u=0,l=a-1;u<=l;){var c=u+(l-u>>>1),d=n(c,t),f=d.offset*r,p=(d.offset+d.length)*r;if(0===c&&s<f||0!==c&&s<=f)l=c-1;else{if(!(s>p)){i[o]=c;break}u=c+1}}return i}([v,f,p,g],e,a,d),b=y[0],k=y[1],w=y[2],x=y[3];b=null==b?0:b,x=null==x?o-1:x;for(var S={first:k=null==k?Math.max(0,b):k,last:w=null==w?Math.min(x,k+t-1):w},T=function(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}(r,S);!(k<=b&&w>=x);){var E=T>=t,C=k<=r.first||k>r.last,N=k>b&&(!E||!C),I=w>=r.last||w<r.first,_=w<x&&(!E||!I);if(E&&!N&&!_)break;!N||"after"===m&&_&&I||(C&&T++,k--),!_||"before"===m&&N&&C||(I&&T++,w++)}if(!(w>=k&&k>=0&&w<o&&k>=b&&w<=x&&k<=S.first&&w>=S.last))throw new Error("Bad window calculation "+JSON.stringify({first:k,last:w,itemCount:o,overscanFirst:b,overscanLast:x,visible:S}));return{first:k,last:w}}function Ye(e,t){return"object"===typeof e&&null!=(null==e?void 0:e.key)?e.key:"object"===typeof e&&null!=(null==e?void 0:e.id)?e.id:String(t)}var Ze=n(6802),Qe=n.n(Ze);function Je(e){var t=et();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function et(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(et=function(){return!!e})()}var tt=!1,nt="";function rt(e){return null!==e&&void 0!==e&&e}function at(e){return null!==e&&void 0!==e?e:10}function it(e){return null!==e&&void 0!==e?e:2}function ot(e,t){return e*t/2}function st(e){return null!==e&&void 0!==e?e:21}var ut=function(e){(0,S.default)(n,e);var t=Je(n);function n(e){var r,a;if((0,m.default)(this,n),(r=t.call(this,e))._getScrollMetrics=function(){return r._scrollMetrics},r._getOutermostParentListRef=function(){return r._isNestedWithSameOrientation()?r.context.getOutermostParentListRef():(0,F.default)(r)},r._registerAsNestedChild=function(e){r._nestedChildLists.add(e.ref,e.cellKey),r._hasInteracted&&e.ref.recordInteraction()},r._unregisterAsNestedChild=function(e){r._nestedChildLists.remove(e.ref)},r._onUpdateSeparators=function(e,t){e.forEach((function(e){var n=null!=e&&r._cellRefs[e];n&&n.updateSeparatorProps(t)}))},r._getSpacerKey=function(e){return e?"height":"width"},r._averageCellLength=0,r._cellRefs={},r._frames={},r._footerLength=0,r._hasTriggeredInitialScrollToIndex=!1,r._hasInteracted=!1,r._hasMore=!1,r._hasWarned={},r._headerLength=0,r._hiPriInProgress=!1,r._highestMeasuredFrameIndex=0,r._indicesToKeys=new Map,r._lastFocusedCellKey=null,r._nestedChildLists=new Re,r._offsetFromParentVirtualizedList=0,r._prevParentOffset=0,r._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},r._scrollRef=null,r._sentStartForContentLength=0,r._sentEndForContentLength=0,r._totalCellLength=0,r._totalCellsMeasured=0,r._viewabilityTuples=[],r._captureScrollRef=function(e){r._scrollRef=e},r._defaultRenderScrollComponent=function(e){var t,n=e.onRefresh;return r._isNestedWithSameOrientation()?w.createElement(N.default,e):n?(A()("boolean"===typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:"undefined")+"`"),w.createElement(oe,(0,k.default)({},e,{refreshControl:null==e.refreshControl?w.createElement(L,{refreshing:e.refreshing,onRefresh:n,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):w.createElement(oe,e)},r._onCellLayout=function(e,t,n){var a=e.nativeEvent.layout,i={offset:r._selectOffset(a),length:r._selectLength(a),index:n,inLayout:!0},o=r._frames[t];o&&i.offset===o.offset&&i.length===o.length&&n===o.index?r._frames[t].inLayout=!0:(r._totalCellLength+=i.length-(o?o.length:0),r._totalCellsMeasured+=o?0:1,r._averageCellLength=r._totalCellLength/r._totalCellsMeasured,r._frames[t]=i,r._highestMeasuredFrameIndex=Math.max(r._highestMeasuredFrameIndex,n),r._scheduleCellsToRenderUpdate()),r._triggerRemeasureForChildListsInCell(t),r._computeBlankness(),r._updateViewableItems(r.props,r.state.cellsAroundViewport)},r._onCellUnmount=function(e){delete r._cellRefs[e];var t=r._frames[e];t&&(r._frames[e]=(0,y.default)((0,y.default)({},t),{},{inLayout:!1}))},r._onLayout=function(e){r._isNestedWithSameOrientation()?r.measureLayoutRelativeToContainingList():r._scrollMetrics.visibleLength=r._selectLength(e.nativeEvent.layout),r.props.onLayout&&r.props.onLayout(e),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEdgeReached()},r._onLayoutEmpty=function(e){r.props.onLayout&&r.props.onLayout(e)},r._onLayoutFooter=function(e){r._triggerRemeasureForChildListsInCell(r._getFooterCellKey()),r._footerLength=r._selectLength(e.nativeEvent.layout)},r._onLayoutHeader=function(e){r._headerLength=r._selectLength(e.nativeEvent.layout)},r._onContentSizeChange=function(e,t){e>0&&t>0&&null!=r.props.initialScrollIndex&&r.props.initialScrollIndex>0&&!r._hasTriggeredInitialScrollToIndex&&(null==r.props.contentOffset&&(r.props.initialScrollIndex<r.props.getItemCount(r.props.data)?r.scrollToIndex({animated:!1,index:Qe()(r.props.initialScrollIndex)}):r.scrollToEnd({animated:!1})),r._hasTriggeredInitialScrollToIndex=!0),r.props.onContentSizeChange&&r.props.onContentSizeChange(e,t),r._scrollMetrics.contentLength=r._selectLength({height:t,width:e}),r._scheduleCellsToRenderUpdate(),r._maybeCallOnEdgeReached()},r._convertParentScrollMetrics=function(e){var t=e.offset-r._offsetFromParentVirtualizedList,n=e.visibleLength,a=t-r._scrollMetrics.offset;return{visibleLength:n,contentLength:r._scrollMetrics.contentLength,offset:t,dOffset:a}},r._onScroll=function(e){r._nestedChildLists.forEach((function(t){t._onScroll(e)})),r.props.onScroll&&r.props.onScroll(e);var t=e.timeStamp,n=r._selectLength(e.nativeEvent.layoutMeasurement),a=r._selectLength(e.nativeEvent.contentSize),i=r._selectOffset(e.nativeEvent.contentOffset),o=i-r._scrollMetrics.offset;if(r._isNestedWithSameOrientation()){if(0===r._scrollMetrics.contentLength)return;var s=r._convertParentScrollMetrics({visibleLength:n,offset:i});n=s.visibleLength,a=s.contentLength,i=s.offset,o=s.dOffset}var u=r._scrollMetrics.timestamp?Math.max(1,t-r._scrollMetrics.timestamp):1,l=o/u;u>500&&r._scrollMetrics.dt>500&&a>5*n&&!r._hasWarned.perf&&(Ie("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:u,prevDt:r._scrollMetrics.dt,contentLength:a}),r._hasWarned.perf=!0);var c=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;r._scrollMetrics={contentLength:a,dt:u,dOffset:o,offset:i,timestamp:t,velocity:l,visibleLength:n,zoomScale:c},r._updateViewableItems(r.props,r.state.cellsAroundViewport),r.props&&(r._maybeCallOnEdgeReached(),0!==l&&r._fillRateHelper.activate(),r._computeBlankness(),r._scheduleCellsToRenderUpdate())},r._onScrollBeginDrag=function(e){r._nestedChildLists.forEach((function(t){t._onScrollBeginDrag(e)})),r._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),r._hasInteracted=!0,r.props.onScrollBeginDrag&&r.props.onScrollBeginDrag(e)},r._onScrollEndDrag=function(e){r._nestedChildLists.forEach((function(t){t._onScrollEndDrag(e)}));var t=e.nativeEvent.velocity;t&&(r._scrollMetrics.velocity=r._selectOffset(t)),r._computeBlankness(),r.props.onScrollEndDrag&&r.props.onScrollEndDrag(e)},r._onMomentumScrollBegin=function(e){r._nestedChildLists.forEach((function(t){t._onMomentumScrollBegin(e)})),r.props.onMomentumScrollBegin&&r.props.onMomentumScrollBegin(e)},r._onMomentumScrollEnd=function(e){r._nestedChildLists.forEach((function(t){t._onMomentumScrollEnd(e)})),r._scrollMetrics.velocity=0,r._computeBlankness(),r.props.onMomentumScrollEnd&&r.props.onMomentumScrollEnd(e)},r._updateCellsToRender=function(){r._updateViewableItems(r.props,r.state.cellsAroundViewport),r.setState((function(e,t){var a=r._adjustCellsAroundViewport(t,e.cellsAroundViewport),i=n._createRenderMask(t,a,r._getNonViewportRenderRegions(t));return a.first===e.cellsAroundViewport.first&&a.last===e.cellsAroundViewport.last&&i.equals(e.renderMask)?null:{cellsAroundViewport:a,renderMask:i}}))},r._createViewToken=function(e,t,n){var a=n.data,i=(0,n.getItem)(a,e);return{index:e,item:i,key:r._keyExtractor(i,e,n),isViewable:t}},r._getOffsetApprox=function(e,t){if(Number.isInteger(e))return r.__getFrameMetricsApprox(e,t).offset;var n=r.__getFrameMetricsApprox(Math.floor(e),t),a=e-Math.floor(e);return n.offset+a*n.length},r.__getFrameMetricsApprox=function(e,t){var n=r._getFrameMetrics(e,t);if(n&&n.index===e)return n;var a=t.data,i=t.getItemCount,o=t.getItemLayout;return A()(e>=0&&e<i(a),"Tried to get frame for out of range index "+e),A()(!o,"Should not have to estimate frames when a measurement metrics function is provided"),{length:r._averageCellLength,offset:r._averageCellLength*e}},r._getFrameMetrics=function(e,t){var n=t.data,a=t.getItem,i=t.getItemCount,o=t.getItemLayout;A()(e>=0&&e<i(n),"Tried to get frame for out of range index "+e);var s=a(n,e),u=r._frames[r._keyExtractor(s,e,t)];return u&&u.index===e||!o?u:o(n,e)},r._getNonViewportRenderRegions=function(e){if(!r._lastFocusedCellKey||!r._cellRefs[r._lastFocusedCellKey])return[];var t=r._cellRefs[r._lastFocusedCellKey].props.index,n=e.getItemCount(e.data);if(t>=n||r._keyExtractor(e.getItem(e.data,t),t,e)!==r._lastFocusedCellKey)return[];for(var a=t,i=0,o=a-1;o>=0&&i<r._scrollMetrics.visibleLength;o--)a--,i+=r.__getFrameMetricsApprox(o,e).length;for(var s=t,u=0,l=s+1;l<n&&u<r._scrollMetrics.visibleLength;l++)s++,u+=r.__getFrameMetricsApprox(l,e).length;return[{first:a,last:s}]},r._checkProps(e),r._fillRateHelper=new $e(r._getFrameMetrics),r._updateCellsToRenderBatcher=new Ee(r._updateCellsToRender,null!==(a=r.props.updateCellsBatchingPeriod)&&void 0!==a?a:50),r.props.viewabilityConfigCallbackPairs)r._viewabilityTuples=r.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityHelper:new Ve(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}}));else{var i=r.props,o=i.onViewableItemsChanged,s=i.viewabilityConfig;o&&r._viewabilityTuples.push({viewabilityHelper:new Ve(s),onViewableItemsChanged:o})}var u=n._initialRenderRegion(e);return r.state={cellsAroundViewport:u,renderMask:n._createRenderMask(e,u)},r.invertedWheelEventHandler=function(e){var t=r.props.horizontal?e.target.scrollLeft:e.target.scrollTop,n=r.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,a=r.props.horizontal?e.target.clientWidth:e.target.clientHeight,i=n>a,o=r.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,s=o;i&&(s=o<0?Math.min(o+t,0):Math.max(o-(n-a-t),0));var u=o-s;if(r.props.inverted&&r._scrollRef&&r._scrollRef.getScrollableNode){var l=r._scrollRef.getScrollableNode();if(r.props.horizontal){e.target.scrollLeft+=u;var c=l.scrollLeft-s;l.scrollLeft=r.props.getItemLayout?c:Math.min(c,r._totalCellLength)}else{e.target.scrollTop+=u;var d=l.scrollTop-s;l.scrollTop=r.props.getItemLayout?d:Math.min(d,r._totalCellLength)}e.preventDefault()}},r}return(0,v.default)(n,[{key:"scrollToEnd",value:function(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1;if(!(n<0)){var r=this.__getFrameMetricsApprox(n,this.props),a=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(rt(this.props.horizontal)?{x:a,animated:t}:{y:a,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}},{key:"scrollToIndex",value:function(e){var t=this.props,n=t.data,r=t.horizontal,a=t.getItemCount,i=t.getItemLayout,o=t.onScrollToIndexFailed,s=e.animated,u=e.index,l=e.viewOffset,c=e.viewPosition;if(A()(u>=0,"scrollToIndex out of range: requested index "+u+" but minimum is 0"),A()(a(n)>=1,"scrollToIndex out of range: item length "+a(n)+" but minimum is 1"),A()(u<a(n),"scrollToIndex out of range: requested index "+u+" is out of 0 to "+(a(n)-1)),!i&&u>this._highestMeasuredFrameIndex)return A()(!!o,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void o({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:u});var d=this.__getFrameMetricsApprox(Math.floor(u),this.props),f=Math.max(0,this._getOffsetApprox(u,this.props)-(c||0)*(this._scrollMetrics.visibleLength-d.length))-(l||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:f,animated:s}:{y:f,animated:s}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"scrollToItem",value:function(e){for(var t=e.item,n=this.props,r=n.data,a=n.getItem,i=(0,n.getItemCount)(r),o=0;o<i;o++)if(a(r,o)===t){this.scrollToIndex((0,y.default)((0,y.default)({},e),{},{index:o}));break}}},{key:"scrollToOffset",value:function(e){var t=e.animated,n=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(rt(this.props.horizontal)?{x:n,animated:t}:{y:n,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}},{key:"recordInteraction",value:function(){this._nestedChildLists.forEach((function(e){e.recordInteraction()})),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.recordInteraction()})),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}},{key:"flashScrollIndicators",value:function(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}},{key:"getScrollableNode",value:function(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}},{key:"getScrollRef",value:function(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}},{key:"_getCellKey",value:function(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}},{key:"hasMore",value:function(){return this._hasMore}},{key:"_checkProps",value:function(e){var t=e.onScroll,n=e.windowSize,r=e.getItemCount,a=e.data,i=e.initialScrollIndex;A()(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),A()(st(n)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),A()(r,'VirtualizedList: The "getItemCount" prop must be provided');var o=r(a);null==i||this._hasTriggeredInitialScrollToIndex||!(i<0||o>0&&i>=o)||this._hasWarned.initialScrollIndex||(console.warn('initialScrollIndex "'+i+'" is not valid (list has '+o+" items)"),this._hasWarned.initialScrollIndex=!0)}},{key:"_adjustCellsAroundViewport",value:function(e,t){var r,a=e.data,i=e.getItemCount,o=it(e.onEndReachedThreshold),s=this._scrollMetrics,u=s.contentLength,l=s.offset,c=s.visibleLength,d=u-c-l;if(c<=0||u<=0)return t.last>=i(a)?n._constrainToItemCount(t,e):t;if(e.disableVirtualization){var f=d<o*c?at(e.maxToRenderPerBatch):0;r={first:0,last:Math.min(t.last+f,i(a)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(d)>=Number.EPSILON)return t.last>=i(a)?n._constrainToItemCount(t,e):t;r=Xe(e,at(e.maxToRenderPerBatch),st(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),A()(r.last<i(a),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var p=this._findFirstChildWithMore(r.first,r.last);r.last=null!==p&&void 0!==p?p:r.last}return r}},{key:"_findFirstChildWithMore",value:function(e,t){for(var n=e;n<=t;n++){var r=this._indicesToKeys.get(n);if(null!=r&&this._nestedChildLists.anyInCell(r,(function(e){return e.hasMore()})))return n}return null}},{key:"componentDidMount",value:function(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}},{key:"componentWillUnmount",value:function(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.dispose()})),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}},{key:"setupWebWheelHandler",value:function(){var e=this;this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout((function(){return e.setupWebWheelHandler()}),50)}},{key:"teardownWebWheelHandler",value:function(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}},{key:"_pushCells",value:function(e,t,n,r,a,i){var o,s=this,u=this.props,l=u.CellRendererComponent,c=u.ItemSeparatorComponent,d=u.ListHeaderComponent,f=u.ListItemComponent,p=u.data,h=u.debug,m=u.getItem,v=u.getItemCount,g=u.getItemLayout,y=u.horizontal,b=u.renderItem,x=d?1:0,S=v(p)-1;a=Math.min(S,a);for(var T=function(){var r=m(p,E),a=s._keyExtractor(r,E,s.props);s._indicesToKeys.set(E,a),n.has(E+x)&&t.push(e.length);var u=null==g||h||s._fillRateHelper.enabled();e.push(w.createElement(He,(0,k.default)({CellRendererComponent:l,ItemSeparatorComponent:E<S?c:void 0,ListItemComponent:f,cellKey:a,horizontal:y,index:E,inversionStyle:i,item:r,key:a,prevCellKey:o,onUpdateSeparators:s._onUpdateSeparators,onCellFocusCapture:function(e){return s._onCellFocusCapture(a)},onUnmount:s._onCellUnmount,ref:function(e){s._cellRefs[a]=e},renderItem:b},u&&{onCellLayout:s._onCellLayout}))),o=a},E=r;E<=a;E++)T()}},{key:"_isNestedWithSameOrientation",value:function(){var e=this.context;return!(!e||!!e.horizontal!==rt(this.props.horizontal))}},{key:"_keyExtractor",value:function(e,t,n){if(null!=n.keyExtractor)return n.keyExtractor(e,t);var r=Ye(e,t);return r===String(t)&&(tt=!0,e.type&&e.type.displayName&&(nt=e.type.displayName)),r}},{key:"render",value:function(){var e=this;this._checkProps(this.props);var t=this.props,n=t.ListEmptyComponent,r=t.ListFooterComponent,a=t.ListHeaderComponent,i=this.props,o=i.data,s=i.horizontal,u=this.props.inverted?rt(this.props.horizontal)?lt.horizontallyInverted:lt.verticallyInverted:null,l=[],c=new Set(this.props.stickyHeaderIndices),d=[];if(a){c.has(0)&&d.push(0);var f=w.isValidElement(a)?a:w.createElement(a,null);l.push(w.createElement(We,{cellKey:this._getCellKey()+"-header",key:"$header"},w.createElement(N.default,{onLayout:this._onLayoutHeader,style:[u,this.props.ListHeaderComponentStyle]},f)))}var p=this.props.getItemCount(o);if(0===p&&n){var h=w.isValidElement(n)?n:w.createElement(n,null);l.push(w.createElement(We,{cellKey:this._getCellKey()+"-empty",key:"$empty"},w.cloneElement(h,{onLayout:function(t){e._onLayoutEmpty(t),h.props.onLayout&&h.props.onLayout(t)},style:[u,h.props.style]})))}if(p>0){tt=!1,nt="";for(var m,v=this._getSpacerKey(!s),g=this.state.renderMask.enumerateRegions(),b=function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}(g,(function(e){return e.isSpacer})),k=P(g);!(m=k()).done;){var x=m.value;if(x.isSpacer){if(this.props.disableVirtualization)continue;var S=x===b&&!this.props.getItemLayout?Ne()(x.first-1,x.last,this._highestMeasuredFrameIndex):x.last,T=this.__getFrameMetricsApprox(x.first,this.props),E=this.__getFrameMetricsApprox(S,this.props),C=E.offset+E.length-T.offset;l.push(w.createElement(N.default,{key:"$spacer-"+x.first,style:(0,D.default)({},v,C)}))}else this._pushCells(l,d,c,x.first,x.last,u)}!this._hasWarned.keys&&tt&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",nt),this._hasWarned.keys=!0)}if(r){var I=w.isValidElement(r)?r:w.createElement(r,null);l.push(w.createElement(We,{cellKey:this._getFooterCellKey(),key:"$footer"},w.createElement(N.default,{onLayout:this._onLayoutFooter,style:[u,this.props.ListFooterComponentStyle]},I)))}var _,R=(0,y.default)((0,y.default)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(_=this.props.scrollEventThrottle,null!==_&&void 0!==_?_:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:d,style:u?[u,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<p-1;var A=w.createElement(Ge,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:rt(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},w.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(R),{ref:this._captureScrollRef},l));return this.props.debug?w.createElement(N.default,{style:lt.debug},A,this._renderDebugOverlay()):A}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||this._viewabilityTuples.forEach((function(e){e.viewabilityHelper.resetViewableIndices()}));var a=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),a&&(this._hiPriInProgress=!1)}},{key:"_computeBlankness",value:function(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}},{key:"_onCellFocusCapture",value:function(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}},{key:"_triggerRemeasureForChildListsInCell",value:function(e){this._nestedChildLists.forEachInCell(e,(function(e){e.measureLayoutRelativeToContainingList()}))}},{key:"measureLayoutRelativeToContainingList",value:function(){var e=this;try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(function(t,n,r,a){e._offsetFromParentVirtualizedList=e._selectOffset({x:t,y:n}),e._scrollMetrics.contentLength=e._selectLength({width:r,height:a});var i=e._convertParentScrollMetrics(e.context.getScrollMetrics());(e._scrollMetrics.visibleLength!==i.visibleLength||e._scrollMetrics.offset!==i.offset)&&(e._scrollMetrics.visibleLength=i.visibleLength,e._scrollMetrics.offset=i.offset,e._nestedChildLists.forEach((function(e){e.measureLayoutRelativeToContainingList()})))}),(function(e){console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")}))}catch(t){console.warn("measureLayoutRelativeToContainingList threw an error",t.stack)}}},{key:"_getFooterCellKey",value:function(){return this._getCellKey()+"-footer"}},{key:"_renderDebugOverlay",value:function(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var a=this.__getFrameMetricsApprox(r,this.props);a.inLayout&&t.push(a)}var i=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),s=o.offset+o.length-i,u=this._scrollMetrics.offset,l=this._scrollMetrics.visibleLength;return w.createElement(N.default,{style:[lt.debugOverlayBase,lt.debugOverlay]},t.map((function(t,n){return w.createElement(N.default,{key:"f"+n,style:[lt.debugOverlayBase,lt.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})})),w.createElement(N.default,{style:[lt.debugOverlayBase,lt.debugOverlayFrameLast,{top:i*e,height:s*e}]}),w.createElement(N.default,{style:[lt.debugOverlayBase,lt.debugOverlayFrameVis,{top:u*e,height:l*e}]}))}},{key:"_selectLength",value:function(e){return rt(this.props.horizontal)?e.width:e.height}},{key:"_selectOffset",value:function(e){return rt(this.props.horizontal)?e.x:e.y}},{key:"_maybeCallOnEdgeReached",value:function(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onStartReached,a=e.onStartReachedThreshold,i=e.onEndReached,o=e.onEndReachedThreshold,s=e.initialScrollIndex,u=this._scrollMetrics,l=u.contentLength,c=u.visibleLength,d=u.offset,f=d,p=l-c-d;f<.001&&(f=0),p<.001&&(p=0);var h=f<=(null!=a?a*c:2),m=p<=(null!=o?o*c:2);i&&this.state.cellsAroundViewport.last===n(t)-1&&m&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,i({distanceFromEnd:p})):null!=r&&0===this.state.cellsAroundViewport.first&&h&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?s&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:f})):(this._sentStartForContentLength=h?this._sentStartForContentLength:0,this._sentEndForContentLength=m?this._sentEndForContentLength:0)}},{key:"_scheduleCellsToRenderUpdate",value:function(){var e=this.state.cellsAroundViewport,t=e.first,n=e.last,r=this._scrollMetrics,a=r.offset,i=r.visibleLength,o=r.velocity,s=this.props.getItemCount(this.props.data),u=!1,l=function(e){return null!==e&&void 0!==e?e:2}(this.props.onStartReachedThreshold),c=it(this.props.onEndReachedThreshold);if(t>0){var d=a-this.__getFrameMetricsApprox(t,this.props).offset;u=d<0||o<-2&&d<ot(l,i)}if(!u&&n>=0&&n<s-1){var f=this.__getFrameMetricsApprox(n,this.props).offset-(a+i);u=f<0||o>2&&f<ot(c,i)}if(u&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}},{key:"_updateViewableItems",value:function(e,t){var n=this;this._viewabilityTuples.forEach((function(r){r.viewabilityHelper.onUpdate(e,n._scrollMetrics.offset,n._scrollMetrics.visibleLength,n._getFrameMetrics,n._createViewToken,r.onViewableItemsChanged,t)}))}}],[{key:"_createRenderMask",value:function(e,t,r){var a=e.getItemCount(e.data);A()(t.first>=0&&t.last>=t.first-1&&t.last<a,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var i=new _e(a);if(a>0){for(var o=0,s=[t].concat((0,O.default)(null!==r&&void 0!==r?r:[]));o<s.length;o++){var u=s[o];i.addCells(u)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var l=n._initialRenderRegion(e);i.addCells(l)}var c=new Set(e.stickyHeaderIndices);n._ensureClosestStickyHeader(e,c,i,t.first)}return i}},{key:"_initialRenderRegion",value:function(e){var t,n,r=e.getItemCount(e.data),a=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:a,last:Math.min(r,a+(null!==(n=e.initialNumToRender)&&void 0!==n?n:10))-1}}},{key:"_ensureClosestStickyHeader",value:function(e,t,n,r){for(var a=e.ListHeaderComponent?1:0,i=r-1;i>=0;i--)if(t.has(i+a)){n.addCells({first:i,last:i});break}}},{key:"getDerivedStateFromProps",value:function(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var r=n._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:r,renderMask:n._createRenderMask(e,r)}}},{key:"_constrainToItemCount",value:function(e,t){var n=t.getItemCount(t.data),r=Math.min(n-1,e.last),a=at(t.maxToRenderPerBatch);return{first:Ne()(0,n-1-a,e.first),last:r}}}]),n}(ze);ut.contextType=Ue;var lt=I.default.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const ct=ut;var dt=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function ft(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],a=t[n],!(r===a||dt(r)&&dt(a)))return!1;var r,a;return!0}function pt(e){var t=ht();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function ht(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ht=function(){return!!e})()}var mt=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function vt(e){return null!==e&&void 0!==e?e:1}var gt=function(e){(0,S.default)(n,e);var t=pt(n);function n(e){var r;return(0,m.default)(this,n),(r=t.call(this,e))._virtualizedListPairs=[],r._captureRef=function(e){r._listRef=e},r._getItem=function(e,t){var n=vt(r.props.numColumns);if(n>1){for(var a=[],i=0;i<n;i++){var o=t*n+i;if(o<e.length){var s=e[o];a.push(s)}}return a}return e[t]},r._getItemCount=function(e){if(null!=e&&function(e){return"number"===typeof Object(e).length}(e)){var t=vt(r.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},r._keyExtractor=function(e,t){var n,a=vt(r.props.numColumns),i=null!==(n=r.props.keyExtractor)&&void 0!==n?n:Ye;return a>1?(A()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",a),e.map((function(e,n){return i(e,t*a+n)})).join(":")):i(e,t)},r._renderer=function(e,t,n,r,a){var i=vt(r),o=function(n){return e?w.createElement(e,n):t?t(n):null},s=function(e){if(i>1){var t=e.item,r=e.index;return A()(Array.isArray(t),"Expected array of items with numColumns > 1"),w.createElement(N.default,{style:[yt.row,n]},t.map((function(t,n){var a=o({item:t,index:r*i+n,separators:e.separators});return null!=a?w.createElement(w.Fragment,{key:n},a):null})))}return o(e)};return e?{ListItemComponent:s}:{renderItem:s}},r._memoizedRenderer=function(e,t){void 0===t&&(t=ft);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}(r._renderer),r._checkProps(r.props),r.props.viewabilityConfigCallbackPairs?r._virtualizedListPairs=r.props.viewabilityConfigCallbackPairs.map((function(e){return{viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:r._createOnViewableItemsChanged(e.onViewableItemsChanged)}})):r.props.onViewableItemsChanged&&r._virtualizedListPairs.push({viewabilityConfig:r.props.viewabilityConfig,onViewableItemsChanged:r._createOnViewableItemsChanged(r.props.onViewableItemsChanged)}),r}return(0,v.default)(n,[{key:"scrollToEnd",value:function(e){this._listRef&&this._listRef.scrollToEnd(e)}},{key:"scrollToIndex",value:function(e){this._listRef&&this._listRef.scrollToIndex(e)}},{key:"scrollToItem",value:function(e){this._listRef&&this._listRef.scrollToItem(e)}},{key:"scrollToOffset",value:function(e){this._listRef&&this._listRef.scrollToOffset(e)}},{key:"recordInteraction",value:function(){this._listRef&&this._listRef.recordInteraction()}},{key:"flashScrollIndicators",value:function(){this._listRef&&this._listRef.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){if(this._listRef)return this._listRef.getScrollResponder()}},{key:"getNativeScrollRef",value:function(){if(this._listRef)return this._listRef.getScrollRef()}},{key:"getScrollableNode",value:function(){if(this._listRef)return this._listRef.getScrollableNode()}},{key:"componentDidUpdate",value:function(e){A()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),A()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),A()(!_(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),A()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}},{key:"_checkProps",value:function(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,a=e.columnWrapperStyle,i=e.onViewableItemsChanged,o=e.viewabilityConfigCallbackPairs,s=vt(this.props.numColumns);A()(!t&&!n,"FlatList does not support custom data formats."),s>1?A()(!r,"numColumns does not support horizontal."):A()(!a,"columnWrapperStyle not supported for single column lists"),A()(!(i&&o),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}},{key:"_pushMultiColumnViewable",value:function(e,t){var n,r=vt(this.props.numColumns),a=null!==(n=this.props.keyExtractor)&&void 0!==n?n:Ye;t.item.forEach((function(n,i){A()(null!=t.index,"Missing index!");var o=t.index*r+i;e.push((0,y.default)((0,y.default)({},t),{},{item:n,key:a(n,o),index:o}))}))}},{key:"_createOnViewableItemsChanged",value:function(e){var t=this;return function(n){var r=vt(t.props.numColumns);if(e)if(r>1){var a=[],i=[];n.viewableItems.forEach((function(e){return t._pushMultiColumnViewable(i,e)})),n.changed.forEach((function(e){return t._pushMultiColumnViewable(a,e)})),e({viewableItems:i,changed:a})}else e(n)}}},{key:"render",value:function(){var e,t=this.props,n=t.numColumns,r=t.columnWrapperStyle,a=t.removeClippedSubviews,i=t.strictMode,o=void 0!==i&&i,s=(0,C.default)(t,mt),u=o?this._memoizedRenderer:this._renderer;return w.createElement(ct,(0,k.default)({},s,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=a,null!==e&&void 0!==e?e:"android"===b.default.OS)},u(this.props.ListItemComponent,this.props.renderItem,r,n,this.props.extraData)))}}]),n}(w.PureComponent),yt=I.default.create({row:{flexDirection:"row"}});const bt=gt;var kt=n(3676);const wt=b.default;const xt={isLayoutAnimationEnabled:function(){return!0},shouldEmitW3CPointerEvents:function(){return!1},shouldPressibilityUseW3CPointerEventsForHover:function(){return!1},animatedShouldDebounceQueueFlush:function(){return!1},animatedShouldUseSingleOp:function(){return!1}};var St,Tt=("ios"===wt.OS&&n.g.RN$Bridgeless,null),Et=1,Ct=1,Nt=new Set,It=!1,_t=[];"android"===wt.OS&&null!=Tt&&Tt.queueAndExecuteBatchedOperations&&xt.animatedShouldUseSingleOp();var Rt=null,At=Tt,Ot={getValue:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.getValue,e,t)},setWaitingForIdentifier:function(e){Nt.add(e),It=!0,xt.animatedShouldDebounceQueueFlush()&&Rt&&clearTimeout(Rt)},unsetWaitingForIdentifier:function(e){Nt.delete(e),0===Nt.size&&(It=!1,Ot.disableQueue())},disableQueue:function(){(A()(At,"Native animated module is not available"),xt.animatedShouldDebounceQueueFlush())?(clearImmediate(Rt),Rt=setImmediate(Ot.flushQueue)):Ot.flushQueue()},flushQueue:function(){},queueOperation:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];It||0!==_t.length?_t.push((function(){return e.apply(void 0,n)})):e.apply(void 0,n)},createAnimatedNode:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.createAnimatedNode,e,t)},updateAnimatedNodeConfig:function(e,t){A()(At,"Native animated module is not available")},startListeningToAnimatedNodeValue:function(e){A()(At,"Native animated module is not available"),Ot.queueOperation(At.startListeningToAnimatedNodeValue,e)},stopListeningToAnimatedNodeValue:function(e){A()(At,"Native animated module is not available"),Ot.queueOperation(At.stopListeningToAnimatedNodeValue,e)},connectAnimatedNodes:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.connectAnimatedNodes,e,t)},disconnectAnimatedNodes:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.disconnectAnimatedNodes,e,t)},startAnimatingNode:function(e,t,n,r){A()(At,"Native animated module is not available"),Ot.queueOperation(At.startAnimatingNode,e,t,n,r)},stopAnimation:function(e){A()(At,"Native animated module is not available"),Ot.queueOperation(At.stopAnimation,e)},setAnimatedNodeValue:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.setAnimatedNodeValue,e,t)},setAnimatedNodeOffset:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.setAnimatedNodeOffset,e,t)},flattenAnimatedNodeOffset:function(e){A()(At,"Native animated module is not available"),Ot.queueOperation(At.flattenAnimatedNodeOffset,e)},extractAnimatedNodeOffset:function(e){A()(At,"Native animated module is not available"),Ot.queueOperation(At.extractAnimatedNodeOffset,e)},connectAnimatedNodeToView:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.connectAnimatedNodeToView,e,t)},disconnectAnimatedNodeFromView:function(e,t){A()(At,"Native animated module is not available"),Ot.queueOperation(At.disconnectAnimatedNodeFromView,e,t)},restoreDefaultValues:function(e){A()(At,"Native animated module is not available"),null!=At.restoreDefaultValues&&Ot.queueOperation(At.restoreDefaultValues,e)},dropAnimatedNode:function(e){A()(At,"Native animated module is not available"),Ot.queueOperation(At.dropAnimatedNode,e)},addAnimatedEventToView:function(e,t,n){A()(At,"Native animated module is not available"),Ot.queueOperation(At.addAnimatedEventToView,e,t,n)},removeAnimatedEventFromView:function(e,t,n){A()(At,"Native animated module is not available"),Ot.queueOperation(At.removeAnimatedEventFromView,e,t,n)}};var Dt={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},Ft=(0,y.default)((0,y.default)({},Dt),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),$t={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},Pt={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function Mt(e){return Ft.hasOwnProperty(e)}function Lt(e){return $t.hasOwnProperty(e)}function zt(e){return Pt.hasOwnProperty(e)}function Bt(){return Ct++}var Vt=!1;function Ut(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0!==e.useNativeDriver||Tt?e.useNativeDriver||!1:(Vt||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),Vt=!0),!1)}const Gt={API:Ot,isSupportedColorStyleProp:function(e){return Dt.hasOwnProperty(e)},isSupportedStyleProp:Mt,isSupportedTransformProp:Lt,isSupportedInterpolationParam:zt,addWhitelistedStyleProp:function(e){Ft[e]=!0},addWhitelistedTransformProp:function(e){$t[e]=!0},addWhitelistedInterpolationParam:function(e){Pt[e]=!0},validateStyles:function(e){for(var t in e)if(!Mt(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach((function(e){if(!Lt(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")}))},validateInterpolation:function(e){for(var t in e)if(!zt(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return Et++},generateNewAnimationId:Bt,assertNativeAnimatedModule:function(){A()(Tt,"Native animated module is not available")},shouldUseNativeDriver:Ut,transformDataType:function(e){return"string"!==typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e},get nativeEventEmitter(){return St||(St=new kt.default("ios"!==wt.OS?null:Tt)),St}};var Wt=Gt.API,jt=1,qt=function(){function e(){(0,m.default)(this,e),this._listeners={}}return(0,v.default)(e,[{key:"__attach",value:function(){}},{key:"__detach",value:function(){this.__isNative&&null!=this.__nativeTag&&(Gt.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}},{key:"__getValue",value:function(){}},{key:"__getAnimatedValue",value:function(){return this.__getValue()}},{key:"__addChild",value:function(e){}},{key:"__removeChild",value:function(e){}},{key:"__getChildren",value:function(){return[]}},{key:"__makeNative",value:function(e){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=e,this.hasListeners()&&this._startListeningToNativeValueUpdates()}},{key:"addListener",value:function(e){var t=String(jt++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}},{key:"removeListener",value:function(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}},{key:"removeAllListeners",value:function(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}},{key:"hasListeners",value:function(){return!!Object.keys(this._listeners).length}},{key:"_startListeningToNativeValueUpdates",value:function(){var e=this;this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),Wt.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=Gt.nativeEventEmitter.addListener("onAnimatedValueUpdate",(function(t){t.tag===e.__getNativeTag()&&e.__onAnimatedValueUpdateReceived(t.value)})))}},{key:"__onAnimatedValueUpdateReceived",value:function(e){this.__callListeners(e)}},{key:"__callListeners",value:function(e){for(var t in this._listeners)this._listeners[t]({value:e})}},{key:"_stopListeningForNativeValueUpdates",value:function(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,Wt.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}},{key:"__getNativeTag",value:function(){var e;Gt.assertNativeAnimatedModule(),A()(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t=null!==(e=this.__nativeTag)&&void 0!==e?e:Gt.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=t;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),Gt.API.createAnimatedNode(t,n),this.__shouldUpdateListenersForNewNativeTag=!0}return t}},{key:"__getNativeConfig",value:function(){throw new Error("This JS animated node type cannot be used as native animated node")}},{key:"toJSON",value:function(){return this.__getValue()}},{key:"__getPlatformConfig",value:function(){return this._platformConfig}},{key:"__setPlatformConfig",value:function(e){this._platformConfig=e}}]),e}();const Ht=qt;function Kt(e){var t=Xt();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Xt(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Xt=function(){return!!e})()}const Yt=function(e){(0,S.default)(n,e);var t=Kt(n);function n(){var e;return(0,m.default)(this,n),(e=t.call(this))._children=[],e}return(0,v.default)(n,[{key:"__makeNative",value:function(e){if(!this.__isNative){this.__isNative=!0;for(var t,r=P(this._children);!(t=r()).done;){var a=t.value;a.__makeNative(e),Gt.API.connectAnimatedNodes(this.__getNativeTag(),a.__getNativeTag())}}(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__addChild",value:function(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(this.__getPlatformConfig()),Gt.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}},{key:"__removeChild",value:function(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&Gt.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}},{key:"__getChildren",value:function(){return this._children}},{key:"__callListeners",value:function(e){if((0,Pe.default)((0,E.default)(n.prototype),"__callListeners",this).call(this,e),!this.__isNative)for(var t,r=P(this._children);!(t=r()).done;){var a=t.value;a.__getValue&&a.__callListeners(a.__getValue())}}}]),n}(Ht);var Zt=n(7098),Qt=n.n(Zt);function Jt(e){var t=en();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function en(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(en=function(){return!!e})()}var tn=!1,nn=function(e){return e};function rn(e){if(e.outputRange&&"string"===typeof e.outputRange[0])return function(e){var t=e.outputRange;A()(t.length>=2,"Bad output range"),t=t.map(an),function(e){for(var t=e[0].replace(on,""),n=1;n<e.length;++n)A()(t===e[n].replace(on,""),"invalid pattern "+e[0]+" and "+e[n])}(t);var n=t[0].match(on).map((function(){return[]}));t.forEach((function(e){e.match(on).forEach((function(e,t){n[t].push(+e)}))}));var r=t[0].match(on).map((function(t,r){return rn((0,y.default)((0,y.default)({},e),{},{outputRange:n[r]}))})),a=(i=t[0],"string"===typeof i&&i.startsWith("rgb"));var i;return function(e){var n=0;return t[0].replace(on,(function(){var t=+r[n++](e);return a&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)}))}}(e);var t=e.outputRange,n=e.inputRange;tn&&(sn("outputRange",t),sn("inputRange",n),function(e){A()(e.length>=2,"inputRange must have at least 2 elements");for(var t="inputRange must be monotonically non-decreasing "+String(e),n=1;n<e.length;++n)A()(e[n]>=e[n-1],t)}(n),A()(n.length===t.length,"inputRange ("+n.length+") and outputRange ("+t.length+") must have the same length"));var r=e.easing||nn,a="extend";void 0!==e.extrapolateLeft?a=e.extrapolateLeft:void 0!==e.extrapolate&&(a=e.extrapolate);var i="extend";return void 0!==e.extrapolateRight?i=e.extrapolateRight:void 0!==e.extrapolate&&(i=e.extrapolate),function(e){A()("number"===typeof e,"Cannot interpolation an input which is not a number");var o=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,a,i,o,s){var u=e;if(u<t){if("identity"===o)return u;"clamp"===o&&(u=t)}if(u>n){if("identity"===s)return u;"clamp"===s&&(u=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?u=-u:n===1/0?u-=t:u=(u-t)/(n-t);u=i(u),r===-1/0?u=-u:a===1/0?u+=r:u=u*(a-r)+r;return u}(e,n[o],n[o+1],t[o],t[o+1],r,a,i)}}function an(e){var t=Qt()(e);return null===t||"number"!==typeof t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var on=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;function sn(e,t){A()(t.length>=2,e+" must have at least 2 elements"),A()(2!==t.length||t[0]!==-1/0||t[1]!==1/0,e+"cannot be ]-infinity;+infinity[ "+t)}var un=function(e){(0,S.default)(n,e);var t=Jt(n);function n(e,r){var a;return(0,m.default)(this,n),(a=t.call(this))._parent=e,a._config=r,a._interpolation=rn(r),a}return(0,v.default)(n,[{key:"__makeNative",value:function(e){this._parent.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){var e=this._parent.__getValue();return A()("number"===typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)}},{key:"interpolate",value:function(e){return new n(this,e)}},{key:"__attach",value:function(){this._parent.__addChild(this)}},{key:"__detach",value:function(){this._parent.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__transformDataType",value:function(e){return e.map(Gt.transformDataType)}},{key:"__getNativeConfig",value:function(){return tn&&Gt.validateInterpolation(this._config),{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}]),n}(Yt);un.__createInterpolation=rn;const ln=un;function cn(e){var t=dn();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function dn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dn=function(){return!!e})()}var fn=Gt.API;var pn=function(e){(0,S.default)(n,e);var t=cn(n);function n(e,r){var a;if((0,m.default)(this,n),a=t.call(this),"number"!==typeof e)throw new Error("AnimatedValue: Attempting to set value to undefined");return a._startingValue=a._value=e,a._offset=0,a._animation=null,r&&r.useNativeDriver&&a.__makeNative(),a}return(0,v.default)(n,[{key:"__detach",value:function(){var e=this;this.__isNative&&fn.getValue(this.__getNativeTag(),(function(t){e._value=t-e._offset})),this.stopAnimation(),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getValue",value:function(){return this._value+this._offset}},{key:"setValue",value:function(e){var t=this;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&function(e,t){fn.setWaitingForIdentifier(e),t(),fn.unsetWaitingForIdentifier(e)}(this.__getNativeTag().toString(),(function(){return fn.setAnimatedNodeValue(t.__getNativeTag(),e)}))}},{key:"setOffset",value:function(e){this._offset=e,this.__isNative&&fn.setAnimatedNodeOffset(this.__getNativeTag(),e)}},{key:"flattenOffset",value:function(){this._value+=this._offset,this._offset=0,this.__isNative&&fn.flattenAnimatedNodeOffset(this.__getNativeTag())}},{key:"extractOffset",value:function(){this._offset+=this._value,this._value=0,this.__isNative&&fn.extractAnimatedNodeOffset(this.__getNativeTag())}},{key:"stopAnimation",value:function(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&(this.__isNative?fn.getValue(this.__getNativeTag(),e):e(this.__getValue()))}},{key:"resetAnimation",value:function(e){this.stopAnimation(e),this._value=this._startingValue,this.__isNative&&fn.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}},{key:"__onAnimatedValueUpdateReceived",value:function(e){this._updateValue(e,!1)}},{key:"interpolate",value:function(e){return new ln(this,e)}},{key:"animate",value:function(e,t){var n=this,r=null;e.__isInteraction&&(r=Te.createInteractionHandle());var a=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,(function(e){n._updateValue(e,!0)}),(function(e){n._animation=null,null!==r&&Te.clearInteractionHandle(r),t&&t(e)}),a,this)}},{key:"stopTracking",value:function(){this._tracking&&this._tracking.__detach(),this._tracking=null}},{key:"track",value:function(e){this.stopTracking(),this._tracking=e,this._tracking&&this._tracking.update()}},{key:"_updateValue",value:function(e,t){if(void 0===e)throw new Error("AnimatedValue: Attempting to set value to undefined");this._value=e,t&&function(e){var t=new Set;!function e(n){"function"===typeof n.update?t.add(n):n.__getChildren().forEach(e)}(e),t.forEach((function(e){return e.update()}))}(this),(0,Pe.default)((0,E.default)(n.prototype),"__callListeners",this).call(this,this.__getValue())}},{key:"__getNativeConfig",value:function(){return{type:"value",value:this._value,offset:this._offset}}}]),n}(Yt);const hn=pn;function mn(e,t,n){var r=[];return A()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),function e(t,n){if(t instanceof hn)t.__makeNative(),r.push({nativeEventPath:n,animatedValueTag:t.__getNativeTag()});else if("object"===typeof t)for(var a in t)e(t[a],n.concat(a))}(n[0].nativeEvent,[]),null!=e&&r.forEach((function(n){Gt.API.addAnimatedEventToView(e,t,n)})),{detach:function(){null!=e&&r.forEach((function(n){Gt.API.removeAnimatedEventFromView(e,t,n.animatedValueTag)}))}}}var vn=function(){function e(t,n){(0,m.default)(this,e),this._listeners=[],this._argMapping=t,null==n&&(console.warn("Animated.event now requires a second argument for options"),n={useNativeDriver:!1}),n.listener&&this.__addListener(n.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=Ut(n)}return(0,v.default)(e,[{key:"__addListener",value:function(e){this._listeners.push(e)}},{key:"__removeListener",value:function(e){this._listeners=this._listeners.filter((function(t){return t!==e}))}},{key:"__attach",value:function(e,t){A()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=mn(e,t,this._argMapping)}},{key:"__detach",value:function(e,t){A()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}},{key:"__getHandler",value:function(){var e=this;if(this.__isNative)return this._callListeners;return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=function e(t,n,r){if(t instanceof hn)"number"===typeof n&&t.setValue(n);else if("object"===typeof t)for(var a in t)e(t[a],n[a],a)};e._argMapping.forEach((function(e,t){a(e,n[t])})),e._callListeners.apply(e,n)}}},{key:"_callListeners",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach((function(e){return e.apply(void 0,t)}))}}]),e}();function gn(e){var t=yn();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function yn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yn=function(){return!!e})()}const bn=function(e){(0,S.default)(n,e);var t=gn(n);function n(e){var r;return(0,m.default)(this,n),(r=t.call(this))._transforms=e,r}return(0,v.default)(n,[{key:"__makeNative",value:function(){this._transforms.forEach((function(e){for(var t in e){var n=e[t];n instanceof Ht&&n.__makeNative()}})),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this)}},{key:"__getValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof Ht?r.__getValue():r}return t}))}},{key:"__getAnimatedValue",value:function(){return this._transforms.map((function(e){var t={};for(var n in e){var r=e[n];t[n]=r instanceof Ht?r.__getAnimatedValue():r}return t}))}},{key:"__attach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Ht&&r.__addChild(e)}}))}},{key:"__detach",value:function(){var e=this;this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Ht&&r.__removeChild(e)}})),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){var e=[];return this._transforms.forEach((function(t){for(var n in t){var r=t[n];r instanceof Ht?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:Gt.transformDataType(r)})}})),Gt.validateTransform(e),{type:"transform",transforms:e}}}]),n}(Yt);function kn(e){var t=wn();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function wn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wn=function(){return!!e})()}var xn=I.default.flatten;function Sn(e){var t=xn(e),n={};for(var r in t){var a=t[r];"transform"===r&&Array.isArray(a)?n[r]=new bn(a):a instanceof Ht?n[r]=a:a&&!Array.isArray(a)&&"object"===typeof a&&(n[r]=Sn(a))}return n}const Tn=function(e){(0,S.default)(n,e);var t=kn(n);function n(e){var r;return(0,m.default)(this,n),(r=t.call(this))._inputStyle=e,r._style=Sn(e),r}return(0,v.default)(n,[{key:"_walkStyleAndGetValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof Ht?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"===typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t}},{key:"__getValue",value:function(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}},{key:"_walkStyleAndGetAnimatedValues",value:function(e){var t={};for(var n in e){var r=e[n];r instanceof Ht?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"===typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t}},{key:"__getAnimatedValue",value:function(){return this._walkStyleAndGetAnimatedValues(this._style)}},{key:"__attach",value:function(){for(var e in this._style){var t=this._style[e];t instanceof Ht&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this._style){var t=this._style[e];t instanceof Ht&&t.__removeChild(this)}(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(){for(var e in this._style){var t=this._style[e];t instanceof Ht&&t.__makeNative()}(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this)}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._style)if(this._style[t]instanceof Ht){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return Gt.validateStyles(e),{type:"style",style:e}}}]),n}(Yt);function En(e){var t=Cn();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Cn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Cn=function(){return!!e})()}const Nn=function(e){(0,S.default)(n,e);var t=En(n);function n(e,r){var a;return(0,m.default)(this,n),a=t.call(this),e.style&&(e=(0,y.default)((0,y.default)({},e),{},{style:new Tn(e.style)})),a._props=e,a._callback=r,a.__attach(),a}return(0,v.default)(n,[{key:"__getValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Ht?(!n.__isNative||n instanceof Tn)&&(e[t]=n.__getValue()):e[t]=n instanceof vn?n.__getHandler():n}return e}},{key:"__getAnimatedValue",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Ht&&(e[t]=n.__getAnimatedValue())}return e}},{key:"__attach",value:function(){for(var e in this._props){var t=this._props[e];t instanceof Ht&&t.__addChild(this)}}},{key:"__detach",value:function(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._props){var t=this._props[e];t instanceof Ht&&t.__removeChild(this)}(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._callback()}},{key:"__makeNative",value:function(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof Ht&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}},{key:"setNativeView",value:function(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}},{key:"__connectAnimatedView",value:function(){A()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;A()(null!=e,"Unable to locate attached view in the native tree"),Gt.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}},{key:"__disconnectAnimatedView",value:function(){A()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;A()(null!=e,"Unable to locate attached view in the native tree"),Gt.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}},{key:"__restoreDefaultValues",value:function(){this.__isNative&&Gt.API.restoreDefaultValues(this.__getNativeTag())}},{key:"__getNativeConfig",value:function(){var e={};for(var t in this._props){var n=this._props[t];n instanceof Ht&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}}}]),n}(Ht);var In=n(8693);function _n(e){var t=(0,w.useReducer)((function(e){return e+1}),0)[1],n=(0,w.useRef)(null),r=(0,w.useMemo)((function(){return new Nn(e,(function(){return null==n.current?void 0:n.current()}))}),[e]);!function(e){var t=(0,w.useRef)(null),n=(0,w.useRef)(!1);(0,w.useEffect)((function(){Gt.API.flushQueue()})),(0,In.default)((function(){return n.current=!1,function(){n.current=!0}}),[]),(0,In.default)((function(){if(e.__attach(),null!=t.current){var r=t.current;r.__restoreDefaultValues(),r.__detach(),t.current=null}return function(){n.current?e.__detach():t.current=e}}),[e])}(r);var a=function(e){var t=(0,w.useRef)(void 0);return(0,w.useCallback)((function(n){t.current&&(t.current(),t.current=void 0),null!=n&&(t.current=e(n))}),[e])}((0,w.useCallback)((function(a){r.setNativeView(a),n.current=function(){t()};var i=function(e){return"object"===typeof e&&"function"===typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}(a),o=[];for(var s in e){var u=e[s];u instanceof vn&&u.__isNative&&(u.__attach(i,s),o.push([s,u]))}return function(){n.current=null;for(var e=0,t=o;e<t.length;e++){var r=t[e],a=r[0];r[1].__detach(i,a)}}}),[e,r]));return[Rn(r),a]}function Rn(e){return(0,y.default)((0,y.default)({},e.__getValue()),{},{collapsable:!1})}var An=["style"];function On(e){return w.forwardRef((function(t,n){var r=_n(t),a=r[0],i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,w.useCallback)((function(e){for(var n=0,r=t;n<r.length;n++){var a=r[n];null!=a&&("function"===typeof a?a(e):a.current=e)}}),[].concat(t))}(r[1],n),o=a.passthroughAnimatedPropExplicitValues,s=a.style,u=null!==o&&void 0!==o?o:{},l=u.style,c=(0,C.default)(u,An),d=[s,l];return w.createElement(e,(0,k.default)({},a,c,{style:d,ref:i}))}))}const Dn=On(w.forwardRef((function(e,t){return w.createElement(bt,(0,k.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));var Fn=[];function $n(e){return Fn[e-1]}var Pn=n(391),Mn=/^data:/,Ln=function(){function e(){(0,m.default)(this,e)}return(0,v.default)(e,null,[{key:"has",value:function(t){var n=e._entries;return Mn.test(t)||Boolean(n[t])}},{key:"add",value:function(t){var n=e._entries,r=Date.now();n[t]?(n[t].lastUsedTimestamp=r,n[t].refCount+=1):n[t]={lastUsedTimestamp:r,refCount:1}}},{key:"remove",value:function(t){var n=e._entries;n[t]&&(n[t].refCount-=1),e._cleanUpIfNeeded()}},{key:"_cleanUpIfNeeded",value:function(){var t,n,r=e._entries,a=Object.keys(r);a.length+1>e._maximumEntries&&(a.forEach((function(e){var a=r[e];(!n||a.lastUsedTimestamp<n.lastUsedTimestamp)&&0===a.refCount&&(t=e,n=a)})),t&&delete r[t])}}]),e}();Ln._maximumEntries=256,Ln._entries={};var zn=0,Bn={},Vn={abort:function(e){var t=Bn[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete Bn[""+e])},getSize:function(e,t,n){var r=!1,a=setInterval(o,16),i=Vn.load(e,o,(function(){"function"===typeof n&&n();Vn.abort(i),clearInterval(a)}));function o(){var e=Bn[""+i];if(e){var n=e.naturalHeight,o=e.naturalWidth;n&&o&&(t(o,n),r=!0)}r&&(Vn.abort(i),clearInterval(a))}},has:function(e){return Ln.has(e)},load:function(e,t,n){zn+=1;var r=new window.Image;return r.onerror=n,r.onload=function(e){var n=function(){return t({nativeEvent:e})};"function"===typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,Bn[""+zn]=r,zn},prefetch:function(e){return new Promise((function(t,n){Vn.load(e,(function(){Ln.add(e),Ln.remove(e),t()}),n)}))},queryCache:function(e){var t={};return e.forEach((function(e){Ln.has(e)&&(t[e]="disk/memory")})),Promise.resolve(t)}};const Un=Vn;var Gn=n(1647),Wn=n(3958),jn=n(4936),qn=["aria-label","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],Hn="LOADED",Kn="LOADING",Xn=0,Yn=/^(data:image\/svg\+xml;utf8,)(.*)/;function Zn(e){var t=null;if("number"===typeof e){var n=$n(e);if(null==n)throw new Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var a=Gn.default.get();r=n.scales.reduce((function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e}))}var i=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+i+"."+n.type:""}else"string"===typeof e?t=e:e&&"string"===typeof e.uri&&(t=e.uri);if(t){var o=t.match(Yn);if(o){var s=o[1],u=o[2];return""+s+encodeURIComponent(u)}}return t}var Qn=w.forwardRef((function(e,t){var n=e["aria-label"],a=e.blurRadius,i=e.defaultSource,o=e.draggable,s=e.onError,u=e.onLayout,l=e.onLoad,c=e.onLoadEnd,d=e.onLoadStart,f=e.pointerEvents,p=e.source,h=e.style,m=(0,C.default)(e,qn);var v=w.useState((function(){var e=Zn(p);if(null!=e&&Un.has(e))return Hn;return"IDLE"})),g=v[0],y=v[1],b=w.useState({}),x=b[0],S=b[1],T=w.useContext(Wn.default),E=w.useRef(null),_=w.useRef(Xn++),R=w.useRef(null),A=g===Hn||g===Kn&&null==i,O=function(e,t,n,r){var a=I.default.flatten(e),i=a.filter,o=a.resizeMode,s=a.shadowOffset,u=a.tintColor;a.resizeMode&&(0,jn.warnOnce)("Image.style.resizeMode","Image: style.resizeMode is deprecated. Please use props.resizeMode."),a.tintColor&&(0,jn.warnOnce)("Image.style.tintColor","Image: style.tintColor is deprecated. Please use props.tintColor.");var l=[],c=null;if(i&&l.push(i),t&&l.push("blur("+t+"px)"),s){var d=(0,Pn.createBoxShadowValue)(a);d&&l.push("drop-shadow("+d+")")}return(r||u)&&null!=n&&l.push("url(#tint-"+n+")"),l.length>0&&(c=l.join(" ")),[o,c,u]}(h,a,_.current,e.tintColor),D=O[0],F=O[1],$=O[2],P=e.resizeMode||D||"cover",M=e.tintColor||$,L=A?p:i,z=Zn(L),B=function(e){if("number"===typeof e){var t=$n(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"===typeof e)return{height:e.height,width:e.width}}(L),V=z?'url("'+z+'")':null,U=function(){if(null!=E.current&&("center"===P||"repeat"===P)){var e=E.current,t=e.naturalHeight,n=e.naturalWidth,r=x.height,a=x.width;if(t&&n&&r&&a){var i=Math.min(1,a/n,r/t);return Math.ceil(i*n)+"px "+Math.ceil(i*t)+"px"}}}(),G=z?(0,r.default)("img",{alt:n||"",style:er.accessibilityImage$raw,draggable:o||!1,ref:E,src:z}):null;var W=Zn(p);return w.useEffect((function(){function e(){null!=R.current&&(Un.abort(R.current),R.current=null)}return e(),null!=W&&(y(Kn),d&&d(),R.current=Un.load(W,(function(e){y(Hn),l&&l(e),c&&c()}),(function(){y("ERRORED"),s&&s({nativeEvent:{error:"Failed to load resource "+W+" (404)"}}),c&&c()}))),e}),[W,R,y,s,l,c,d]),w.createElement(N.default,(0,k.default)({},m,{"aria-label":n,onLayout:function(e){if("center"===P||"repeat"===P||u){var t=e.nativeEvent.layout;u&&u(e),S(t)}},pointerEvents:f,ref:t,style:[er.root,T&&er.inline,B,h,er.undo,{boxShadow:null}]}),w.createElement(N.default,{style:[er.image,tr[P],{backgroundImage:V,filter:F},null!=U&&{backgroundSize:U}],suppressHydrationWarning:!0}),G,function(e,t){return e&&null!=t?w.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},w.createElement("defs",null,w.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},w.createElement("feFlood",{floodColor:""+e,key:e}),w.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null}(M,_.current))}));Qn.displayName="Image";var Jn=Qn;Jn.getSize=function(e,t,n){Un.getSize(e,t,n)},Jn.prefetch=function(e){return Un.prefetch(e)},Jn.queryCache=function(e){return Un.queryCache(e)};var er=I.default.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,y.default)((0,y.default)({},I.default.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:(0,y.default)((0,y.default)({},I.default.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),tr=I.default.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const nr=Jn,rr=On(nr);const ar=On(w.forwardRef((function(e,t){return w.createElement(oe,(0,k.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));function ir(e){var t=or();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function or(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(or=function(){return!!e})()}var sr=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];function ur(e){var t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,r=e.cellKey,a=e.prevCellKey,i=e.setSelfHighlightCallback,o=e.updateHighlightFor,s=e.setSelfUpdatePropsCallback,u=e.updatePropsFor,l=e.item,c=e.index,d=e.section,f=e.inverted,p=w.useState(!1),h=p[0],m=p[1],v=w.useState(!1),g=v[0],b=v[1],x=w.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),S=x[0],T=x[1],E=w.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),C=E[0],I=E[1];w.useEffect((function(){return i(r,b),s(r,I),function(){s(r,null),i(r,null)}}),[r,i,I,s]);var _={highlight:function(){m(!0),b(!0),null!=a&&o(a,!0)},unhighlight:function(){m(!1),b(!1),null!=a&&o(a,!1)},updateProps:function(e,r){"leading"===e?null!=t?T((0,y.default)((0,y.default)({},S),r)):null!=a&&u(a,(0,y.default)((0,y.default)({},S),r)):"trailing"===e&&null!=n&&I((0,y.default)((0,y.default)({},C),r))}},R=e.renderItem({item:l,index:c,section:d,separators:_}),A=null!=t&&w.createElement(t,(0,k.default)({highlighted:h},S)),O=null!=n&&w.createElement(n,(0,k.default)({highlighted:g},C));return A||O?w.createElement(N.default,null,!1===f?A:O,R,!1===f?O:A):R}const lr=function(e){(0,S.default)(n,e);var t=ir(n);function n(){var e;return(0,m.default)(this,n),(e=t.apply(this,arguments))._keyExtractor=function(t,n){var r=e._subExtractor(n);return r&&r.key||String(n)},e._convertViewable=function(t){var n;A()(null!=t.index,"Received a broken ViewToken");var r=e._subExtractor(t.index);if(!r)return null;var a=r.section.keyExtractor,i=e.props.keyExtractor||Ye,o=null!=a?a(t.item,r.index):i(t.item,null!==(n=r.index)&&void 0!==n?n:0);return(0,y.default)((0,y.default)({},t),{},{index:r.index,key:o,section:r.section})},e._onViewableItemsChanged=function(t){var n=t.viewableItems,r=t.changed,a=e.props.onViewableItemsChanged;null!=a&&a({viewableItems:n.map(e._convertViewable,(0,F.default)(e)).filter(Boolean),changed:r.map(e._convertViewable,(0,F.default)(e)).filter(Boolean)})},e._renderItem=function(t){return function(n){var r=n.item,a=n.index,i=e._subExtractor(a);if(!i)return null;var o=i.index;if(null==o){var s=i.section;if(!0===i.header){var u=e.props.renderSectionHeader;return u?u({section:s}):null}var l=e.props.renderSectionFooter;return l?l({section:s}):null}var c=i.section.renderItem||e.props.renderItem,d=e._getSeparatorComponent(a,i,t);return A()(c,"no renderItem!"),w.createElement(ur,{SeparatorComponent:d,LeadingSeparatorComponent:0===o?e.props.SectionSeparatorComponent:void 0,cellKey:i.key,index:o,item:r,leadingItem:i.leadingItem,leadingSection:i.leadingSection,prevCellKey:(e._subExtractor(a-1)||{}).key,setSelfHighlightCallback:e._setUpdateHighlightFor,setSelfUpdatePropsCallback:e._setUpdatePropsFor,updateHighlightFor:e._updateHighlightFor,updatePropsFor:e._updatePropsFor,renderItem:c,section:i.section,trailingItem:i.trailingItem,trailingSection:i.trailingSection,inverted:!!e.props.inverted})}},e._updatePropsFor=function(t,n){var r=e._updatePropsMap[t];null!=r&&r(n)},e._updateHighlightFor=function(t,n){var r=e._updateHighlightMap[t];null!=r&&r(n)},e._setUpdateHighlightFor=function(t,n){null!=n?e._updateHighlightMap[t]=n:delete e._updateHighlightFor[t]},e._setUpdatePropsFor=function(t,n){null!=n?e._updatePropsMap[t]=n:delete e._updatePropsMap[t]},e._updateHighlightMap={},e._updatePropsMap={},e._captureRef=function(t){e._listRef=t},e}return(0,v.default)(n,[{key:"scrollToLocation",value:function(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)r+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props).length;var a=(0,y.default)((0,y.default)({},e),{},{viewOffset:r,index:t});this._listRef.scrollToIndex(a)}}},{key:"getListRef",value:function(){return this._listRef}},{key:"render",value:function(){for(var e,t=this,n=this.props,r=(n.ItemSeparatorComponent,n.SectionSeparatorComponent,n.renderItem,n.renderSectionFooter,n.renderSectionHeader,n.sections,n.stickySectionHeadersEnabled,(0,C.default)(n,sr)),a=this.props.ListHeaderComponent?1:0,i=this.props.stickySectionHeadersEnabled?[]:void 0,o=0,s=P(this.props.sections);!(e=s()).done;){var u=e.value;null!=i&&i.push(o+a),o+=2,o+=this.props.getItemCount(u.data)}var l=this._renderItem(o);return w.createElement(ct,(0,k.default)({},r,{keyExtractor:this._keyExtractor,stickyHeaderIndices:i,renderItem:l,data:this.props.sections,getItem:function(e,n){return t._getItem(t.props,e,n)},getItemCount:function(){return o},onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}},{key:"_getItem",value:function(e,t,n){if(!t)return null;for(var r=n-1,a=0;a<t.length;a++){var i=t[a],o=i.data,s=e.getItemCount(o);if(-1===r||r===s)return i;if(r<s)return e.getItem(o,r);r-=s+2}return null}},{key:"_subExtractor",value:function(e){for(var t=e,n=this.props,r=n.getItem,a=n.getItemCount,i=n.keyExtractor,o=n.sections,s=0;s<o.length;s++){var u=o[s],l=u.data,c=u.key||String(s);if(!((t-=1)>=a(l)+1))return-1===t?{section:u,key:c+":header",index:null,header:!0,trailingSection:o[s+1]}:t===a(l)?{section:u,key:c+":footer",index:null,header:!1,trailingSection:o[s+1]}:{section:u,key:c+":"+(u.keyExtractor||i||Ye)(r(l,t),t),index:t,leadingItem:r(l,t-1),leadingSection:o[s-1],trailingItem:r(l,t+1),trailingSection:o[s+1]};t-=a(l)+1}}},{key:"_getSeparatorComponent",value:function(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,a=this.props.SectionSeparatorComponent,i=e===n-1,o=t.index===this.props.getItemCount(t.section.data)-1;return a&&o?a:!r||o||i?null:r}}]),n}(w.PureComponent);function cr(e){var t=dr();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function dr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(dr=function(){return!!e})()}var fr=["stickySectionHeadersEnabled"];const pr=function(e){(0,S.default)(n,e);var t=cr(n);function n(){var e;return(0,m.default)(this,n),(e=t.apply(this,arguments))._captureRef=function(t){e._wrapperListRef=t},e}return(0,v.default)(n,[{key:"scrollToLocation",value:function(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}},{key:"recordInteraction",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}},{key:"flashScrollIndicators",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}},{key:"getScrollResponder",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}},{key:"getScrollableNode",value:function(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}},{key:"render",value:function(){var e=this.props,t=e.stickySectionHeadersEnabled,n=(0,C.default)(e,fr),r=null!==t&&void 0!==t?t:"ios"===b.default.OS;return w.createElement(lr,(0,k.default)({},n,{stickySectionHeadersEnabled:r,ref:this._captureRef,getItemCount:function(e){return e.length},getItem:function(e,t){return e[t]}}))}}]),n}(w.PureComponent);const hr=On(w.forwardRef((function(e,t){return w.createElement(pr,(0,k.default)({scrollEventThrottle:1e-4},e,{ref:t}))})));var mr=n(1054);const vr=On(mr.default),gr=On(N.default);function yr(e){var t=br();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function br(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(br=function(){return!!e})()}const kr=function(e){(0,S.default)(n,e);var t=yr(n);function n(e,r){var a;return(0,m.default)(this,n),(a=t.call(this))._a="number"===typeof e?new hn(e):e,a._b="number"===typeof r?new hn(r):r,a}return(0,v.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()+this._b.__getValue()}},{key:"interpolate",value:function(e){return new ln(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Yt);function wr(e){var t=xr();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function xr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xr=function(){return!!e})()}const Sr=function(e){(0,S.default)(n,e);var t=wr(n);function n(e,r,a){var i;return(0,m.default)(this,n),(i=t.call(this))._a=e,i._min=r,i._max=a,i._value=i._lastValue=i._a.__getValue(),i}return(0,v.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"interpolate",value:function(e){return new ln(this,e)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}}]),n}(Yt);function Tr(e){var t=Er();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Er(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Er=function(){return!!e})()}const Cr=function(e){(0,S.default)(n,e);var t=Tr(n);function n(e,r){var a;return(0,m.default)(this,n),(a=t.call(this))._warnedAboutDivideByZero=!1,(0===r||r instanceof Ht&&0===r.__getValue())&&console.error("Detected potential division by zero in AnimatedDivision"),a._a="number"===typeof e?new hn(e):e,a._b="number"===typeof r?new hn(r):r,a}return(0,v.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}},{key:"interpolate",value:function(e){return new ln(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Yt);function Nr(e){var t=Ir();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Ir(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ir=function(){return!!e})()}const _r=function(e){(0,S.default)(n,e);var t=Nr(n);function n(e,r){var a;return(0,m.default)(this,n),(a=t.call(this))._a=e,a._modulus=r,a}return(0,v.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}},{key:"interpolate",value:function(e){return new ln(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}}]),n}(Yt);function Rr(e){var t=Ar();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Ar(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ar=function(){return!!e})()}const Or=function(e){(0,S.default)(n,e);var t=Rr(n);function n(e,r){var a;return(0,m.default)(this,n),(a=t.call(this))._a="number"===typeof e?new hn(e):e,a._b="number"===typeof r?new hn(r):r,a}return(0,v.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()*this._b.__getValue()}},{key:"interpolate",value:function(e){return new ln(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Yt);function Dr(e){var t=Fr();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Fr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Fr=function(){return!!e})()}const $r=function(e){(0,S.default)(n,e);var t=Dr(n);function n(e,r){var a;return(0,m.default)(this,n),(a=t.call(this))._a="number"===typeof e?new hn(e):e,a._b="number"===typeof r?new hn(r):r,a}return(0,v.default)(n,[{key:"__makeNative",value:function(e){this._a.__makeNative(e),this._b.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getValue",value:function(){return this._a.__getValue()-this._b.__getValue()}},{key:"interpolate",value:function(e){return new ln(this,e)}},{key:"__attach",value:function(){this._a.__addChild(this),this._b.__addChild(this)}},{key:"__detach",value:function(){this._a.__removeChild(this),this._b.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__getNativeConfig",value:function(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}}]),n}(Yt);function Pr(e){var t=Mr();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Mr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mr=function(){return!!e})()}const Lr=function(e){(0,S.default)(n,e);var t=Pr(n);function n(e,r,a,i,o){var s;return(0,m.default)(this,n),(s=t.call(this))._value=e,s._parent=r,s._animationClass=a,s._animationConfig=i,s._useNativeDriver=Ut(i),s._callback=o,s.__attach(),s}return(0,v.default)(n,[{key:"__makeNative",value:function(){this.__isNative=!0,this._parent.__makeNative(),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this),this._value.__makeNative()}},{key:"__getValue",value:function(){return this._parent.__getValue()}},{key:"__attach",value:function(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}},{key:"__detach",value:function(){this._parent.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"update",value:function(){this._value.animate(new this._animationClass((0,y.default)((0,y.default)({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}},{key:"__getNativeConfig",value:function(){var e=new this._animationClass((0,y.default)((0,y.default)({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:Bt(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}}]),n}(Ht);function zr(e){var t=Br();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Br(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Br=function(){return!!e})()}var Vr=1,Ur=function(e){(0,S.default)(n,e);var t=zr(n);function n(e){var r;(0,m.default)(this,n),r=t.call(this);var a=e||{x:0,y:0};return"number"===typeof a.x&&"number"===typeof a.y?(r.x=new hn(a.x),r.y=new hn(a.y)):(A()(a.x instanceof hn&&a.y instanceof hn,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),r.x=a.x,r.y=a.y),r._listeners={},r}return(0,v.default)(n,[{key:"setValue",value:function(e){this.x.setValue(e.x),this.y.setValue(e.y)}},{key:"setOffset",value:function(e){this.x.setOffset(e.x),this.y.setOffset(e.y)}},{key:"flattenOffset",value:function(){this.x.flattenOffset(),this.y.flattenOffset()}},{key:"extractOffset",value:function(){this.x.extractOffset(),this.y.extractOffset()}},{key:"__getValue",value:function(){return{x:this.x.__getValue(),y:this.y.__getValue()}}},{key:"resetAnimation",value:function(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())}},{key:"stopAnimation",value:function(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())}},{key:"addListener",value:function(e){var t=this,n=String(Vr++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={x:this.x.addListener(r),y:this.y.addListener(r)},n}},{key:"removeListener",value:function(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]}},{key:"removeAllListeners",value:function(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}},{key:"getLayout",value:function(){return{left:this.x,top:this.y}}},{key:"getTranslateTransform",value:function(){return[{translateX:this.x},{translateY:this.y}]}}]),n}(Yt);const Gr=Ur;var Wr=1;const jr=function(){function e(){(0,m.default)(this,e)}return(0,v.default)(e,[{key:"start",value:function(e,t,n,r,a){}},{key:"stop",value:function(){this.__nativeId&&Gt.API.stopAnimation(this.__nativeId)}},{key:"__getNativeAnimationConfig",value:function(){throw new Error("This animation type cannot be offloaded to native")}},{key:"__debouncedOnEnd",value:function(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)}},{key:"__startNativeAnimation",value:function(e){var t=Wr+":startAnimation";Wr+=1,Gt.API.setWaitingForIdentifier(t);try{var n=this.__getNativeAnimationConfig();e.__makeNative(n.platformConfig),this.__nativeId=Gt.generateNewAnimationId(),Gt.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),n,this.__debouncedOnEnd.bind(this))}catch(r){throw r}finally{Gt.API.unsetWaitingForIdentifier(t)}}}]),e}();function qr(e){var t=Hr();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Hr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hr=function(){return!!e})()}const Kr=function(e){(0,S.default)(r,e);var t=qr(r);function r(e){var n,a,i,o;return(0,m.default)(this,r),(n=t.call(this))._deceleration=null!==(a=e.deceleration)&&void 0!==a?a:.998,n._velocity=e.velocity,n._useNativeDriver=Ut(e),n.__isInteraction=null!==(i=e.isInteraction)&&void 0!==i?i:!n._useNativeDriver,n.__iterations=null!==(o=e.iterations)&&void 0!==o?o:1,n}return(0,v.default)(r,[{key:"__getNativeAnimationConfig",value:function(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}},{key:"start",value:function(e,t,n,r,a){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(a):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}},{key:"onUpdate",value:function(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}},{key:"stop",value:function(){(0,Pe.default)((0,E.default)(r.prototype),"stop",this).call(this),this.__active=!1,n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(jr);function Xr(e){return 3.62*(e-30)+194}function Yr(e){return 3*(e-8)+25}const Zr={fromOrigamiTensionAndFriction:function(e,t){return{stiffness:Xr(e),damping:Yr(t)}},fromBouncinessAndSpeed:function(e,t){function n(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return t+e*(n-t)}var a=n(e/1.7,0,20);a=r(a,0,.8);var i,o,s=r(n(t/1.7,0,20),.5,200),u=(i=a,o=function(e){return e<=18?(t=e,7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28):e>18&&e<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(e):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(e);var t}(s),function(e,t,n){return e*n+(1-e)*t}(2*i-i*i,o,.01));return{stiffness:Xr(s),damping:Yr(u)}}};function Qr(e){var t=Jr();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Jr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Jr=function(){return!!e})()}const ea=function(e){(0,S.default)(r,e);var t=Qr(r);function r(e){var n,a,i,o,s,u,l,c,d,f,p,h;if((0,m.default)(this,r),(n=t.call(this))._overshootClamping=null!==(a=e.overshootClamping)&&void 0!==a&&a,n._restDisplacementThreshold=null!==(i=e.restDisplacementThreshold)&&void 0!==i?i:.001,n._restSpeedThreshold=null!==(o=e.restSpeedThreshold)&&void 0!==o?o:.001,n._initialVelocity=null!==(s=e.velocity)&&void 0!==s?s:0,n._lastVelocity=null!==(u=e.velocity)&&void 0!==u?u:0,n._toValue=e.toValue,n._delay=null!==(l=e.delay)&&void 0!==l?l:0,n._useNativeDriver=Ut(e),n._platformConfig=e.platformConfig,n.__isInteraction=null!==(c=e.isInteraction)&&void 0!==c?c:!n._useNativeDriver,n.__iterations=null!==(d=e.iterations)&&void 0!==d?d:1,void 0!==e.stiffness||void 0!==e.damping||void 0!==e.mass)A()(void 0===e.bounciness&&void 0===e.speed&&void 0===e.tension&&void 0===e.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),n._stiffness=null!==(f=e.stiffness)&&void 0!==f?f:100,n._damping=null!==(p=e.damping)&&void 0!==p?p:10,n._mass=null!==(h=e.mass)&&void 0!==h?h:1;else if(void 0!==e.bounciness||void 0!==e.speed){var v,g;A()(void 0===e.tension&&void 0===e.friction&&void 0===e.stiffness&&void 0===e.damping&&void 0===e.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var y=Zr.fromBouncinessAndSpeed(null!==(v=e.bounciness)&&void 0!==v?v:8,null!==(g=e.speed)&&void 0!==g?g:12);n._stiffness=y.stiffness,n._damping=y.damping,n._mass=1}else{var b,k,w=Zr.fromOrigamiTensionAndFriction(null!==(b=e.tension)&&void 0!==b?b:40,null!==(k=e.friction)&&void 0!==k?k:7);n._stiffness=w.stiffness,n._damping=w.damping,n._mass=1}return A()(n._stiffness>0,"Stiffness value must be greater than 0"),A()(n._damping>0,"Damping value must be greater than 0"),A()(n._mass>0,"Mass value must be greater than 0"),n}return(0,v.default)(r,[{key:"__getNativeAnimationConfig",value:function(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(e,t,n,a,i){var o=this;if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,a instanceof r){var s=a.getInternalState();this._lastPosition=s.lastPosition,this._lastVelocity=s.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=s.lastTime}var u=function(){o._useNativeDriver?o.__startNativeAnimation(i):o.onUpdate()};this._delay?this._timeout=setTimeout(u,this._delay):u()}},{key:"getInternalState",value:function(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}},{key:"onUpdate",value:function(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,a=this._stiffness,i=-this._initialVelocity,o=n/(2*Math.sqrt(a*r)),s=Math.sqrt(a/r),u=s*Math.sqrt(1-o*o),l=this._toValue-this._startPosition,c=0,d=0,f=this._frameTime;if(o<1){var p=Math.exp(-o*s*f);c=this._toValue-p*((i+o*s*l)/u*Math.sin(u*f)+l*Math.cos(u*f)),d=o*s*p*(Math.sin(u*f)*(i+o*s*l)/u+l*Math.cos(u*f))-p*(Math.cos(u*f)*(i+o*s*l)-u*l*Math.sin(u*f))}else{var h=Math.exp(-s*f);c=this._toValue-h*(l+(i+s*l)*f),d=h*(i*(f*s-1)+f*l*(s*s))}if(this._lastTime=e,this._lastPosition=c,this._lastVelocity=d,this._onUpdate(c),this.__active){var m=!1;this._overshootClamping&&0!==this._stiffness&&(m=this._startPosition<this._toValue?c>this._toValue:c<this._toValue);var v=Math.abs(d)<=this._restSpeedThreshold,g=!0;if(0!==this._stiffness&&(g=Math.abs(this._toValue-c)<=this._restDisplacementThreshold),m||v&&g)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}},{key:"stop",value:function(){(0,Pe.default)((0,E.default)(r.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(jr);var ta,na=4,ra=1e-7,aa=10,ia=.1,oa="function"===typeof Float32Array;function sa(e,t){return 1-3*t+3*e}function ua(e,t){return 3*t-6*e}function la(e){return 3*e}function ca(e,t,n){return((sa(t,n)*e+ua(t,n))*e+la(t))*e}function da(e,t,n){return 3*sa(t,n)*e*e+2*ua(t,n)*e+la(t)}function fa(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var a=oa?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var i=0;i<11;++i)a[i]=ca(i*ia,e,n);function o(t){for(var r=0,i=1;10!==i&&a[i]<=t;++i)r+=ia;--i;var o=r+(t-a[i])/(a[i+1]-a[i])*ia,s=da(o,e,n);return s>=.001?function(e,t,n,r){for(var a=t,i=0;i<na;++i){var o=da(a,n,r);if(0===o)return a;a-=(ca(a,n,r)-e)/o}return a}(t,o,e,n):0===s?o:function(e,t,n,r,a){var i,o,s=0,u=t,l=n;do{(i=ca(o=u+(l-u)/2,r,a)-e)>0?l=o:u=o}while(Math.abs(i)>ra&&++s<aa);return o}(t,r,r+ia,e,n)}return function(a){return e===t&&n===r?a:0===a?0:1===a?1:ca(o(a),t,r)}}const pa=function(){function e(){(0,m.default)(this,e)}return(0,v.default)(e,null,[{key:"step0",value:function(e){return e>0?1:0}},{key:"step1",value:function(e){return e>=1?1:0}},{key:"linear",value:function(e){return e}},{key:"ease",value:function(t){return ta||(ta=e.bezier(.42,0,1,1)),ta(t)}},{key:"quad",value:function(e){return e*e}},{key:"cubic",value:function(e){return e*e*e}},{key:"poly",value:function(e){return function(t){return Math.pow(t,e)}}},{key:"sin",value:function(e){return 1-Math.cos(e*Math.PI/2)}},{key:"circle",value:function(e){return 1-Math.sqrt(1-e*e)}},{key:"exp",value:function(e){return Math.pow(2,10*(e-1))}},{key:"elastic",value:function(e){void 0===e&&(e=1);var t=e*Math.PI;return function(e){return 1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}}},{key:"back",value:function(e){return void 0===e&&(e=1.70158),function(t){return t*t*((e+1)*t-e)}}},{key:"bounce",value:function(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375}},{key:"bezier",value:function(e,t,n,r){return fa(e,t,n,r)}},{key:"in",value:function(e){return e}},{key:"out",value:function(e){return function(t){return 1-e(1-t)}}},{key:"inOut",value:function(e){return function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2}}}]),e}();function ha(e){var t=ma();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function ma(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ma=function(){return!!e})()}var va;const ga=function(e){(0,S.default)(r,e);var t=ha(r);function r(e){var n,a,i,o,s,u;return(0,m.default)(this,r),(n=t.call(this))._toValue=e.toValue,n._easing=null!==(a=e.easing)&&void 0!==a?a:(va||(va=pa.inOut(pa.ease)),va),n._duration=null!==(i=e.duration)&&void 0!==i?i:500,n._delay=null!==(o=e.delay)&&void 0!==o?o:0,n.__iterations=null!==(s=e.iterations)&&void 0!==s?s:1,n._useNativeDriver=Ut(e),n._platformConfig=e.platformConfig,n.__isInteraction=null!==(u=e.isInteraction)&&void 0!==u?u:!n._useNativeDriver,n}return(0,v.default)(r,[{key:"__getNativeAnimationConfig",value:function(){for(var e=[],t=Math.round(this._duration/(1e3/60)),n=0;n<t;n++)e.push(this._easing(n/t));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}},{key:"start",value:function(e,t,n,r,a){var i=this;this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var o=function(){0!==i._duration||i._useNativeDriver?(i._startTime=Date.now(),i._useNativeDriver?i.__startNativeAnimation(a):i._animationFrame=requestAnimationFrame(i.onUpdate.bind(i))):(i._onUpdate(i._toValue),i.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(o,this._delay):o()}},{key:"onUpdate",value:function(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}},{key:"stop",value:function(){(0,Pe.default)((0,E.default)(r.prototype),"stop",this).call(this),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}]),r}(jr);function ya(e){var t=ba();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function ba(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ba=function(){return!!e})()}var ka=Gt.API,wa={r:0,g:0,b:0,a:1},xa=1;function Sa(e){if(void 0===e||null===e)return null;if(Ta(e))return e;var t=Qt()(e);if(void 0===t||null===t)return null;if("object"===typeof t){if(null!=t)return t}else if("number"===typeof t){return{r:(4278190080&t)>>>24,g:(16711680&t)>>>16,b:(65280&t)>>>8,a:(255&t)/255}}return null}function Ta(e){return e&&"number"===typeof e.r&&"number"===typeof e.g&&"number"===typeof e.b&&"number"===typeof e.a}var Ea=function(e){(0,S.default)(n,e);var t=ya(n);function n(e,r){var a;(0,m.default)(this,n),(a=t.call(this))._listeners={};var i=null!==e&&void 0!==e?e:wa;if(function(e){return e&&e.r instanceof hn&&e.g instanceof hn&&e.b instanceof hn&&e.a instanceof hn}(i)){var o=i;a.r=o.r,a.g=o.g,a.b=o.b,a.a=o.a}else{var s,u=null!==(s=Sa(i))&&void 0!==s?s:wa,l=wa;Ta(u)?l=u:a.nativeColor=u,a.r=new hn(l.r),a.g=new hn(l.g),a.b=new hn(l.b),a.a=new hn(l.a)}return(a.nativeColor||r&&r.useNativeDriver)&&a.__makeNative(),a}return(0,v.default)(n,[{key:"setValue",value:function(e){var t,n=!1;if(this.__isNative){var r=this.__getNativeTag();ka.setWaitingForIdentifier(r.toString())}var a=null!==(t=Sa(e))&&void 0!==t?t:wa;if(Ta(a)){var i=a;this.r.setValue(i.r),this.g.setValue(i.g),this.b.setValue(i.b),this.a.setValue(i.a),null!=this.nativeColor&&(this.nativeColor=null,n=!0)}else{var o=a;this.nativeColor!==o&&(this.nativeColor=o,n=!0)}if(this.__isNative){var s=this.__getNativeTag();n&&ka.updateAnimatedNodeConfig(s,this.__getNativeConfig()),ka.unsetWaitingForIdentifier(s.toString())}}},{key:"setOffset",value:function(e){this.r.setOffset(e.r),this.g.setOffset(e.g),this.b.setOffset(e.b),this.a.setOffset(e.a)}},{key:"flattenOffset",value:function(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}},{key:"extractOffset",value:function(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}},{key:"addListener",value:function(e){var t=this,n=String(xa++),r=function(n){n.value;e(t.__getValue())};return this._listeners[n]={r:this.r.addListener(r),g:this.g.addListener(r),b:this.b.addListener(r),a:this.a.addListener(r)},n}},{key:"removeListener",value:function(e){this.r.removeListener(this._listeners[e].r),this.g.removeListener(this._listeners[e].g),this.b.removeListener(this._listeners[e].b),this.a.removeListener(this._listeners[e].a),delete this._listeners[e]}},{key:"removeAllListeners",value:function(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}},{key:"stopAnimation",value:function(e){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),e&&e(this.__getValue())}},{key:"resetAnimation",value:function(e){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),e&&e(this.__getValue())}},{key:"__getValue",value:function(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}},{key:"__attach",value:function(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__attach",this).call(this)}},{key:"__detach",value:function(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),(0,Pe.default)((0,E.default)(n.prototype),"__detach",this).call(this)}},{key:"__makeNative",value:function(e){this.r.__makeNative(e),this.g.__makeNative(e),this.b.__makeNative(e),this.a.__makeNative(e),(0,Pe.default)((0,E.default)(n.prototype),"__makeNative",this).call(this,e)}},{key:"__getNativeConfig",value:function(){return{type:"color",r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}]),n}(Yt),Ca=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete.apply(t,arguments),e&&e.apply(void 0,arguments)}:e||t.onComplete},Na=function(e,t,n){if(e instanceof Gr){var r=(0,y.default)({},t),a=(0,y.default)({},t);for(var i in t){var o=t[i],s=o.x,u=o.y;void 0!==s&&void 0!==u&&(r[i]=s,a[i]=u)}var l=n(e.x,r),c=n(e.y,a);return Ra([l,c],{stopTogether:!1})}if(e instanceof Ea){var d=(0,y.default)({},t),f=(0,y.default)({},t),p=(0,y.default)({},t),h=(0,y.default)({},t);for(var m in t){var v=t[m],g=v.r,b=v.g,k=v.b,w=v.a;void 0!==g&&void 0!==b&&void 0!==k&&void 0!==w&&(d[m]=g,f[m]=b,p[m]=k,h[m]=w)}var x=n(e.r,d),S=n(e.g,f),T=n(e.b,p),E=n(e.a,h);return Ra([x,S,T,E],{stopTogether:!1})}return null},Ia=function e(t,n){var r=function(e,t,n){n=Ca(n,t);var r=e,a=t;r.stopTracking(),t.toValue instanceof Ht?r.track(new Lr(r,t.toValue,ga,a,n)):r.animate(new ga(a),n)};return Na(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var a=(0,y.default)((0,y.default)({},n),{},{iterations:e});r(t,a)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},_a=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start((function r(a){a.finished&&++t!==e.length?e[t].start(r):n&&n(a)}))},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((function(e,n){n<=t&&e.reset()})),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},Ra=function(e,t){var n=0,r={},a=!(t&&!1===t.stopTogether),i={start:function(t){n!==e.length?e.forEach((function(o,s){var u=function(o){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(o));!o.finished&&a&&i.stop()};o?o.start(u):u({finished:!0})})):t&&t({finished:!0})},stop:function(){e.forEach((function(e,t){!r[t]&&e.stop(),r[t]=!0}))},reset:function(){e.forEach((function(e,t){e.reset(),r[t]=!1,n=0}))},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return i},Aa=function(e){return Ia(new hn(0),{toValue:0,delay:e,duration:0,useNativeDriver:!1})};const Oa={Value:hn,ValueXY:Gr,Color:Ea,Interpolation:ln,Node:Ht,decay:function e(t,n){var r=function(e,t,n){n=Ca(n,t);var r=e,a=t;r.stopTracking(),r.animate(new Kr(a),n)};return Na(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var a=(0,y.default)((0,y.default)({},n),{},{iterations:e});r(t,a)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:Ia,spring:function e(t,n){var r=function(e,t,n){n=Ca(n,t);var r=e,a=t;r.stopTracking(),t.toValue instanceof Ht?r.track(new Lr(r,t.toValue,ea,a,n)):r.animate(new ea(a),n)};return Na(t,n,e)||{start:function(e){r(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var a=(0,y.default)((0,y.default)({},n),{},{iterations:e});r(t,a)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new kr(e,t)},subtract:function(e,t){return new $r(e,t)},divide:function(e,t){return new Cr(e,t)},multiply:function(e,t){return new Or(e,t)},modulo:function(e,t){return new _r(e,t)},diffClamp:function(e,t,n){return new Sr(e,t,n)},delay:Aa,sequence:_a,parallel:Ra,stagger:function(e,t){return Ra(t.map((function(t,n){return _a([Aa(e*n),t])})))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,a=void 0===r?-1:r,i=n.resetBeforeIteration,o=void 0===i||i,s=!1,u=0;return{start:function(t){e&&0!==a?e._isUsingNativeDriver()?e._startNativeLoop(a):function n(r){void 0===r&&(r={finished:!0}),s||u===a||!1===r.finished?t&&t(r):(u++,o&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){s=!0,e.stop()},reset:function(){u=0,s=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new vn(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:On,attachNativeEvent:mn,forkEvent:function(e,t){return e?e instanceof vn?(e.__addListener(t),e):function(){"function"===typeof e&&e.apply(void 0,arguments),t.apply(void 0,arguments)}:t},unforkEvent:function(e,t){e&&e instanceof vn&&e.__removeListener(t)},Event:vn};var Da=!1;function Fa(e){return function(t){var n=null==t?t:function(){if(Da)console.warn("Ignoring recursive animation callback when running mock animations");else{Da=!0;try{t.apply(void 0,arguments)}finally{Da=!1}}};e(n)}}var $a={start:function(){},stop:function(){},reset:function(){},_startNativeLoop:function(){},_isUsingNativeDriver:function(){return!1}},Pa=function(e){return(0,y.default)((0,y.default)({},$a),{},{start:Fa((function(t){e.forEach((function(e){return e.start()})),null==t||t({finished:!0})}))})};const Ma={Value:hn,ValueXY:Gr,Color:Ea,Interpolation:ln,Node:Ht,decay:function(e,t){return $a},timing:function(e,t){var n=e;return(0,y.default)((0,y.default)({},$a),{},{start:Fa((function(e){n.setValue(t.toValue),null==e||e({finished:!0})}))})},spring:function(e,t){var n=e;return(0,y.default)((0,y.default)({},$a),{},{start:Fa((function(e){n.setValue(t.toValue),null==e||e({finished:!0})}))})},add:Oa.add,subtract:Oa.subtract,divide:Oa.divide,multiply:Oa.multiply,modulo:Oa.modulo,diffClamp:Oa.diffClamp,delay:function(e){return $a},sequence:function(e){return Pa(e)},parallel:function(e,t){return Pa(e)},stagger:function(e,t){return Pa(t)},loop:function(e,t){(void 0===t?{}:t).iterations;return $a},event:Oa.event,createAnimatedComponent:On,attachNativeEvent:mn,forkEvent:Oa.forkEvent,unforkEvent:Oa.unforkEvent,Event:vn};var La=b.default.isTesting?Ma:Oa;const za=(0,y.default)({FlatList:Dn,Image:rr,ScrollView:ar,SectionList:hr,Text:vr,View:gr},La);var Ba=l.default&&null!=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,Va=new WeakMap;const Ua={getColorScheme:function(){return Ba&&Ba.matches?"dark":"light"},addChangeListener:function(e){var t=Va.get(e);return t||(t=function(t){var n=t.matches;e({colorScheme:n?"dark":"light"})},Va.set(e,t)),Ba&&Ba.addListener(t),{remove:function(){var t=Va.get(e);Ba&&t&&Ba.removeListener(t),Va.delete(e)}}}};var Ga=n(8275),Wa=l.default&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),ja=["change","memoryWarning"],qa=Wa?"webkitvisibilitychange":"visibilitychange",Ha=Wa?"webkitVisibilityState":"visibilityState",Ka="background",Xa="active",Ya=null,Za=function(){function e(){(0,m.default)(this,e)}return(0,v.default)(e,null,[{key:"currentState",get:function(){if(!e.isAvailable)return Xa;switch(document[Ha]){case"hidden":case"prerender":case"unloaded":return Ka;default:return Xa}}},{key:"addEventListener",value:function(t,n){if(e.isAvailable&&(A()(-1!==ja.indexOf(t),'Trying to subscribe to unknown event: "%s"',t),"change"===t))return Ya||(Ya=new le.default,document.addEventListener(qa,(function(){Ya&&Ya.emit("change",e.currentState)}),!1)),Ya.addListener(t,n)}}]),e}();function Qa(){}Za.isAvailable=l.default&&document[Ha];const Ja={exitApp:Qa,addEventListener:function(){return console.error("BackHandler is not supported on web and should not be used."),{remove:Qa}},removeEventListener:Qa};var ei,ti=function(){function e(){(0,m.default)(this,e)}return(0,v.default)(e,null,[{key:"isAvailable",value:function(){return void 0===ei&&(ei="function"===typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),ei}},{key:"getString",value:function(){return Promise.resolve("")}},{key:"setString",value:function(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var a=window.getSelection();a.removeAllRanges();var i=document.createRange();i.selectNodeContents(r),a.addRange(i);try{document.execCommand("copy"),t=!0}catch(o){}a.removeAllRanges(),n.removeChild(r)}return t}}]),e}();const ni={allowRTL:function(){},forceRTL:function(){},getConstants:function(){return{isRTL:!1}}};const ri={addListener:function(){return{remove:function(){}}},dismiss:function(){U()},removeAllListeners:function(){},removeListener:function(){}};function ai(e,t){b.default.isTesting||B.default.configureNextLayoutAnimation(e,null!==t&&void 0!==t?t:function(){},(function(){}))}function ii(e,t,n){return{duration:e,create:{type:t,property:n},update:{type:t},delete:{type:t,property:n}}}var oi={easeInEaseOut:ii(300,"easeInEaseOut","opacity"),linear:ii(500,"linear","opacity"),spring:{duration:700,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}};const si={configureNext:ai,create:ii,Types:Object.freeze({spring:"spring",linear:"linear",easeInEaseOut:"easeInEaseOut",easeIn:"easeIn",easeOut:"easeOut",keyboard:"keyboard"}),Properties:Object.freeze({opacity:"opacity",scaleX:"scaleX",scaleY:"scaleY",scaleXY:"scaleXY"}),checkConfig:function(){console.error("LayoutAnimation.checkConfig(...) has been disabled.")},Presets:oi,easeInEaseOut:ai.bind(null,oi.easeInEaseOut),linear:ai.bind(null,oi.linear),spring:ai.bind(null,oi.spring)};var ui=l.default?window.location.href:"",li=function(){function e(){(0,m.default)(this,e),this._eventCallbacks={}}return(0,v.default)(e,[{key:"_dispatchEvent",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=this._eventCallbacks[e];null!=a&&Array.isArray(a)&&a.map((function(e){e.apply(void 0,n)}))}},{key:"addEventListener",value:function(e,t){var n=this;return n._eventCallbacks[e]||(n._eventCallbacks[e]=[t]),n._eventCallbacks[e].push(t),{remove:function(){var r=n._eventCallbacks[e].filter((function(e){return e.toString()!==t.toString()}));n._eventCallbacks[e]=r}}}},{key:"removeEventListener",value:function(e,t){console.error("Linking.removeEventListener('"+e+"', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `Linking.addEventListener`.");var n=this._eventCallbacks[e].filter((function(e){return e.toString()!==t.toString()}));this._eventCallbacks[e]=n}},{key:"canOpenURL",value:function(){return Promise.resolve(!0)}},{key:"getInitialURL",value:function(){return Promise.resolve(ui)}},{key:"openURL",value:function(e,t){1===arguments.length&&(t="_blank");try{return ci(e,t),this._dispatchEvent("onOpen",e),Promise.resolve()}catch(n){return Promise.reject(n)}}},{key:"_validateURL",value:function(e){A()("string"===typeof e,"Invalid URL: should be a string. Was: "+e),A()(e,"Invalid URL: cannot be empty")}}]),e}(),ci=function(e,t){if(l.default){var n=new URL(e,window.location).toString();0===n.indexOf("tel:")?window.location=n:window.open(n,t,"noopener")}};const di=new li;var fi=n(3652),pi={centroidDimension:function(e,t,n,r){var a=e.touchBank,i=0,o=0,s=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==s)s.touchActive&&s.currentTimeStamp>t&&(i+=r&&n?s.currentPageX:r&&!n?s.currentPageY:!r&&n?s.previousPageX:s.previousPageY,o=1);else for(var u=0;u<a.length;u++){var l=a[u];if(null!==l&&void 0!==l&&l.touchActive&&l.currentTimeStamp>=t){i+=r&&n?l.currentPageX:r&&!n?l.currentPageY:!r&&n?l.previousPageX:l.previousPageY,o++}}return o>0?i/o:pi.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return pi.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return pi.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return pi.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return pi.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return pi.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return pi.centroidDimension(e,0,!1,!0)},noCentroid:-1};const hi=pi;var mi=hi.currentCentroidXOfTouchesChangedAfter,vi=hi.currentCentroidYOfTouchesChangedAfter,gi=hi.previousCentroidXOfTouchesChangedAfter,yi=hi.previousCentroidYOfTouchesChangedAfter,bi=hi.currentCentroidX,ki=hi.currentCentroidY,wi={_initializeGestureState:function(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove:function(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=mi(t,e._accountsForMovesUpTo),e.moveY=vi(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=gi(t,n),a=mi(t,n),i=yi(t,n),o=vi(t,n),s=e.dx+(a-r),u=e.dy+(o-i),l=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(s-e.dx)/l,e.vy=(u-e.dy)/l,e.dx=s,e.dy=u,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create:function(e){var t={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:function(t){return null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n)},onMoveShouldSetResponder:function(t){return null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n)},onStartShouldSetResponderCapture:function(t){return 1===t.nativeEvent.touches.length&&wi._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)},onMoveShouldSetResponderCapture:function(t){var r=t.touchHistory;return n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(wi._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:function(r){return t.handle||(t.handle=Te.createInteractionHandle()),t.timeout&&function(e){clearTimeout(e.timeout)}(t),t.shouldCancelClick=!0,n.x0=bi(r.touchHistory),n.y0=ki(r.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(r,n),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(r,n)},onResponderReject:function(r){xi(t,e.onPanResponderReject,r,n)},onResponderRelease:function(r){xi(t,e.onPanResponderRelease,r,n),Si(t),wi._initializeGestureState(n)},onResponderStart:function(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove:function(t){var r=t.touchHistory;n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(wi._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd:function(r){var a=r.touchHistory;n.numberActiveTouches=a.numberActiveTouches,xi(t,e.onPanResponderEnd,r,n)},onResponderTerminate:function(r){xi(t,e.onPanResponderTerminate,r,n),Si(t),wi._initializeGestureState(n)},onResponderTerminationRequest:function(t){return null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n)},onClickCapture:function(e){!0===t.shouldCancelClick&&(e.stopPropagation(),e.preventDefault())}},getInteractionHandle:function(){return t.handle}}}};function xi(e,t,n,r){e.handle&&(Te.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,r)}function Si(e){e.timeout=setTimeout((function(){e.shouldCancelClick=!1}),250)}const Ti=wi;const Ei=function(){function e(){(0,m.default)(this,e)}return(0,v.default)(e,null,[{key:"share",value:function(e,t){return void 0===t&&(t={}),A()("object"===typeof e&&null!==e,"Content to share must be a valid object"),A()("string"===typeof e.url||"string"===typeof e.message,"At least one of URL and message is required"),A()("object"===typeof t&&null!==t,"Options must be a valid object"),A()(!e.title||"string"===typeof e.title,"Invalid title: title should be a string."),void 0!==window.navigator.share?window.navigator.share({title:e.title,text:e.message,url:e.url}):Promise.reject(new Error("Share is not supported in this browser"))}},{key:"sharedAction",get:function(){return"sharedAction"}},{key:"dismissedAction",get:function(){return"dismissedAction"}}]),e}();var Ci=function(e){"vibrate"in window.navigator&&window.navigator.vibrate(e)};const Ni={cancel:function(){Ci(0)},vibrate:function(e){void 0===e&&(e=400),Ci(e)}};var Ii=["animating","color","hidesWhenStopped","size","style"],_i=function(e){return w.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e})},Ri=w.forwardRef((function(e,t){var n=e.animating,r=void 0===n||n,a=e.color,i=void 0===a?"#1976D2":a,o=e.hidesWhenStopped,s=void 0===o||o,u=e.size,l=void 0===u?"small":u,c=e.style,d=(0,C.default)(e,Ii),f=w.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},_i({stroke:i,opacity:.2}),_i({stroke:i,strokeDasharray:80,strokeDashoffset:60}));return w.createElement(N.default,(0,k.default)({},d,{"aria-valuemax":1,"aria-valuemin":0,ref:t,role:"progressbar",style:[Ai.container,c]}),w.createElement(N.default,{children:f,style:["number"===typeof l?{height:l,width:l}:Oi[l],Ai.animation,!r&&Ai.animationPause,!r&&s&&Ai.hidesWhenStopped]}))}));Ri.displayName="ActivityIndicator";var Ai=I.default.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),Oi=I.default.create({small:{width:20,height:20},large:{width:36,height:36}});const Di=Ri;var Fi=n(5288),$i=w.forwardRef((function(e,t){(0,jn.warnOnce)("Button","Button is deprecated. Please use Pressable.");var n=e.accessibilityLabel,r=e.color,a=e.disabled,i=e.onPress,o=e.testID,s=e.title;return w.createElement(Fi.default,{accessibilityLabel:n,accessibilityRole:"button",disabled:a,focusable:!a,onPress:i,ref:t,style:[Pi.button,r&&{backgroundColor:r},a&&Pi.buttonDisabled],testID:o},w.createElement(mr.default,{style:[Pi.text,a&&Pi.textDisabled]},s))}));$i.displayName="Button";var Pi=I.default.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const Mi=$i;var Li=["aria-readonly","color","disabled","onChange","onValueChange","readOnly","style","value"],zi=w.forwardRef((function(e,t){var n=e["aria-readonly"],a=e.color,i=e.disabled,o=e.onChange,s=e.onValueChange,u=e.readOnly,l=e.style,c=e.value,d=(0,C.default)(e,Li);var f=w.createElement(N.default,{style:[Bi.fakeControl,c&&Bi.fakeControlChecked,c&&a&&{backgroundColor:a,borderColor:a},i&&Bi.fakeControlDisabled,c&&i&&Bi.fakeControlCheckedAndDisabled]}),p=(0,r.default)("input",{checked:c,disabled:i,onChange:function(e){var t=e.nativeEvent.target.checked;e.nativeEvent.value=t,o&&o(e),s&&s(t)},readOnly:!0===u||!0===n||!0===d.accessibilityReadOnly,ref:t,style:[Bi.nativeControl,Bi.cursorInherit],type:"checkbox"});return w.createElement(N.default,(0,k.default)({},d,{"aria-disabled":i,"aria-readonly":n,style:[Bi.root,l,i&&Bi.cursorDefault]}),f,p)}));zi.displayName="CheckBox";var Bi=I.default.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:{alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"},fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:(0,y.default)((0,y.default)({},I.default.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});const Vi=zi;var Ui=["children","style","imageStyle","imageRef"],Gi={},Wi=(0,w.forwardRef)((function(e,t){var n=e.children,r=e.style,a=void 0===r?Gi:r,i=e.imageStyle,o=e.imageRef,s=(0,C.default)(e,Ui),u=I.default.flatten(a),l=u.height,c=u.width;return w.createElement(N.default,{ref:t,style:a},w.createElement(nr,(0,k.default)({},s,{ref:o,style:[{width:c,height:l,zIndex:-1},I.default.absoluteFill,i]})),n)}));Wi.displayName="ImageBackground";const ji=Wi;function qi(e){var t=Hi();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Hi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hi=function(){return!!e})()}var Ki=["behavior","contentContainerStyle","keyboardVerticalOffset"];const Xi=function(e){(0,S.default)(n,e);var t=qi(n);function n(){var e;return(0,m.default)(this,n),(e=t.apply(this,arguments)).frame=null,e.onLayout=function(t){e.frame=t.nativeEvent.layout},e}return(0,v.default)(n,[{key:"relativeKeyboardHeight",value:function(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(t.y+t.height-n,0)}},{key:"onKeyboardChange",value:function(e){}},{key:"render",value:function(){var e=this.props,t=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,(0,C.default)(e,Ki));return w.createElement(N.default,(0,k.default)({onLayout:this.onLayout},t))}}]),n}(w.Component);var Yi=n(9153);const Zi=function(e){var t=e.children,n=w.useRef(null);if(l.default&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return w.useEffect((function(){if(l.default)return function(){document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}}),[]),n.current&&l.default?Yi.createPortal(t,n.current):null};function Qi(e,t){return"slide"===e?t?eo:to:"fade"===e?t?no:ro:t?Ji.container:Ji.hidden}var Ji=I.default.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:"300ms",animationTimingFunction:"ease-in"},animatedOut:{pointerEvents:"none",animationDuration:"300ms",animationTimingFunction:"ease-out"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),eo=[Ji.container,Ji.animatedIn,Ji.slideIn],to=[Ji.container,Ji.animatedOut,Ji.slideOut],no=[Ji.container,Ji.animatedIn,Ji.fadeIn],ro=[Ji.container,Ji.animatedOut,Ji.fadeOut];const ao=function(e){var t=e.animationType,n=e.children,a=e.onDismiss,i=e.onShow,o=e.visible,s=w.useState(!1),u=s[0],l=s[1],c=w.useRef(!1),d=w.useRef(!1),f=t&&"none"!==t,p=w.useCallback((function(e){e&&e.currentTarget!==e.target||(o?i&&i():l(!1))}),[i,o]);return w.useEffect((function(){d.current&&!u&&a&&a(),d.current=u}),[u,a]),w.useEffect((function(){o&&l(!0),o===c.current||f||p(),c.current=o}),[f,o,p]),u||o?(0,r.default)("div",{style:u?Qi(t,o):Ji.hidden,onAnimationEnd:p,children:n}):null};var io=["active","children","onRequestClose","transparent"],oo=w.forwardRef((function(e,t){var n=e.active,r=e.children,a=e.onRequestClose,i=e.transparent,o=(0,C.default)(e,io);w.useEffect((function(){if(l.default){var e=function(e){n&&"Escape"===e.key&&(e.stopPropagation(),a&&a())};return document.addEventListener("keyup",e,!1),function(){return document.removeEventListener("keyup",e,!1)}}}),[n,a]);var s=w.useMemo((function(){return[so.modal,i?so.modalTransparent:so.modalOpaque]}),[i]);return w.createElement(N.default,(0,k.default)({},o,{"aria-modal":!0,ref:t,role:n?"dialog":null,style:s}),w.createElement(N.default,{style:so.container},r))})),so=I.default.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}});const uo=oo;var lo=function(){return(0,r.default)("div",{role:"none",tabIndex:0,style:mo.focusBracket})};function co(e){if(!l.default)return!1;try{e.focus()}catch(t){}return document.activeElement===e}function fo(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(co(n)||fo(n))return!0}return!1}function po(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(co(n)||po(n))return!0}return!1}const ho=function(e){var t=e.active,n=e.children,r=w.useRef(),a=w.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return w.useEffect((function(){if(l.default){var e=function(){if(null!=r.current&&!a.current.trapFocusInProgress&&t){try{if(a.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var e=fo(r.current);a.current.lastFocusedElement===document.activeElement&&(e=po(r.current)),!e&&null!=r.current&&document.activeElement&&B.default.focus(r.current)}}finally{a.current.trapFocusInProgress=!1}a.current.lastFocusedElement=document.activeElement}};return e(),document.addEventListener("focus",e,!0),function(){return document.removeEventListener("focus",e,!0)}}}),[t]),w.useEffect((function(){if(l.default){var e=document.activeElement;return function(){e&&document.contains(e)&&B.default.focus(e)}}}),[]),w.createElement(w.Fragment,null,w.createElement(lo,null),w.createElement(N.default,{ref:r},n),w.createElement(lo,null))};var mo=I.default.create({focusBracket:{outlineStyle:"none"}}),vo=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],go=0,yo=[],bo={};function ko(){if(0!==yo.length){var e=yo[yo.length-1];yo.forEach((function(t){t in bo&&bo[t](t===e)}))}}function wo(e){e in bo&&(bo[e](!1),delete bo[e]);var t=yo.indexOf(e);-1!==t&&(yo.splice(t,1),ko())}const xo=w.forwardRef((function(e,t){var n=e.animationType,r=e.children,a=e.onDismiss,i=e.onRequestClose,o=e.onShow,s=e.transparent,u=e.visible,l=void 0===u||u,c=(0,C.default)(e,vo),d=w.useMemo((function(){return go++}),[]),f=w.useState(!1),p=f[0],h=f[1],m=w.useCallback((function(){wo(d),a&&a()}),[d,a]),v=w.useCallback((function(){!function(e,t){wo(e),yo.push(e),bo[e]=t,ko()}(d,h),o&&o()}),[d,o]);return w.useEffect((function(){return function(){return wo(d)}}),[d]),w.createElement(Zi,null,w.createElement(ao,{animationType:n,onDismiss:m,onShow:v,visible:l},w.createElement(ho,{active:p},w.createElement(uo,(0,k.default)({},c,{active:p,onRequestClose:i,ref:t,transparent:s}),r))))}));var So=n(5715);var To=["children","enabled","onValueChange","selectedValue","style","testID","itemStyle","mode","prompt"],Eo=w.forwardRef((function(e,t){var n=e.children,a=e.enabled,i=e.onValueChange,o=e.selectedValue,s=e.style,u=e.testID,l=(e.itemStyle,e.mode,e.prompt,(0,C.default)(e,To)),c=w.useRef(null);var d=(0,y.default)({children:n,disabled:!1===a||void 0,onChange:function(e){var t=e.target,n=t.selectedIndex,r=t.value;i&&i(r,n)},style:[Co.initial,s],testID:u,value:o},l),f=(0,So.default)(d),p=(0,W.default)(c,f,t);return d.ref=p,(0,r.default)("select",d)}));Eo.Item=function(e){var t=e.color,n=e.label,a=e.testID,i=e.value,o={color:t};return(0,r.default)("option",{children:n,style:o,testID:a,value:i})};var Co=I.default.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}});const No=Eo;var Io=function(){};var _o=function(){var e=!1;if(l.default)try{var t={};Object.defineProperty(t,"passive",{get:function(){return e=!0,!1}}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function Ro(){return this.cancelBubble}function Ao(){return this.defaultPrevented}function Oo(e,t,n,r){var a=function(e){return null!=e&&(_o?e:Boolean(e.capture))}(r),i=function(e){return n(((t=e).nativeEvent=t,t.persist=Io,t.isDefaultPrevented=Ao,t.isPropagationStopped=Ro,t));var t};return e.addEventListener(t,i,a),function(){null!=e&&e.removeEventListener(t,i,a)}}var Do,Fo,$o="keyboard",Po="keyboard",Mo=!1,Lo=new Set,zo="keyboard",Bo="mouse",Vo="touch",Uo="contextmenu",Go="mousedown",Wo="mousemove",jo="mouseup",qo="pointerdown",Ho="pointermove",Ko="scroll",Xo="selectionchange",Yo="touchcancel",Zo="touchmove",Qo="touchstart",Jo={passive:!0},es={capture:!0,passive:!0};function ts(){null==Do&&null==Fo||(null!=Do&&(Po=Do,Do=null),null!=Fo&&($o=Fo,Fo=null),rs())}function ns(e){var t=e.type;if("undefined"!==typeof window&&null!=window.PointerEvent){if(t===qo)return void($o!==e.pointerType&&(Po=e.pointerType,$o=e.pointerType,rs()));if(t===Ho)return void(Po!==e.pointerType&&(Po=e.pointerType,rs()))}else{if(Mo||(t===Go&&$o!==Bo&&(Po=Bo,$o=Bo,rs()),t===Wo&&Po!==Bo&&(Po=Bo,rs())),t===Qo)return Mo=!0,e.touches&&e.touches.length>1&&(Mo=!1),void($o!==Vo&&(Po=Vo,$o=Vo,rs()));t!==Uo&&t!==jo&&t!==Xo&&t!==Ko&&t!==Yo&&t!==Zo||(Mo=!1)}}function rs(){var e={activeModality:$o,modality:Po};Lo.forEach((function(t){t(e)}))}l.default&&(Oo(window,"blur",(function(){Do=Po,Fo=$o,$o=zo,Po=zo,rs(),Mo=!1}),Jo),Oo(window,"focus",(function(){ts()}),Jo),Oo(document,"keydown",(function(e){e.metaKey||e.altKey||e.ctrlKey||Po!==zo&&(Po=zo,$o=zo,rs())}),es),Oo(document,"visibilitychange",(function(){"hidden"!==document.visibilityState&&ts()}),es),Oo(document,qo,ns,es),Oo(document,Ho,ns,es),Oo(document,Uo,ns,es),Oo(document,Go,ns,es),Oo(document,Wo,ns,es),Oo(document,jo,ns,es),Oo(document,Yo,ns,es),Oo(document,Zo,ns,es),Oo(document,Qo,ns,es),Oo(document,Xo,ns,es),Oo(document,Ko,ns,es));var as=n(3179);function is(e,t){var n=(0,as.default)((function(){return new Map})),r=(0,as.default)((function(){return function(r,a){var i=n.get(r);null!=i&&i(),null==a&&(n.delete(r),a=function(){});var o=Oo(r,e,a,t);return n.set(r,o),o}}));return(0,In.default)((function(){return function(){n.forEach((function(e){e()})),n.clear()}}),[n]),r}var os={},ss={passive:!0},us="react-gui:hover:lock",ls="react-gui:hover:unlock",cs=function(){return!("undefined"===typeof window||null==window.PointerEvent)};function ds(e,t,n){var r=document.createEvent("CustomEvent"),a=n||os,i=a.bubbles,o=void 0===i||i,s=a.cancelable,u=void 0===s||s,l=a.detail;r.initCustomEvent(t,o,u,l),e.dispatchEvent(r)}function fs(e){var t=e.pointerType;return null!=t?t:Po}var ps=n(6531),hs=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function ms(e){var t=(0,w.useState)(!1);return[t[0]||e,t[1]]}var vs=I.default.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),gs=(0,w.memo)((0,w.forwardRef)((function(e,t){var n=e.children,r=e.delayLongPress,a=e.delayPressIn,i=e.delayPressOut,o=e.disabled,s=e.onBlur,u=e.onContextMenu,l=e.onFocus,c=e.onHoverIn,d=e.onHoverOut,f=e.onKeyDown,p=e.onLongPress,h=e.onPress,m=e.onPressMove,v=e.onPressIn,g=e.onPressOut,y=e.style,b=e.tabIndex,x=e.testOnly_hovered,S=e.testOnly_pressed,T=(0,C.default)(e,hs),E=ms(!0===x),I=E[0],_=E[1],R=ms(!1),A=R[0],O=R[1],D=ms(!0===S),F=D[0],$=D[1],P=(0,w.useRef)(null),M=(0,W.default)(t,P),L=(0,w.useMemo)((function(){return{delayLongPress:r,delayPressStart:a,delayPressEnd:i,disabled:o,onLongPress:p,onPress:h,onPressChange:$,onPressStart:v,onPressMove:m,onPressEnd:g}}),[r,a,i,o,p,h,v,m,g,$]),z=(0,ps.default)(P,L),B=z.onContextMenu,V=z.onKeyDown;!function(e,t){var n=t.contain,r=t.disabled,a=t.onHoverStart,i=t.onHoverChange,o=t.onHoverUpdate,s=t.onHoverEnd,u=cs(),l=is(u?"pointermove":"mousemove",ss),c=is(u?"pointerenter":"mouseenter",ss),d=is(u?"pointerleave":"mouseleave",ss),f=is(us,ss),p=is(ls,ss);(0,In.default)((function(){var t=e.current;if(null!==t){var u=function(e){null!=s&&s(e),null!=i&&i(!1),l(t,null),d(t,null)},h=function(t){var r=e.current;null!=r&&"touch"!==fs(t)&&(n&&ds(r,ls),u(t))},m=function(e){"touch"!==fs(e)&&null!=o&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),o(e))},v=function(e){null!=a&&a(e),null!=i&&i(!0),null!=o&&l(t,r?null:m),d(t,r?null:h)};c(t,r?null:function(t){var a=e.current;null!=a&&"touch"!==fs(t)&&(n&&ds(a,us),v(t),f(a,r?null:function(e){e.target!==a&&u(t)}),p(a,r?null:function(e){e.target!==a&&v(t)}))})}}),[c,l,d,f,p,n,r,a,i,o,s,e])}(P,{contain:!0,disabled:o,onHoverChange:_,onHoverStart:c,onHoverEnd:d});var U,G={hovered:I,focused:A,pressed:F},j=w.useCallback((function(e){e.nativeEvent.target===P.current&&(O(!1),null!=s&&s(e))}),[P,O,s]),q=w.useCallback((function(e){e.nativeEvent.target===P.current&&(O(!0),null!=l&&l(e))}),[P,O,l]),H=w.useCallback((function(e){null!=B&&B(e),null!=u&&u(e)}),[u,B]),K=w.useCallback((function(e){null!=V&&V(e),null!=f&&f(e)}),[f,V]);return U=void 0!==b?b:o?-1:0,w.createElement(N.default,(0,k.default)({},T,z,{"aria-disabled":o,onBlur:j,onContextMenu:H,onFocus:q,onKeyDown:K,ref:M,style:[o?vs.disabled:vs.active,"function"===typeof y?y(G):y],tabIndex:U}),"function"===typeof n?n(G):n)})));gs.displayName="Pressable";const ys=gs;var bs=["color","indeterminate","progress","trackColor","style"],ks=w.forwardRef((function(e,t){var n=e.color,r=void 0===n?"#1976D2":n,a=e.indeterminate,i=void 0!==a&&a,o=e.progress,s=void 0===o?0:o,u=e.trackColor,l=void 0===u?"transparent":u,c=e.style,d=(0,C.default)(e,bs),f=100*s,p=i?"25%":f+"%";return w.createElement(N.default,(0,k.default)({},d,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":i?null:f,ref:t,role:"progressbar",style:[ws.track,c,{backgroundColor:l}]}),w.createElement(N.default,{style:[{backgroundColor:r,width:p},ws.progress,i&&ws.animation]}))}));ks.displayName="ProgressBar";var ws=I.default.create({track:{forcedColorAdjust:"none",height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{forcedColorAdjust:"none",height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(400%)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}});const xs=ks;var Ss=["style"],Ts=l.default&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",Es=w.forwardRef((function(e,t){var n=e.style,r=(0,C.default)(e,Ss);return w.createElement(N.default,(0,k.default)({},r,{ref:t,style:[Cs.root,n]}))}));Es.displayName="SafeAreaView";var Cs=I.default.create({root:{paddingTop:Ts+"(safe-area-inset-top)",paddingRight:Ts+"(safe-area-inset-right)",paddingBottom:Ts+"(safe-area-inset-bottom)",paddingLeft:Ts+"(safe-area-inset-left)"}});const Ns=Es;var Is=function(){};function _s(){return null}_s.setBackgroundColor=Is,_s.setBarStyle=Is,_s.setHidden=Is,_s.setNetworkActivityIndicatorVisible=Is,_s.setTranslucent=Is;const Rs=_s;var As=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/;const Os=function(e,t){var n;return"string"===typeof e?""+parseFloat(e)*t+e.match(As)[1]:(n=e,!isNaN(parseFloat(n))&&isFinite(n)?e*t:void 0)};var Ds=["aria-label","accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"],Fs={},$s="0px 1px 3px rgba(0,0,0,0.5)",Ps=$s+", 0 0 0 10px rgba(0,0,0,0.1)",Ms="#D5D5D5",Ls="#BDBDBD",zs=w.forwardRef((function(e,t){var n=e["aria-label"],a=e.accessibilityLabel,i=e.activeThumbColor,o=e.activeTrackColor,s=e.disabled,u=void 0!==s&&s,l=e.onValueChange,c=e.style,d=void 0===c?Fs:c,f=e.thumbColor,p=e.trackColor,h=e.value,m=void 0!==h&&h,v=(0,C.default)(e,Ds),g=w.useRef(null);function y(e){var t="focus"===e.nativeEvent.type?Ps:$s;null!=g.current&&(g.current.style.boxShadow=t)}var b=I.default.flatten(d),x=b.height,S=b.width,T=x||"20px",E=Os(T,2),_=S>E?S:E,R=Os(T,.5),A=!0===m?null!=p&&"object"===typeof p?p.true:null!==o&&void 0!==o?o:"#A3D3CF":null!=p&&"object"===typeof p?p.false:null!==p&&void 0!==p?p:"#939393",O=m?null!==i&&void 0!==i?i:"#009688":null!==f&&void 0!==f?f:"#FAFAFA",D=T,F=D,$=[Bs.root,d,u&&Bs.cursorDefault,{height:T,width:_}],P=!0===m?"string"===typeof o&&null!=o||"object"===typeof p&&null!=p&&p.true?A:Ms:"string"===typeof p&&null!=p||"object"===typeof p&&null!=p&&p.false?A:Ms,M=!0===m?null==i?Ls:O:null==f?Ls:O,L=[Bs.track,{backgroundColor:u?P:A,borderRadius:R}],z=[Bs.thumb,m&&Bs.thumbActive,{backgroundColor:u?M:O,height:D,marginStart:m?Os(F,-1):0,width:F}],B=(0,r.default)("input",{"aria-label":n||a,checked:m,disabled:u,onBlur:y,onChange:function(e){null!=l&&l(e.nativeEvent.target.checked)},onFocus:y,ref:t,style:[Bs.nativeControl,Bs.cursorInherit],type:"checkbox",role:"switch"});return w.createElement(N.default,(0,k.default)({},v,{style:$}),w.createElement(N.default,{style:L}),w.createElement(N.default,{ref:g,style:z}),B)}));zs.displayName="Switch";var Bs=I.default.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:(0,y.default)((0,y.default)({forcedColorAdjust:"none"},I.default.absoluteFillObject),{},{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),thumb:{forcedColorAdjust:"none",alignSelf:"flex-start",borderRadius:"100%",boxShadow:$s,start:"0%",transform:"translateZ(0)",transitionDuration:"0.1s"},thumbActive:{insetInlineStart:"100%"},nativeControl:(0,y.default)((0,y.default)({},I.default.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});const Vs=zs;var Us=n(9383),Gs=n(7316),Ws=n(7732),js=n(9627),qs=n(1014),Hs=function(e,t){if(function(e,t){var n=e.selectionEnd,r=e.selectionStart,a=t.start,i=t.end;return a!==r||i!==n}(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(a){}}},Ks=Object.assign({},Us.defaultProps,Us.accessibilityProps,Us.clickProps,Us.focusProps,Us.keyboardProps,Us.mouseProps,Us.touchProps,Us.styleProps,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var Xs=null,Ys=w.forwardRef((function(e,t){var n,a,i=e.autoCapitalize,o=void 0===i?"sentences":i,s=e.autoComplete,u=e.autoCompleteType,l=e.autoCorrect,c=void 0===l||l,d=e.blurOnSubmit,f=e.caretHidden,p=e.clearTextOnFocus,h=e.dir,m=e.editable,v=e.enterKeyHint,g=e.inputMode,y=e.keyboardType,b=e.multiline,k=void 0!==b&&b,x=e.numberOfLines,S=e.onBlur,T=e.onChange,E=e.onChangeText,C=e.onContentSizeChange,N=e.onFocus,I=e.onKeyPress,_=e.onLayout,R=e.onMoveShouldSetResponder,A=e.onMoveShouldSetResponderCapture,O=e.onResponderEnd,D=e.onResponderGrant,F=e.onResponderMove,$=e.onResponderReject,P=e.onResponderRelease,M=e.onResponderStart,L=e.onResponderTerminate,z=e.onResponderTerminationRequest,B=e.onScrollShouldSetResponder,U=e.onScrollShouldSetResponderCapture,G=e.onSelectionChange,j=e.onSelectionChangeShouldSetResponder,q=e.onSelectionChangeShouldSetResponderCapture,H=e.onStartShouldSetResponder,K=e.onStartShouldSetResponderCapture,X=e.onSubmitEditing,Y=e.placeholderTextColor,Z=e.readOnly,Q=void 0!==Z&&Z,J=e.returnKeyType,ee=e.rows,te=e.secureTextEntry,ne=void 0!==te&&te,re=e.selection,ae=e.selectTextOnFocus,ie=e.spellCheck;if(null!=g)a=g,n="email"===g?"email":"tel"===g?"tel":"search"===g?"search":"url"===g?"url":"text";else if(null!=y)switch((0,jn.warnOnce)("keyboardType","keyboardType is deprecated. Use inputMode."),y){case"email-address":n="email";break;case"number-pad":case"numeric":a="numeric";break;case"decimal-pad":a="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}ne&&(n="password");var oe=w.useRef({height:null,width:null}),se=w.useRef(null),ue=w.useRef(null),le=w.useRef(!1);w.useEffect((function(){se.current&&ue.current&&Hs(se.current,ue.current),le.current=ne}),[ne]);var ce=w.useCallback((function(e){if(k&&C&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===oe.current.height&&n===oe.current.width||(oe.current.height=t,oe.current.width=n,C({nativeEvent:{contentSize:{height:oe.current.height,width:oe.current.width}}}))}}),[k,C]),de=w.useMemo((function(){return function(e){null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&V.currentlyFocusedField()===e},ce(e))}}),[ce]);(0,In.default)((function(){var e=se.current;null!=e&&null!=re&&Hs(e,re),document.activeElement===e&&(V._currentlyFocusedNode=e)}),[se,re]);var fe=k?"textarea":"input";(0,Ws.default)(se,_),(0,js.default)(se,{onMoveShouldSetResponder:R,onMoveShouldSetResponderCapture:A,onResponderEnd:O,onResponderGrant:D,onResponderMove:F,onResponderReject:$,onResponderRelease:P,onResponderStart:M,onResponderTerminate:L,onResponderTerminationRequest:z,onScrollShouldSetResponder:B,onScrollShouldSetResponderCapture:U,onSelectionChangeShouldSetResponder:j,onSelectionChangeShouldSetResponderCapture:q,onStartShouldSetResponder:H,onStartShouldSetResponderCapture:K});var pe=(0,qs.useLocaleContext)().direction,he=function(e){return(0,Gs.default)(e,Ks)}(e);he.autoCapitalize=o,he.autoComplete=s||u||"on",he.autoCorrect=c?"on":"off",he.dir=void 0!==h?h:"auto",null!=J&&(0,jn.warnOnce)("returnKeyType","returnKeyType is deprecated. Use enterKeyHint."),he.enterKeyHint=v||J,he.inputMode=a,he.onBlur=function(e){V._currentlyFocusedNode=null,S&&(e.nativeEvent.text=e.target.value,S(e))},he.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,ce(t),T&&T(e),E&&E(n)},he.onFocus=function(e){var t=e.target;N&&(e.nativeEvent.text=t.value,N(e)),null!=t&&(V._currentlyFocusedNode=t,p&&(t.value=""),ae&&(null!=Xs&&clearTimeout(Xs),Xs=setTimeout((function(){null!=t&&t.select()}),0)))},he.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==d?!k:d,r=e.nativeEvent,a=function(e){return e.isComposing||229===e.keyCode}(r);I&&I(e),"Enter"!==e.key||e.shiftKey||a||e.isDefaultPrevented()||(!d&&k||!X||(e.preventDefault(),r.text=e.target.value,X(e)),n&&null!=t&&setTimeout((function(){return t.blur()}),0))},he.onSelect=function(e){try{var t=e.target,n={start:t.selectionStart,end:t.selectionEnd};G&&(e.nativeEvent.selection=n,e.nativeEvent.text=e.target.value,G(e)),le.current===ne&&(ue.current=n)}catch(e){}},null!=m&&(0,jn.warnOnce)("editable","editable is deprecated. Use readOnly."),he.readOnly=!0===Q||!1===m,null!=x&&(0,jn.warnOnce)("numberOfLines","TextInput numberOfLines is deprecated. Use rows."),he.rows=k?null!=ee?ee:x:1,he.spellCheck=null!=ie?ie:c,he.style=[{"--placeholderTextColor":Y},Zs.textinput$raw,Zs.placeholder,e.style,f&&Zs.caretHidden],he.type=k?void 0:n;var me=(0,So.default)(he),ve=(0,W.default)(se,me,de,t);he.ref=ve;var ge=null!=e.lang?(0,qs.getLocaleDirection)(e.lang):null,ye=e.dir||ge||pe;return(0,r.default)(fe,he,{writingDirection:ye})}));Ys.displayName="TextInput",Ys.State=V;var Zs=I.default.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const Qs=Ys;var Js=n(8585),eu=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},tu=function(e){var t=this;e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},nu=eu;const ru={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||nu,n.poolSize||(n.poolSize=10),n.release=tu,n},twoArgumentPooler:eu};var au=ru.twoArgumentPooler;function iu(e,t){this.width=e,this.height=t}iu.prototype.destructor=function(){this.width=null,this.height=null},iu.getPooledFromElement=function(e){return iu.getPooled(e.offsetWidth,e.offsetHeight)},ru.addPoolingTo(iu,au);const ou=iu;var su=ru.twoArgumentPooler;function uu(e,t){this.left=e,this.top=t}uu.prototype.destructor=function(){this.left=null,this.top=null},ru.addPoolingTo(uu,su);const lu=uu;var cu=function(e){var t=e.touches,n=e.changedTouches,r=t&&t.length>0,a=n&&n.length>0;return!r&&a?n[0]:r?t[0]:e},du="NOT_RESPONDER",fu="RESPONDER_INACTIVE_PRESS_IN",pu="RESPONDER_INACTIVE_PRESS_OUT",hu="RESPONDER_ACTIVE_PRESS_IN",mu="RESPONDER_ACTIVE_PRESS_OUT",vu="RESPONDER_ACTIVE_LONG_PRESS_IN",gu="RESPONDER_ACTIVE_LONG_PRESS_OUT",yu="ERROR",bu={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},ku=(0,y.default)((0,y.default)({},bu),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),wu=(0,y.default)((0,y.default)({},bu),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),xu=(0,y.default)((0,y.default)({},bu),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),Su="DELAY",Tu="RESPONDER_GRANT",Eu="RESPONDER_RELEASE",Cu="RESPONDER_TERMINATED",Nu="ENTER_PRESS_RECT",Iu="LEAVE_PRESS_RECT",_u="LONG_PRESS_DETECTED",Ru={NOT_RESPONDER:{DELAY:yu,RESPONDER_GRANT:fu,RESPONDER_RELEASE:yu,RESPONDER_TERMINATED:yu,ENTER_PRESS_RECT:yu,LEAVE_PRESS_RECT:yu,LONG_PRESS_DETECTED:yu},RESPONDER_INACTIVE_PRESS_IN:{DELAY:hu,RESPONDER_GRANT:yu,RESPONDER_RELEASE:du,RESPONDER_TERMINATED:du,ENTER_PRESS_RECT:fu,LEAVE_PRESS_RECT:pu,LONG_PRESS_DETECTED:yu},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:mu,RESPONDER_GRANT:yu,RESPONDER_RELEASE:du,RESPONDER_TERMINATED:du,ENTER_PRESS_RECT:fu,LEAVE_PRESS_RECT:pu,LONG_PRESS_DETECTED:yu},RESPONDER_ACTIVE_PRESS_IN:{DELAY:yu,RESPONDER_GRANT:yu,RESPONDER_RELEASE:du,RESPONDER_TERMINATED:du,ENTER_PRESS_RECT:hu,LEAVE_PRESS_RECT:mu,LONG_PRESS_DETECTED:vu},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:yu,RESPONDER_GRANT:yu,RESPONDER_RELEASE:du,RESPONDER_TERMINATED:du,ENTER_PRESS_RECT:hu,LEAVE_PRESS_RECT:mu,LONG_PRESS_DETECTED:yu},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:yu,RESPONDER_GRANT:yu,RESPONDER_RELEASE:du,RESPONDER_TERMINATED:du,ENTER_PRESS_RECT:vu,LEAVE_PRESS_RECT:gu,LONG_PRESS_DETECTED:vu},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:yu,RESPONDER_GRANT:yu,RESPONDER_RELEASE:du,RESPONDER_TERMINATED:du,ENTER_PRESS_RECT:vu,LEAVE_PRESS_RECT:gu,LONG_PRESS_DETECTED:yu},error:{DELAY:du,RESPONDER_GRANT:fu,RESPONDER_RELEASE:du,RESPONDER_TERMINATED:du,ENTER_PRESS_RECT:du,LEAVE_PRESS_RECT:du,LONG_PRESS_DETECTED:du}},Au={componentDidMount:function(){var e=this;(0,jn.warnOnce)("TouchableMixin","TouchableMixin is deprecated. Please use Pressable.");var t=this.getTouchableNode&&this.getTouchableNode();t&&t.addEventListener&&(this._touchableBlurListener=function(t){e._isTouchableKeyboardActive&&(e.state.touchable.touchState&&e.state.touchable.touchState!==du&&e.touchableHandleResponderTerminate({nativeEvent:t}),e._isTouchableKeyboardActive=!1)},t.addEventListener("blur",this._touchableBlurListener))},componentWillUnmount:function(){var e=this.getTouchableNode&&this.getTouchableNode();e&&e.addEventListener&&e.removeEventListener("blur",this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressInLocation=null,this.state.touchable.responderID=null},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(e){var t=e.currentTarget;e.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=du,this.state.touchable.responderID=t,this._receiveSignal(Tu,e);var n=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(n=isNaN(n)?130:n)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,e),n):this._handleDelay(e);var r=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;r=isNaN(r)?370:r,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,e),r+n)},touchableHandleResponderRelease:function(e){this.pressInLocation=null,this._receiveSignal(Eu,e)},touchableHandleResponderTerminate:function(e){this.pressInLocation=null,this._receiveSignal(Cu,e)},touchableHandleResponderMove:function(e){if(this.state.touchable.positionOnActivate){var t=this.state.touchable.positionOnActivate,n=this.state.touchable.dimensionsOnActivate,r=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},a=r.left,i=r.top,o=r.right,s=r.bottom,u=this.touchableGetHitSlop?this.touchableGetHitSlop():null;u&&(a+=u.left||0,i+=u.top||0,o+=u.right||0,s+=u.bottom||0);var l=cu(e.nativeEvent),c=l&&l.pageX,d=l&&l.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(c,d,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(c>t.left-a&&d>t.top-i&&c<t.left+n.width+o&&d<t.top+n.height+s){var f=this.state.touchable.touchState;this._receiveSignal(Nu,e),this.state.touchable.touchState===fu&&f!==fu&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(Iu,e)}},touchableHandleFocus:function(e){this.props.onFocus&&this.props.onFocus(e)},touchableHandleBlur:function(e){this.props.onBlur&&this.props.onBlur(e)},_remeasureMetricsOnActivation:function(){var e=this.state.touchable.responderID;null!=e&&B.default.measure(e,this._handleQueryLayout)},_handleQueryLayout:function(e,t,n,r,a,i){(e||t||n||r||a||i)&&(this.state.touchable.positionOnActivate&&lu.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&ou.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=lu.getPooled(a,i),this.state.touchable.dimensionsOnActivate=ou.getPooled(n,r))},_handleDelay:function(e){this.touchableDelayTimeout=null,this._receiveSignal(Su,e)},_handleLongDelay:function(e){this.longPressDelayTimeout=null;var t=this.state.touchable.touchState;t!==hu&&t!==vu?console.error("Attempted to transition from state `"+t+"` to `"+vu+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(_u,e)},_receiveSignal:function(e,t){var n=this.state.touchable.responderID,r=this.state.touchable.touchState,a=Ru[r]&&Ru[r][e];if(n||e!==Eu){if(!a)throw new Error("Unrecognized signal `"+e+"` or state `"+r+"` for Touchable responder `"+n+"`");if(a===yu)throw new Error("Touchable cannot transition from `"+r+"` to `"+e+"` for responder `"+n+"`");r!==a&&(this._performSideEffectsForTransition(r,a,e,t),this.state.touchable.touchState=a)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(e){return e===hu||e===vu},_savePressInLocation:function(e){var t=cu(e.nativeEvent),n=t&&t.pageX,r=t&&t.pageY,a=t&&t.locationX,i=t&&t.locationY;this.pressInLocation={pageX:n,pageY:r,locationX:a,locationY:i}},_getDistanceBetweenPoints:function(e,t,n,r){var a=e-n,i=t-r;return Math.sqrt(a*a+i*i)},_performSideEffectsForTransition:function(e,t,n,r){var a=this._isHighlight(e),i=this._isHighlight(t);(n===Cu||n===Eu)&&this._cancelLongPressDelayTimeout();var o=e===du&&t===fu,s=!ku[e]&&ku[t];if((o||s)&&this._remeasureMetricsOnActivation(),wu[e]&&n===_u&&this.touchableHandleLongPress&&this.touchableHandleLongPress(r),i&&!a?this._startHighlight(r):!i&&a&&this._endHighlight(r),wu[e]&&n===Eu){var u=!!this.props.onLongPress,l=xu[e]&&(!u||!this.touchableLongPressCancelsPress());(!xu[e]||l)&&this.touchableHandlePress&&(i||a||(this._startHighlight(r),this._endHighlight(r)),this.touchableHandlePress(r))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){B.default.playTouchSound()},_startHighlight:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(e)},_endHighlight:function(e){var t=this;this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout((function(){t.touchableHandleActivePressOut(e)}),this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(e))},touchableHandleKeyEvent:function(e){var t=e.type,n=e.key;"Enter"!==n&&" "!==n||("keydown"===t?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==du||(this.touchableHandleResponderGrant(e),this._isTouchableKeyboardActive=!0):"keyup"===t&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==du&&(this.touchableHandleResponderRelease(e),this._isTouchableKeyboardActive=!1),e.stopPropagation(),"Enter"===n&&"link"===Js.default.propsToAriaRole(this.props)||e.preventDefault())},withoutDefaultFocusAndBlur:{}},Ou=(Au.touchableHandleFocus,Au.touchableHandleBlur,(0,C.default)(Au,["touchableHandleFocus","touchableHandleBlur"]));Au.withoutDefaultFocusAndBlur=Ou;var Du={Mixin:Au,TOUCH_TARGET_DEBUG:!1,renderDebugView:function(e){var t=e.color,n=e.hitSlop;if(!Du.TOUCH_TARGET_DEBUG)return null;var r={};for(var a in n=n||{top:0,bottom:0,left:0,right:0})r[a]=-n[a];var i=Qt()(t);if("number"!==typeof i)return null;var o="#"+("00000000"+i.toString(16)).substr(-8);return w.createElement(N.default,{pointerEvents:"none",style:(0,y.default)({position:"absolute",borderColor:o.slice(0,-2)+"55",borderWidth:1,borderStyle:"dashed",backgroundColor:o.slice(0,-2)+"0F"},r)})}};const Fu=Du;var $u=n(736);function Pu(e){var t=Mu();return function(){var n,r=(0,E.default)(e);if(t){var a=(0,E.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.default)(this,n)}}function Mu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Mu=function(){return!!e})()}var Lu=function(e){(0,S.default)(n,e);var t=Pu(n);function n(){return(0,m.default)(this,n),t.apply(this,arguments)}return(0,v.default)(n,[{key:"render",value:function(){return w.createElement(N.default,{style:[zu,this.props.style]},this.props.children)}}]),n}(w.Component),zu={};const Bu=Lu,Vu=Bu;var Uu={accessibilityDisabled:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,children:!0,disabled:!0,focusable:!0,nativeID:!0,onBlur:!0,onFocus:!0,onLayout:!0,testID:!0};var Gu=w.memo(w.forwardRef((function(e,t){(0,jn.warnOnce)("TouchableWithoutFeedback","TouchableWithoutFeedback is deprecated. Please use Pressable.");var n=e.delayPressIn,r=e.delayPressOut,a=e.delayLongPress,i=e.disabled,o=e.focusable,s=e.onLongPress,u=e.onPress,l=e.onPressIn,c=e.onPressOut,d=e.rejectResponderTermination,f=(0,w.useRef)(null),p=(0,w.useMemo)((function(){return{cancelable:!d,disabled:i,delayLongPress:a,delayPressStart:n,delayPressEnd:r,onLongPress:s,onPress:u,onPressStart:l,onPressEnd:c}}),[i,n,r,a,s,u,l,c,d]),h=(0,ps.default)(f,p),m=w.Children.only(e.children),v=[m.props.children],g=function(e){return(0,Gs.default)(e,Uu)}(e);g.accessibilityDisabled=i,g.focusable=!i&&!1!==o,g.ref=(0,W.default)(t,f,m.ref);var y=Object.assign(g,h);return w.cloneElement.apply(x,[m,y].concat(v))})));Gu.displayName="TouchableWithoutFeedback";const Wu=Gu,ju=ct;function qu(e){return w.createElement(Bu,e)}qu.ignoreWarnings=function(){};const Hu=qu;const Ku={ignoreLogs:function(){},ignoreAllLogs:function(){},uninstall:function(){},install:function(){}};var Xu=n(7301);function Yu(){var e=w.useState(Ua.getColorScheme()),t=e[0],n=e[1];return w.useEffect((function(){return Ua.addChangeListener((function(e){n(e.colorScheme)})).remove})),t}const Zu=qs.useLocaleContext;function Qu(){var e=(0,w.useState)((function(){return z.default.get("window")})),t=e[0],n=e[1];return(0,w.useEffect)((function(){function e(e){var t=e.window;null!=t&&n(t)}return z.default.addEventListener("change",e),n(z.default.get("window")),function(){z.default.removeEventListener("change",e)}}),[]),t}},8585:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const a=function(e){var t=e.accessibilityRole,n=e.role||t;if(n){var a=r[n];if(null!==a)return a||n}};var i={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},o={};const s={isDisabled:function(e){return e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1},propsToAccessibilityComponent:function(e){if(void 0===e&&(e=o),"label"===e.accessibilityRole)return"label";var t=a(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return i[t]}},propsToAriaRole:a}},2647:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=!("undefined"===typeof window||!window.document||!window.document.createElement)},9383:(e,t,n)=>{"use strict";n.r(t),n.d(t,{accessibilityProps:()=>a,clickProps:()=>i,defaultProps:()=>r,focusProps:()=>o,keyboardProps:()=>s,mouseProps:()=>u,styleProps:()=>c,touchProps:()=>l});var r={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},a={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},i={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},o={onBlur:!0,onFocus:!0},s={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},u={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},l={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},c={style:!0}},1899:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});n(5004);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach((function(t){null!=t&&("function"!==typeof t?"object"!==typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))}))}}},7316:(e,t,n)=>{"use strict";function r(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}n.r(t),n.d(t,{default:()=>r})},7732:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(8693),a=n(4913),i=n(2647),o="__reactLayoutHandler",s=(i.default,null);function u(e,t){var n=(i.default&&"undefined"!==typeof window.ResizeObserver&&null==s&&(s=new window.ResizeObserver((function(e){e.forEach((function(e){var t=e.target,n=t[o];"function"===typeof n&&a.default.measure(t,(function(t,r,a,i,o,s){var u={nativeEvent:{layout:{x:t,y:r,width:a,height:i,left:o,top:s}},timeStamp:Date.now()};Object.defineProperty(u.nativeEvent,"target",{enumerable:!0,get:function(){return e.target}}),n(u)}))}))}))),s);(0,r.default)((function(){var n=e.current;null!=n&&(n[o]=t)}),[e,t]),(0,r.default)((function(){var t=e.current;return null!=t&&null!=n&&("function"===typeof t[o]?n.observe(t):n.unobserve(t)),function(){null!=t&&null!=n&&n.unobserve(t)}}),[e,n])}},8693:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(5004);const a=n(2647).default?r.useLayoutEffect:r.useEffect},1014:(e,t,n)=>{"use strict";n.r(t),n.d(t,{LocaleProvider:()=>l,getLocaleDirection:()=>u,useLocaleContext:()=>c});var r=n(5004),a=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),i=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),o=new Map;var s=(0,r.createContext)({direction:"ltr",locale:"en-US"});function u(e){return function(e){var t=o.get(e);if(t)return t;var n=!1;if(Intl.Locale){var r=new Intl.Locale(e).maximize().script;n=a.has(r)}else{var s=e.split("-")[0];n=i.has(s)}return o.set(e,n),n}(e)?"rtl":"ltr"}function l(e){var t=e.direction,n=e.locale,a=e.children;return t||n?r.createElement(s.Provider,{children:a,value:{direction:n?u(n):t,locale:n}}):a}function c(){return(0,r.useContext)(s)}},3733:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5004),a=n(1899);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo((function(){return a.default.apply(void 0,t)}),[].concat(t))}},5715:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(4913),a=n(3179);function i(e){e.pointerEvents,e.style;return(0,a.default)((function(){return function(e){null!=e&&(e.measure=function(t){return r.default.measure(e,t)},e.measureLayout=function(t,n,a){return r.default.measureLayout(e,t,a,n)},e.measureInWindow=function(t){return r.default.measureInWindow(e,t)})}}))}},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var r=n(5671),a=n(3144),i="DELAY",o="ERROR",s="LONG_PRESS_DETECTED",u="NOT_RESPONDER",l="RESPONDER_ACTIVE_LONG_PRESS_START",c="RESPONDER_ACTIVE_PRESS_START",d="RESPONDER_INACTIVE_PRESS_START",f="RESPONDER_RELEASE",p="RESPONDER_TERMINATED",h=Object.freeze({NOT_RESPONDER:{DELAY:o,RESPONDER_GRANT:d,RESPONDER_RELEASE:o,RESPONDER_TERMINATED:o,LONG_PRESS_DETECTED:o},RESPONDER_INACTIVE_PRESS_START:{DELAY:c,RESPONDER_GRANT:o,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,LONG_PRESS_DETECTED:o},RESPONDER_ACTIVE_PRESS_START:{DELAY:o,RESPONDER_GRANT:o,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,LONG_PRESS_DETECTED:l},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:o,RESPONDER_GRANT:o,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,LONG_PRESS_DETECTED:l},ERROR:{DELAY:u,RESPONDER_GRANT:d,RESPONDER_RELEASE:u,RESPONDER_TERMINATED:u,LONG_PRESS_DETECTED:u}}),m=function(e){return e.getAttribute("role")},v=function(e){return e.tagName.toLowerCase()},g=function(e){return e===c||e===l},y=function(e){return"button"===m(e)},b=function(e){return e===d||e===c||e===l},k=function(e){var t=e.key,n=e.target,r=" "===t||"Spacebar"===t,a="button"===v(n)||y(n);return"Enter"===t||r&&a},w=function(){function e(t){(0,r.default)(this,e),this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=u,this.configure(t)}return(0,a.default)(e,[{key:"configure",value:function(e){this._config=e}},{key:"reset",value:function(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}},{key:"getEventHandlers",value:function(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}},{key:"_createEventHandlers",value:function(){var e=this,t=function(t,n){t.persist(),e._cancelPressOutDelayTimeout(),e._longPressDispatched=!1,e._selectionTerminated=!1,e._touchState=u,e._isPointerTouch="touchstart"===t.nativeEvent.type,e._receiveSignal("RESPONDER_GRANT",t);var r=x(e._config.delayPressStart,0,50);!1!==n&&r>0?e._pressDelayTimeout=setTimeout((function(){e._receiveSignal(i,t)}),r):e._receiveSignal(i,t);var a=x(e._config.delayLongPress,10,450);e._longPressDelayTimeout=setTimeout((function(){e._handleLongPress(t)}),a+r)},n=function(t){e._receiveSignal(f,t)},r=function t(r){var a=e._config.onPress,i=r.target;if(e._touchState!==u&&k(r)){n(r),document.removeEventListener("keyup",t);var o=i.getAttribute("role"),s=v(i);null==a||("link"===o||"a"===s||"button"===s||"input"===s||"select"===s||"textarea"===s)||a(r)}};return{onStartShouldSetResponder:function(t){var n=e._config.disabled;return n&&y(t.currentTarget)&&t.stopPropagation(),null==n||!n},onKeyDown:function(n){var a=e._config.disabled,i=n.key,o=n.target;if(!a&&k(n)){e._touchState===u&&(t(n,!1),document.addEventListener("keyup",r));var s=" "===i||"Spacebar"===i,l=m(o);s&&("button"===l||"menuitem"===l)&&"button"!==v(o)&&n.preventDefault(),n.stopPropagation()}},onResponderGrant:function(e){return t(e)},onResponderMove:function(t){null!=e._config.onPressMove&&e._config.onPressMove(t);var n=S(t);if(null!=e._touchActivatePosition){var r=e._touchActivatePosition.pageX-n.pageX,a=e._touchActivatePosition.pageY-n.pageY;Math.hypot(r,a)>10&&e._cancelLongPressDelayTimeout()}},onResponderRelease:function(e){return n(e)},onResponderTerminate:function(t){"selectionchange"===t.nativeEvent.type&&(e._selectionTerminated=!0),e._receiveSignal(p,t)},onResponderTerminationRequest:function(t){var n=e._config,r=n.cancelable,a=n.disabled,i=n.onLongPress;return!(!a&&null!=i&&e._isPointerTouch&&"contextmenu"===t.nativeEvent.type)&&(null==r||r)},onClick:function(t){var n=e._config,r=n.disabled,a=n.onPress;r?y(t.currentTarget)&&t.stopPropagation():(t.stopPropagation(),e._longPressDispatched||e._selectionTerminated?t.preventDefault():null!=a&&!1===t.altKey&&a(t))},onContextMenu:function(t){var n=e._config,r=n.disabled,a=n.onLongPress;r?y(t.currentTarget)&&t.stopPropagation():null!=a&&e._isPointerTouch&&!t.defaultPrevented&&(t.preventDefault(),t.stopPropagation())}}}},{key:"_receiveSignal",value:function(e,t){var n=this._touchState,r=null;null!=h[n]&&(r=h[n][e]),this._touchState===u&&e===f||(null==r||r===o?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==r&&(this._performTransitionSideEffects(n,r,e,t),this._touchState=r))}},{key:"_performTransitionSideEffects",value:function(e,t,n,r){var a=this;if(function(e){return e===p||e===f}(n)&&(setTimeout((function(){a._isPointerTouch=!1}),0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),b(e)&&n===s){var i=this._config.onLongPress;null!=i&&null==r.nativeEvent.key&&(i(r),this._longPressDispatched=!0)}var o=g(e),u=g(t);if(!o&&u?this._activate(r):o&&!u&&this._deactivate(r),b(e)&&n===f){var c=this._config,d=c.onLongPress;if(null!=c.onPress)null!=d&&e===l||u||o||(this._activate(r),this._deactivate(r))}this._cancelPressDelayTimeout()}},{key:"_activate",value:function(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,a=S(e);this._touchActivatePosition={pageX:a.pageX,pageY:a.pageY},null!=r&&r(e),null!=n&&n(!0)}},{key:"_deactivate",value:function(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function a(){null!=r&&r(e),null!=n&&n(!1)}var i=x(this._config.delayPressEnd);i>0?this._pressOutDelayTimeout=setTimeout((function(){a()}),i):a()}},{key:"_handleLongPress",value:function(e){this._touchState!==c&&this._touchState!==l||this._receiveSignal(s,e)}},{key:"_cancelLongPressDelayTimeout",value:function(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}},{key:"_cancelPressDelayTimeout",value:function(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}},{key:"_cancelPressOutDelayTimeout",value:function(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}]),e}();function x(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!==e&&void 0!==e?e:n)}function S(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var T=n(5004);function E(e,t){var n=(0,T.useRef)(null);null==n.current&&(n.current=new w(t));var r=n.current;return(0,T.useEffect)((function(){r.configure(t)}),[t,r]),(0,T.useEffect)((function(){return function(){r.reset()}}),[r]),(0,T.useDebugValue)(t),r.getEventHandlers()}},9627:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>oe});var r=n(5004);const a=function(e){if(null!=e&&(1===e.nodeType&&"function"===typeof e.getBoundingClientRect))return e.getBoundingClientRect()};var i=function(){},o={},s=[];function u(e){return e>20?e%20:e}function l(e,t){var n,r,l,c=!1,d=e.changedTouches,f=e.type,p=!0===e.metaKey,h=!0===e.shiftKey,m=d&&d[0].force||0,v=u(d&&d[0].identifier||0),g=d&&d[0].clientX||e.clientX,y=d&&d[0].clientY||e.clientY,b=d&&d[0].pageX||e.pageX,k=d&&d[0].pageY||e.pageY,w="function"===typeof e.preventDefault?e.preventDefault.bind(e):i,x=e.timeStamp;function S(e){return Array.prototype.slice.call(e).map((function(e){return{force:e.force,identifier:u(e.identifier),get locationX(){return C(e.clientX)},get locationY(){return N(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:x}}))}if(null!=d)r=S(d),l=S(e.touches);else{var T=[{force:m,identifier:v,get locationX(){return C(g)},get locationY(){return N(y)},pageX:b,pageY:k,target:e.target,timestamp:x}];r=T,l="mouseup"===f||"dragstart"===f?s:T}var E={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:o,eventPhase:e.eventPhase,isDefaultPrevented:function(){return e.defaultPrevented},isPropagationStopped:function(){return c},isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:p,shiftKey:h,changedTouches:r,force:m,identifier:v,get locationX(){return C(g)},get locationY(){return N(y)},pageX:b,pageY:k,target:e.target,timestamp:x,touches:l,type:f},persist:i,preventDefault:w,stopPropagation:function(){c=!0},target:e.target,timeStamp:x,touchHistory:t.touchHistory};function C(e){if(n=n||a(E.currentTarget))return e-n.left}function N(e){if(n=n||a(E.currentTarget))return e-n.top}return E}var c="mousedown",d="mousemove",f="mouseup",p="dragstart",h="touchstart",m="touchmove",v="touchend",g="touchcancel",y="scroll",b="select",k="selectionchange";function w(e){return e===h||e===c}function x(e){return e===m||e===d}function S(e){return e===v||e===f||T(e)}function T(e){return e===g||e===p}var E="__reactResponderId";function C(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function N(e){return null!=e?e[E]:null}function I(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?C(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():C(e.target)}(e),a=0;a<r.length;a++){var i=r[a],o=N(i);null!=o&&(t.push(o),n.push(i))}return{idPath:t,nodePath:n}}function _(e){return"selectionchange"===e.type?function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,a=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&a}():"select"===e.type}var R=n(5671),A=n(3144),O=!1,D=20;function F(e){return e.timeStamp||e.timestamp}function $(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),O&&t>D&&console.error("Touch identifier %s is greater than maximum supported %s which causes performance issues backfilling array locations for all of the indices.",t,D),t}function P(e,t){var n=$(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=F(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=F(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=F(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:F(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:F(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:F(e)}}(e),t.mostRecentTimeStamp=F(e)}function M(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:F(e)})}function L(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,D));return t.length>D&&(n+=" (original size: "+t.length+")"),n}var z=function(){function e(){(0,R.default)(this,e),this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}return(0,A.default)(e,[{key:"recordTouchTrack",value:function(e,t){var n=this._touchHistory;if(x(e))t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[$(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=F(e),t.mostRecentTimeStamp=F(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+M(e)+"\n","Touch Bank: "+L(t))}(e,n)}));else if(w(e))t.changedTouches.forEach((function(e){return P(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(S(e)&&(t.changedTouches.forEach((function(e){return function(e,t){var n=t.touchBank[$(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=F(e),t.mostRecentTimeStamp=F(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+M(e)+"\n","Touch Bank: "+L(t))}(e,n)})),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches)){for(var r=n.touchBank,a=0;a<r.length;a++){var i=r[a];if(null!=i&&i.touchActive){n.indexOfSingleActiveTouch=a;break}}if(O){var o=r[n.indexOfSingleActiveTouch];null!=o&&o.touchActive||console.error("Cannot find single active touch.")}}}},{key:"touchHistory",get:function(){return this._touchHistory}}]),e}(),B=n(2647),V={},U=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],G=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],W={touchstart:U,mousedown:U,touchmove:G,mousemove:G,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},j={id:null,idPath:null,node:null},q=new Map,H=!1,K=0,X={id:null,node:null,idPath:null},Y=new z;function Z(e){X=e}function Q(e){var t=q.get(e);return null!=t?t:V}function J(e){var t=e.type,n=e.target;if("touchstart"===t&&(H=!0),("touchmove"===t||K>1)&&(H=!1),!("mousedown"===t&&H||"mousemove"===t&&H||"mousemove"===t&&K<1))if(H&&"mouseup"===t)0===K&&(H=!1);else{var r=w(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,a=e.ctrlKey,i=e.type,o=!1===t&&!1===a;return!!("touchstart"===i||"touchmove"===i||"mousedown"===i&&(0===n||1===r)&&o||"mousemove"===i&&1===r&&o)}(e),a=x(t),i=S(t),o=function(e){return e===y}(t),s=function(e){return e===b||e===k}(t),u=l(e,Y);(r||a||i)&&(e.touches?K=e.touches.length:r?K=1:i&&(K=0),Y.recordTouchTrack(t,u.nativeEvent));var c,d=I(e),f=!1;if(r||a||o&&K>0){var p=X.idPath,h=d.idPath;if(null!=p&&null!=h){var m=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var a=e[0],i=0,o=t[0],s=0;n-r>0&&(a=e[i=n-r],n=r),r-n>0&&(o=t[s=r-n],r=n);for(var u=n;u--;){if(a===o)return a;a=e[i++],o=t[s++]}return null}(p,h);if(null!=m){var v=h.indexOf(m)+(m===X.id?1:0);d={idPath:h.slice(v),nodePath:d.nodePath.slice(v)}}else d=null}null!=d&&(c=function(e,t,n){var r=W[t.type];if(null!=r){for(var a=e.idPath,i=e.nodePath,o=r[0],s=r[1],u=r[2].bubbles,l=function(e,t,r){var i=Q(e)[r];if(null!=i&&(n.currentTarget=t,!0===i(n)))return{id:e,node:t,idPath:a.slice(a.indexOf(e))}},c=a.length-1;c>=0;c--){var d=l(a[c],i[c],o);if(null!=d)return d;if(!0===n.isPropagationStopped())return}if(u)for(var f=0;f<a.length;f++){var p=l(a[f],i[f],s);if(null!=p)return p;if(!0===n.isPropagationStopped())return}else{var h=a[0],m=i[0];if(t.target===m)return l(h,m,s)}}}(d,e,u),null!=c&&(!function(e,t){var n=X,r=n.id,a=n.node,i=t.id,o=t.node,s=Q(i),u=s.onResponderGrant,l=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=o,null==r)null!=u&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",u(e)),Z(t);else{var c=Q(r),d=c.onResponderTerminate,f=c.onResponderTerminationRequest,p=!0;null!=f&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===f(e)&&(p=!1)),p?(null!=d&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=u&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderGrant",u(e)),Z(t)):null!=l&&(e.currentTarget=o,e.dispatchConfig.registrationName="onResponderReject",l(e))}}(u,c),f=!0))}if(null!=X.id&&null!=X.node){var g=X,E=g.id,C=g.node,N=Q(E),R=N.onResponderStart,A=N.onResponderMove,O=N.onResponderEnd,D=N.onResponderRelease,F=N.onResponderTerminate,$=N.onResponderTerminationRequest;if(u.bubbles=!1,u.cancelable=!1,u.currentTarget=C,r)null!=R&&(u.dispatchConfig.registrationName="onResponderStart",R(u));else if(a)null!=A&&(u.dispatchConfig.registrationName="onResponderMove",A(u));else{var P=T(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(C)&&e.relatedTarget!==C||o&&0===K||o&&n.contains(C)&&n!==C||s&&_(e),M=i&&!P&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(C,e.touches);if(i&&null!=O&&(u.dispatchConfig.registrationName="onResponderEnd",O(u)),M&&(null!=D&&(u.dispatchConfig.registrationName="onResponderRelease",D(u)),Z(j)),P){var L=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(f?L=!1:null!=$&&(u.dispatchConfig.registrationName="onResponderTerminationRequest",!1===$(u)&&(L=!1))),L&&(null!=F&&(u.dispatchConfig.registrationName="onResponderTerminate",F(u)),Z(j),H=!1,K=0)}}}}}var ee=["blur","scroll"],te=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function ne(e,t,n){!function(e,t){null!=e&&(e[E]=t)}(t,e),q.set(e,n)}function re(e){X.id===e&&function(){var e=X,t=e.id,n=e.node;if(null!=t&&null!=n){var r=Q(t).onResponderTerminate;if(null!=r){var a=l({},Y);a.currentTarget=n,r(a)}Z(j)}H=!1,K=0}(),q.has(e)&&q.delete(e)}var ae={},ie=0;function oe(e,t){void 0===t&&(t=ae);var n=function(e){var t=r.useRef(null);return null==t.current&&(t.current=e()),t.current}((function(){return ie++})),a=r.useRef(!1);r.useEffect((function(){return B.default&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",J),te.forEach((function(e){document.addEventListener(e,J)})),ee.forEach((function(e){document.addEventListener(e,J,!0)})),window.__reactResponderSystemActive=!0),function(){re(n)}}),[n]),r.useEffect((function(){var r=t,i=r.onMoveShouldSetResponder,o=r.onMoveShouldSetResponderCapture,s=r.onScrollShouldSetResponder,u=r.onScrollShouldSetResponderCapture,l=r.onSelectionChangeShouldSetResponder,c=r.onSelectionChangeShouldSetResponderCapture,d=r.onStartShouldSetResponder,f=r.onStartShouldSetResponderCapture,p=null!=i||null!=o||null!=s||null!=u||null!=l||null!=c||null!=d||null!=f,h=e.current;p?(ne(n,h,t),a.current=!0):a.current&&(re(n),a.current=!1)}),[t,e,n]),r.useDebugValue({isResponder:e.current===X.node}),r.useDebugValue(t)}},3179:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(5004),a="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():Object.freeze({});function i(e){var t=r.useRef(a);return t.current===a&&(t.current=e()),t.current}},4936:(e,t,n)=>{"use strict";function r(e,t){0}n.r(t),n.d(t,{warnOnce:()=>r})},3676:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(5671),a=n(3144),i=n(2152),o=n(5852),s=n(9676),u=n.n(s),l=function(){function e(t){(0,r.default)(this,e),"ios"===i.default.OS&&(u()(null!=t,"`new NativeEventEmitter()` requires a non-null argument."),this._nativeModule=t)}return(0,a.default)(e,[{key:"addListener",value:function(e,t,n){var r,a=this;null==(r=this._nativeModule)||r.addListener(e);var i=o.default.addListener(e,t,n);return{remove:function(){var e;null!=i&&(null==(e=a._nativeModule)||e.removeListeners(1),i.remove(),i=null)}}}},{key:"removeListener",value:function(e,t){var n;null==(n=this._nativeModule)||n.removeListeners(1),o.default.removeListener(e,t)}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.default.emit.apply(o.default,[e].concat(n))}},{key:"removeAllListeners",value:function(e){var t;u()(null!=e,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(t=this._nativeModule)||t.removeListeners(this.listenerCount(e)),o.default.removeAllListeners(e)}},{key:"listenerCount",value:function(e){return o.default.listenerCount(e)}}]),e}()},5852:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const r=new(n(623).default)},9309:e=>{"use strict";e.exports=function(e,t,n){return t<e?e:t>n?n:t}},623:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(2982),a=n(5671),i=n(3144),o=function(){function e(){(0,a.default)(this,e),this._registry={}}return(0,i.default)(e,[{key:"addListener",value:function(e,t,n){var r=function(e,t){var n=e[t];null==n&&(n=new Set,e[t]=n);return n}(this._registry,e),a={context:n,listener:t,remove:function(){r.delete(a)}};return r.add(a),a}},{key:"emit",value:function(e){var t=this._registry[e];if(null!=t){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];for(var o=0,s=(0,r.default)(t);o<s.length;o++){var u=s[o];u.listener.apply(u.context,a)}}}},{key:"removeAllListeners",value:function(e){null==e?this._registry={}:delete this._registry[e]}},{key:"listenerCount",value:function(e){var t=this._registry[e];return null==t?0:t.size}}]),e}()},7098:e=>{"use strict";function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){var a=r<.5?r*(1+n):r+n-r*n,i=2*r-a,o=t(i,a,e+1/3),s=t(i,a,e),u=t(i,a,e-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*u)<<8}var r,a="[-+]?\\d*\\.?\\d+",i=a+"%";function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,?\\s*(")+")\\s*\\)"}function s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.slice(0,t.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+t[t.length-1]+")\\s*\\)"}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}function l(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function c(e){return(parseFloat(e)%360+360)%360/360}function d(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function f(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"===typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!==typeof e)return null;var p,h=function(){void 0===r&&(r={rgb:new RegExp("rgb"+o(a,a,a)),rgba:new RegExp("rgba("+u(a,a,a,a)+"|"+s(a,a,a,a)+")"),hsl:new RegExp("hsl"+o(a,i,i)),hsla:new RegExp("hsla("+u(a,i,i,a)+"|"+s(a,i,i,a)+")"),hwb:new RegExp("hwb"+o(a,i,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/});return r}();if(p=h.hex6.exec(e))return parseInt(p[1]+"ff",16)>>>0;var m=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=m?m:(p=h.rgb.exec(e))?(l(p[1])<<24|l(p[2])<<16|l(p[3])<<8|255)>>>0:(p=h.rgba.exec(e))?void 0!==p[6]?(l(p[6])<<24|l(p[7])<<16|l(p[8])<<8|d(p[9]))>>>0:(l(p[2])<<24|l(p[3])<<16|l(p[4])<<8|d(p[5]))>>>0:(p=h.hex3.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+"ff",16)>>>0:(p=h.hex8.exec(e))?parseInt(p[1],16)>>>0:(p=h.hex4.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+p[4]+p[4],16)>>>0:(p=h.hsl.exec(e))?(255|n(c(p[1]),f(p[2]),f(p[3])))>>>0:(p=h.hsla.exec(e))?void 0!==p[6]?(n(c(p[6]),f(p[7]),f(p[8]))|d(p[9]))>>>0:(n(c(p[2]),f(p[3]),f(p[4]))|d(p[5]))>>>0:(p=h.hwb.exec(e))?(255|function(e,n,r){if(n+r>=1){var a=Math.round(255*n/(n+r));return a<<24|a<<16|a<<8}var i=t(0,1,e+1/3)*(1-n-r)+n,o=t(0,1,e)*(1-n-r)+n,s=t(0,1,e-1/3)*(1-n-r)+n;return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*s)<<8}(c(p[1]),f(p[2]),f(p[3])))>>>0:null}},8945:(e,t,n)=>{"use strict";e.exports=n(2222)},1058:function(e,t,n){var r;e=n.nmd(e),function(a){var i=t,o=(e&&e.exports,"object"==typeof n.g&&n.g);o.global!==o&&o.window;var s=function(e){this.message=e};(s.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new s(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=/[\t\n\f\r ]/g,d={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,r,a,i=e.length%3,o="",s=-1,c=e.length-i;++s<c;)t=e.charCodeAt(s)<<16,n=e.charCodeAt(++s)<<8,r=e.charCodeAt(++s),o+=l.charAt((a=t+n+r)>>18&63)+l.charAt(a>>12&63)+l.charAt(a>>6&63)+l.charAt(63&a);return 2==i?(t=e.charCodeAt(s)<<8,n=e.charCodeAt(++s),o+=l.charAt((a=t+n)>>10)+l.charAt(a>>4&63)+l.charAt(a<<2&63)+"="):1==i&&(a=e.charCodeAt(s),o+=l.charAt(a>>2)+l.charAt(a<<4&63)+"=="),o},decode:function(e){var t=(e=String(e).replace(c,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,r,a=0,i="",o=-1;++o<t;)r=l.indexOf(e.charAt(o)),n=a%4?64*n+r:r,a++%4&&(i+=String.fromCharCode(255&n>>(-2*a&6)));return i},version:"0.1.0"};void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}()},9504:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=s(e),o=i[0],u=i[1],l=new a(function(e,t,n){return 3*(t+n)/4-n}(0,o,u)),c=0,d=u>0?o-4:o;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===u&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===u&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,i=[],o=16383,s=0,l=r-a;s<l;s+=o)i.push(u(e,s,s+o>l?l:s+o));1===a?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],a="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)n[o]=i[o],r[i.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,r){for(var a,i,o=[],s=t;s<r;s+=3)a=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[(i=a)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},4214:(e,t,n)=>{"use strict";var r=n(9504),a=n(4102),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),r=s(n),a=r.write(e,t);a!==n&&(r=r.slice(0,a));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);var a=function(e){if(u.isBuffer(e)){var t=0|h(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||U(e.length)?s(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(a)return a;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return c(e),s(e<0?0:0|h(e))}function f(e){for(var t=e.length<0?0:0|h(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function h(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function m(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var a=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(a)return r?-1:L(e).length;t=(""+t).toLowerCase(),a=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,a){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=a?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(a)return-1;n=e.length-1}else if(n<0){if(!a)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,a);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?a?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,a);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,a){var i,o=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(a){var c=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*o}else-1!==c&&(i-=i-c),c=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var d=!0,f=0;f<u;f++)if(l(e,i+f)!==l(t,f)){d=!1;break}if(d)return i}return-1}function k(e,t,n,r){n=Number(n)||0;var a=e.length-n;r?(r=Number(r))>a&&(r=a):r=a;var i=t.length;r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(U(s))return o;e[n+o]=s}return o}function w(e,t,n,r){return B(L(t,e.length-n),e,n,r)}function x(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return B(z(t),e,n,r)}function T(e,t,n,r){return B(function(e,t){for(var n,r,a,i=[],o=0;o<e.length&&!((t-=2)<0);++o)r=(n=e.charCodeAt(o))>>8,a=n%256,i.push(a),i.push(r);return i}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],a=t;a<n;){var i,o,s,u,l=e[a],c=null,d=l>239?4:l>223?3:l>191?2:1;if(a+d<=n)switch(d){case 1:l<128&&(c=l);break;case 2:128===(192&(i=e[a+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=e[a+1],o=e[a+2],128===(192&i)&&128===(192&o)&&(u=(15&l)<<12|(63&i)<<6|63&o)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=e[a+1],o=e[a+2],s=e[a+3],128===(192&i)&&128===(192&o)&&128===(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),a+=d}return function(e){var t=e.length;if(t<=N)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=N));return n}(r)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return c(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,a=0,i=Math.min(n,r);a<i;++a)if(e[a]!==t[a]){n=e[a],r=t[a];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),a=0;for(n=0;n<e.length;++n){var i=e[n];if(V(i,Uint8Array))a+i.length>r.length?u.from(i).copy(r,a):Uint8Array.prototype.set.call(r,i,a);else{if(!u.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,a)}a+=i.length}return r},u.byteLength=m,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):v.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,a){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===a&&(a=this.length),t<0||n>e.length||r<0||a>this.length)throw new RangeError("out of range index");if(r>=a&&t>=n)return 0;if(r>=a)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(a>>>=0)-(r>>>=0),o=(n>>>=0)-(t>>>=0),s=Math.min(i,o),l=this.slice(r,a),c=e.slice(t,n),d=0;d<s;++d)if(l[d]!==c[d]){i=l[d],o=c[d];break}return i<o?-1:o<i?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var a=this.length-t;if((void 0===n||n>a)&&(n=a),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;function I(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(127&e[a]);return r}function _(e,t,n){var r="";n=Math.min(e.length,n);for(var a=t;a<n;++a)r+=String.fromCharCode(e[a]);return r}function R(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var a="",i=t;i<n;++i)a+=G[e[i]];return a}function A(e,t,n){for(var r=e.slice(t,n),a="",i=0;i<r.length-1;i+=2)a+=String.fromCharCode(r[i]+256*r[i+1]);return a}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,a,i){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>a||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r,a,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function $(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,4),a.write(e,t,n,r,23,4),n+4}function P(e,t,n,r,i){return t=+t,n>>>=0,i||F(e,0,n,8),a.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],a=1;t>0&&(a*=256);)r+=this[e+--t]*a;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],a=1,i=0;++i<t&&(a*=256);)r+=this[e+i]*a;return r>=(a*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,a=1,i=this[e+--r];r>0&&(a*=256);)i+=this[e+--r]*a;return i>=(a*=128)&&(i-=Math.pow(2,8*t)),i},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),a.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),a.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),a.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),a.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var a=1,i=0;for(this[t]=255&e;++i<n&&(a*=256);)this[t+i]=e/a&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var a=n-1,i=1;for(this[t+a]=255&e;--a>=0&&(i*=256);)this[t+a]=e/i&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}var i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var a=Math.pow(2,8*n-1);D(this,e,t,n,a-1,-a)}var i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,n){return $(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return $(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return P(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return P(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var a=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),a},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var a=e.charCodeAt(0);("utf8"===r&&a<128||"latin1"===r)&&(e=a)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{var o=u.isBuffer(e)?e:u.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};var M=/[^+/0-9A-Za-z-_]/g;function L(e,t){var n;t=t||1/0;for(var r=e.length,a=null,i=[],o=0;o<r;++o){if((n=e.charCodeAt(o))>55295&&n<57344){if(!a){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(t-=3)>-1&&i.push(239,191,189);continue}a=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),a=n;continue}n=65536+(a-55296<<10|n-56320)}else a&&(t-=3)>-1&&i.push(239,191,189);if(a=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function z(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(M,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function B(e,t,n,r){for(var a=0;a<r&&!(a+n>=t.length||a>=e.length);++a)t[a+n]=e[a];return a}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!==e}var G=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,a=0;a<16;++a)t[r+a]=e[n]+e[a];return t}()},3619:function(e,t){var n,r,a;r=[],void 0===(a="function"===typeof(n=function(){var e=/^v?(?:\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+)(\.(?:[x*]|\d+))?(?:-[\da-z\-]+(?:\.[\da-z\-]+)*)?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i;function t(e,t){return-1===e.indexOf(t)?e.length:e.indexOf(t)}function n(e){var n=e.replace(/^v/,"").replace(/\+.*$/,""),r=t(n,"-"),a=n.substring(0,r).split(".");return a.push(n.substring(r+1)),a}function r(e){return isNaN(Number(e))?e:Number(e)}function a(t){if("string"!==typeof t)throw new TypeError("Invalid argument expected string");if(!e.test(t))throw new Error("Invalid argument not valid semver ('"+t+"' received)")}function i(e,t){[e,t].forEach(a);for(var i=n(e),o=n(t),s=0;s<Math.max(i.length-1,o.length-1);s++){var u=parseInt(i[s]||0,10),l=parseInt(o[s]||0,10);if(u>l)return 1;if(l>u)return-1}var c=i[i.length-1],d=o[o.length-1];if(c&&d){var f=c.split(".").map(r),p=d.split(".").map(r);for(s=0;s<Math.max(f.length,p.length);s++){if(void 0===f[s]||"string"===typeof p[s]&&"number"===typeof f[s])return-1;if(void 0===p[s]||"string"===typeof f[s]&&"number"===typeof p[s])return 1;if(f[s]>p[s])return 1;if(p[s]>f[s])return-1}}else if(c||d)return c?-1:1;return 0}var o=[">",">=","=","<","<="],s={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1]};function u(e){if("string"!==typeof e)throw new TypeError("Invalid operator type, expected string but got "+typeof e);if(-1===o.indexOf(e))throw new TypeError("Invalid operator, expected one of "+o.join("|"))}return i.validate=function(t){return"string"===typeof t&&e.test(t)},i.compare=function(e,t,n){u(n);var r=i(e,t);return s[n].indexOf(r)>-1},i})?n.apply(t,r):n)||(e.exports=a)},3543:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var r,a=n(6951),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},8252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},6833:(e,t)=>{"use strict";t.match=function(e,t){return s(e).some((function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var a=e.expressions.every((function(e){var n=e.feature,r=e.modifier,a=e.value,i=t[n];if(!i)return!1;switch(n){case"orientation":case"scan":return i.toLowerCase()===a.toLowerCase();case"width":case"height":case"device-width":case"device-height":a=c(a),i=c(i);break;case"resolution":a=l(a),i=l(i);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":a=u(a),i=u(i);break;case"grid":case"color":case"color-index":case"monochrome":a=parseInt(a,10)||1,i=parseInt(i,10)||0}switch(r){case"min":return i>=a;case"max":return i<=a;default:return i===a}}));return a&&!n||!a&&n}))},t.parse=s;var n=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,r=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,a=/^(?:(min|max)-)?(.+)/,i=/(em|rem|px|cm|mm|in|pt|pc)?$/,o=/(dpi|dpcm|dppx)?$/;function s(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(n),i=t[1],o=t[2],s=t[3]||"",u={};return u.inverse=!!i&&"not"===i.toLowerCase(),u.type=o?o.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],u.expressions=s.map((function(e){var t=e.match(r),n=t[1].toLowerCase().match(a);return{modifier:n[1],feature:n[2],value:t[2]}})),u}))}function u(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function l(e){var t=parseFloat(e);switch(String(e).match(o)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function c(e){var t=parseFloat(e);switch(String(e).match(i)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}},774:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},9676:e=>{"use strict";var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),i=2;i<r;i++)a[i-2]=arguments[i];if(t(n),!e){var o;if(void 0===n)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(o=new Error(n.replace(/%s/g,(function(){return String(a[s++])})))).name="Invariant Violation"}throw o.framesToPop=1,o}}},2465:(e,t,n)=>{"use strict";var r=n(774);e.exports=r},7692:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.g.offsetWidth,n=t+100;return e.j.style.width=n+"px",e.i.scrollLeft=n,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function i(e,n){function r(){var e=i;a(e)&&null!==e.g.parentNode&&n(e.l)}var i=e;t(e.h,r),t(e.i,r),a(e)}function o(e,t,n){t=t||{},n=n||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=n}var s=null,u=null,l=null,c=null;function d(e){return null===c&&(c=!!e.document.fonts),c}function f(e,t){var n=e.style,r=e.weight;if(null===l){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(i){}l=""!==a.style.font}return[n,r,l?e.stretch:"","100px",t].join(" ")}o.prototype.load=function(e,t){var a=this,o=e||"BESbswy",l=0,c=t||3e3,p=(new Date).getTime();return new Promise((function(e,t){if(d(a.context)&&!function(e){return null===u&&(d(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),u=!!e&&603>parseInt(e[1],10)):u=!1),u}(a.context)){var h=new Promise((function(e,t){!function n(){(new Date).getTime()-p>=c?t(Error(c+"ms timeout exceeded")):a.context.document.fonts.load(f(a,'"'+a.family+'"'),o).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),m=new Promise((function(e,t){l=setTimeout((function(){t(Error(c+"ms timeout exceeded"))}),c)}));Promise.race([m,h]).then((function(){clearTimeout(l),e(a)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function u(){var t;(t=-1!=v&&-1!=g||-1!=v&&-1!=y||-1!=g&&-1!=y)&&((t=v!=g&&v!=y&&g!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(v==b&&g==b&&y==b||v==k&&g==k&&y==k||v==w&&g==w&&y==w)),t=!t),t&&(null!==x.parentNode&&x.parentNode.removeChild(x),clearTimeout(l),e(a))}var d=new n(o),h=new n(o),m=new n(o),v=-1,g=-1,y=-1,b=-1,k=-1,w=-1,x=document.createElement("div");x.dir="ltr",r(d,f(a,"sans-serif")),r(h,f(a,"serif")),r(m,f(a,"monospace")),x.appendChild(d.g),x.appendChild(h.g),x.appendChild(m.g),a.context.document.body.appendChild(x),b=d.g.offsetWidth,k=h.g.offsetWidth,w=m.g.offsetWidth,function e(){if((new Date).getTime()-p>=c)null!==x.parentNode&&x.parentNode.removeChild(x),t(Error(c+"ms timeout exceeded"));else{var n=a.context.document.hidden;!0!==n&&void 0!==n||(v=d.g.offsetWidth,g=h.g.offsetWidth,y=m.g.offsetWidth,u()),l=setTimeout(e,50)}}(),i(d,(function(e){v=e,u()})),r(d,f(a,'"'+a.family+'",sans-serif')),i(h,(function(e){g=e,u()})),r(h,f(a,'"'+a.family+'",serif')),i(m,(function(e){y=e,u()})),r(m,f(a,'"'+a.family+'",monospace'))}))}))},e.exports=o}()},6951:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=/[A-Z]/g,a=/^ms-/,i={};function o(e){return"-"+e.toLowerCase()}const s=function(e){if(i.hasOwnProperty(e))return i[e];var t=e.replace(r,o);return i[e]=a.test(t)?"-"+t:t}},4102:(e,t)=>{t.read=function(e,t,n,r,a){var i,o,s=8*a-r-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?a-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+e[t+d],d+=f,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=r;c>0;o=256*o+e[t+d],d+=f,c-=8);if(0===i)i=1-l;else{if(i===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,r),i-=l}return(p?-1:1)*o*Math.pow(2,i-r)},t.write=function(e,t,n,r,a,i){var o,s,u,l=8*i-a-1,c=(1<<l)-1,d=c>>1,f=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?f/u:f*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(t*u-1)*Math.pow(2,a),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,a),o=0));a>=8;e[n+p]=255&s,p+=h,s/=256,a-=8);for(o=o<<a|s,l+=a;l>0;e[n+p]=255&o,p+=h,o/=256,l-=8);e[n+p-h]|=128*m}},127:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var u in s){var l=s[u];if((0,o.default)(l))s[u]=e(l);else if(Array.isArray(l)){for(var c=[],d=0,f=l.length;d<f;++d){var p=(0,a.default)(n,u,l[d],s,t);(0,i.default)(c,p||l[d])}c.length>0&&(s[u]=c)}else{var h=(0,a.default)(n,u,l,s,t);h&&(s[u]=h),s=(0,r.default)(t,u,s)}}return s}};var r=s(n(4649)),a=s(n(9151)),i=s(n(102)),o=s(n(9617));function s(e){return e&&e.__esModule?e:{default:e}}},5472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&"text"===t)return["-webkit-text","text"]}},315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("cross-fade(")>-1)return o.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,a=n(8252),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},536:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},2995:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("filter(")>-1)return o.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,a=n(8252),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},7782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return o.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,a=n(8252),i=(r=a)&&r.__esModule?r:{default:r};var o=["-webkit-",""]},5569:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var a=n[e],i=0,o=a.length;i<o;++i)r[a[i]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},4538:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},2882:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&a.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},a={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},3355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){if("string"===typeof t&&s.hasOwnProperty(e)){var l=function(e,t){if((0,a.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),i=0,o=n.length;i<o;++i){var s=n[i],l=[s];for(var c in t){var d=(0,r.default)(c);if(s.indexOf(d)>-1&&"order"!==d)for(var f=t[c],p=0,h=f.length;p<h;++p)l.unshift(s.replace(d,u[f[p]]+d))}n[i]=l.join(",")}return n.join(",")}(t,o),c=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return c;var d=l.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?d:(n["Webkit"+(0,i.default)(e)]=c,n["Moz"+(0,i.default)(e)]=d,l)}};var r=o(n(3543)),a=o(n(8252)),i=o(n(5317));function o(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},102:(e,t)=>{"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,a=t.length;r<a;++r)n(e,t[r]);else n(e,t)}},5317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},9617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},4649:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t)){for(var r={},a=e[t],o=(0,i.default)(t),s=Object.keys(n),u=0;u<s.length;u++){var l=s[u];if(l===t)for(var c=0;c<a.length;c++)r[a[c]+o]=n[t];r[l]=n[l]}return r}return n};var r,a=n(5317),i=(r=a)&&r.__esModule?r:{default:r}},9151:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,a){for(var i=0,o=e.length;i<o;++i){var s=e[i](t,n,r,a);if(s)return s}}},9590:e=>{"use strict";e.exports=function(e,t,n,r,a,i,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,i,o,s],c=0;(u=new Error(t.replace(/%s/g,(function(){return l[c++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},9510:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},752:(e,t,n)=>{var r=n(4698),a=n(4153);e.exports={encode:r,decode:a}},4153:e=>{var t=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),t=4017,n=799,r=3406,a=2276,i=1567,o=3784,s=5793,u=2896;function l(){}function c(e,t){for(var n,r,a=0,i=[],o=16;o>0&&!e[o-1];)o--;i.push({children:[],index:0});var s,u=i[0];for(n=0;n<o;n++){for(r=0;r<e[n];r++){for((u=i.pop()).children[u.index]=t[a];u.index>0;){if(0===i.length)throw new Error("Could not recreate Huffman Table");u=i.pop()}for(u.index++,i.push(u);i.length<=n;)i.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s;a++}n+1<o&&(i.push(s={children:[],index:0}),u.children[u.index]=s.children,u=s)}return i[0].children}function d(t,n,r,a,i,o,s,u,l,c){r.precision,r.samplesPerLine,r.scanLines;var d=r.mcusPerLine,f=r.progressive,p=(r.maxH,r.maxV,n),h=0,m=0;function v(){if(m>0)return m--,h>>m&1;if(255==(h=t[n++])){var e=t[n++];if(e)throw new Error("unexpected marker: "+(h<<8|e).toString(16))}return m=7,h>>>7}function g(e){for(var t,n=e;null!==(t=v());){if("number"===typeof(n=n[t]))return n;if("object"!==typeof n)throw new Error("invalid huffman sequence")}return null}function y(e){for(var t=0;e>0;){var n=v();if(null===n)return;t=t<<1|n,e--}return t}function b(e){var t=y(e);return t>=1<<e-1?t:t+(-1<<e)+1}var k=0;var w,x=0;function S(e,t,n,r,a){var i=n%d,o=(n/d|0)*e.v+r,s=i*e.h+a;void 0===e.blocks[o]&&c.tolerantDecoding||t(e,e.blocks[o][s])}function T(e,t,n){var r=n/e.blocksPerLine|0,a=n%e.blocksPerLine;void 0===e.blocks[r]&&c.tolerantDecoding||t(e,e.blocks[r][a])}var E,C,N,I,_,R,A=a.length;R=f?0===o?0===u?function(e,t){var n=g(e.huffmanTableDC),r=0===n?0:b(n)<<l;t[0]=e.pred+=r}:function(e,t){t[0]|=v()<<l}:0===u?function(t,n){if(k>0)k--;else for(var r=o,a=s;r<=a;){var i=g(t.huffmanTableAC),u=15&i,c=i>>4;if(0!==u)n[e[r+=c]]=b(u)*(1<<l),r++;else{if(c<15){k=y(c)+(1<<c)-1;break}r+=16}}}:function(t,n){for(var r=o,a=s,i=0;r<=a;){var u=e[r],c=n[u]<0?-1:1;switch(x){case 0:var d=g(t.huffmanTableAC),f=15&d;if(i=d>>4,0===f)i<15?(k=y(i)+(1<<i),x=4):(i=16,x=1);else{if(1!==f)throw new Error("invalid ACn encoding");w=b(f),x=i?2:3}continue;case 1:case 2:n[u]?n[u]+=(v()<<l)*c:0===--i&&(x=2==x?3:0);break;case 3:n[u]?n[u]+=(v()<<l)*c:(n[u]=w<<l,x=0);break;case 4:n[u]&&(n[u]+=(v()<<l)*c)}r++}4===x&&0===--k&&(x=0)}:function(t,n){var r=g(t.huffmanTableDC),a=0===r?0:b(r);n[0]=t.pred+=a;for(var i=1;i<64;){var o=g(t.huffmanTableAC),s=15&o,u=o>>4;if(0!==s)n[e[i+=u]]=b(s),i++;else{if(u<15)break;i+=16}}};var O,D,F,$,P=0;for(D=1==A?a[0].blocksPerLine*a[0].blocksPerColumn:d*r.mcusPerColumn,i||(i=D);P<D;){for(C=0;C<A;C++)a[C].pred=0;if(k=0,1==A)for(E=a[0],_=0;_<i;_++)T(E,R,P),P++;else for(_=0;_<i;_++){for(C=0;C<A;C++)for(F=(E=a[C]).h,$=E.v,N=0;N<$;N++)for(I=0;I<F;I++)S(E,R,P,N,I);if(++P===D)break}if(P===D)do{if(255===t[n]&&0!==t[n+1])break;n+=1}while(n<t.length-2);if(m=0,(O=t[n]<<8|t[n+1])<65280)throw new Error("marker was not found");if(!(O>=65488&&O<=65495))break;n+=2}return n-p}function f(e,l){var c,d,f=[],p=l.blocksPerLine,h=l.blocksPerColumn,m=p<<3,g=new Int32Array(64),y=new Uint8Array(64);function b(e,c,d){var f,p,h,m,v,g,y,b,k,w,x=l.quantizationTable,S=d;for(w=0;w<64;w++)S[w]=e[w]*x[w];for(w=0;w<8;++w){var T=8*w;0!=S[1+T]||0!=S[2+T]||0!=S[3+T]||0!=S[4+T]||0!=S[5+T]||0!=S[6+T]||0!=S[7+T]?(f=s*S[0+T]+128>>8,p=s*S[4+T]+128>>8,h=S[2+T],m=S[6+T],v=u*(S[1+T]-S[7+T])+128>>8,b=u*(S[1+T]+S[7+T])+128>>8,g=S[3+T]<<4,y=S[5+T]<<4,k=f-p+1>>1,f=f+p+1>>1,p=k,k=h*o+m*i+128>>8,h=h*i-m*o+128>>8,m=k,k=v-y+1>>1,v=v+y+1>>1,y=k,k=b+g+1>>1,g=b-g+1>>1,b=k,k=f-m+1>>1,f=f+m+1>>1,m=k,k=p-h+1>>1,p=p+h+1>>1,h=k,k=v*a+b*r+2048>>12,v=v*r-b*a+2048>>12,b=k,k=g*n+y*t+2048>>12,g=g*t-y*n+2048>>12,y=k,S[0+T]=f+b,S[7+T]=f-b,S[1+T]=p+y,S[6+T]=p-y,S[2+T]=h+g,S[5+T]=h-g,S[3+T]=m+v,S[4+T]=m-v):(k=s*S[0+T]+512>>10,S[0+T]=k,S[1+T]=k,S[2+T]=k,S[3+T]=k,S[4+T]=k,S[5+T]=k,S[6+T]=k,S[7+T]=k)}for(w=0;w<8;++w){var E=w;0!=S[8+E]||0!=S[16+E]||0!=S[24+E]||0!=S[32+E]||0!=S[40+E]||0!=S[48+E]||0!=S[56+E]?(f=s*S[0+E]+2048>>12,p=s*S[32+E]+2048>>12,h=S[16+E],m=S[48+E],v=u*(S[8+E]-S[56+E])+2048>>12,b=u*(S[8+E]+S[56+E])+2048>>12,g=S[24+E],y=S[40+E],k=f-p+1>>1,f=f+p+1>>1,p=k,k=h*o+m*i+2048>>12,h=h*i-m*o+2048>>12,m=k,k=v-y+1>>1,v=v+y+1>>1,y=k,k=b+g+1>>1,g=b-g+1>>1,b=k,k=f-m+1>>1,f=f+m+1>>1,m=k,k=p-h+1>>1,p=p+h+1>>1,h=k,k=v*a+b*r+2048>>12,v=v*r-b*a+2048>>12,b=k,k=g*n+y*t+2048>>12,g=g*t-y*n+2048>>12,y=k,S[0+E]=f+b,S[56+E]=f-b,S[8+E]=p+y,S[48+E]=p-y,S[16+E]=h+g,S[40+E]=h-g,S[24+E]=m+v,S[32+E]=m-v):(k=s*d[w+0]+8192>>14,S[0+E]=k,S[8+E]=k,S[16+E]=k,S[24+E]=k,S[32+E]=k,S[40+E]=k,S[48+E]=k,S[56+E]=k)}for(w=0;w<64;++w){var C=128+(S[w]+8>>4);c[w]=C<0?0:C>255?255:C}}v(m*h*8);for(var k=0;k<h;k++){var w=k<<3;for(c=0;c<8;c++)f.push(new Uint8Array(m));for(var x=0;x<p;x++){b(l.blocks[k][x],y,g);var S=0,T=x<<3;for(d=0;d<8;d++){var E=f[w+d];for(c=0;c<8;c++)E[T+c]=y[S++]}}}return f}function p(e){return e<0?0:e>255?255:e}l.prototype={load:function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){var e=new Uint8Array(t.response||t.mozResponseArrayBuffer);this.parse(e),this.onload&&this.onload()}.bind(this),t.send(null)},parse:function(t){var n=1e3*this.opts.maxResolutionInMP*1e3,r=0;t.length;function a(){var e=t[r]<<8|t[r+1];return r+=2,e}function i(){var e=a(),n=t.subarray(r,r+e-2);return r+=n.length,n}function o(e){var t,n,r=1,a=1;for(n in e.components)e.components.hasOwnProperty(n)&&(r<(t=e.components[n]).h&&(r=t.h),a<t.v&&(a=t.v));var i=Math.ceil(e.samplesPerLine/8/r),o=Math.ceil(e.scanLines/8/a);for(n in e.components)if(e.components.hasOwnProperty(n)){t=e.components[n];var s=Math.ceil(Math.ceil(e.samplesPerLine/8)*t.h/r),u=Math.ceil(Math.ceil(e.scanLines/8)*t.v/a),l=i*t.h,c=o*t.v,d=[];v(256*(c*l));for(var f=0;f<c;f++){for(var p=[],h=0;h<l;h++)p.push(new Int32Array(64));d.push(p)}t.blocksPerLine=s,t.blocksPerColumn=u,t.blocks=d}e.maxH=r,e.maxV=a,e.mcusPerLine=i,e.mcusPerColumn=o}var s,u,l=null,p=null,h=[],m=[],g=[],y=[],b=a(),k=-1;if(this.comments=[],65496!=b)throw new Error("SOI not found");for(b=a();65497!=b;){switch(b){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var w=i();if(65534===b){var x=String.fromCharCode.apply(null,w);this.comments.push(x)}65504===b&&74===w[0]&&70===w[1]&&73===w[2]&&70===w[3]&&0===w[4]&&(l={version:{major:w[5],minor:w[6]},densityUnits:w[7],xDensity:w[8]<<8|w[9],yDensity:w[10]<<8|w[11],thumbWidth:w[12],thumbHeight:w[13],thumbData:w.subarray(14,14+3*w[12]*w[13])}),65505===b&&69===w[0]&&120===w[1]&&105===w[2]&&102===w[3]&&0===w[4]&&(this.exifBuffer=w.subarray(5,w.length)),65518===b&&65===w[0]&&100===w[1]&&111===w[2]&&98===w[3]&&101===w[4]&&0===w[5]&&(p={version:w[6],flags0:w[7]<<8|w[8],flags1:w[9]<<8|w[10],transformCode:w[11]});break;case 65499:for(var S=a()+r-2;r<S;){var T=t[r++];v(256);var E=new Int32Array(64);if(T>>4===0)for(H=0;H<64;H++){E[e[H]]=t[r++]}else{if(T>>4!==1)throw new Error("DQT: invalid table spec");for(H=0;H<64;H++){E[e[H]]=a()}}h[15&T]=E}break;case 65472:case 65473:case 65474:a(),(s={}).extended=65473===b,s.progressive=65474===b,s.precision=t[r++],s.scanLines=a(),s.samplesPerLine=a(),s.components={},s.componentsOrder=[];var C=s.scanLines*s.samplesPerLine;if(C>n){var N=Math.ceil((C-n)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${N}MP`)}var I,_=t[r++];for(j=0;j<_;j++){I=t[r];var R=t[r+1]>>4,A=15&t[r+1],O=t[r+2];if(R<=0||A<=0)throw new Error("Invalid sampling factor, expected values above 0");s.componentsOrder.push(I),s.components[I]={h:R,v:A,quantizationIdx:O},r+=3}o(s),m.push(s);break;case 65476:var D=a();for(j=2;j<D;){var F=t[r++],$=new Uint8Array(16),P=0;for(H=0;H<16;H++,r++)P+=$[H]=t[r];v(16+P);var M=new Uint8Array(P);for(H=0;H<P;H++,r++)M[H]=t[r];j+=17+P,(F>>4===0?y:g)[15&F]=c($,M)}break;case 65501:a(),u=a();break;case 65500:a(),a();break;case 65498:a();var L=t[r++],z=[];for(j=0;j<L;j++){K=s.components[t[r++]];var B=t[r++];K.huffmanTableDC=y[B>>4],K.huffmanTableAC=g[15&B],z.push(K)}var V=t[r++],U=t[r++],G=t[r++],W=d(t,r,s,z,u,V,U,G>>4,15&G,this.opts);r+=W;break;case 65535:255!==t[r]&&r--;break;default:if(255==t[r-3]&&t[r-2]>=192&&t[r-2]<=254){r-=3;break}if(224===b||225==b){if(-1!==k)throw new Error(`first unknown JPEG marker at offset ${k.toString(16)}, second unknown JPEG marker ${b.toString(16)} at offset ${(r-1).toString(16)}`);k=r-1;const e=a();if(255===t[r+e-2]){r+=e-2;break}}throw new Error("unknown JPEG marker "+b.toString(16))}b=a()}if(1!=m.length)throw new Error("only single frame JPEGs supported");for(var j=0;j<m.length;j++){var q=m[j].components;for(var H in q)q[H].quantizationTable=h[q[H].quantizationIdx],delete q[H].quantizationIdx}this.width=s.samplesPerLine,this.height=s.scanLines,this.jfif=l,this.adobe=p,this.components=[];for(j=0;j<s.componentsOrder.length;j++){var K=s.components[s.componentsOrder[j]];this.components.push({lines:f(0,K),scaleX:K.h/s.maxH,scaleY:K.v/s.maxV})}},getData:function(e,t){var n,r,a,i,o,s,u,l,c,d,f,h,m,g,y,b,k,w,x,S,T,E=this.width/e,C=this.height/t,N=0,I=e*t*this.components.length;v(I);var _=new Uint8Array(I);switch(this.components.length){case 1:for(n=this.components[0],d=0;d<t;d++)for(o=n.lines[0|d*n.scaleY*C],c=0;c<e;c++)f=o[0|c*n.scaleX*E],_[N++]=f;break;case 2:for(n=this.components[0],r=this.components[1],d=0;d<t;d++)for(o=n.lines[0|d*n.scaleY*C],s=r.lines[0|d*r.scaleY*C],c=0;c<e;c++)f=o[0|c*n.scaleX*E],_[N++]=f,f=s[0|c*r.scaleX*E],_[N++]=f;break;case 3:for(T=!0,this.adobe&&this.adobe.transformCode?T=!0:"undefined"!==typeof this.opts.colorTransform&&(T=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],a=this.components[2],d=0;d<t;d++)for(o=n.lines[0|d*n.scaleY*C],s=r.lines[0|d*r.scaleY*C],u=a.lines[0|d*a.scaleY*C],c=0;c<e;c++)T?(f=o[0|c*n.scaleX*E],h=s[0|c*r.scaleX*E],w=p(f+1.402*((m=u[0|c*a.scaleX*E])-128)),x=p(f-.3441363*(h-128)-.71413636*(m-128)),S=p(f+1.772*(h-128))):(w=o[0|c*n.scaleX*E],x=s[0|c*r.scaleX*E],S=u[0|c*a.scaleX*E]),_[N++]=w,_[N++]=x,_[N++]=S;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(T=!1,this.adobe&&this.adobe.transformCode?T=!0:"undefined"!==typeof this.opts.colorTransform&&(T=!!this.opts.colorTransform),n=this.components[0],r=this.components[1],a=this.components[2],i=this.components[3],d=0;d<t;d++)for(o=n.lines[0|d*n.scaleY*C],s=r.lines[0|d*r.scaleY*C],u=a.lines[0|d*a.scaleY*C],l=i.lines[0|d*i.scaleY*C],c=0;c<e;c++)T?(f=o[0|c*n.scaleX*E],h=s[0|c*r.scaleX*E],m=u[0|c*a.scaleX*E],g=l[0|c*i.scaleX*E],y=255-p(f+1.402*(m-128)),b=255-p(f-.3441363*(h-128)-.71413636*(m-128)),k=255-p(f+1.772*(h-128))):(y=o[0|c*n.scaleX*E],b=s[0|c*r.scaleX*E],k=u[0|c*a.scaleX*E],g=l[0|c*i.scaleX*E]),_[N++]=255-y,_[N++]=255-b,_[N++]=255-k,_[N++]=255-g;break;default:throw new Error("Unsupported color mode")}return _},copyToImageData:function(e,t){var n,r,a,i,o,s,u,l,c,d=e.width,f=e.height,h=e.data,m=this.getData(d,f),v=0,g=0;switch(this.components.length){case 1:for(r=0;r<f;r++)for(n=0;n<d;n++)a=m[v++],h[g++]=a,h[g++]=a,h[g++]=a,t&&(h[g++]=255);break;case 3:for(r=0;r<f;r++)for(n=0;n<d;n++)u=m[v++],l=m[v++],c=m[v++],h[g++]=u,h[g++]=l,h[g++]=c,t&&(h[g++]=255);break;case 4:for(r=0;r<f;r++)for(n=0;n<d;n++)o=m[v++],s=m[v++],a=m[v++],u=255-p(o*(1-(i=m[v++])/255)+i),l=255-p(s*(1-i/255)+i),c=255-p(a*(1-i/255)+i),h[g++]=u,h[g++]=l,h[g++]=c,t&&(h[g++]=255);break;default:throw new Error("Unsupported color mode")}}};var h=0,m=0;function v(e=0){var t=h+e;if(t>m){var n=Math.ceil((t-m)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${n}MB`)}h=t}return l.resetMaxMemoryUsage=function(e){h=0,m=e},l.getBytesAllocated=function(){return h},l.requestMemoryAllocation=v,l}();e.exports=function(e,n={}){var r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512,...n},a=new Uint8Array(e),i=new t;i.opts=r,t.resetMaxMemoryUsage(1024*r.maxMemoryUsageInMB*1024),i.parse(a);var o=r.formatAsRGBA?4:3,s=i.width*i.height*o;try{t.requestMemoryAllocation(s);var u={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:r.useTArray?new Uint8Array(s):Buffer.alloc(s)};i.comments.length>0&&(u.comments=i.comments)}catch(l){if(l instanceof RangeError)throw new Error("Could not allocate enough memory for the image. Required: "+s);if(l instanceof ReferenceError&&"Buffer is not defined"===l.message)throw new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true");throw l}return i.copyToImageData(u,r.formatAsRGBA),u}},4698:e=>{function t(e){Math.round;var t,n,r,a,i,o=Math.floor,s=new Array(64),u=new Array(64),l=new Array(64),c=new Array(64),d=new Array(65535),f=new Array(65535),p=new Array(64),h=new Array(64),m=[],v=0,g=7,y=new Array(64),b=new Array(64),k=new Array(64),w=new Array(256),x=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],E=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],I=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],A=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function O(e,t){for(var n=0,r=0,a=new Array,i=1;i<=16;i++){for(var o=1;o<=e[i];o++)a[t[r]]=[],a[t[r]][0]=n,a[t[r]][1]=i,r++,n++;n*=2}return a}function D(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(v|=1<<g),n--,--g<0&&(255==v?(F(255),F(0)):F(v),g=7,v=0)}function F(e){m.push(e)}function $(e){F(e>>8&255),F(255&e)}function P(e,t,n,r,a){for(var i,o=a[0],s=a[240],u=function(e,t){var n,r,a,i,o,s,u,l,c,d,f=0;for(c=0;c<8;++c){n=e[f],r=e[f+1],a=e[f+2],i=e[f+3],o=e[f+4],s=e[f+5],u=e[f+6];var h=n+(l=e[f+7]),m=n-l,v=r+u,g=r-u,y=a+s,b=a-s,k=i+o,w=i-o,x=h+k,S=h-k,T=v+y,E=v-y;e[f]=x+T,e[f+4]=x-T;var C=.707106781*(E+S);e[f+2]=S+C,e[f+6]=S-C;var N=.382683433*((x=w+b)-(E=g+m)),I=.5411961*x+N,_=1.306562965*E+N,R=.707106781*(T=b+g),A=m+R,O=m-R;e[f+5]=O+I,e[f+3]=O-I,e[f+1]=A+_,e[f+7]=A-_,f+=8}for(f=0,c=0;c<8;++c){n=e[f],r=e[f+8],a=e[f+16],i=e[f+24],o=e[f+32],s=e[f+40],u=e[f+48];var D=n+(l=e[f+56]),F=n-l,$=r+u,P=r-u,M=a+s,L=a-s,z=i+o,B=i-o,V=D+z,U=D-z,G=$+M,W=$-M;e[f]=V+G,e[f+32]=V-G;var j=.707106781*(W+U);e[f+16]=U+j,e[f+48]=U-j;var q=.382683433*((V=B+L)-(W=P+F)),H=.5411961*V+q,K=1.306562965*W+q,X=.707106781*(G=L+P),Y=F+X,Z=F-X;e[f+40]=Z+H,e[f+24]=Z-H,e[f+8]=Y+K,e[f+56]=Y-K,f++}for(c=0;c<64;++c)d=e[c]*t[c],p[c]=d>0?d+.5|0:d-.5|0;return p}(e,t),l=0;l<64;++l)h[S[l]]=u[l];var c=h[0]-n;n=h[0],0==c?D(r[0]):(D(r[f[i=32767+c]]),D(d[i]));for(var m=63;m>0&&0==h[m];m--);if(0==m)return D(o),n;for(var v,g=1;g<=m;){for(var y=g;0==h[g]&&g<=m;++g);var b=g-y;if(b>=16){v=b>>4;for(var k=1;k<=v;++k)D(s);b&=15}i=32767+h[g],D(a[(b<<4)+f[i]]),D(d[i]),g++}return 63!=m&&D(o),n}function M(e){if(e<=0&&(e=1),e>100&&(e=100),i!=e){(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=o((t[n]*e+50)/100);r<1?r=1:r>255&&(r=255),s[S[n]]=r}for(var a=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],i=0;i<64;i++){var d=o((a[i]*e+50)/100);d<1?d=1:d>255&&(d=255),u[S[i]]=d}for(var f=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],p=0,h=0;h<8;h++)for(var m=0;m<8;m++)l[p]=1/(s[S[p]]*f[h]*f[m]*8),c[p]=1/(u[S[p]]*f[h]*f[m]*8),p++})(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),i=e}}this.encode=function(e,i){var o;(new Date).getTime();i&&M(i),m=new Array,v=0,g=7,$(65496),$(65504),$(16),F(74),F(70),F(73),F(70),F(0),F(1),F(1),F(0),$(1),$(1),F(0),F(0),"undefined"!==typeof(o=e.comments)&&o.constructor===Array&&o.forEach((e=>{if("string"===typeof e){$(65534);var t,n=e.length;for($(n+2),t=0;t<n;t++)F(e.charCodeAt(t))}})),function(e){if(e){$(65505),69===e[0]&&120===e[1]&&105===e[2]&&102===e[3]?$(e.length+2):($(e.length+5+2),F(69),F(120),F(105),F(102),F(0));for(var t=0;t<e.length;t++)F(e[t])}}(e.exifBuffer),function(){$(65499),$(132),F(0);for(var e=0;e<64;e++)F(s[e]);F(1);for(var t=0;t<64;t++)F(u[t])}(),function(e,t){$(65472),$(17),F(8),$(t),$(e),F(3),F(1),F(17),F(0),F(2),F(17),F(1),F(3),F(17),F(1)}(e.width,e.height),function(){$(65476),$(418),F(0);for(var e=0;e<16;e++)F(T[e+1]);for(var t=0;t<=11;t++)F(E[t]);F(16);for(var n=0;n<16;n++)F(C[n+1]);for(var r=0;r<=161;r++)F(N[r]);F(1);for(var a=0;a<16;a++)F(I[a+1]);for(var i=0;i<=11;i++)F(_[i]);F(17);for(var o=0;o<16;o++)F(R[o+1]);for(var s=0;s<=161;s++)F(A[s])}(),$(65498),$(12),F(3),F(1),F(0),F(2),F(17),F(3),F(17),F(0),F(63),F(0);var d=0,f=0,p=0;v=0,g=7,this.encode.displayName="_encode_";for(var h,w,S,O,L,z,B,V,U,G=e.data,W=e.width,j=e.height,q=4*W,H=0;H<j;){for(h=0;h<q;){for(z=L=q*H+h,B=-1,V=0,U=0;U<64;U++)z=L+(V=U>>3)*q+(B=4*(7&U)),H+V>=j&&(z-=q*(H+1+V-j)),h+B>=q&&(z-=h+B-q+4),w=G[z++],S=G[z++],O=G[z++],y[U]=(x[w]+x[S+256>>0]+x[O+512>>0]>>16)-128,b[U]=(x[w+768>>0]+x[S+1024>>0]+x[O+1280>>0]>>16)-128,k[U]=(x[w+1280>>0]+x[S+1536>>0]+x[O+1792>>0]>>16)-128;d=P(y,l,d,t,r),f=P(b,c,f,n,a),p=P(k,c,p,n,a),h+=32}H+=8}if(g>=0){var K=[];K[1]=g+1,K[0]=(1<<g+1)-1,D(K)}return $(65497),Buffer.from(m)},function(){(new Date).getTime();e||(e=50),function(){for(var e=String.fromCharCode,t=0;t<256;t++)w[t]=e(t)}(),t=O(T,E),n=O(I,_),r=O(C,N),a=O(R,A),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)f[32767+r]=n,d[32767+r]=[],d[32767+r][1]=n,d[32767+r][0]=r;for(var a=-(t-1);a<=-e;a++)f[32767+a]=n,d[32767+a]=[],d[32767+a][1]=n,d[32767+a][0]=t-1+a;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)x[e]=19595*e,x[e+256>>0]=38470*e,x[e+512>>0]=7471*e+32768,x[e+768>>0]=-11059*e,x[e+1024>>0]=-21709*e,x[e+1280>>0]=32768*e+8421375,x[e+1536>>0]=-27439*e,x[e+1792>>0]=-5329*e}(),M(e),(new Date).getTime()}()}e.exports=function(e,n){"undefined"===typeof n&&(n=50);return{data:new t(n).encode(e,n),width:e.width,height:e.height}}},9477:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},i={};function o(e,t){var n,r,o;return t?(o=0<=(e>>>=0)&&e<256)&&(r=i[e])?r:(n=u(e,(0|e)<0?-1:0,!0),o&&(i[e]=n),n):(o=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=u(e,e<0?-1:0,!1),o&&(a[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:v;if(t){if(e<0)return g;if(e>=p)return x}else{if(e<=-h)return S;if(e+1>=h)return w}return e<0?s(-e,t).neg():u(e%f|0,e/f|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=o,n.fromNumber=s,n.fromBits=u;var l=Math.pow;function c(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return v;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return c(e.substring(1),t,n).neg();for(var a=s(l(n,8)),i=v,o=0;o<e.length;o+=8){var u=Math.min(8,e.length-o),d=parseInt(e.substring(o,o+u),n);if(u<8){var f=s(l(n,u));i=i.mul(f).add(s(d))}else i=(i=i.mul(a)).add(s(d))}return i.unsigned=t,i}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?c(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=c,n.fromValue=d;var f=4294967296,p=f*f,h=p/2,m=o(1<<24),v=o(0);n.ZERO=v;var g=o(0,!0);n.UZERO=g;var y=o(1);n.ONE=y;var b=o(1,!0);n.UONE=b;var k=o(-1);n.NEG_ONE=k;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var x=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=x;var S=u(0,-2147483648,!1);n.MIN_VALUE=S;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*f+(this.low>>>0):this.high*f+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(l(e,6),this.unsigned),i=this,o="";;){var u=i.div(a),c=(i.sub(u.mul(a)).toInt()>>>0).toString(e);if((i=u).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1===(1&this.low)},T.isEven=function(){return 0===(1&this.low)},T.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(y)},T.neg=T.negate,T.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,i=65535&this.low,o=e.high>>>16,s=65535&e.high,l=e.low>>>16,c=0,f=0,p=0,h=0;return p+=(h+=i+(65535&e.low))>>>16,f+=(p+=a+l)>>>16,c+=(f+=n+s)>>>16,c+=t+o,u((p&=65535)<<16|(h&=65535),(c&=65535)<<16|(f&=65535),this.unsigned)},T.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return v;if(r(e)||(e=d(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return v;if(this.eq(S))return e.isOdd()?S:v;if(e.eq(S))return this.isOdd()?S:v;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,i=this.low>>>16,o=65535&this.low,l=e.high>>>16,c=65535&e.high,f=e.low>>>16,p=65535&e.low,h=0,g=0,y=0,b=0;return y+=(b+=o*p)>>>16,g+=(y+=i*p)>>>16,y&=65535,g+=(y+=o*f)>>>16,h+=(g+=a*p)>>>16,g&=65535,h+=(g+=i*f)>>>16,g&=65535,h+=(g+=o*c)>>>16,h+=n*p+a*f+i*c+o*l,u((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,a,i;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:v;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return b;i=g}else{if(this.eq(S))return e.eq(y)||e.eq(k)?S:e.eq(S)?y:(n=this.shr(1).div(e).shl(1)).eq(v)?e.isNegative()?y:k:(a=this.sub(e.mul(n)),i=n.add(a.div(e)));if(e.eq(S))return this.unsigned?g:v;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();i=v}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(n)/Math.LN2),c=o<=48?1:l(2,o-48),f=s(n),p=f.mul(e);p.isNegative()||p.gt(a);)p=(f=s(n-=c,this.unsigned)).mul(e);f.isZero()&&(f=y),i=i.add(f),a=a.sub(p)}return i},T.div=T.divide,T.modulo=function(e){return r(e)||(e=d(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return u(~this.low,~this.high,this.unsigned)},T.and=function(e){return r(e)||(e=d(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return r(e)||(e=d(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return r(e)||(e=d(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},986:function(e,t,n){"use strict";const r=n(9510),{hasOwnProperty:a}=Object.prototype,{propertyIsEnumerable:i}=Object,o=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),s=this,u={concatArrays:!1,ignoreUndefined:!1},l=e=>{const t=[];for(const n in e)a.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)i.call(e,r)&&t.push(r)}return t};function c(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return l(e).forEach((n=>{o(t,n,c(e[n]))})),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return l(e).forEach((n=>{o(t,n,c(e[n]))})),t}(e):e}const d=(e,t,n,r)=>(n.forEach((n=>{"undefined"===typeof t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?o(e,n,p(e[n],t[n],r)):o(e,n,c(t[n])))})),e),f=(e,t,n)=>{let r=e.slice(0,0),i=0;return[e,t].forEach((t=>{const s=[];for(let n=0;n<t.length;n++)a.call(t,n)&&(s.push(String(n)),o(r,i++,t===e?t[n]:c(t[n])));r=d(r,t,l(t).filter((e=>!s.includes(e))),n)})),r};function p(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?f(e,t,n):r(t)&&r(e)?d(e,t,l(t),n):c(t)}e.exports=function(...e){const t=p(c(u),this!==s&&this||{},u);let n={_:{}};for(const a of e)if(void 0!==a){if(!r(a))throw new TypeError("`"+a+"` is not an Option Object");n=p(n,{_:a},t)}return n._}},6802:e=>{"use strict";function t(e,t){if(null!=e)return e;var n=new Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}e.exports=t,e.exports.default=t,Object.defineProperty(e.exports,"__esModule",{value:!0})},8007:e=>{"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",a=0,i=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)n=e.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(i===s-1||1===o);else if(i!==s-1&&2===o){if(r.length<2||2!==a||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var u=r.lastIndexOf("/");if(u!==r.length-1){-1===u?(r="",a=0):a=(r=r.slice(0,u)).length-1-r.lastIndexOf("/"),i=s,o=0;continue}}else if(2===r.length||1===r.length){r="",a=0,i=s,o=0;continue}t&&(r.length>0?r+="/..":r="..",a=2)}else r.length>0?r+="/"+e.slice(i+1,s):r=e.slice(i+1,s),a=s-i-1;i=s,o=0}else 46===n&&-1!==o?++o:o=-1}return r}var r={resolve:function(){for(var e,r="",a=!1,i=arguments.length-1;i>=-1&&!a;i--){var o;i>=0?o=arguments[i]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(r=o+"/"+r,a=47===o.charCodeAt(0))}return r=n(r,!a),a?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),a=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&a&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var a=arguments[n];t(a),a.length>0&&(void 0===e?e=a:e+="/"+a)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var a=1;a<e.length&&47===e.charCodeAt(a);++a);for(var i=e.length,o=i-a,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var u=n.length-s,l=o<u?o:u,c=-1,d=0;d<=l;++d){if(d===l){if(u>l){if(47===n.charCodeAt(s+d))return n.slice(s+d+1);if(0===d)return n.slice(s+d)}else o>l&&(47===e.charCodeAt(a+d)?c=d:0===d&&(c=0));break}var f=e.charCodeAt(a+d);if(f!==n.charCodeAt(s+d))break;47===f&&(c=d)}var p="";for(d=a+c+1;d<=i;++d)d!==i&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(s+c):(s+=c,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,a=-1,i=!0,o=e.length-1;o>=1;--o)if(47===(n=e.charCodeAt(o))){if(!i){a=o;break}}else i=!1;return-1===a?r?"/":".":r&&1===a?"//":e.slice(0,a)},basename:function(e,n){if(void 0!==n&&"string"!==typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,a=0,i=-1,o=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var s=n.length-1,u=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!o){a=r+1;break}}else-1===u&&(o=!1,u=r+1),s>=0&&(l===n.charCodeAt(s)?-1===--s&&(i=r):(s=-1,i=u))}return a===i?i=u:-1===i&&(i=e.length),e.slice(a,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!o){a=r+1;break}}else-1===i&&(o=!1,i=r+1);return-1===i?"":e.slice(a,i)},extname:function(e){t(e);for(var n=-1,r=0,a=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var u=e.charCodeAt(s);if(47!==u)-1===a&&(i=!1,a=s+1),46===u?-1===n?n=s:1!==o&&(o=1):-1!==n&&(o=-1);else if(!i){r=s+1;break}}return-1===n||-1===a||0===o||1===o&&n===a-1&&n===r+1?"":e.slice(n,a)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}("/",e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,a=e.charCodeAt(0),i=47===a;i?(n.root="/",r=1):r=0;for(var o=-1,s=0,u=-1,l=!0,c=e.length-1,d=0;c>=r;--c)if(47!==(a=e.charCodeAt(c)))-1===u&&(l=!1,u=c+1),46===a?-1===o?o=c:1!==d&&(d=1):-1!==o&&(d=-1);else if(!l){s=c+1;break}return-1===o||-1===u||0===d||1===d&&o===u-1&&o===s+1?-1!==u&&(n.base=n.name=0===s&&i?e.slice(1,u):e.slice(s,u)):(0===s&&i?(n.name=e.slice(1,o),n.base=e.slice(1,u)):(n.name=e.slice(s,o),n.base=e.slice(s,u)),n.ext=e.slice(o,u)),s>0?n.dir=e.slice(0,s-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},6472:(e,t)=>{"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function a(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var r,i,o=[];for(i in"string"!==typeof t&&(t="?"),e)if(n.call(e,i)){if((r=e[i])||null!==r&&undefined!==r&&!isNaN(r)||(r=""),i=a(i),r=a(r),null===i||null===r)continue;o.push(i+"="+r)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,a={};t=n.exec(e);){var i=r(t[1]),o=r(t[2]);null===i||null===o||i in a||(a[i]=o)}return a}},8348:(e,t,n)=>{"use strict";var r=n(5004),a=n(8695);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=v.hasOwnProperty(t)?v[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);v[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),N=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function $(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var P,M=Object.assign;function L(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var z=!1;function B(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var a=l.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(1!==o||1!==s)do{if(o--,0>--s||a[o]!==i[s]){var u="\n"+a[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=o&&0<=s);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?L(e):""}function V(e){switch(e.tag){case 5:return L(e.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case T:return"StrictMode";case _:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case N:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function G(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function j(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=j(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=j(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function X(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Z(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ie(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ge=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,Te=null;function Ee(e){if(e=ba(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=wa(t),xe(e.stateNode,e.type,t))}}function Ce(e){Se?Te?Te.push(e):Te=[e]:Se=e}function Ne(){if(Se){var e=Se,t=Te;if(Te=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ie(e,t){return e(t)}function _e(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ie(e,t,n)}finally{Re=!1,(null!==Se||null!==Te)&&(_e(),Ne())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var De=!1;if(c)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(ce){De=!1}function $e(e,t,n,r,a,i,o,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Pe=!1,Me=null,Le=!1,ze=null,Be={onError:function(e){Pe=!0,Me=e}};function Ve(e,t,n,r,a,i,o,s,u){Pe=!1,Me=null,$e.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ge(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Ue(e)!==e)throw Error(i(188))}function je(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return We(a),e;if(o===r)return We(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var He=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Xe=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Ze=a.unstable_now,Qe=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,it=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~a;0!==s?r=dt(s):0!==(i&=o)&&(r=dt(i))}else 0!==(o=n&~a)?r=dt(o):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(i=t&-t)||16===a&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-ot(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,St,Tt,Et,Ct=!1,Nt=[],It=null,_t=null,Rt=null,At=new Map,Ot=new Map,Dt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $t(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Pt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Mt(e){var t=ya(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ge(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Lt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function zt(e,t,n){Lt(e)&&n.delete(t)}function Bt(){Ct=!1,null!==It&&Lt(It)&&(It=null),null!==_t&&Lt(_t)&&(_t=null),null!==Rt&&Lt(Rt)&&(Rt=null),At.forEach(zt),Ot.forEach(zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Nt.length){Vt(Nt[0],e);for(var n=1;n<Nt.length;n++){var r=Nt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==_t&&Vt(_t,e),null!==Rt&&Vt(Rt,e),At.forEach(t),Ot.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Dt.shift()}var Gt=k.ReactCurrentBatchConfig,Wt=!0;function jt(e,t,n,r){var a=bt,i=Gt.transition;Gt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=a,Gt.transition=i}}function qt(e,t,n,r){var a=bt,i=Gt.transition;Gt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=a,Gt.transition=i}}function Ht(e,t,n,r){if(Wt){var a=Xt(e,t,n,r);if(null===a)Wr(e,t,r,Kt,n),$t(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Pt(It,e,t,n,r,a),!0;case"dragenter":return _t=Pt(_t,e,t,n,r,a),!0;case"mouseover":return Rt=Pt(Rt,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return At.set(i,Pt(At.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,Ot.set(i,Pt(Ot.get(i)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if($t(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==a;){var i=ba(a);if(null!==i&&wt(i),null===(i=Xt(e,t,n,r))&&Wr(e,t,r,Kt,n),i===a)break;a=i}null!==a&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Kt=null;function Xt(e,t,n,r){if(Kt=null,null!==(e=ya(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ge(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Qt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Qt,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),dn=M({},ln,{view:0,detail:0}),fn=an(dn),pn=M({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(pn),mn=an(M({},pn,{dataTransfer:0})),vn=an(M({},dn,{relatedTarget:0})),gn=an(M({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(M({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return Tn}var Cn=M({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=an(Cn),In=an(M({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(M({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=an(M({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=M({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=an(An),Dn=[9,13,27,32],Fn=c&&"CompositionEvent"in window,$n=null;c&&"documentMode"in document&&($n=document.documentMode);var Pn=c&&"TextEvent"in window&&!$n,Mn=c&&(!Fn||$n&&8<$n&&11>=$n),Ln=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Gn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Gn[e.type]:"textarea"===t}function jn(e,t,n,r){Ce(r),0<(t=qr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qn=null,Hn=null;function Kn(e){Lr(e,0)}function Xn(e){if(H(ka(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Qn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Qn=Jn}else Qn=!1;Zn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){qn&&(qn.detachEvent("onpropertychange",nr),Hn=qn=null)}function nr(e){if("value"===e.propertyName&&Xn(Hn)){var t=[];jn(t,Hn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(qn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Hn)}function ir(e,t){if("click"===e)return Xn(t)}function or(e,t){if("input"===e||"change"===e)return Xn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=cr(n,i);var o=cr(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==vr||vr!==K(r)||("selectionStart"in(r=vr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=qr(gr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Tr={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return Sr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Er("animationend"),Nr=Er("animationiteration"),Ir=Er("animationstart"),_r=Er("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Rr.set(e,t),u(t,[e])}for(var Dr=0;Dr<Ar.length;Dr++){var Fr=Ar[Dr];Or(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Or(Cr,"onAnimationEnd"),Or(Nr,"onAnimationIteration"),Or(Ir,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(_r,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pr=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,o,s,u,l){if(Ve.apply(this,arguments),Pe){if(!Pe)throw Error(i(198));var c=Me;Pe=!1,Me=null,Le||(Le=!0,ze=c)}}(r,t,void 0,e),e.currentTarget=null}function Lr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==i&&a.isPropagationStopped())break e;Mr(a,s,l),i=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,l=s.currentTarget,s=s.listener,u!==i&&a.isPropagationStopped())break e;Mr(a,s,l),i=u}}}if(Le)throw e=ze,Le=!1,ze=null,e}function zr(e,t){var n=t[ma];void 0===n&&(n=t[ma]=new Set);var r=e+"__bubble";n.has(r)||(Gr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Gr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Pr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Gr(e,t,n,r){switch(Yt(t)){case 1:var a=jt;break;case 4:a=qt;break;default:a=Ht}n=a.bind(null,t,n,e),a=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;o=o.return}for(;null!==s;){if(null===(o=ya(s)))return;if(5===(u=o.tag)||6===u){r=i=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=i,a=we(n),o=[];e:{var s=Rr.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":l="focus",u=vn;break;case"focusout":l="blur",u=vn;break;case"beforeblur":case"afterblur":u=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=_n;break;case Cr:case Nr:case Ir:u=gn;break;case _r:u=Rn;break;case"scroll":u=fn;break;case"wheel":u=On;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==s?s+"Capture":null:s;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Oe(h,f))&&c.push(jr(h,m,p)))),d)break;h=h.return}0<c.length&&(s=new u(s,l,null,n,a),o.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===ke||!(l=n.relatedTarget||n.fromElement)||!ya(l)&&!l[ha])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ya(l):null)&&(l!==(d=Ue(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==u?s:ka(u),p=null==l?s:ka(l),(s=new c(m,h+"leave",u,n,a)).target=d,s.relatedTarget=p,m=null,ya(a)===r&&((c=new c(f,h+"enter",l,n,a)).target=p,c.relatedTarget=d,m=c),d=m,u&&l)e:{for(f=l,h=0,p=c=u;p;p=Hr(p))h++;for(p=0,m=f;m;m=Hr(m))p++;for(;0<h-p;)c=Hr(c),h--;for(;0<p-h;)f=Hr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Hr(c),f=Hr(f)}c=null}else c=null;null!==u&&Kr(o,s,u,c,!1),null!==l&&null!==d&&Kr(o,d,l,c,!0)}if("select"===(u=(s=r?ka(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var v=Yn;else if(Wn(s))if(Zn)v=or;else{v=ar;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(v=ir);switch(v&&(v=v(e,r))?jn(o,v,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?ka(r):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(vr=g,gr=r,yr=null);break;case"focusout":yr=gr=vr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,a);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":kr(o,n,a)}var y;if(Fn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Mn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):(Qt="value"in(Zt=a)?Zt.value:Zt.textContent,Un=!0)),0<(g=qr(r,b)).length&&(b=new kn(b,e,null,n,a),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(zn=!0,Ln);case"textInput":return(e=t.data)===Ln&&zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Fn&&Bn(e,t)?(e=en(),Jt=Qt=Zt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=qr(r,"onBeforeInput")).length&&(a=new kn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=y))}Lr(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Oe(e,n))&&r.unshift(jr(e,i,a)),null!=(i=Oe(e,t))&&r.push(jr(e,i,a))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,a?null!=(u=Oe(n,i))&&o.unshift(jr(n,u,s)):a||null!=(u=Oe(n,i))&&o.push(jr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace(Yr,"")}function Qr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,ia="function"===typeof Promise?Promise:void 0,oa="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ia?function(e){return ia.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function la(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),fa="__reactFiber$"+da,pa="__reactProps$"+da,ha="__reactContainer$"+da,ma="__reactEvents$"+da,va="__reactListeners$"+da,ga="__reactHandles$"+da;function ya(e){var t=e[fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[fa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ca(e);null!==e;){if(n=e[fa])return n;e=ca(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[fa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ka(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wa(e){return e[pa]||null}var xa=[],Sa=-1;function Ta(e){return{current:e}}function Ea(e){0>Sa||(e.current=xa[Sa],xa[Sa]=null,Sa--)}function Ca(e,t){Sa++,xa[Sa]=e.current,e.current=t}var Na={},Ia=Ta(Na),_a=Ta(!1),Ra=Na;function Aa(e,t){var n=e.type.contextTypes;if(!n)return Na;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Da(){Ea(_a),Ea(Ia)}function Fa(e,t,n){if(Ia.current!==Na)throw Error(i(168));Ca(Ia,t),Ca(_a,n)}function $a(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(i(108,G(e)||"Unknown",a));return M({},n,r)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Na,Ra=Ia.current,Ca(Ia,e),Ca(_a,_a.current),!0}function Ma(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=$a(e,t,Ra),r.__reactInternalMemoizedMergedChildContext=e,Ea(_a),Ea(Ia),Ca(Ia,e)):Ea(_a),Ca(_a,n)}var La=null,za=!1,Ba=!1;function Va(e){null===La?La=[e]:La.push(e)}function Ua(){if(!Ba&&null!==La){Ba=!0;var e=0,t=bt;try{var n=La;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}La=null,za=!1}catch(a){throw null!==La&&(La=La.slice(e+1)),He(Je,Ua),a}finally{bt=t,Ba=!1}}return null}var Ga=[],Wa=0,ja=null,qa=0,Ha=[],Ka=0,Xa=null,Ya=1,Za="";function Qa(e,t){Ga[Wa++]=qa,Ga[Wa++]=ja,ja=e,qa=t}function Ja(e,t,n){Ha[Ka++]=Ya,Ha[Ka++]=Za,Ha[Ka++]=Xa,Xa=e;var r=Ya;e=Za;var a=32-ot(r)-1;r&=~(1<<a),n+=1;var i=32-ot(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ya=1<<32-ot(t)+a|n<<a|r,Za=i+e}else Ya=1<<i|n<<a|r,Za=e}function ei(e){null!==e.return&&(Qa(e,1),Ja(e,1,0))}function ti(e){for(;e===ja;)ja=Ga[--Wa],Ga[Wa]=null,qa=Ga[--Wa],Ga[Wa]=null;for(;e===Xa;)Xa=Ha[--Ka],Ha[Ka]=null,Za=Ha[--Ka],Ha[Ka]=null,Ya=Ha[--Ka],Ha[Ka]=null}var ni=null,ri=null,ai=!1,ii=null;function oi(e,t){var n=Ol(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function si(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ri=la(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ri=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Xa?{id:Ya,overflow:Za}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ol(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ri=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function li(e){if(ai){var t=ri;if(t){var n=t;if(!si(e,t)){if(ui(e))throw Error(i(418));t=la(n.nextSibling);var r=ni;t&&si(e,t)?oi(r,n):(e.flags=-4097&e.flags|2,ai=!1,ni=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ai=!1,ni=e}}}function ci(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function di(e){if(e!==ni)return!1;if(!ai)return ci(e),ai=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=ri)){if(ui(e))throw fi(),Error(i(418));for(;t;)oi(e,t),t=la(t.nextSibling)}if(ci(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ri=la(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ri=null}}else ri=ni?la(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=ri;e;)e=la(e.nextSibling)}function pi(){ri=ni=null,ai=!1}function hi(e){null===ii?ii=[e]:ii.push(e)}var mi=k.ReactCurrentBatchConfig;function vi(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var gi=Ta(null),yi=null,bi=null,ki=null;function wi(){ki=bi=yi=null}function xi(e){var t=gi.current;Ea(gi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ti(e,t){yi=e,ki=bi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ks=!0),e.firstContext=null)}function Ei(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===bi){if(null===yi)throw Error(i(308));bi=e,yi.dependencies={lanes:0,firstContext:e}}else bi=bi.next=e;return t}var Ci=null;function Ni(e){null===Ci?Ci=[e]:Ci.push(e)}function Ii(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Ni(t)):(n.next=a.next,a.next=n),t.interleaved=n,_i(e,r)}function _i(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ri=!1;function Ai(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&_u)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,_i(e,n)}return null===(a=r.interleaved)?(t.next=t,Ni(r)):(t.next=a.next,a.next=t),r.interleaved=t,_i(e,n)}function $i(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Pi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mi(e,t,n,r){var a=e.updateQueue;Ri=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var u=s,l=u.next;u.next=null,null===o?i=l:o.next=l,o=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==i){var d=a.baseState;for(o=0,c=l=u=null,s=i;;){var f=s.lane,p=s.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=M({},d,f);break e;case 2:Ri=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(f=a.effects)?a.effects=[s]:f.push(s))}else p={eventTime:p,lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=p,u=d):c=c.next=p,o|=f;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(f=s).next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}if(null===c&&(u=d),a.baseState=u,a.firstBaseUpdate=l,a.lastBaseUpdate=c,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===i&&(a.shared.lanes=0);Mu|=o,e.lanes=o,e.memoizedState=d}}function Li(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(i(191,a));a.call(r)}}}var zi=(new r.Component).refs;function Bi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vi={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),a=nl(e),i=Di(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(rl(t,e,a,r),$i(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),a=nl(e),i=Di(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,a))&&(rl(t,e,a,r),$i(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),a=Di(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Fi(e,a,r))&&(rl(t,e,r,n),$i(t,e,r))}};function Ui(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,i))}function Gi(e,t,n){var r=!1,a=Na,i=t.contextType;return"object"===typeof i&&null!==i?i=Ei(i):(a=Oa(t)?Ra:Ia.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Aa(e,a):Na),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function Wi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vi.enqueueReplaceState(t,t.state,null)}function ji(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=zi,Ai(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=Ei(i):(i=Oa(t)?Ra:Ia.current,a.context=Aa(e,i)),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(Bi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&Vi.enqueueReplaceState(a,a.state,null),Mi(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function qi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var a=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;t===zi&&(t=a.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function Hi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ki(e){return(0,e._init)(e._payload)}function Xi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Fl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Ll(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===O&&Ki(i)===t.type)?((r=a(t,n.props)).ref=qi(e,t,n),r.return=e,r):((r=$l(n.type,n.key,n.props,null,e.mode,r)).ref=qi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zl(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=$l(t.type,t.key,t.props,null,e.mode,n)).ref=qi(e,null,t),n.return=e,n;case x:return(t=zl(t,e.mode,n)).return=e,t;case O:return f(e,(0,t._init)(t._payload),n)}if(te(t)||$(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Hi(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?l(e,t,n,r):null;case x:return n.key===a?c(e,t,n,r):null;case O:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||$(n))return null!==a?null:d(e,t,n,r,null);Hi(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case O:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||$(r))return d(t,e=e.get(n)||null,r,a,null);Hi(t,r)}return null}function m(a,i,s,u){for(var l=null,c=null,d=i,m=i=0,v=null;null!==d&&m<s.length;m++){d.index>m?(v=d,d=null):v=d.sibling;var g=p(a,d,s[m],u);if(null===g){null===d&&(d=v);break}e&&d&&null===g.alternate&&t(a,d),i=o(g,i,m),null===c?l=g:c.sibling=g,c=g,d=v}if(m===s.length)return n(a,d),ai&&Qa(a,m),l;if(null===d){for(;m<s.length;m++)null!==(d=f(a,s[m],u))&&(i=o(d,i,m),null===c?l=d:c.sibling=d,c=d);return ai&&Qa(a,m),l}for(d=r(a,d);m<s.length;m++)null!==(v=h(d,a,m,s[m],u))&&(e&&null!==v.alternate&&d.delete(null===v.key?m:v.key),i=o(v,i,m),null===c?l=v:c.sibling=v,c=v);return e&&d.forEach((function(e){return t(a,e)})),ai&&Qa(a,m),l}function v(a,s,u,l){var c=$(u);if("function"!==typeof c)throw Error(i(150));if(null==(u=c.call(u)))throw Error(i(151));for(var d=c=null,m=s,v=s=0,g=null,y=u.next();null!==m&&!y.done;v++,y=u.next()){m.index>v?(g=m,m=null):g=m.sibling;var b=p(a,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(a,m),s=o(b,s,v),null===d?c=b:d.sibling=b,d=b,m=g}if(y.done)return n(a,m),ai&&Qa(a,v),c;if(null===m){for(;!y.done;v++,y=u.next())null!==(y=f(a,y.value,l))&&(s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return ai&&Qa(a,v),c}for(m=r(a,m);!y.done;v++,y=u.next())null!==(y=h(m,a,v,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?v:y.key),s=o(y,s,v),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ai&&Qa(a,v),c}return function e(r,i,o,u){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=i;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(i=a(c,o.props.children)).return=r,r=i;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===O&&Ki(l)===c.type){n(r,c.sibling),(i=a(c,o.props)).ref=qi(r,c,o),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((i=Pl(o.props.children,r.mode,u,o.key)).return=r,r=i):((u=$l(o.type,o.key,o.props,null,r.mode,u)).ref=qi(r,i,o),u.return=r,r=u)}return s(r);case x:e:{for(c=o.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===o.containerInfo&&i.stateNode.implementation===o.implementation){n(r,i.sibling),(i=a(i,o.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=zl(o,r.mode,u)).return=r,r=i}return s(r);case O:return e(r,i,(c=o._init)(o._payload),u)}if(te(o))return m(r,i,o,u);if($(o))return v(r,i,o,u);Hi(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==i&&6===i.tag?(n(r,i.sibling),(i=a(i,o)).return=r,r=i):(n(r,i),(i=Ll(o,r.mode,u)).return=r,r=i),s(r)):n(r,i)}}var Yi=Xi(!0),Zi=Xi(!1),Qi={},Ji=Ta(Qi),eo=Ta(Qi),to=Ta(Qi);function no(e){if(e===Qi)throw Error(i(174));return e}function ro(e,t){switch(Ca(to,t),Ca(eo,e),Ca(Ji,Qi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ea(Ji),Ca(Ji,t)}function ao(){Ea(Ji),Ea(eo),Ea(to)}function io(e){no(to.current);var t=no(Ji.current),n=ue(t,e.type);t!==n&&(Ca(eo,e),Ca(Ji,n))}function oo(e){eo.current===e&&(Ea(Ji),Ea(eo))}var so=Ta(0);function uo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=k.ReactCurrentDispatcher,po=k.ReactCurrentBatchConfig,ho=0,mo=null,vo=null,go=null,yo=!1,bo=!1,ko=0,wo=0;function xo(){throw Error(i(321))}function So(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function To(e,t,n,r,a,o){if(ho=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?ss:us,e=n(r,a),bo){o=0;do{if(bo=!1,ko=0,25<=o)throw Error(i(301));o+=1,go=vo=null,t.updateQueue=null,fo.current=ls,e=n(r,a)}while(bo)}if(fo.current=os,t=null!==vo&&null!==vo.next,ho=0,go=vo=mo=null,yo=!1,t)throw Error(i(300));return e}function Eo(){var e=0!==ko;return ko=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===go?mo.memoizedState=go=e:go=go.next=e,go}function No(){if(null===vo){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===go?mo.memoizedState:go.next;if(null!==t)go=t,vo=e;else{if(null===e)throw Error(i(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===go?mo.memoizedState=go=e:go=go.next=e}return go}function Io(e,t){return"function"===typeof t?t(e):t}function _o(e){var t=No(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=vo,a=r.baseQueue,o=n.pending;if(null!==o){if(null!==a){var s=a.next;a.next=o.next,o.next=s}r.baseQueue=a=o,n.pending=null}if(null!==a){o=a.next,r=r.baseState;var u=s=null,l=null,c=o;do{var d=c.lane;if((ho&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=f,s=r):l=l.next=f,mo.lanes|=d,Mu|=d}c=c.next}while(null!==c&&c!==o);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ks=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{o=a.lane,mo.lanes|=o,Mu|=o,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ro(e){var t=No(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{o=e(o,s.action),s=s.next}while(s!==a);sr(o,t.memoizedState)||(ks=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ao(){}function Oo(e,t){var n=mo,r=No(),a=t(),o=!sr(r.memoizedState,a);if(o&&(r.memoizedState=a,ks=!0),r=r.queue,Wo($o.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==go&&1&go.memoizedState.tag){if(n.flags|=2048,zo(9,Fo.bind(null,n,r,a,t),void 0,null),null===Ru)throw Error(i(349));0!==(30&ho)||Do(n,t,a)}return a}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fo(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Mo(e)}function $o(e,t,n){return n((function(){Po(t)&&Mo(e)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Mo(e){var t=_i(e,1);null!==t&&rl(t,e,1,-1)}function Lo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,mo,e),[t.memoizedState,e]}function zo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return No().memoizedState}function Vo(e,t,n,r){var a=Co();mo.flags|=e,a.memoizedState=zo(1|t,n,void 0,void 0===r?null:r)}function Uo(e,t,n,r){var a=No();r=void 0===r?null:r;var i=void 0;if(null!==vo){var o=vo.memoizedState;if(i=o.destroy,null!==r&&So(r,o.deps))return void(a.memoizedState=zo(t,n,i,r))}mo.flags|=e,a.memoizedState=zo(1|t,n,i,r)}function Go(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return Uo(2048,8,e,t)}function jo(e,t){return Uo(4,2,e,t)}function qo(e,t){return Uo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Uo(4,4,Ho.bind(null,t,e),n)}function Xo(){}function Yo(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zo(e,t){var n=No();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&So(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qo(e,t,n){return 0===(21&ho)?(e.baseState&&(e.baseState=!1,ks=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),mo.lanes|=n,Mu|=n,e.baseState=!0),t)}function Jo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=po.transition;po.transition={};try{e(!1),t()}finally{bt=n,po.transition=r}}function es(){return No().memoizedState}function ts(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))as(t,n);else if(null!==(n=Ii(e,t,n,r))){rl(n,e,r,tl()),is(n,t,r)}}function ns(e,t,n){var r=nl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))as(t,a);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,o)){var u=t.interleaved;return null===u?(a.next=a,Ni(t)):(a.next=u.next,u.next=a),void(t.interleaved=a)}}catch(l){}null!==(n=Ii(e,t,a,r))&&(rl(n,e,r,a=tl()),is(n,t,r))}}function rs(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function as(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function is(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var os={readContext:Ei,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},ss={readContext:Ei,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:Go,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Lo,useDebugValue:Xo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Jo.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,a=Co();if(ai){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Ru)throw Error(i(349));0!==(30&ho)||Do(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Go($o.bind(null,r,o,e),[e]),r.flags|=2048,zo(9,Fo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=Ru.identifierPrefix;if(ai){var n=Za;t=":"+t+"R"+(n=(Ya&~(1<<32-ot(Ya)-1)).toString(32)+n),0<(n=ko++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Ei,useCallback:Yo,useContext:Ei,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:jo,useLayoutEffect:qo,useMemo:Zo,useReducer:_o,useRef:Bo,useState:function(){return _o(Io)},useDebugValue:Xo,useDeferredValue:function(e){return Qo(No(),vo.memoizedState,e)},useTransition:function(){return[_o(Io)[0],No().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1},ls={readContext:Ei,useCallback:Yo,useContext:Ei,useEffect:Wo,useImperativeHandle:Ko,useInsertionEffect:jo,useLayoutEffect:qo,useMemo:Zo,useReducer:Ro,useRef:Bo,useState:function(){return Ro(Io)},useDebugValue:Xo,useDeferredValue:function(e){var t=No();return null===vo?t.memoizedState=e:Qo(t,vo.memoizedState,e)},useTransition:function(){return[Ro(Io)[0],No().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Oo,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a,digest:null}}function ds(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function fs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ps="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ju||(ju=!0,qu=r),fs(0,t)},n}function ms(e,t,n){(n=Di(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){fs(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){fs(0,t),"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Cl.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var bs=k.ReactCurrentOwner,ks=!1;function ws(e,t,n,r){t.child=null===e?Zi(t,null,n,r):Yi(t,e.child,n,r)}function xs(e,t,n,r,a){n=n.render;var i=t.ref;return Ti(t,a),r=To(e,t,n,r,i,a),n=Eo(),null===e||ks?(ai&&n&&ei(t),t.flags|=1,ws(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,js(e,t,a))}function Ss(e,t,n,r,a){if(null===e){var i=n.type;return"function"!==typeof i||Dl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=$l(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ts(e,t,i,r,a))}if(i=e.child,0===(e.lanes&a)){var o=i.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return js(e,t,a)}return t.flags|=1,(e=Fl(i,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,a){if(null!==e){var i=e.memoizedProps;if(ur(i,r)&&e.ref===t.ref){if(ks=!1,t.pendingProps=r=i,0===(e.lanes&a))return t.lanes=e.lanes,js(e,t,a);0!==(131072&e.flags)&&(ks=!0)}}return Ns(e,t,n,r,a)}function Es(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ca(Fu,Du),Du|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ca(Fu,Du),Du|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Ca(Fu,Du),Du|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Ca(Fu,Du),Du|=r;return ws(e,t,a,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ns(e,t,n,r,a){var i=Oa(n)?Ra:Ia.current;return i=Aa(t,i),Ti(t,a),n=To(e,t,n,r,i,a),r=Eo(),null===e||ks?(ai&&r&&ei(t),t.flags|=1,ws(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,js(e,t,a))}function Is(e,t,n,r,a){if(Oa(n)){var i=!0;Pa(t)}else i=!1;if(Ti(t,a),null===t.stateNode)Ws(e,t),Gi(t,n,r),ji(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ei(l):l=Aa(t,l=Oa(n)?Ra:Ia.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==l)&&Wi(t,o,r,l),Ri=!1;var f=t.memoizedState;o.state=f,Mi(t,r,o,a),u=t.memoizedState,s!==r||f!==u||_a.current||Ri?("function"===typeof c&&(Bi(t,n,c,r),u=t.memoizedState),(s=Ri||Ui(t,n,s,r,f,u,l))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=l,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oi(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:vi(t.type,s),o.props=l,d=t.pendingProps,f=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ei(u):u=Aa(t,u=Oa(n)?Ra:Ia.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||f!==u)&&Wi(t,o,r,u),Ri=!1,f=t.memoizedState,o.state=f,Mi(t,r,o,a);var h=t.memoizedState;s!==d||f!==h||_a.current||Ri?("function"===typeof p&&(Bi(t,n,p,r),h=t.memoizedState),(l=Ri||Ui(t,n,l,r,f,h,u)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,h,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=u,r=l):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,i,a)}function _s(e,t,n,r,a,i){Cs(e,t);var o=0!==(128&t.flags);if(!r&&!o)return a&&Ma(t,n,!1),js(e,t,i);r=t.stateNode,bs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Yi(t,e.child,null,i),t.child=Yi(t,null,s,i)):ws(e,t,s,i),t.memoizedState=r.state,a&&Ma(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Fa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fa(0,t.context,!1),ro(e,t.containerInfo)}function As(e,t,n,r,a){return pi(),hi(a),t.flags|=256,ws(e,t,n,r),t.child}var Os,Ds,Fs,$s,Ps={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,a=t.pendingProps,o=so.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ca(so,1&o),null===e)return li(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=a.children,e=a.fallback,s?(a=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ml(u,a,0,null),e=Pl(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ps,e):zs(t,u));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,a,o,s){if(n)return 256&t.flags?(t.flags&=-257,Bs(e,t,s,r=ds(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Ml({mode:"visible",children:r.children},a,0,null),(o=Pl(o,a,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Yi(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ps,o);if(0===(1&t.mode))return Bs(e,t,s,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var u=r.dgst;return r=u,Bs(e,t,s,r=ds(o=Error(i(419)),r,void 0))}if(u=0!==(s&e.childLanes),ks||u){if(null!==(r=Ru)){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|s))?0:a)&&a!==o.retryLane&&(o.retryLane=a,_i(e,a),rl(r,e,a,-1))}return vl(),Bs(e,t,s,r=ds(Error(i(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ri=la(a.nextSibling),ni=t,ai=!0,ii=null,null!==e&&(Ha[Ka++]=Ya,Ha[Ka++]=Za,Ha[Ka++]=Xa,Ya=e.id,Za=e.overflow,Xa=t),t=zs(t,r.children),t.flags|=4096,t)}(e,t,u,a,r,o,n);if(s){s=a.fallback,u=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:a.children};return 0===(1&u)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=l,t.deletions=null):(a=Fl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Fl(r,s):(s=Pl(s,u,n,null)).flags|=2,s.return=t,a.return=t,a.sibling=s,t.child=a,a=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ps,a}return e=(s=e.child).sibling,a=Fl(s,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function zs(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bs(e,t,n,r){return null!==r&&hi(r),Yi(t,e.child,null,n),(e=zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Si(e.return,t,n)}function Us(e,t,n,r,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function Gs(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(ws(e,t,r.children,n),0!==(2&(r=so.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vs(e,n,t);else if(19===e.tag)Vs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ca(so,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===uo(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===uo(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,i);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ws(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Fl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qs(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Hs(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hs(t),null;case 1:case 17:return Oa(t.type)&&Da(),Hs(t),null;case 3:return r=t.stateNode,ao(),Ea(_a),Ea(Ia),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(di(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sl(ii),ii=null))),Ds(e,t),Hs(t),null;case 5:oo(t);var a=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Fs(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Hs(t),null}if(e=no(Ji.current),di(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fa]=t,r[pa]=o,e=0!==(1&t.mode),n){case"dialog":zr("cancel",r),zr("close",r);break;case"iframe":case"object":case"embed":zr("load",r);break;case"video":case"audio":for(a=0;a<$r.length;a++)zr($r[a],r);break;case"source":zr("error",r);break;case"img":case"image":case"link":zr("error",r),zr("load",r);break;case"details":zr("toggle",r);break;case"input":Y(r,o),zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},zr("invalid",r);break;case"textarea":ae(r,o),zr("invalid",r)}for(var u in ye(n,o),a=null,o)if(o.hasOwnProperty(u)){var l=o[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),a=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Qr(r.textContent,l,e),a=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&zr("scroll",r)}switch(n){case"input":q(r),J(r,o,!0);break;case"textarea":q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[fa]=t,e[pa]=r,Os(e,t,!1,!1),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":zr("cancel",e),zr("close",e),a=r;break;case"iframe":case"object":case"embed":zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<$r.length;a++)zr($r[a],e);a=r;break;case"source":zr("error",e),a=r;break;case"img":case"image":case"link":zr("error",e),zr("load",e),a=r;break;case"details":zr("toggle",e),a=r;break;case"input":Y(e,r),a=X(e,r),zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=M({},r,{value:void 0}),zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),zr("invalid",e)}for(o in ye(n,a),l=a)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=c&&"onScroll"===o&&zr("scroll",e):null!=c&&b(e,o,c,u))}switch(n){case"input":q(e),J(e,r,!1);break;case"textarea":q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hs(t),null;case 6:if(e&&null!=t.stateNode)$s(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=no(to.current),no(Ji.current),di(t)){if(r=t.stateNode,n=t.memoizedProps,r[fa]=t,(o=r.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Qr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fa]=t,t.stateNode=r}return Hs(t),null;case 13:if(Ea(so),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ai&&null!==ri&&0!==(1&t.mode)&&0===(128&t.flags))fi(),pi(),t.flags|=98560,o=!1;else if(o=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[fa]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hs(t),o=!1}else null!==ii&&(sl(ii),ii=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&so.current)?0===$u&&($u=3):vl())),null!==t.updateQueue&&(t.flags|=4),Hs(t),null);case 4:return ao(),Ds(e,t),null===e&&Ur(t.stateNode.containerInfo),Hs(t),null;case 10:return xi(t.type._context),Hs(t),null;case 19:if(Ea(so),null===(o=t.memoizedState))return Hs(t),null;if(r=0!==(128&t.flags),null===(u=o.rendering))if(r)qs(o,!1);else{if(0!==$u||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=uo(e))){for(t.flags|=128,qs(o,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(u=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,e=u.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ca(so,1&so.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Gu&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=uo(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!u.alternate&&!ai)return Hs(t),null}else 2*Ze()-o.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=128,r=!0,qs(o,!1),t.lanes=4194304);o.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=o.last)?n.sibling=u:t.child=u,o.last=u)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=so.current,Ca(so,r?1&n|2:1&n),t):(Hs(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Du)&&(Hs(t),6&t.subtreeFlags&&(t.flags|=8192)):Hs(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Xs(e,t){switch(ti(t),t.tag){case 1:return Oa(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ao(),Ea(_a),Ea(Ia),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ea(so),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ea(so),null;case 4:return ao(),null;case 10:return xi(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Os=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(){},Fs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,no(Ji.current);var i,o=null;switch(n){case"input":a=X(e,a),r=X(e,r),o=[];break;case"select":a=M({},a,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":a=re(e,a),r=re(e,r),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,a)if(!r.hasOwnProperty(c)&&a.hasOwnProperty(c)&&null!=a[c])if("style"===c){var u=a[c];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=a?a[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(i in u)!u.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&u[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&zr("scroll",e),o||u===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},$s=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Zs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function eu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){El(e,t,r)}else n.current=null}function tu(e,t,n){try{n()}catch(r){El(e,t,r)}}var nu=!1;function ru(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&tu(t,n,i)}a=a.next}while(a!==r)}}function au(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[pa],delete t[ma],delete t[va],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function su(e){return 5===e.tag||3===e.tag||4===e.tag}function uu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||su(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var du=null,fu=!1;function pu(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:Zs||eu(n,t);case 6:var r=du,a=fu;du=null,pu(e,t,n),fu=a,null!==(du=r)&&(fu?(e=du,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):du.removeChild(n.stateNode));break;case 18:null!==du&&(fu?(e=du,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),Ut(e)):ua(du,n.stateNode));break;case 4:r=du,a=fu,du=n.stateNode.containerInfo,fu=!0,pu(e,t,n),du=r,fu=a;break;case 0:case 11:case 14:case 15:if(!Zs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,void 0!==o&&(0!==(2&i)||0!==(4&i))&&tu(n,t,o),a=a.next}while(a!==r)}pu(e,t,n);break;case 1:if(!Zs&&(eu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){El(n,t,s)}pu(e,t,n);break;case 21:pu(e,t,n);break;case 22:1&n.mode?(Zs=(r=Zs)||null!==n.memoizedState,pu(e,t,n),Zs=r):pu(e,t,n);break;default:pu(e,t,n)}}function mu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=_l.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:du=u.stateNode,fu=!1;break e;case 3:case 4:du=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===du)throw Error(i(160));hu(o,s,a),du=null,fu=!1;var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(c){El(a,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{ru(3,e,e.return),au(3,e)}catch(v){El(e,e.return,v)}try{ru(5,e,e.return)}catch(v){El(e,e.return,v)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&eu(n,n.return),32&e.flags){var a=e.stateNode;try{fe(a,"")}catch(v){El(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===o.type&&null!=o.name&&Z(a,o),be(u,s);var c=be(u,o);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];"style"===d?ve(a,f):"dangerouslySetInnerHTML"===d?de(a,f):"children"===d?fe(a,f):b(a,d,f,c)}switch(u){case"input":Q(a,o);break;case"textarea":ie(a,o);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var h=o.value;null!=h?ne(a,!!o.multiple,h,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(a,!!o.multiple,o.defaultValue,!0):ne(a,!!o.multiple,o.multiple?[]:"",!1))}a[pa]=o}catch(v){El(e,e.return,v)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(i(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){El(e,e.return,v)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){El(e,e.return,v)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Uu=Ze())),4&r&&mu(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Zs=(c=Zs)||d,vu(t,e),Zs=c):vu(t,e),yu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Js=e,d=e.child;null!==d;){for(f=Js=d;null!==Js;){switch(h=(p=Js).child,p.tag){case 0:case 11:case 14:case 15:ru(4,p,p.return);break;case 1:eu(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){El(r,n,v)}}break;case 5:eu(p,p.return);break;case 22:if(null!==p.memoizedState){xu(f);continue}}null!==h?(h.return=p,Js=h):xu(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{a=f.stateNode,c?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(u=f.stateNode,s=void 0!==(l=f.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=me("display",s))}catch(v){El(e,e.return,v)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){El(e,e.return,v)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vu(t,e),yu(e),4&r&&mu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(su(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(fe(a,""),r.flags&=-33),cu(e,uu(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;lu(e,uu(e),o);break;default:throw Error(i(161))}}catch(s){El(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bu(e,t,n){Js=e,ku(e,t,n)}function ku(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var a=Js,i=a.child;if(22===a.tag&&r){var o=null!==a.memoizedState||Ys;if(!o){var s=a.alternate,u=null!==s&&null!==s.memoizedState||Zs;s=Ys;var l=Zs;if(Ys=o,(Zs=u)&&!l)for(Js=a;null!==Js;)u=(o=Js).child,22===o.tag&&null!==o.memoizedState?Su(a):null!==u?(u.return=o,Js=u):Su(a);for(;null!==i;)Js=i,ku(i,t,n),i=i.sibling;Js=a,Ys=s,Zs=l}wu(e)}else 0!==(8772&a.subtreeFlags)&&null!==i?(i.return=a,Js=i):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zs||au(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:vi(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Li(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Li(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&Ut(f)}}}break;default:throw Error(i(163))}Zs||512&t.flags&&iu(t)}catch(p){El(t,t.return,p)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function xu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{au(4,t)}catch(u){El(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(u){El(t,a,u)}}var i=t.return;try{iu(t)}catch(u){El(t,i,u)}break;case 5:var o=t.return;try{iu(t)}catch(u){El(t,o,u)}}}catch(u){El(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var Tu,Eu=Math.ceil,Cu=k.ReactCurrentDispatcher,Nu=k.ReactCurrentOwner,Iu=k.ReactCurrentBatchConfig,_u=0,Ru=null,Au=null,Ou=0,Du=0,Fu=Ta(0),$u=0,Pu=null,Mu=0,Lu=0,zu=0,Bu=null,Vu=null,Uu=0,Gu=1/0,Wu=null,ju=!1,qu=null,Hu=null,Ku=!1,Xu=null,Yu=0,Zu=0,Qu=null,Ju=-1,el=0;function tl(){return 0!==(6&_u)?Ze():-1!==Ju?Ju:Ju=Ze()}function nl(e){return 0===(1&e.mode)?1:0!==(2&_u)&&0!==Ou?Ou&-Ou:null!==mi.transition?(0===el&&(el=mt()),el):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rl(e,t,n,r){if(50<Zu)throw Zu=0,Qu=null,Error(i(185));gt(e,n,r),0!==(2&_u)&&e===Ru||(e===Ru&&(0===(2&_u)&&(Lu|=n),4===$u&&ul(e,Ou)),al(e,r),1===n&&0===_u&&0===(1&t.mode)&&(Gu=Ze()+500,za&&Ua()))}function al(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ot(i),s=1<<o,u=a[o];-1===u?0!==(s&n)&&0===(s&r)||(a[o]=pt(s,t)):u<=t&&(e.expiredLanes|=s),i&=~s}}(e,t);var r=ft(e,e===Ru?Ou:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){za=!0,Va(e)}(ll.bind(null,e)):Va(ll.bind(null,e)),oa((function(){0===(6&_u)&&Ua()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,el=0,0!==(6&_u))throw Error(i(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=ft(e,e===Ru?Ou:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var a=_u;_u|=2;var o=ml();for(Ru===e&&Ou===t||(Wu=null,Gu=Ze()+500,pl(e,t));;)try{bl();break}catch(u){hl(e,u)}wi(),Cu.current=o,_u=a,null!==Au?t=0:(Ru=null,Ou=0,t=$u)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=ol(e,a))),1===t)throw n=Pu,pl(e,0),ul(e,r),al(e,Ze()),n;if(6===t)ul(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!sr(i(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=gl(e,r))&&(0!==(o=ht(e))&&(r=o,t=ol(e,o))),1===t))throw n=Pu,pl(e,0),ul(e,r),al(e,Ze()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:xl(e,Vu,Wu);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=Uu+500-Ze())){if(0!==ft(e,0))break;if(((a=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xl.bind(null,e,Vu,Wu),t);break}xl(e,Vu,Wu);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>a&&(a=s),r&=~o}if(r=a,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Eu(r/1960))-r)){e.timeoutHandle=ra(xl.bind(null,e,Vu,Wu),r);break}xl(e,Vu,Wu);break;default:throw Error(i(329))}}}return al(e,Ze()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Bu;return e.current.memoizedState.isDehydrated&&(pl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Vu,Vu=n,null!==t&&sl(t)),e}function sl(e){null===Vu?Vu=e:Vu.push.apply(Vu,e)}function ul(e,t){for(t&=~zu,t&=~Lu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&_u))throw Error(i(327));Sl();var t=ft(e,0);if(0===(1&t))return al(e,Ze()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Pu,pl(e,0),ul(e,t),al(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xl(e,Vu,Wu),al(e,Ze()),null}function cl(e,t){var n=_u;_u|=1;try{return e(t)}finally{0===(_u=n)&&(Gu=Ze()+500,za&&Ua())}}function dl(e){null!==Xu&&0===Xu.tag&&0===(6&_u)&&Sl();var t=_u;_u|=1;var n=Iu.transition,r=bt;try{if(Iu.transition=null,bt=1,e)return e()}finally{bt=r,Iu.transition=n,0===(6&(_u=t))&&Ua()}}function fl(){Du=Fu.current,Ea(Fu)}function pl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Au)for(n=Au.return;null!==n;){var r=n;switch(ti(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Da();break;case 3:ao(),Ea(_a),Ea(Ia),co();break;case 5:oo(r);break;case 4:ao();break;case 13:case 19:Ea(so);break;case 10:xi(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Ru=e,Au=e=Fl(e.current,null),Ou=Du=t,$u=0,Pu=null,zu=Lu=Mu=0,Vu=Bu=null,null!==Ci){for(t=0;t<Ci.length;t++)if(null!==(r=(n=Ci[t]).interleaved)){n.interleaved=null;var a=r.next,i=n.pending;if(null!==i){var o=i.next;i.next=a,r.next=o}n.pending=r}Ci=null}return e}function hl(e,t){for(;;){var n=Au;try{if(wi(),fo.current=os,yo){for(var r=mo.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}yo=!1}if(ho=0,go=vo=mo=null,bo=!1,ko=0,Nu.current=null,null===n||null===n.return){$u=1,Pu=t,Au=null;break}e:{var o=e,s=n.return,u=n,l=t;if(t=Ou,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,d=u,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,ys(h,s,u,0,t),1&h.mode&&vs(o,c,t),l=c;var m=(t=h).updateQueue;if(null===m){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}if(0===(1&t)){vs(o,c,t),vl();break e}l=Error(i(426))}else if(ai&&1&u.mode){var g=gs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ys(g,s,u,0,t),hi(cs(l,u));break e}}o=l=cs(l,u),4!==$u&&($u=2),null===Bu?Bu=[o]:Bu.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Pi(o,hs(0,l,t));break e;case 1:u=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Hu||!Hu.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Pi(o,ms(o,u,t));break e}}o=o.return}while(null!==o)}wl(n)}catch(k){t=k,Au===n&&null!==n&&(Au=n=n.return);continue}break}}function ml(){var e=Cu.current;return Cu.current=os,null===e?os:e}function vl(){0!==$u&&3!==$u&&2!==$u||($u=4),null===Ru||0===(268435455&Mu)&&0===(268435455&Lu)||ul(Ru,Ou)}function gl(e,t){var n=_u;_u|=2;var r=ml();for(Ru===e&&Ou===t||(Wu=null,pl(e,t));;)try{yl();break}catch(a){hl(e,a)}if(wi(),_u=n,Cu.current=r,null!==Au)throw Error(i(261));return Ru=null,Ou=0,$u}function yl(){for(;null!==Au;)kl(Au)}function bl(){for(;null!==Au&&!Xe();)kl(Au)}function kl(e){var t=Tu(e.alternate,e,Du);e.memoizedProps=e.pendingProps,null===t?wl(e):Au=t,Nu.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Du)))return void(Au=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Au=n);if(null===e)return $u=6,void(Au=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Au=t);Au=t=e}while(null!==t);0===$u&&($u=5)}function xl(e,t,n){var r=bt,a=Iu.transition;try{Iu.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Xu);if(0!==(6&_u))throw Error(i(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ot(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}(e,o),e===Ru&&(Au=Ru=null,Ou=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ku||(Ku=!0,Rl(tt,(function(){return Sl(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Iu.transition,Iu.transition=null;var s=bt;bt=1;var u=_u;_u|=4,Nu.current=null,function(e,t){if(ea=Wt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,u=-1,l=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==a&&3!==f.nodeType||(u=s+a),f!==o||0!==r&&3!==f.nodeType||(l=s+r),3===f.nodeType&&(s+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===a&&(u=s),p===o&&++d===r&&(l=s),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Wt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var v=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:vi(t.type,v),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;1===k.nodeType?k.textContent="":9===k.nodeType&&k.documentElement&&k.removeChild(k.documentElement);break;default:throw Error(i(163))}}catch(w){El(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}m=nu,nu=!1}(e,n),gu(n,e),hr(ta),Wt=!!ea,ta=ea=null,e.current=n,bu(n,e,a),Ye(),_u=u,bt=s,Iu.transition=o}else e.current=n;if(Ku&&(Ku=!1,Xu=e,Yu=a),o=e.pendingLanes,0===o&&(Hu=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),al(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ju)throw ju=!1,e=qu,qu=null,e;0!==(1&Yu)&&0!==e.tag&&Sl(),o=e.pendingLanes,0!==(1&o)?e===Qu?Zu++:(Zu=0,Qu=e):Zu=0,Ua()}(e,t,n,r)}finally{Iu.transition=a,bt=r}return null}function Sl(){if(null!==Xu){var e=kt(Yu),t=Iu.transition,n=bt;try{if(Iu.transition=null,bt=16>e?16:e,null===Xu)var r=!1;else{if(e=Xu,Xu=null,Yu=0,0!==(6&_u))throw Error(i(331));var a=_u;for(_u|=4,Js=e.current;null!==Js;){var o=Js,s=o.child;if(0!==(16&Js.flags)){var u=o.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var d=Js;switch(d.tag){case 0:case 11:case 15:ru(8,d,o)}var f=d.child;if(null!==f)f.return=d,Js=f;else for(;null!==Js;){var p=(d=Js).sibling,h=d.return;if(ou(d),d===c){Js=null;break}if(null!==p){p.return=h,Js=p;break}Js=h}}}var m=o.alternate;if(null!==m){var v=m.child;if(null!==v){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(null!==v)}}Js=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Js=s;else e:for(;null!==Js;){if(0!==(2048&(o=Js).flags))switch(o.tag){case 0:case 11:case 15:ru(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Js=y;break e}Js=o.return}}var b=e.current;for(Js=b;null!==Js;){var k=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==k)k.return=s,Js=k;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:au(9,u)}}catch(x){El(u,u.return,x)}if(u===s){Js=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Js=w;break e}Js=u.return}}if(_u=a,Ua(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(at,e)}catch(x){}r=!0}return r}finally{bt=n,Iu.transition=t}}return!1}function Tl(e,t,n){e=Fi(e,t=hs(0,t=cs(n,t),1),1),t=tl(),null!==e&&(gt(e,1,t),al(e,t))}function El(e,t,n){if(3===e.tag)Tl(e,e,n);else for(;null!==t;){if(3===t.tag){Tl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){t=Fi(t,e=ms(t,e=cs(n,e),1),1),e=tl(),null!==t&&(gt(t,1,e),al(t,e));break}}t=t.return}}function Cl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Ou&n)===n&&(4===$u||3===$u&&(130023424&Ou)===Ou&&500>Ze()-Uu?pl(e,0):zu|=n),al(e,t)}function Nl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=tl();null!==(e=_i(e,t))&&(gt(e,t,n),al(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Nl(e,n)}function _l(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Nl(e,n)}function Rl(e,t){return He(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ol(e,t,n,r){return new Al(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fl(e,t){var n=e.alternate;return null===n?((n=Ol(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function $l(e,t,n,r,a,o){var s=2;if(r=e,"function"===typeof e)Dl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Pl(n.children,a,o,t);case T:s=8,a|=8;break;case E:return(e=Ol(12,n,t,2|a)).elementType=E,e.lanes=o,e;case _:return(e=Ol(13,n,t,a)).elementType=_,e.lanes=o,e;case R:return(e=Ol(19,n,t,a)).elementType=R,e.lanes=o,e;case D:return Ml(n,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case N:s=9;break e;case I:s=11;break e;case A:s=14;break e;case O:s=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Ol(s,n,t,a)).elementType=e,t.type=r,t.lanes=o,t}function Pl(e,t,n,r){return(e=Ol(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Ol(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ll(e,t,n){return(e=Ol(6,e,null,t)).lanes=n,e}function zl(e,t,n){return(t=Ol(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bl(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Vl(e,t,n,r,a,i,o,s,u){return e=new Bl(e,t,n,s,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Ol(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ai(i),e}function Ul(e){if(!e)return Na;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oa(n))return $a(e,n,t)}return t}function Gl(e,t,n,r,a,i,o,s,u){return(e=Vl(n,r,!0,e,0,i,0,s,u)).context=Ul(null),n=e.current,(i=Di(r=tl(),a=nl(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,a),e.current.lanes=a,gt(e,a,r),al(e,r),e}function Wl(e,t,n,r){var a=t.current,i=tl(),o=nl(a);return n=Ul(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(a,t,o))&&(rl(e,a,o,i),$i(e,a,o)),o}function jl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ql(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hl(e,t){ql(e,t),(e=e.alternate)&&ql(e,t)}Tu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_a.current)ks=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ks=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),pi();break;case 5:io(t);break;case 1:Oa(t.type)&&Pa(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Ca(gi,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ca(so,1&so.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ca(so,1&so.current),null!==(e=js(e,t,n))?e.sibling:null);Ca(so,1&so.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ca(so,so.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return js(e,t,n)}(e,t,n);ks=0!==(131072&e.flags)}else ks=!1,ai&&0!==(1048576&t.flags)&&Ja(t,qa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ws(e,t),e=t.pendingProps;var a=Aa(t,Ia.current);Ti(t,n),a=To(null,t,r,e,a,n);var o=Eo();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oa(r)?(o=!0,Pa(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ai(t),a.updater=Vi,t.stateNode=a,a._reactInternals=t,ji(t,r,e,n),t=_s(null,t,r,!0,o,n)):(t.tag=0,ai&&o&&ei(t),ws(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ws(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(r),e=vi(r,e),a){case 0:t=Ns(null,t,r,e,n);break e;case 1:t=Is(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,vi(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Ns(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 1:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 3:e:{if(Rs(t),null===e)throw Error(i(387));r=t.pendingProps,a=(o=t.memoizedState).element,Oi(e,t),Mi(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=As(e,t,r,n,a=cs(Error(i(423)),t));break e}if(r!==a){t=As(e,t,r,n,a=cs(Error(i(424)),t));break e}for(ri=la(t.stateNode.containerInfo.firstChild),ni=t,ai=!0,ii=null,n=Zi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===a){t=js(e,t,n);break e}ws(e,t,r,n)}t=t.child}return t;case 5:return io(t),null===e&&li(t),r=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==o&&na(r,o)&&(t.flags|=32),Cs(e,t),ws(e,t,s,n),t.child;case 6:return null===e&&li(t),null;case 13:return Ls(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yi(t,null,r,n):ws(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,xs(e,t,r,a=t.elementType===r?a:vi(r,a),n);case 7:return ws(e,t,t.pendingProps,n),t.child;case 8:case 12:return ws(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,s=a.value,Ca(gi,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===a.children&&!_a.current){t=js(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var u=o.dependencies;if(null!==u){s=o.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Di(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Si(o.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Si(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}ws(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ti(t,n),r=r(a=Ei(a)),t.flags|=1,ws(e,t,r,n),t.child;case 14:return a=vi(r=t.type,t.pendingProps),Ss(e,t,r,a=vi(r.type,a),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:vi(r,a),Ws(e,t),t.tag=1,Oa(r)?(e=!0,Pa(t)):e=!1,Ti(t,n),Gi(t,r,a),ji(t,r,a,n),_s(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return Es(e,t,n)}throw Error(i(156,t.tag))};var Kl="function"===typeof reportError?reportError:function(e){console.error(e)};function Xl(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Zl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jl(){}function ec(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if("function"===typeof a){var s=a;a=function(){var e=jl(o);s.call(e)}}Wl(t,o,e,a)}else o=function(e,t,n,r,a){if(a){if("function"===typeof r){var i=r;r=function(){var e=jl(o);i.call(e)}}var o=Gl(t,r,e,0,null,!1,0,"",Jl);return e._reactRootContainer=o,e[ha]=o.current,Ur(8===e.nodeType?e.parentNode:e),dl(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=jl(u);s.call(e)}}var u=Vl(e,0,!1,null,0,!1,0,"",Jl);return e._reactRootContainer=u,e[ha]=u.current,Ur(8===e.nodeType?e.parentNode:e),dl((function(){Wl(t,u,n,r)})),u}(n,t,e,a,r);return jl(o)}Yl.prototype.render=Xl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Wl(e,t,null,null)},Yl.prototype.unmount=Xl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dl((function(){Wl(null,e,null,null)})),t[ha]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Mt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),al(t,Ze()),0===(6&_u)&&(Gu=Ze()+500,Ua()))}break;case 13:dl((function(){var t=_i(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Hl(e,1)}},xt=function(e){if(13===e.tag){var t=_i(e,134217728);if(null!==t)rl(t,e,134217728,tl());Hl(e,134217728)}},St=function(e){if(13===e.tag){var t=nl(e),n=_i(e,t);if(null!==n)rl(n,e,t,tl());Hl(e,t)}},Tt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(i(90));H(r),Q(r,a)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=cl,_e=dl;var tc={usingClientEntryPoint:!1,Events:[ba,ka,wa,Ce,Ne,cl]},nc={findFiberByHostInstance:ya,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=je(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{at=ac.inject(rc),it=ac}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Zl(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Zl(e))throw Error(i(299));var n=!1,r="",a=Kl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Vl(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=je(t))?null:e.stateNode},t.flushSync=function(e){return dl(e)},t.hydrate=function(e,t,n){if(!Ql(t))throw Error(i(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Zl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,a=!1,o="",s=Kl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Gl(t,null,e,1,null!=n?n:null,a,0,o,s),e[ha]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Yl(t)},t.render=function(e,t,n){if(!Ql(t))throw Error(i(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ql(e))throw Error(i(40));return!!e._reactRootContainer&&(dl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=cl,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ql(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},5976:(e,t,n)=>{"use strict";var r=n(9153);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},9153:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8348)},5758:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<i(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>i(u,n))l<a&&0>i(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<a&&0>i(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],d=1,f=null,p=3,h=!1,m=!1,v=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)a(c);else{if(!(t.startTime<=e))break;a(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(v=!1,k(e),!m)if(null!==r(l))m=!0,D(x);else{var t=r(c);null!==t&&F(w,t.startTime-e)}}function x(e,n){m=!1,v&&(v=!1,y(C),C=-1),h=!0;var i=p;try{for(k(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!_());){var o=f.callback;if("function"===typeof o){f.callback=null,p=f.priorityLevel;var s=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?f.callback=s:f===r(l)&&a(l),k(n)}else a(l);f=r(l)}if(null!==f)var u=!0;else{var d=r(c);null!==d&&F(w,d.startTime-n),u=!1}return u}finally{f=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,T=!1,E=null,C=-1,N=5,I=-1;function _(){return!(t.unstable_now()-I<N)}function R(){if(null!==E){var e=t.unstable_now();I=e;var n=!0;try{n=E(!0,e)}finally{n?S():(T=!1,E=null)}}else T=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,O=A.port2;A.port1.onmessage=R,S=function(){O.postMessage(null)}}else S=function(){g(R,0)};function D(e){E=e,T||(T=!0,S())}function F(e,n){C=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,i){var o=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?o+i:o:i=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>o?(e.sortIndex=i,n(c,e),null===r(l)&&e===r(c)&&(v?(y(C),C=-1):v=!0,F(w,i-o))):(e.sortIndex=s,n(l,e),m||h||(m=!0,D(x))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},8695:(e,t,n)=>{"use strict";e.exports=n(5758)},518:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case o:case f:case p:return e;default:switch(e=e&&e.$$typeof){case c:case l:case d:case m:case h:case u:return e;default:return t}}case a:return t}}}n=Symbol.for("react.module.reference"),t.ContextConsumer=l,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=i,t.Lazy=m,t.Memo=h,t.Portal=a,t.Profiler=s,t.StrictMode=o,t.Suspense=f,t.SuspenseList=p,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return g(e)===l},t.isContextProvider=function(e){return g(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return g(e)===d},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===m},t.isMemo=function(e){return g(e)===h},t.isPortal=function(e){return g(e)===a},t.isProfiler=function(e){return g(e)===s},t.isStrictMode=function(e){return g(e)===o},t.isSuspense=function(e){return g(e)===f},t.isSuspenseList=function(e){return g(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===o||e===f||e===p||e===v||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===h||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===n||void 0!==e.getModuleId)},t.typeOf=g},4480:(e,t,n)=>{"use strict";e.exports=n(518)},1964:(e,t,n)=>{"use strict";var r=n(5004),a=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:c,props:i,_owner:s.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},6778:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,m(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var a,i={},o=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,a)&&!T.hasOwnProperty(a)&&(i[a]=t[a]);var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===i[a]&&(i[a]=u[a]);return{$$typeof:n,type:e,key:o,ref:s,props:i,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var N=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,a,i,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return o=o(u=e),e=""===i?"."+I(u,0):i,w(o)?(a="",null!=e&&(a=e.replace(N,"$&/")+"/"),_(o,t,a,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(N,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=""===i?".":i+":",w(e))for(var l=0;l<e.length;l++){var c=i+I(s=e[l],l);u+=_(s,t,a,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=_(s=s.value,t,a,c=i+I(s,l++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function R(e,t,n){if(null==e)return e;var r=[],a=0;return _(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},D={transition:null},F={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:D,ReactCurrentOwner:S};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),i=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)x.call(t,l)&&!T.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];a.children=u}return{$$typeof:n,type:e.type,key:i,ref:o,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.2.0"},5004:(e,t,n)=>{"use strict";e.exports=n(6778)},2629:(e,t,n)=>{"use strict";e.exports=n(1964)},8044:e=>{"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},4838:(e,t,n)=>{var r=n(3690),a=n(3654),i=n(3800),o=n(8102),s=n(5792),u=n(1069),l=n(9387);l.alea=r,l.xor128=a,l.xorwow=i,l.xorshift7=o,l.xor4096=s,l.tychei=u,e.exports=l},3690:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n=function(){var e=4022871197,t=function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)};return t}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new o(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},1069:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},3654:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},5792:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,i=t.i;return t.w=r=r+1640531527|0,n=a[i+34&127],e=a[i=i+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[i]=n^e,t.i=i,n+(r^r>>>16)|0},function(e,t){var n,r,a,i,o,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,i=-32;i<u;++i)t&&(r^=t.charCodeAt((i+32)%t.length)),0===i&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,i>=0&&(o=o+1640531527|0,a=0==(n=s[127&i]^=r+o)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,i=512;i>0;--i)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=o,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},8102:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},3800:function(e,t,n){var r;!function(e,a,i){function o(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new o(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},9387:function(e,t,n){var r;!function(a,i,o){var s,u=256,l=o.pow(u,6),c=o.pow(2,52),d=2*c,f=u-1;function p(e,t,n){var r=[],f=g(v((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return s&&(e=s.randomBytes)?e=e(u):(e=new Uint8Array(u),(a.crypto||a.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=a.navigator,n=t&&t.plugins;return[+new Date,a,n,a.screen,y(i)]}}():e,3),r),p=new h(r),b=function(){for(var e=p.g(6),t=l,n=0;e<c;)e=(e+n)*u,t*=u,n=p.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|p.g(4)},b.quick=function(){return p.g(4)/4294967296},b.double=b,g(y(p.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,p),e.state=function(){return m(p,{})}),n?(o.random=e,t):e})(b,f,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,i=r.i=r.j=0,o=r.S=[];for(n||(e=[n++]);a<u;)o[a]=a++;for(a=0;a<u;a++)o[a]=o[i=f&i+e[a%n]+(t=o[a])],o[i]=t;(r.g=function(e){for(var t,n=0,a=r.i,i=r.j,o=r.S;e--;)t=o[a=f&a+1],n=n*u+o[f&(o[a]=o[i=f&i+t])+(o[i]=t)];return r.i=a,r.j=i,n})(u)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function v(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(v(e[n],t-1))}catch(i){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[f&a]=f&(n^=19*t[f&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(g(o.random(),i),e.exports){e.exports=p;try{s=n(5042)}catch(b){}}else void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}("undefined"!==typeof self?self:this,[],Math)},7598:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleq=void 0;var n=new WeakMap;function r(e){var t,r,a;return null!=e&&(t=!0===e.disableCache,r=!0===e.disableMix,a=e.transform),function(){for(var e=[],i="",o=null,s=t?null:n,u=new Array(arguments.length),l=0;l<arguments.length;l++)u[l]=arguments[l];for(;u.length>0;){var c=u.pop();if(null!=c&&!1!==c)if(Array.isArray(c))for(var d=0;d<c.length;d++)u.push(c[d]);else{var f=null!=a?a(c):c;if(f.$$css){var p="";if(null!=s&&s.has(f)){var h=s.get(f);null!=h&&(p=h[0],e.push.apply(e,h[1]),s=h[2])}else{var m=[];for(var v in f){var g=f[v];"$$css"!==v&&("string"===typeof g||null===g?e.includes(v)||(e.push(v),null!=s&&m.push(v),"string"===typeof g&&(p+=p?" "+g:g)):console.error("styleq: ".concat(v," typeof ").concat(String(g),' is not "string" or "null".')))}if(null!=s){var y=new WeakMap;s.set(f,[p,m,y]),s=y}}p&&(i=i?p+" "+i:p)}else if(r)null==o&&(o={}),o=Object.assign({},f,o);else{var b=null;for(var k in f){var w=f[k];void 0!==w&&(e.includes(k)||(null!=w&&(null==o&&(o={}),null==b&&(b={}),b[k]=w),e.push(k),s=null))}null!=b&&(o=Object.assign(b,o))}}}return[i,o]}}var a=r();t.styleq=a,a.factory=r},5204:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizeStyle=function(e,t){if(null!=e[r]){var i=t?1:0;if(n.has(e)){var o=n.get(e),s=o[i];return null==s&&(s=a(e,t),o[i]=s,n.set(e,o)),s}var u=a(e,t),l=new Array(2);return l[i]=u,n.set(e,l),u}return e};var n=new WeakMap,r="$$css$localize";function a(e,t){var n={};for(var a in e)if(a!==r){var i=e[a];Array.isArray(i)?n[a]=t?i[1]:i[0]:n[a]=i}return n}},5021:(e,t,n)=>{"use strict";var r=n(8044),a=n(6472),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,o=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(i,"")}var f=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function h(e){var t,r=("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).location||{},a={},i=typeof(e=e||r);if("blob:"===e.protocol)a=new g(unescape(e.pathname),{});else if("string"===i)for(t in a=new g(e,{}),p)delete a[t];else if("object"===i){for(t in e)t in p||(a[t]=e[t]);void 0===a.slashes&&(a.slashes=s.test(e.href))}return a}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function v(e,t){e=(e=d(e)).replace(o,""),t=t||{};var n,r=l.exec(e),a=r[1]?r[1].toLowerCase():"",i=!!r[2],s=!!r[3],u=0;return i?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===a?u>=2&&(n=n.slice(2)):m(a)?n=r[4]:a?i&&(n=n.slice(2)):u>=2&&m(t.protocol)&&(n=r[4]),{protocol:a,slashes:i||m(a),slashesCount:u,rest:n}}function g(e,t,n){if(e=(e=d(e)).replace(o,""),!(this instanceof g))return new g(e,t,n);var i,s,u,l,p,y,b=f.slice(),k=typeof t,w=this,x=0;for("object"!==k&&"string"!==k&&(n=t,t=null),n&&"function"!==typeof n&&(n=a.parse),i=!(s=v(e||"",t=h(t))).protocol&&!s.slashes,w.slashes=s.slashes||i&&t.slashes,w.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||c.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(w.protocol)))&&(b[3]=[/(.*)/,"pathname"]);x<b.length;x++)"function"!==typeof(l=b[x])?(u=l[0],y=l[1],u!==u?w[y]=e:"string"===typeof u?~(p="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"===typeof l[2]?(w[y]=e.slice(0,p),e=e.slice(p+l[2])):(w[y]=e.slice(p),e=e.slice(0,p))):(p=u.exec(e))&&(w[y]=p[1],e=e.slice(0,p.index)),w[y]=w[y]||i&&l[3]&&t[y]||"",l[4]&&(w[y]=w[y].toLowerCase())):e=l(e,w);n&&(w.query=n(w.query)),i&&t.slashes&&"/"!==w.pathname.charAt(0)&&(""!==w.pathname||""!==t.pathname)&&(w.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,a=n[r-1],i=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(i=!0),n.splice(r,1),o--);return i&&n.unshift(""),"."!==a&&".."!==a||n.push(""),n.join("/")}(w.pathname,t.pathname)),"/"!==w.pathname.charAt(0)&&m(w.protocol)&&(w.pathname="/"+w.pathname),r(w.port,w.protocol)||(w.host=w.hostname,w.port=""),w.username=w.password="",w.auth&&(~(p=w.auth.indexOf(":"))?(w.username=w.auth.slice(0,p),w.username=encodeURIComponent(decodeURIComponent(w.username)),w.password=w.auth.slice(p+1),w.password=encodeURIComponent(decodeURIComponent(w.password))):w.username=encodeURIComponent(decodeURIComponent(w.auth)),w.auth=w.password?w.username+":"+w.password:w.username),w.origin="file:"!==w.protocol&&m(w.protocol)&&w.host?w.protocol+"//"+w.host:"null",w.href=w.toString()}g.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||a.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,u.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";i[e]=t.charAt(0)!==o?o+t:t}else i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(i.username=t.slice(0,s),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(s+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var l=0;l<f.length;l++){var c=f[l];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&m(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"===typeof e||(e=a.stringify);var t,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var o=i+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(o+=n.username,n.password&&(o+=":"+n.password),o+="@"):n.password?(o+=":"+n.password,o+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(o+="@"),(":"===r[r.length-1]||u.test(n.hostname)&&!n.port)&&(r+=":"),o+=r+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},g.extractProtocol=v,g.location=h,g.trimLeft=d,g.qs=a,e.exports=g},706:(e,t,n)=>{"use strict";var r=n(5004);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,o=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(r){return!0}}var c="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,c=r[1];return s((function(){a.value=n,a.getSnapshot=t,l(a)&&c({inst:a})}),[e,n,t]),o((function(){return l(a)&&c({inst:a}),e((function(){l(a)&&c({inst:a})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},5295:(e,t,n)=>{"use strict";var r=n(5004),a=n(4249);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!u){if(u=!0,o=e,e=r(e),void 0!==a&&f.hasValue){var t=f.value;if(a(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==a&&a(t,n)?t:(o=e,s=n)}var o,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,a]);var p=o(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=p}),[p]),c(p),p}},4249:(e,t,n)=>{"use strict";e.exports=n(706)},6494:(e,t,n)=>{"use strict";e.exports=n(5295)},382:(e,t)=>{!function(e){var t,n,r,a=String.fromCharCode;function i(e){for(var t,n,r=[],a=0,i=e.length;a<i;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<i?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function o(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function s(e,t){return a(e>>t&63|128)}function u(e){if(0==(4294967168&e))return a(e);var t="";return 0==(4294965248&e)?t=a(e>>6&31|192):0==(4294901760&e)?(o(e),t=a(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=a(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+=a(63&e|128)}function l(){if(r>=n)throw Error("Invalid byte index");var e=255&t[r];if(r++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function c(){var e,a;if(r>n)throw Error("Invalid byte index");if(r==n)return!1;if(e=255&t[r],r++,0==(128&e))return e;if(192==(224&e)){if((a=(31&e)<<6|l())>=128)return a;throw Error("Invalid continuation byte")}if(224==(240&e)){if((a=(15&e)<<12|l()<<6|l())>=2048)return o(a),a;throw Error("Invalid continuation byte")}if(240==(248&e)&&(a=(7&e)<<18|l()<<12|l()<<6|l())>=65536&&a<=1114111)return a;throw Error("Invalid UTF-8 detected")}e.version="3.0.0",e.encode=function(e){for(var t=i(e),n=t.length,r=-1,a="";++r<n;)a+=u(t[r]);return a},e.decode=function(e){t=i(e),n=t.length,r=0;for(var o,s=[];!1!==(o=c());)s.push(o);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=a((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=a(t);return i}(s)}}(t)},3897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:(e,t,n)=>{var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:e=>{e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},9728:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},8416:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:e=>{function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:(e,t,n)=>{var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},9498:e=>{e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},215:(e,t,n)=>{var r=n(7071);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a},e.exports.__esModule=!0,e.exports.default=e.exports},4993:(e,t,n)=>{var r=n(8698).default,a=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:e=>{function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:(e,t,n)=>{var r=n(5372),a=n(8872),i=n(6116),o=n(2218);e.exports=function(e,t){return r(e)||a(e,t)||i(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},861:(e,t,n)=>{var r=n(3405),a=n(9498),i=n(6116),o=n(2281);e.exports=function(e){return r(e)||a(e)||i(e)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:(e,t,n)=>{var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},907:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.r(t),n.d(t,{default:()=>r})},7326:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.r(t),n.d(t,{default:()=>r})},5861:(e,t,n)=>{"use strict";function r(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function s(e){r(o,a,i,s,u,"next",e)}function u(e){r(o,a,i,s,u,"throw",e)}s(void 0)}))}}n.r(t),n.d(t,{default:()=>a})},5671:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.r(t),n.d(t,{default:()=>r})},3144:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.r(t),n.d(t,{default:()=>a})},4942:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t),n.d(t,{default:()=>r})},7462:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.r(t),n.d(t,{default:()=>r})},1752:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(1120);function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.default)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},a.apply(this,arguments)}},1120:(e,t,n)=>{"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.r(t),n.d(t,{default:()=>r})},136:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.default)(e,t)}},1413:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(4942);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},5987:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(3366);function a(e,t){if(null==e)return{};var n,a,i=(0,r.default)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},3366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.r(t),n.d(t,{default:()=>r})},6215:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.r(t),n.d(t,{default:()=>i});var a=n(7326);function i(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,a.default)(e)}},9611:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.r(t),n.d(t,{default:()=>r})},885:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(181);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);o=!0);}catch(u){s=!0,a=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw a}}return i}}(e,t)||(0,r.default)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(907);var a=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.default)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,a.default)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.default)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.default)(e,t):void 0}}},2407:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(1120),a=n(9611);function i(e,t,n){return i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&(0,a.default)(i,n.prototype),i},i.apply(null,arguments)}function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return i(e,arguments,(0,r.default)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,a.default)(o,e)},o(e)}}}]);
//# sourceMappingURL=592.4591fe0c.js.map